import './polyfills.server.mjs';
import{a as vo,b as Dh,c as Ue,d as Ah,e as Ph,f as Oh,g as Vh,h as Rh,i as ht,j as Fh,m as Nh,q as Ge,r as yo,t as He,u as $i,v as il,w as Lh,x as Ti}from"./chunk-4MKTXBEW.mjs";import{$ as gt,$a as hh,$b as H,$c as ln,A as ah,Aa as ot,Ab as fn,B as va,Bb as vh,C as ya,Ca as De,Cb as yh,Cc as Pt,D as sh,Db as xh,Ea as mh,Eb as a,F as xa,Fb as s,Ga as ka,Gb as g,H as uo,Ha as Fr,Hb as bt,Hc as Nr,Ia as uh,Ib as vt,Ic as Lr,J as Or,Jb as go,Jc as Gi,K as lh,Kb as x,Kc as Br,L as ch,Lb as bo,Mb as Kd,Mc as Eh,Nb as v,Nc as Zd,Ob as u,Pb as Jt,Q as po,Qb as Zt,Qc as it,R as Vr,Rb as sn,S as qd,Sb as Oe,T as tt,Tb as Jd,U as wa,Ub as Wt,V as Gd,Va as Zs,Vb as at,W as Rr,Wa as ho,Wb as Re,X as Ut,Xa as fo,Xb as Fe,Xc as tl,Y as q,Ya as ut,Yb as C,Yc as Ni,Z as fe,Zb as c,Zc as kh,_a as ph,_b as O,a as ba,ac as mi,ad as me,ba as B,bb as d,bc as D,bd as X,c as Zn,ca as ce,cb as E,cc as A,cd as Th,db as $d,dc as P,dd as ir,eb as pt,ec as ct,ed as kt,f as Pe,fb as fh,fc as U,fd as Mh,g as hn,ga as j,gb as _o,gc as ri,gd as Ih,h as Hd,ha as _e,hb as _h,hc as ki,hd as J,i as Ud,ia as Se,ib as qi,ic as On,j as eh,ja as Ca,jb as tr,jc as Ve,k as th,ka as Sa,kb as gh,kc as wh,kd as jr,l as Xn,lb as Fi,lc as $,m as ih,ma as Ea,mb as At,mc as Xs,nc as Y,oa as dh,oc as V,p as rn,pa as jt,pd as zr,q as Wd,qa as f,qb as S,qd as Vn,ra as _,rb as Yd,rd as Li,sa as Ri,sb as an,sc as Ch,sd as gn,t as nh,ta as er,tb as Ze,td as Rn,ua as di,ub as bh,v as rh,va as on,vb as p,vc as _n,w as ci,wa as Dt,wb as Ei,x as oh,xa as Js,xb as $e,y as Pr,yb as Ft,yc as Sh,z as xi,za as Te,zb as Qd,zc as el}from"./chunk-KOZBRRBM.mjs";import{a as Ie,b as _t}from"./chunk-5XUXGTUW.mjs";var Ta={production:!0,API_SCHEME:"https",API_DOMAIN:"boeservices-api.mtfp-ctd.bj/api",API_FILE:"boeservices-api.mtfp-ctd.bj",API_VERSION:"v1"};var F={apiVersion:Ta.API_VERSION,apiScheme:Ta.API_SCHEME,apiFile:Ta.API_FILE,apiDomain:Ta.API_DOMAIN,toApiUrl(i){return`${this.apiScheme}://${this.apiDomain}/${i}`},toFile(i){return`${this.apiScheme}://${this.apiFile}/${i}`},getOrigin(){return`${this.apiScheme}://${this.apiFile}`},httpHeader(i=null,t=!0){return i!=null?{headers:new vo({Authorization:"Bearer "+i,"Access-Control-Allow-Origin":"*",Accept:"application/json"})}:{headers:new vo({})}},addAction(i){return{headers:new vo({action:i})}},toWsUrl(i){return`wss://${this.apiDomain}/${i}`}};var W={tokenName:"boToken",currentRoleIndex:"boRoleIndex",refreshTokenName:"boRefreshToken",userName:"boUserConnected",childName:"boChildSelected",exercice:"boExercise",expireIn:"boExpireIn",features:"boFeatures"};var te=class i{constructor(t){this.platformId=t}set(t,e){jr(this.platformId)&&localStorage.setItem(t,JSON.stringify(e))}get(t){let e="";return jr(this.platformId)?(e=localStorage.getItem(t),e!=null?JSON.parse(e):null):null}remove(t){jr(this.platformId)&&localStorage.removeItem(t)}static \u0275fac=function(e){return new(e||i)(B(ka))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Xt=class i{constructor(t,e){this.appLocalStorage=t;this.http=e;this.appLocalStorage.get(W.tokenName)?(this._isAuthenticated.next(!0),this.isReady.next(!0)):(this._isAuthenticated.next(!1),this.isReady.next(!0))}url=F.toApiUrl("logout");url2=F.toFile("");_isAuthenticated=new hn(!1);isReady=new hn(!1);isAuthenticated(){return this._isAuthenticated.asObservable()}getJWTToken(){return this.appLocalStorage.get(W.tokenName)}setJWTToken(t){return this.appLocalStorage.set(W.tokenName,t)}setJWTRefreshToken(t){return this.appLocalStorage.set(W.refreshTokenName,t)}me(){return this.http.get(`${this.url2}api/user`,F.httpHeader(null,!0))}login(t){return this.http.post(`${this.url2}api/login`,t,F.httpHeader(null,!0))}sendMail(t){return this.http.post(`${this.url2}api/send-reset-password-link`,t,F.httpHeader(null,!0))}update(t){return this.http.post(`${this.url2}api/update-profile`,t,F.addAction("edit"))}recoverPassword(t,e){return this.http.post(`${this.url2}api/recovery-password/${t}`,e,F.httpHeader(null,!0))}logout(){return this.http.get(`${this.url}`)}changePassword(t){return this.http.post(`${this.url2}api/change-password`,t,F.addAction("edit"))}changeFirstPassword(t){return this.http.post(`${this.url2}api/change-first-password`,t,F.httpHeader(null,!0))}saveDB(){return this.http.get(`${this.url2}api/save-db`,F.addAction("add"))}getBackups(){return this.http.get(`${this.url2}api/backups`,F.addAction("list"))}changeCode(t){return this.http.post(this.url+"/signin/unique-code/store",t)}sendLink(){return this.http.get(this.url+"/signin/unique-code/mail")}getAuthorizationCode(t){let e={grant_type:"authorization_code",redirect_uri:"https://sollicitation.hebergeappli.bj/login-check",code:t},n=new URLSearchParams;return n.set("grant_type","authorization_code"),n.set("code",t),n.set("redirect_uri","https://sollicitation.hebergeappli.bj/login-check"),this.http.post("https://pprodofficial.service-public.bj/api/official/token",JSON.stringify(e),{headers:new vo({Authorization:"Basic  YXBwLW10ZnA6YXBwLW10ZnA=","Content-Type":"application/x-www-form-urlencoded"})})}static \u0275fac=function(e){return new(e||i)(B(te),B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};function yy(i,t){i&1&&(bt(0),g(1,"router-outlet"),vt())}function xy(i,t){i&1&&(a(0,"div",2),c(1,"Chargement..."),s())}var nl=class i{constructor(t){this.authService=t;this.authService.isReady.subscribe(e=>{this.isReady=e})}isReady=!1;static \u0275fac=function(e){return new(e||i)(E(Xt))};static \u0275cmp=j({type:i,selectors:[["app-root"]],standalone:!0,features:[U],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"spinner"]],template:function(e,n){if(e&1&&S(0,yy,2,0,"ng-container",1)(1,xy,2,0,"ng-template",null,0,V),e&2){let r=C(2);p("ngIf",n.isReady)("ngIfElse",r)}},dependencies:[J,X,yo]})};function Da(i){return i+.5|0}var nr=(i,t,e)=>Math.max(Math.min(i,e),t);function Ma(i){return nr(Da(i*2.55),0,255)}function rr(i){return nr(Da(i*255),0,255)}function Nn(i){return nr(Da(i/2.55)/100,0,1)}function Bh(i){return nr(Da(i*100),0,100)}var Yi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},em=[..."0123456789ABCDEF"],wy=i=>em[i&15],Cy=i=>em[(i&240)>>4]+em[i&15],rl=i=>(i&240)>>4===(i&15),Sy=i=>rl(i.r)&&rl(i.g)&&rl(i.b)&&rl(i.a);function Ey(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Yi[i[1]]*17,g:255&Yi[i[2]]*17,b:255&Yi[i[3]]*17,a:t===5?Yi[i[4]]*17:255}:(t===7||t===9)&&(e={r:Yi[i[1]]<<4|Yi[i[2]],g:Yi[i[3]]<<4|Yi[i[4]],b:Yi[i[5]]<<4|Yi[i[6]],a:t===9?Yi[i[7]]<<4|Yi[i[8]]:255})),e}var ky=(i,t)=>i<255?t(i):"";function Ty(i){var t=Sy(i)?wy:Cy;return i?"#"+t(i.r)+t(i.g)+t(i.b)+ky(i.a,t):void 0}var My=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uh(i,t,e){let n=t*Math.min(e,1-e),r=(o,l=(o+i/30)%12)=>e-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Iy(i,t,e){let n=(r,o=(r+i/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Dy(i,t,e){let n=Uh(i,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function Ay(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function tm(i){let e=i.r/255,n=i.g/255,r=i.b/255,o=Math.max(e,n,r),l=Math.min(e,n,r),m=(o+l)/2,h,b,y;return o!==l&&(y=o-l,b=m>.5?y/(2-o-l):y/(o+l),h=Ay(e,n,r,y,o),h=h*60+.5),[h|0,b||0,m]}function im(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(rr)}function nm(i,t,e){return im(Uh,i,t,e)}function Py(i,t,e){return im(Dy,i,t,e)}function Oy(i,t,e){return im(Iy,i,t,e)}function Wh(i){return(i%360+360)%360}function Vy(i){let t=My.exec(i),e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?Ma(+t[5]):rr(+t[5]));let r=Wh(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=Py(r,o,l):t[1]==="hsv"?n=Oy(r,o,l):n=nm(r,o,l),{r:n[0],g:n[1],b:n[2],a:e}}function Ry(i,t){var e=tm(i);e[0]=Wh(e[0]+t),e=nm(e),i.r=e[0],i.g=e[1],i.b=e[2]}function Fy(i){if(!i)return;let t=tm(i),e=t[0],n=Bh(t[1]),r=Bh(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${Nn(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}var jh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ny(){let i={},t=Object.keys(zh),e=Object.keys(jh),n,r,o,l,m;for(n=0;n<t.length;n++){for(l=m=t[n],r=0;r<e.length;r++)o=e[r],m=m.replace(o,jh[o]);o=parseInt(zh[l],16),i[m]=[o>>16&255,o>>8&255,o&255]}return i}var ol;function Ly(i){ol||(ol=Ny(),ol.transparent=[0,0,0,0]);let t=ol[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var By=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jy(i){let t=By.exec(i),e=255,n,r,o;if(t){if(t[7]!==n){let l=+t[7];e=t[8]?Ma(l):nr(l*255,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?Ma(n):nr(n,0,255)),r=255&(t[4]?Ma(r):nr(r,0,255)),o=255&(t[6]?Ma(o):nr(o,0,255)),{r:n,g:r,b:o,a:e}}}function zy(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Nn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}var Xd=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,xo=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Hy(i,t,e){let n=xo(Nn(i.r)),r=xo(Nn(i.g)),o=xo(Nn(i.b));return{r:rr(Xd(n+e*(xo(Nn(t.r))-n))),g:rr(Xd(r+e*(xo(Nn(t.g))-r))),b:rr(Xd(o+e*(xo(Nn(t.b))-o))),a:i.a+e*(t.a-i.a)}}function al(i,t,e){if(i){let n=tm(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=nm(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function qh(i,t){return i&&Object.assign(t||{},i)}function Hh(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=rr(i[3]))):(t=qh(i,{r:0,g:0,b:0,a:1}),t.a=rr(t.a)),t}function Uy(i){return i.charAt(0)==="r"?jy(i):Vy(i)}var Ia=class i{constructor(t){if(t instanceof i)return t;let e=typeof t,n;e==="object"?n=Hh(t):e==="string"&&(n=Ey(t)||Ly(t)||Uy(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=qh(this._rgb);return t&&(t.a=Nn(t.a)),t}set rgb(t){this._rgb=Hh(t)}rgbString(){return this._valid?zy(this._rgb):void 0}hexString(){return this._valid?Ty(this._rgb):void 0}hslString(){return this._valid?Fy(this._rgb):void 0}mix(t,e){if(t){let n=this.rgb,r=t.rgb,o,l=e===o?.5:e,m=2*l-1,h=n.a-r.a,b=((m*h===-1?m:(m+h)/(1+m*h))+1)/2;o=1-b,n.r=255&b*n.r+o*r.r+.5,n.g=255&b*n.g+o*r.g+.5,n.b=255&b*n.b+o*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Hy(this._rgb,t._rgb,e)),this}clone(){return new i(this.rgb)}alpha(t){return this._rgb.a=rr(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=Da(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return al(this._rgb,2,t),this}darken(t){return al(this._rgb,2,-t),this}saturate(t){return al(this._rgb,1,t),this}desaturate(t){return al(this._rgb,1,-t),this}rotate(t){return Ry(this._rgb,t),this}};function yn(){}var i0=(()=>{let i=0;return()=>i++})();function st(i){return i==null}function Nt(i){if(Array.isArray&&Array.isArray(i))return!0;let t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function dt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Gt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Mi(i,t){return Gt(i)?i:t}function Qe(i,t){return typeof i>"u"?t:i}var n0=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,sm=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Ot(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function St(i,t,e,n){let r,o,l;if(Nt(i))if(o=i.length,n)for(r=o-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<o;r++)t.call(e,i[r],r);else if(dt(i))for(l=Object.keys(i),o=l.length,r=0;r<o;r++)t.call(e,i[l[r]],l[r])}function Oa(i,t){let e,n,r,o;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function ml(i){if(Nt(i))return i.map(ml);if(dt(i)){let t=Object.create(null),e=Object.keys(i),n=e.length,r=0;for(;r<n;++r)t[e[r]]=ml(i[e[r]]);return t}return i}function r0(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Wy(i,t,e,n){if(!r0(i))return;let r=t[i],o=e[i];dt(r)&&dt(o)?Co(r,o,n):t[i]=ml(o)}function Co(i,t,e){let n=Nt(t)?t:[t],r=n.length;if(!dt(i))return i;e=e||{};let o=e.merger||Wy,l;for(let m=0;m<r;++m){if(l=n[m],!dt(l))continue;let h=Object.keys(l);for(let b=0,y=h.length;b<y;++b)o(h[b],i,l,e)}return i}function Eo(i,t){return Co(i,t,{merger:qy})}function qy(i,t,e){if(!r0(i))return;let n=t[i],r=e[i];dt(n)&&dt(r)?Eo(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=ml(r))}var Gh={"":i=>i,x:i=>i.x,y:i=>i.y};function Gy(i){let t=i.split("."),e=[],n="";for(let r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function $y(i){let t=Gy(i);return e=>{for(let n of t){if(n==="")break;e=e&&e[n]}return e}}function jn(i,t){return(Gh[t]||(Gh[t]=$y(t)))(i)}function fl(i){return i.charAt(0).toUpperCase()+i.slice(1)}var ko=i=>typeof i<"u",Ln=i=>typeof i=="function",lm=(i,t)=>{if(i.size!==t.size)return!1;for(let e of i)if(!t.has(e))return!1;return!0};function o0(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}var yt=Math.PI,Lt=2*yt,Yy=Lt+yt,ul=Number.POSITIVE_INFINITY,Qy=yt/180,Qt=yt/2,Hr=yt/4,$h=yt*2/3,Bn=Math.log10,cn=Math.sign;function To(i,t,e){return Math.abs(i-t)<e}function cm(i){let t=Math.round(i);i=To(i,t,i/1e3)?t:i;let e=Math.pow(10,Math.floor(Bn(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function a0(i){let t=[],e=Math.sqrt(i),n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function Ky(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function qr(i){return!Ky(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function s0(i,t){let e=Math.round(i);return e-t<=i&&e+t>=i}function dm(i,t,e){let n,r,o;for(n=0,r=i.length;n<r;n++)o=i[n][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Qi(i){return i*(yt/180)}function _l(i){return i*(180/yt)}function mm(i){if(!Gt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function um(i,t){let e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n),o=Math.atan2(n,e);return o<-.5*yt&&(o+=Lt),{angle:o,distance:r}}function pl(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Jy(i,t){return(i-t+Yy)%Lt-yt}function ui(i){return(i%Lt+Lt)%Lt}function Mo(i,t,e,n){let r=ui(i),o=ui(t),l=ui(e),m=ui(o-r),h=ui(l-r),b=ui(r-o),y=ui(r-l);return r===o||r===l||n&&o===l||m>h&&b<y}function oi(i,t,e){return Math.max(t,Math.min(e,i))}function l0(i){return oi(i,-32768,32767)}function xn(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function gl(i,t,e){e=e||(l=>i[l]<t);let n=i.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,e(o)?r=o:n=o;return{lo:r,hi:n}}var bn=(i,t,e,n)=>gl(i,e,n?r=>{let o=i[r][t];return o<e||o===e&&i[r+1][t]===e}:r=>i[r][t]<e),c0=(i,t,e)=>gl(i,e,n=>i[n][t]>=e);function d0(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}var m0=["push","pop","shift","splice","unshift"];function u0(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),m0.forEach(e=>{let n="_onData"+fl(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...o){let l=r.apply(this,o);return i._chartjs.listeners.forEach(m=>{typeof m[n]=="function"&&m[n](...o)}),l}})})}function pm(i,t){let e=i._chartjs;if(!e)return;let n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(m0.forEach(o=>{delete i[o]}),delete i._chartjs)}function hm(i){let t=new Set(i);return t.size===i.length?i:Array.from(t)}var fm=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function _m(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,fm.call(window,()=>{n=!1,i.apply(t,e)}))}}function p0(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}var bl=i=>i==="start"?"left":i==="end"?"right":"center",pi=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,h0=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function gm(i,t,e){let n=t.length,r=0,o=n;if(i._sorted){let{iScale:l,vScale:m,_parsed:h}=i,b=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,y=l.axis,{min:w,max:k,minDefined:T,maxDefined:I}=l.getUserBounds();if(T){if(r=Math.min(bn(h,y,w).lo,e?n:bn(t,y,l.getPixelForValue(w)).lo),b){let M=h.slice(0,r+1).reverse().findIndex(R=>!st(R[m.axis]));r-=Math.max(0,M)}r=oi(r,0,n-1)}if(I){let M=Math.max(bn(h,l.axis,k,!0).hi+1,e?0:bn(t,y,l.getPixelForValue(k),!0).hi+1);if(b){let R=h.slice(M-1).findIndex(N=>!st(N[m.axis]));M+=Math.max(0,R)}o=oi(M,r,n)-r}else o=n-r}return{start:r,count:o}}function bm(i){let{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;let o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),o}var sl=i=>i===0||i===1,Yh=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Lt/e)),Qh=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Lt/e)+1,wo={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Qt)+1,easeOutSine:i=>Math.sin(i*Qt),easeInOutSine:i=>-.5*(Math.cos(yt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>sl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>sl(i)?i:Yh(i,.075,.3),easeOutElastic:i=>sl(i)?i:Qh(i,.075,.3),easeInOutElastic(i){return sl(i)?i:i<.5?.5*Yh(i*2,.1125,.45):.5+.5*Qh(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-wo.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?wo.easeInBounce(i*2)*.5:wo.easeOutBounce(i*2-1)*.5+.5};function vm(i){if(i&&typeof i=="object"){let t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ym(i){return vm(i)?i:new Ia(i)}function rm(i){return vm(i)?i:new Ia(i).saturate(.5).darken(.1).hexString()}var Zy=["x","y","borderWidth","radius","tension"],Xy=["color","borderColor","backgroundColor"];function ex(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Xy},numbers:{type:"number",properties:Zy}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function tx(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Kh=new Map;function ix(i,t){t=t||{};let e=i+JSON.stringify(t),n=Kh.get(e);return n||(n=new Intl.NumberFormat(i,t),Kh.set(e,n)),n}function Io(i,t,e){return ix(t,e).format(i)}var f0={values(i){return Nt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";let n=this.chart.options.locale,r,o=i;if(e.length>1){let b=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(b<1e-4||b>1e15)&&(r="scientific"),o=nx(i,e)}let l=Bn(Math.abs(o)),m=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:r,minimumFractionDigits:m,maximumFractionDigits:m};return Object.assign(h,this.options.ticks.format),Io(i,n,h)},logarithmic(i,t,e){if(i===0)return"0";let n=e[t].significand||i/Math.pow(10,Math.floor(Bn(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?f0.numeric.call(this,i,t,e):""}};function nx(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Va={formatters:f0};function rx(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Va.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var ar=Object.create(null),vl=Object.create(null);function Aa(i,t){if(!t)return i;let e=t.split(".");for(let n=0,r=e.length;n<r;++n){let o=e[n];i=i[o]||(i[o]=Object.create(null))}return i}function om(i,t,e){return typeof t=="string"?Co(Aa(i,t),e):Co(Aa(i,""),t)}var am=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>rm(r.backgroundColor),this.hoverBorderColor=(n,r)=>rm(r.borderColor),this.hoverColor=(n,r)=>rm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return om(this,t,e)}get(t){return Aa(this,t)}describe(t,e){return om(vl,t,e)}override(t,e){return om(ar,t,e)}route(t,e,n,r){let o=Aa(this,t),l=Aa(this,n),m="_"+e;Object.defineProperties(o,{[m]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let h=this[m],b=l[r];return dt(h)?Object.assign({},b,h):Qe(h,b)},set(h){this[m]=h}}})}apply(t){t.forEach(e=>e(this))}},Vt=new am({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ex,tx,rx]);function ox(i){return!i||st(i.size)||st(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Pa(i,t,e,n,r){let o=t[r];return o||(o=t[r]=i.measureText(r).width,e.push(r)),o>n&&(n=o),n}function _0(i,t,e,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},o=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let l=0,m=e.length,h,b,y,w,k;for(h=0;h<m;h++)if(w=e[h],w!=null&&!Nt(w))l=Pa(i,r,o,l,w);else if(Nt(w))for(b=0,y=w.length;b<y;b++)k=w[b],k!=null&&!Nt(k)&&(l=Pa(i,r,o,l,k));i.restore();let T=o.length/2;if(T>e.length){for(h=0;h<T;h++)delete r[o[h]];o.splice(0,T)}return l}function sr(i,t,e){let n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function xm(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function yl(i,t,e,n){wm(i,t,e,n,null)}function wm(i,t,e,n,r){let o,l,m,h,b,y,w,k,T=t.pointStyle,I=t.rotation,M=t.radius,R=(I||0)*Qy;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(R),i.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),i.restore();return}if(!(isNaN(M)||M<=0)){switch(i.beginPath(),T){default:r?i.ellipse(e,n,r/2,M,0,0,Lt):i.arc(e,n,M,0,Lt),i.closePath();break;case"triangle":y=r?r/2:M,i.moveTo(e+Math.sin(R)*y,n-Math.cos(R)*M),R+=$h,i.lineTo(e+Math.sin(R)*y,n-Math.cos(R)*M),R+=$h,i.lineTo(e+Math.sin(R)*y,n-Math.cos(R)*M),i.closePath();break;case"rectRounded":b=M*.516,h=M-b,l=Math.cos(R+Hr)*h,w=Math.cos(R+Hr)*(r?r/2-b:h),m=Math.sin(R+Hr)*h,k=Math.sin(R+Hr)*(r?r/2-b:h),i.arc(e-w,n-m,b,R-yt,R-Qt),i.arc(e+k,n-l,b,R-Qt,R),i.arc(e+w,n+m,b,R,R+Qt),i.arc(e-k,n+l,b,R+Qt,R+yt),i.closePath();break;case"rect":if(!I){h=Math.SQRT1_2*M,y=r?r/2:h,i.rect(e-y,n-h,2*y,2*h);break}R+=Hr;case"rectRot":w=Math.cos(R)*(r?r/2:M),l=Math.cos(R)*M,m=Math.sin(R)*M,k=Math.sin(R)*(r?r/2:M),i.moveTo(e-w,n-m),i.lineTo(e+k,n-l),i.lineTo(e+w,n+m),i.lineTo(e-k,n+l),i.closePath();break;case"crossRot":R+=Hr;case"cross":w=Math.cos(R)*(r?r/2:M),l=Math.cos(R)*M,m=Math.sin(R)*M,k=Math.sin(R)*(r?r/2:M),i.moveTo(e-w,n-m),i.lineTo(e+w,n+m),i.moveTo(e+k,n-l),i.lineTo(e-k,n+l);break;case"star":w=Math.cos(R)*(r?r/2:M),l=Math.cos(R)*M,m=Math.sin(R)*M,k=Math.sin(R)*(r?r/2:M),i.moveTo(e-w,n-m),i.lineTo(e+w,n+m),i.moveTo(e+k,n-l),i.lineTo(e-k,n+l),R+=Hr,w=Math.cos(R)*(r?r/2:M),l=Math.cos(R)*M,m=Math.sin(R)*M,k=Math.sin(R)*(r?r/2:M),i.moveTo(e-w,n-m),i.lineTo(e+w,n+m),i.moveTo(e+k,n-l),i.lineTo(e-k,n+l);break;case"line":l=r?r/2:Math.cos(R)*M,m=Math.sin(R)*M,i.moveTo(e-l,n-m),i.lineTo(e+l,n+m);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(R)*(r?r/2:M),n+Math.sin(R)*M);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function vn(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Ra(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Fa(i){i.restore()}function g0(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){let o=(t.x+e.x)/2;i.lineTo(o,t.y),i.lineTo(o,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function b0(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function ax(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),st(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function sx(i,t,e,n,r){if(r.strikethrough||r.underline){let o=i.measureText(n),l=t-o.actualBoundingBoxLeft,m=t+o.actualBoundingBoxRight,h=e-o.actualBoundingBoxAscent,b=e+o.actualBoundingBoxDescent,y=r.strikethrough?(h+b)/2:b;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(l,y),i.lineTo(m,y),i.stroke()}}function lx(i,t){let e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function lr(i,t,e,n,r,o={}){let l=Nt(t)?t:[t],m=o.strokeWidth>0&&o.strokeColor!=="",h,b;for(i.save(),i.font=r.string,ax(i,o),h=0;h<l.length;++h)b=l[h],o.backdrop&&lx(i,o.backdrop),m&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),st(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(b,e,n,o.maxWidth)),i.fillText(b,e,n,o.maxWidth),sx(i,e,n,b,o),n+=Number(r.lineHeight);i.restore()}function Do(i,t){let{x:e,y:n,w:r,h:o,radius:l}=t;i.arc(e+l.topLeft,n+l.topLeft,l.topLeft,1.5*yt,yt,!0),i.lineTo(e,n+o-l.bottomLeft),i.arc(e+l.bottomLeft,n+o-l.bottomLeft,l.bottomLeft,yt,Qt,!0),i.lineTo(e+r-l.bottomRight,n+o),i.arc(e+r-l.bottomRight,n+o-l.bottomRight,l.bottomRight,Qt,0,!0),i.lineTo(e+r,n+l.topRight),i.arc(e+r-l.topRight,n+l.topRight,l.topRight,0,-Qt,!0),i.lineTo(e+l.topLeft,n)}var cx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,dx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mx(i,t){let e=(""+i).match(cx);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}var ux=i=>+i||0;function xl(i,t){let e={},n=dt(t),r=n?Object.keys(t):t,o=dt(i)?n?l=>Qe(i[l],i[t[l]]):l=>i[l]:()=>i;for(let l of r)e[l]=ux(o(l));return e}function Cm(i){return xl(i,{top:"y",right:"x",bottom:"y",left:"x"})}function cr(i){return xl(i,["topLeft","topRight","bottomLeft","bottomRight"])}function hi(i){let t=Cm(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ii(i,t){i=i||{},t=t||Vt.font;let e=Qe(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=Qe(i.style,t.style);n&&!(""+n).match(dx)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);let r={family:Qe(i.family,t.family),lineHeight:mx(Qe(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:Qe(i.weight,t.weight),string:""};return r.string=ox(r),r}function Ao(i,t,e,n){let r=!0,o,l,m;for(o=0,l=i.length;o<l;++o)if(m=i[o],m!==void 0&&(t!==void 0&&typeof m=="function"&&(m=m(t),r=!1),e!==void 0&&Nt(m)&&(m=m[e%m.length],r=!1),m!==void 0))return n&&!r&&(n.cacheable=!1),m}function v0(i,t,e){let{min:n,max:r}=i,o=sm(t,(r-n)/2),l=(m,h)=>e&&m===0?0:m+h;return{min:l(n,-Math.abs(o)),max:l(r,o)}}function zn(i,t){return Object.assign(Object.create(i),t)}function wl(i,t=[""],e,n,r=()=>i[0]){let o=e||i;typeof n>"u"&&(n=w0("_fallback",i));let l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:n,_getTarget:r,override:m=>wl([m,...i],t,o,n)};return new Proxy(l,{deleteProperty(m,h){return delete m[h],delete m._keys,delete i[0][h],!0},get(m,h){return y0(m,h,()=>yx(h,t,i,m))},getOwnPropertyDescriptor(m,h){return Reflect.getOwnPropertyDescriptor(m._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(m,h){return Zh(m).includes(h)},ownKeys(m){return Zh(m)},set(m,h,b){let y=m._storage||(m._storage=r());return m[h]=y[h]=b,delete m._keys,!0}})}function Wr(i,t,e,n){let r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Sm(i,n),setContext:o=>Wr(i,o,e,n),override:o=>Wr(i.override(o),t,e,n)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete i[l],!0},get(o,l,m){return y0(o,l,()=>hx(o,l,m))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(i,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,l)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,l){return Reflect.has(i,l)},ownKeys(){return Reflect.ownKeys(i)},set(o,l,m){return i[l]=m,delete o[l],!0}})}function Sm(i,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:Ln(e)?e:()=>e,isIndexable:Ln(n)?n:()=>n}}var px=(i,t)=>i?i+fl(t):t,Em=(i,t)=>dt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function y0(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];let n=e();return i[t]=n,n}function hx(i,t,e){let{_proxy:n,_context:r,_subProxy:o,_descriptors:l}=i,m=n[t];return Ln(m)&&l.isScriptable(t)&&(m=fx(t,m,i,e)),Nt(m)&&m.length&&(m=_x(t,m,i,l.isIndexable)),Em(t,m)&&(m=Wr(m,r,o&&o[t],l)),m}function fx(i,t,e,n){let{_proxy:r,_context:o,_subProxy:l,_stack:m}=e;if(m.has(i))throw new Error("Recursion detected: "+Array.from(m).join("->")+"->"+i);m.add(i);let h=t(o,l||n);return m.delete(i),Em(i,h)&&(h=km(r._scopes,r,i,h)),h}function _x(i,t,e,n){let{_proxy:r,_context:o,_subProxy:l,_descriptors:m}=e;if(typeof o.index<"u"&&n(i))return t[o.index%t.length];if(dt(t[0])){let h=t,b=r._scopes.filter(y=>y!==h);t=[];for(let y of h){let w=km(b,r,i,y);t.push(Wr(w,o,l&&l[i],m))}}return t}function x0(i,t,e){return Ln(i)?i(t,e):i}var gx=(i,t)=>i===!0?t:typeof i=="string"?jn(t,i):void 0;function bx(i,t,e,n,r){for(let o of t){let l=gx(e,o);if(l){i.add(l);let m=x0(l._fallback,e,r);if(typeof m<"u"&&m!==e&&m!==n)return m}else if(l===!1&&typeof n<"u"&&e!==n)return null}return!1}function km(i,t,e,n){let r=t._rootScopes,o=x0(t._fallback,e,n),l=[...i,...r],m=new Set;m.add(n);let h=Jh(m,l,e,o||e,n);return h===null||typeof o<"u"&&o!==e&&(h=Jh(m,l,o,h,n),h===null)?!1:wl(Array.from(m),[""],r,o,()=>vx(t,e,n))}function Jh(i,t,e,n,r){for(;e;)e=bx(i,t,e,n,r);return e}function vx(i,t,e){let n=i._getTarget();t in n||(n[t]={});let r=n[t];return Nt(r)&&dt(e)?e:r||{}}function yx(i,t,e,n){let r;for(let o of t)if(r=w0(px(o,i),e),typeof r<"u")return Em(i,r)?km(e,n,i,r):r}function w0(i,t){for(let e of t){if(!e)continue;let n=e[i];if(typeof n<"u")return n}}function Zh(i){let t=i._keys;return t||(t=i._keys=xx(i._scopes)),t}function xx(i){let t=new Set;for(let e of i)for(let n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function Tm(i,t,e,n){let{iScale:r}=i,{key:o="r"}=this._parsing,l=new Array(n),m,h,b,y;for(m=0,h=n;m<h;++m)b=m+e,y=t[b],l[m]={r:r.parse(jn(y,o),b)};return l}var wx=Number.EPSILON||1e-14,So=(i,t)=>t<i.length&&!i[t].skip&&i[t],C0=i=>i==="x"?"y":"x";function Cx(i,t,e,n){let r=i.skip?t:i,o=t,l=e.skip?t:e,m=pl(o,r),h=pl(l,o),b=m/(m+h),y=h/(m+h);b=isNaN(b)?0:b,y=isNaN(y)?0:y;let w=n*b,k=n*y;return{previous:{x:o.x-w*(l.x-r.x),y:o.y-w*(l.y-r.y)},next:{x:o.x+k*(l.x-r.x),y:o.y+k*(l.y-r.y)}}}function Sx(i,t,e){let n=i.length,r,o,l,m,h,b=So(i,0);for(let y=0;y<n-1;++y)if(h=b,b=So(i,y+1),!(!h||!b)){if(To(t[y],0,wx)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],o=e[y+1]/t[y],m=Math.pow(r,2)+Math.pow(o,2),!(m<=9)&&(l=3/Math.sqrt(m),e[y]=r*l*t[y],e[y+1]=o*l*t[y])}}function Ex(i,t,e="x"){let n=C0(e),r=i.length,o,l,m,h=So(i,0);for(let b=0;b<r;++b){if(l=m,m=h,h=So(i,b+1),!m)continue;let y=m[e],w=m[n];l&&(o=(y-l[e])/3,m[`cp1${e}`]=y-o,m[`cp1${n}`]=w-o*t[b]),h&&(o=(h[e]-y)/3,m[`cp2${e}`]=y+o,m[`cp2${n}`]=w+o*t[b])}}function kx(i,t="x"){let e=C0(t),n=i.length,r=Array(n).fill(0),o=Array(n),l,m,h,b=So(i,0);for(l=0;l<n;++l)if(m=h,h=b,b=So(i,l+1),!!h){if(b){let y=b[t]-h[t];r[l]=y!==0?(b[e]-h[e])/y:0}o[l]=m?b?cn(r[l-1])!==cn(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}Sx(i,r,o),Ex(i,o,t)}function ll(i,t,e){return Math.max(Math.min(i,e),t)}function Tx(i,t){let e,n,r,o,l,m=vn(i[0],t);for(e=0,n=i.length;e<n;++e)l=o,o=m,m=e<n-1&&vn(i[e+1],t),o&&(r=i[e],l&&(r.cp1x=ll(r.cp1x,t.left,t.right),r.cp1y=ll(r.cp1y,t.top,t.bottom)),m&&(r.cp2x=ll(r.cp2x,t.left,t.right),r.cp2y=ll(r.cp2y,t.top,t.bottom)))}function S0(i,t,e,n,r){let o,l,m,h;if(t.spanGaps&&(i=i.filter(b=>!b.skip)),t.cubicInterpolationMode==="monotone")kx(i,r);else{let b=n?i[i.length-1]:i[0];for(o=0,l=i.length;o<l;++o)m=i[o],h=Cx(b,m,i[Math.min(o+1,l-(n?0:1))%l],t.tension),m.cp1x=h.previous.x,m.cp1y=h.previous.y,m.cp2x=h.next.x,m.cp2y=h.next.y,b=m}t.capBezierPoints&&Tx(i,e)}function Cl(){return typeof window<"u"&&typeof document<"u"}function Sl(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function hl(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}var El=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function Mx(i,t){return El(i).getPropertyValue(t)}var Ix=["top","right","bottom","left"];function Ur(i,t,e){let n={};e=e?"-"+e:"";for(let r=0;r<4;r++){let o=Ix[r];n[o]=parseFloat(i[t+"-"+o+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Dx=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function Ax(i,t){let e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:o}=n,l=!1,m,h;if(Dx(r,o,i.target))m=r,h=o;else{let b=t.getBoundingClientRect();m=n.clientX-b.left,h=n.clientY-b.top,l=!0}return{x:m,y:h,box:l}}function dr(i,t){if("native"in i)return i;let{canvas:e,currentDevicePixelRatio:n}=t,r=El(e),o=r.boxSizing==="border-box",l=Ur(r,"padding"),m=Ur(r,"border","width"),{x:h,y:b,box:y}=Ax(i,e),w=l.left+(y&&m.left),k=l.top+(y&&m.top),{width:T,height:I}=t;return o&&(T-=l.width+m.width,I-=l.height+m.height),{x:Math.round((h-w)/T*e.width/n),y:Math.round((b-k)/I*e.height/n)}}function Px(i,t,e){let n,r;if(t===void 0||e===void 0){let o=i&&Sl(i);if(!o)t=i.clientWidth,e=i.clientHeight;else{let l=o.getBoundingClientRect(),m=El(o),h=Ur(m,"border","width"),b=Ur(m,"padding");t=l.width-b.width-h.width,e=l.height-b.height-h.height,n=hl(m.maxWidth,o,"clientWidth"),r=hl(m.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:n||ul,maxHeight:r||ul}}var cl=i=>Math.round(i*10)/10;function E0(i,t,e,n){let r=El(i),o=Ur(r,"margin"),l=hl(r.maxWidth,i,"clientWidth")||ul,m=hl(r.maxHeight,i,"clientHeight")||ul,h=Px(i,t,e),{width:b,height:y}=h;if(r.boxSizing==="content-box"){let k=Ur(r,"border","width"),T=Ur(r,"padding");b-=T.width+k.width,y-=T.height+k.height}return b=Math.max(0,b-o.width),y=Math.max(0,n?b/n:y-o.height),b=cl(Math.min(b,l,h.maxWidth)),y=cl(Math.min(y,m,h.maxHeight)),b&&!y&&(y=cl(b/2)),(t!==void 0||e!==void 0)&&n&&h.height&&y>h.height&&(y=h.height,b=cl(Math.floor(y*n))),{width:b,height:y}}function Mm(i,t,e){let n=t||1,r=Math.floor(i.height*n),o=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);let l=i.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${i.height}px`,l.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||l.height!==r||l.width!==o?(i.currentDevicePixelRatio=n,l.height=r,l.width=o,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}var k0=function(){let i=!1;try{let t={get passive(){return i=!0,!1}};Cl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Im(i,t){let e=Mx(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function or(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function T0(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function M0(i,t,e,n){let r={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},l=or(i,r,e),m=or(r,o,e),h=or(o,t,e),b=or(l,m,e),y=or(m,h,e);return or(b,y,e)}var Ox=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},Vx=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function Gr(i,t,e){return i?Ox(t,e):Vx()}function Dm(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function Am(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function I0(i){return i==="angle"?{between:Mo,compare:Jy,normalize:ui}:{between:xn,compare:(t,e)=>t-e,normalize:t=>t}}function Xh({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function Rx(i,t,e){let{property:n,start:r,end:o}=e,{between:l,normalize:m}=I0(n),h=t.length,{start:b,end:y,loop:w}=i,k,T;if(w){for(b+=h,y+=h,k=0,T=h;k<T&&l(m(t[b%h][n]),r,o);++k)b--,y--;b%=h,y%=h}return y<b&&(y+=h),{start:b,end:y,loop:w,style:i.style}}function Pm(i,t,e){if(!e)return[i];let{property:n,start:r,end:o}=e,l=t.length,{compare:m,between:h,normalize:b}=I0(n),{start:y,end:w,loop:k,style:T}=Rx(i,t,e),I=[],M=!1,R=null,N,L,K,ee=()=>h(r,K,N)&&m(r,K)!==0,G=()=>m(o,N)===0||h(o,K,N),Z=()=>M||ee(),xe=()=>!M||G();for(let re=y,Me=y;re<=w;++re)L=t[re%l],!L.skip&&(N=b(L[n]),N!==K&&(M=h(N,r,o),R===null&&Z()&&(R=m(N,r)===0?re:Me),R!==null&&xe()&&(I.push(Xh({start:R,end:re,loop:k,count:l,style:T})),R=null),Me=re,K=N));return R!==null&&I.push(Xh({start:R,end:w,loop:k,count:l,style:T})),I}function Om(i,t){let e=[],n=i.segments;for(let r=0;r<n.length;r++){let o=Pm(n[r],i.points,t);o.length&&e.push(...o)}return e}function Fx(i,t,e,n){let r=0,o=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&i[o%t].skip;)o--;return o%=t,{start:r,end:o}}function Nx(i,t,e,n){let r=i.length,o=[],l=t,m=i[t],h;for(h=t+1;h<=e;++h){let b=i[h%r];b.skip||b.stop?m.skip||(n=!1,o.push({start:t%r,end:(h-1)%r,loop:n}),t=l=b.stop?h:null):(l=h,m.skip&&(t=h)),m=b}return l!==null&&o.push({start:t%r,end:l%r,loop:n}),o}function D0(i,t){let e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];let o=!!i._loop,{start:l,end:m}=Fx(e,r,o,n);if(n===!0)return e0(i,[{start:l,end:m,loop:o}],e,t);let h=m<l?m+r:m,b=!!i._fullLoop&&l===0&&m===r-1;return e0(i,Nx(e,l,h,b),e,t)}function e0(i,t,e,n){return!n||!n.setContext||!e?t:Lx(i,t,e,n)}function Lx(i,t,e,n){let r=i._chart.getContext(),o=t0(i.options),{_datasetIndex:l,options:{spanGaps:m}}=i,h=e.length,b=[],y=o,w=t[0].start,k=w;function T(I,M,R,N){let L=m?-1:1;if(I!==M){for(I+=h;e[I%h].skip;)I-=L;for(;e[M%h].skip;)M+=L;I%h!==M%h&&(b.push({start:I%h,end:M%h,loop:R,style:N}),y=N,w=M%h)}}for(let I of t){w=m?w:I.start;let M=e[w%h],R;for(k=w+1;k<=I.end;k++){let N=e[k%h];R=t0(n.setContext(zn(r,{type:"segment",p0:M,p1:N,p0DataIndex:(k-1)%h,p1DataIndex:k%h,datasetIndex:l}))),Bx(R,y)&&T(w,k-1,I.loop,y),M=N,y=R}w<k-1&&T(w,k-1,I.loop,y)}return b}function t0(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function Bx(i,t){if(!t)return!1;let e=[],n=function(r,o){return vm(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(i,n)!==JSON.stringify(t,n)}function dl(i,t,e){return i.options.clip?i[e]:t[e]}function jx(i,t){let{xScale:e,yScale:n}=i;return e&&n?{left:dl(e,t,"left"),right:dl(e,t,"right"),top:dl(n,t,"top"),bottom:dl(n,t,"bottom")}:t}function Vm(i,t){let e=t._clip;if(e.disabled)return!1;let n=jx(t,i.chartArea);return{left:e.left===!1?0:n.left-(e.left===!0?0:e.left),right:e.right===!1?i.width:n.right+(e.right===!0?0:e.right),top:e.top===!1?0:n.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?i.height:n.bottom+(e.bottom===!0?0:e.bottom)}}var Gm=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){let o=e.listeners[r],l=e.duration;o.forEach(m=>m({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(n-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;let o=n.items,l=o.length-1,m=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(t),m=!0):(o[l]=o[o.length-1],o.pop());m&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let n=e.items,r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Hn=new Gm,A0="transparent",zx={boolean(i,t,e){return e>.5?t:i},color(i,t,e){let n=ym(i||A0),r=n.valid&&ym(t||A0);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}},$m=class{constructor(t,e,n,r){let o=e[n];r=Ao([t.to,r,o,t.from]);let l=Ao([t.from,o,r]);this._active=!0,this._fn=t.fn||zx[t.type||typeof l],this._easing=wo[t.easing]||wo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);let r=this._target[this._prop],o=n-this._start,l=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ao([t.to,e,r,t.from]),this._from=Ao([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,n=this._duration,r=this._prop,o=this._from,l=this._loop,m=this._to,h;if(this._active=o!==m&&(l||e<n),!this._active){this._target[r]=m,this._notify(!0);return}if(e<0){this._target[r]=o;return}h=e/n%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(o,m,h)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){let e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}},Vl=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!dt(t))return;let e=Object.keys(Vt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let o=t[r];if(!dt(o))return;let l={};for(let m of e)l[m]=o[m];(Nt(o.properties)&&o.properties||[r]).forEach(m=>{(m===r||!n.has(m))&&n.set(m,l)})})}_animateOptions(t,e){let n=e.options,r=Ux(t,n);if(!r)return[];let o=this._createAnimations(r,n);return n.$shared&&Hx(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){let n=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),m=Date.now(),h;for(h=l.length-1;h>=0;--h){let b=l[h];if(b.charAt(0)==="$")continue;if(b==="options"){r.push(...this._animateOptions(t,e));continue}let y=e[b],w=o[b],k=n.get(b);if(w)if(k&&w.active()){w.update(k,y,m);continue}else w.cancel();if(!k||!k.duration){t[b]=y;continue}o[b]=w=new $m(k,t,b,y),r.push(w)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let n=this._createAnimations(t,e);if(n.length)return Hn.add(this._chart,n),!0}};function Hx(i,t){let e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){let o=i[n[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Ux(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function P0(i,t){let e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:r,end:n?r:o}}function Wx(i,t,e){if(e===!1)return!1;let n=P0(i,e),r=P0(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function qx(i){let t,e,n,r;return dt(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function Pf(i,t){let e=[],n=i._getSortedDatasetMetas(t),r,o;for(r=0,o=n.length;r<o;++r)e.push(n[r].index);return e}function O0(i,t,e,n={}){let r=i.keys,o=n.mode==="single",l,m,h,b;if(t===null)return;let y=!1;for(l=0,m=r.length;l<m;++l){if(h=+r[l],h===e){if(y=!0,n.all)continue;break}b=i.values[h],Gt(b)&&(o||t===0||cn(t)===cn(b))&&(t+=b)}return!y&&!n.all?0:t}function Gx(i,t){let{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",l=Object.keys(i),m=new Array(l.length),h,b,y;for(h=0,b=l.length;h<b;++h)y=l[h],m[h]={[r]:y,[o]:i[y]};return m}function Rm(i,t){let e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function $x(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Yx(i){let{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Qx(i,t,e){let n=i[t]||(i[t]={});return n[e]||(n[e]={})}function V0(i,t,e,n){for(let r of t.getMatchingVisibleMetas(n).reverse()){let o=i[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function R0(i,t){let{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:m}=n,h=o.axis,b=l.axis,y=$x(o,l,n),w=t.length,k;for(let T=0;T<w;++T){let I=t[T],{[h]:M,[b]:R}=I,N=I._stacks||(I._stacks={});k=N[b]=Qx(r,y,M),k[m]=R,k._top=V0(k,l,!0,n.type),k._bottom=V0(k,l,!1,n.type);let L=k._visualValues||(k._visualValues={});L[m]=R}}function Fm(i,t){let e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Kx(i,t){return zn(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Jx(i,t,e){return zn(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Na(i,t){let e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(let r of t){let o=r._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}var Nm=i=>i==="reset"||i==="none",F0=(i,t)=>t?i:Object.assign({},i),Zx=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:Pf(e,!0),values:null},ur=(()=>{class i{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Rm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Na(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(k,T,I,M)=>k==="x"?T:k==="r"?M:I,l=n.xAxisID=Qe(r.xAxisID,Fm(e,"x")),m=n.yAxisID=Qe(r.yAxisID,Fm(e,"y")),h=n.rAxisID=Qe(r.rAxisID,Fm(e,"r")),b=n.indexAxis,y=n.iAxisID=o(b,l,m,h),w=n.vAxisID=o(b,m,l,h);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(m),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(y),n.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&pm(this._data,this),e._stacked&&Na(e)}_dataCheck(){let e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(dt(n)){let o=this._cachedMeta;this._data=Gx(n,o)}else if(r!==n){if(r){pm(r,this);let o=this._cachedMeta;Na(o),o._parsed=[]}n&&Object.isExtensible(n)&&u0(n,this),this._syncList=[],this._data=n}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let n=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let l=n._stacked;n._stacked=Rm(n.vScale,n),n.stack!==r.stack&&(o=!0,Na(n),n.stack=r.stack),this._resyncElements(e),(o||l!==n._stacked)&&(R0(this,n._parsed),n._stacked=Rm(n.vScale,n))}configure(){let e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){let{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:m}=r,h=l.axis,b=e===0&&n===o.length?!0:r._sorted,y=e>0&&r._parsed[e-1],w,k,T;if(this._parsing===!1)r._parsed=o,r._sorted=!0,T=o;else{Nt(o[e])?T=this.parseArrayData(r,o,e,n):dt(o[e])?T=this.parseObjectData(r,o,e,n):T=this.parsePrimitiveData(r,o,e,n);let I=()=>k[h]===null||y&&k[h]<y[h];for(w=0;w<n;++w)r._parsed[w+e]=k=T[w],b&&(I()&&(b=!1),y=k);r._sorted=b}m&&R0(this,T)}parsePrimitiveData(e,n,r,o){let{iScale:l,vScale:m}=e,h=l.axis,b=m.axis,y=l.getLabels(),w=l===m,k=new Array(o),T,I,M;for(T=0,I=o;T<I;++T)M=T+r,k[T]={[h]:w||l.parse(y[M],M),[b]:m.parse(n[M],M)};return k}parseArrayData(e,n,r,o){let{xScale:l,yScale:m}=e,h=new Array(o),b,y,w,k;for(b=0,y=o;b<y;++b)w=b+r,k=n[w],h[b]={x:l.parse(k[0],w),y:m.parse(k[1],w)};return h}parseObjectData(e,n,r,o){let{xScale:l,yScale:m}=e,{xAxisKey:h="x",yAxisKey:b="y"}=this._parsing,y=new Array(o),w,k,T,I;for(w=0,k=o;w<k;++w)T=w+r,I=n[T],y[w]={x:l.parse(jn(I,h),T),y:m.parse(jn(I,b),T)};return y}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){let o=this.chart,l=this._cachedMeta,m=n[e.axis],h={keys:Pf(o,!0),values:n._stacks[e.axis]._visualValues};return O0(h,m,l.index,{mode:r})}updateRangeFromParsed(e,n,r,o){let l=r[n.axis],m=l===null?NaN:l,h=o&&r._stacks[n.axis];o&&h&&(o.values=h,m=O0(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,m),e.max=Math.max(e.max,m)}getMinMax(e,n){let r=this._cachedMeta,o=r._parsed,l=r._sorted&&e===r.iScale,m=o.length,h=this._getOtherScale(e),b=Zx(n,r,this.chart),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:k}=Yx(h),T,I;function M(){I=o[T];let R=I[h.axis];return!Gt(I[e.axis])||w>R||k<R}for(T=0;T<m&&!(!M()&&(this.updateRangeFromParsed(y,e,I,b),l));++T);if(l){for(T=m-1;T>=0;--T)if(!M()){this.updateRangeFromParsed(y,e,I,b);break}}return y}getAllParsedValues(e){let n=this._cachedMeta._parsed,r=[],o,l,m;for(o=0,l=n.length;o<l;++o)m=n[o][e.axis],Gt(m)&&r.push(m);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let n=this._cachedMeta,r=n.iScale,o=n.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){let n=this._cachedMeta;this.update(e||"default"),n._clip=qx(Qe(this.options.clip,Wx(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],l=n.chartArea,m=[],h=this._drawStart||0,b=this._drawCount||o.length-h,y=this.options.drawActiveElementsOnTop,w;for(r.dataset&&r.dataset.draw(e,l,h,b),w=h;w<h+b;++w){let k=o[w];k.hidden||(k.active&&y?m.push(k):k.draw(e,l))}for(w=0;w<m.length;++w)m[w].draw(e,l)}getStyle(e,n){let r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){let o=this.getDataset(),l;if(e>=0&&e<this._cachedMeta.data.length){let m=this._cachedMeta.data[e];l=m.$context||(m.$context=Jx(this.getContext(),e,m)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=Kx(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){let o=n==="active",l=this._cachedDataOpts,m=e+"-"+n,h=l[m],b=this.enableOptionSharing&&ko(r);if(h)return F0(h,b);let y=this.chart.config,w=y.datasetElementScopeKeys(this._type,e),k=o?[`${e}Hover`,"hover",e,""]:[e,""],T=y.getOptionScopes(this.getDataset(),w),I=Object.keys(Vt.elements[e]),M=()=>this.getContext(r,o,n),R=y.resolveNamedOptions(T,I,M,k);return R.$shared&&(R.$shared=b,l[m]=Object.freeze(F0(R,b))),R}_resolveAnimations(e,n,r){let o=this.chart,l=this._cachedDataOpts,m=`animation-${n}`,h=l[m];if(h)return h;let b;if(o.options.animation!==!1){let w=this.chart.config,k=w.datasetAnimationScopeKeys(this._type,n),T=w.getOptionScopes(this.getDataset(),k);b=w.createResolver(T,this.getContext(e,r,n))}let y=new Vl(o,b&&b.animations);return b&&b._cacheable&&(l[m]=Object.freeze(y)),y}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Nm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){let r=this.resolveDataElementOptions(e,n),o=this._sharedOptions,l=this.getSharedOptions(r),m=this.includeOptions(n,l)||l!==o;return this.updateSharedOptions(l,n,r),{sharedOptions:l,includeOptions:m}}updateElement(e,n,r,o){Nm(o)?Object.assign(e,r):this._resolveAnimations(n,o).update(e,r)}updateSharedOptions(e,n,r){e&&!Nm(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,o){e.active=o;let l=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let n=this._data,r=this._cachedMeta.data;for(let[h,b,y]of this._syncList)this[h](b,y);this._syncList=[];let o=r.length,l=n.length,m=Math.min(l,o);m&&this.parse(0,m),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,n,r=!0){let o=this._cachedMeta,l=o.data,m=e+n,h,b=y=>{for(y.length+=n,h=y.length-1;h>=m;h--)y[h]=y[h-n]};for(b(l),h=e;h<m;++h)l[h]=new this.dataElementType;this._parsing&&b(o._parsed),this.parse(e,n),r&&this.updateElements(l,e,n,"reset")}updateElements(e,n,r,o){}_removeElements(e,n){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,n);r._stacked&&Na(r,o)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[n,r,o]=e;this[n](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return i})();function Xx(i,t){if(!i._cache.$bar){let e=i.getMatchingVisibleMetas(t),n=[];for(let r=0,o=e.length;r<o;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=hm(n.sort((r,o)=>r-o))}return i._cache.$bar}function ew(i){let t=i.iScale,e=Xx(t,i.type),n=t._length,r,o,l,m,h=()=>{l===32767||l===-32768||(ko(m)&&(n=Math.min(n,Math.abs(l-m)||n)),m=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),h();for(m=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),h();return n}function tw(i,t,e,n){let r=e.barThickness,o,l;return st(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*n,l=1),{chunk:o/n,ratio:l,start:t.pixels[i]-o/2}}function iw(i,t,e,n){let r=t.pixels,o=r[i],l=i>0?r[i-1]:null,m=i<r.length-1?r[i+1]:null,h=e.categoryPercentage;l===null&&(l=o-(m===null?t.end-t.start:m-o)),m===null&&(m=o+o-l);let b=o-(o-Math.min(l,m))/2*h;return{chunk:Math.abs(m-l)/2*h/n,ratio:e.barPercentage,start:b}}function nw(i,t,e,n){let r=e.parse(i[0],n),o=e.parse(i[1],n),l=Math.min(r,o),m=Math.max(r,o),h=l,b=m;Math.abs(l)>Math.abs(m)&&(h=m,b=l),t[e.axis]=b,t._custom={barStart:h,barEnd:b,start:r,end:o,min:l,max:m}}function Of(i,t,e,n){return Nt(i)?nw(i,t,e,n):t[e.axis]=e.parse(i,n),t}function N0(i,t,e,n){let r=i.iScale,o=i.vScale,l=r.getLabels(),m=r===o,h=[],b,y,w,k;for(b=e,y=e+n;b<y;++b)k=t[b],w={},w[r.axis]=m||r.parse(l[b],b),h.push(Of(k,w,o,b));return h}function Lm(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function rw(i,t,e){return i!==0?cn(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function ow(i){let t,e,n,r,o;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:n,reverse:t,top:r,bottom:o}}function aw(i,t,e,n){let r=t.borderSkipped,o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:l,end:m,reverse:h,top:b,bottom:y}=ow(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=b:(e._bottom||0)===n?r=y:(o[L0(y,l,m,h)]=!0,r=b)),o[L0(r,l,m,h)]=!0,i.borderSkipped=o}function L0(i,t,e,n){return n?(i=sw(i,t,e),i=B0(i,e,t)):i=B0(i,t,e),i}function sw(i,t,e){return i===t?e:i===e?t:i}function B0(i,t,e){return i==="start"?t:i==="end"?e:i}function lw(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}var cw=(()=>{class i extends ur{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,n,r,o){return N0(e,n,r,o)}parseArrayData(e,n,r,o){return N0(e,n,r,o)}parseObjectData(e,n,r,o){let{iScale:l,vScale:m}=e,{xAxisKey:h="x",yAxisKey:b="y"}=this._parsing,y=l.axis==="x"?h:b,w=m.axis==="x"?h:b,k=[],T,I,M,R;for(T=r,I=r+o;T<I;++T)R=n[T],M={},M[l.axis]=l.parse(jn(R,y),T),k.push(Of(jn(R,w),M,m,T));return k}updateRangeFromParsed(e,n,r,o){super.updateRangeFromParsed(e,n,r,o);let l=r._custom;l&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let n=this._cachedMeta,{iScale:r,vScale:o}=n,l=this.getParsed(e),m=l._custom,h=Lm(m)?"["+m.start+", "+m.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,o){let l=o==="reset",{index:m,_cachedMeta:{vScale:h}}=this,b=h.getBasePixel(),y=h.isHorizontal(),w=this._getRuler(),{sharedOptions:k,includeOptions:T}=this._getSharedOptions(n,o);for(let I=n;I<n+r;I++){let M=this.getParsed(I),R=l||st(M[h.axis])?{base:b,head:b}:this._calculateBarValuePixels(I),N=this._calculateBarIndexPixels(I,w),L=(M._stacks||{})[h.axis],K={horizontal:y,base:R.base,enableBorderRadius:!L||Lm(M._custom)||m===L._top||m===L._bottom,x:y?R.head:N.center,y:y?N.center:R.head,height:y?N.size:Math.abs(R.size),width:y?Math.abs(R.size):N.size};T&&(K.options=k||this.resolveDataElementOptions(I,e[I].active?"active":o));let ee=K.options||e[I].options;aw(K,ee,L,m),lw(K,ee,w.ratio),this.updateElement(e[I],I,K,o)}}_getStacks(e,n){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(w=>w.controller.options.grouped),l=r.options.stacked,m=[],h=this._cachedMeta.controller.getParsed(n),b=h&&h[r.axis],y=w=>{let k=w._parsed.find(I=>I[r.axis]===b),T=k&&k[w.vScale.axis];if(st(T)||isNaN(T))return!0};for(let w of o)if(!(n!==void 0&&y(w))&&((l===!1||m.indexOf(w.stack)===-1||l===void 0&&w.stack===void 0)&&m.push(w.stack),w.index===e))break;return m.length||m.push(void 0),m}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){let e={},n=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[Qe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){let o=this._getStacks(e,r),l=n!==void 0?o.indexOf(n):-1;return l===-1?o.length-1:l}_getRuler(){let e=this.options,n=this._cachedMeta,r=n.iScale,o=[],l,m;for(l=0,m=n.data.length;l<m;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));let h=e.barThickness;return{min:h||ew(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:l,minBarLength:m}}=this,h=l||0,b=this.getParsed(e),y=b._custom,w=Lm(y),k=b[n.axis],T=0,I=r?this.applyStack(n,b,r):k,M,R;I!==k&&(T=I-k,I=k),w&&(k=y.barStart,I=y.barEnd-y.barStart,k!==0&&cn(k)!==cn(y.barEnd)&&(T=0),T+=k);let N=!st(l)&&!w?l:T,L=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?M=n.getPixelForValue(T+I):M=L,R=M-L,Math.abs(R)<m){R=rw(R,n,h)*m,k===h&&(L-=R/2);let K=n.getPixelForDecimal(0),ee=n.getPixelForDecimal(1),G=Math.min(K,ee),Z=Math.max(K,ee);L=Math.max(Math.min(L,Z),G),M=L+R,r&&!w&&(b._stacks[n.axis]._visualValues[o]=n.getValueForPixel(M)-n.getValueForPixel(L))}if(L===n.getPixelForValue(h)){let K=cn(R)*n.getLineWidthForValue(h)/2;L+=K,R-=K}return{size:R,base:L,head:M,center:M+R/2}}_calculateBarIndexPixels(e,n){let r=n.scale,o=this.options,l=o.skipNull,m=Qe(o.maxBarThickness,1/0),h,b,y=this._getAxisCount();if(n.grouped){let w=l?this._getStackCount(e):n.stackCount,k=o.barThickness==="flex"?iw(e,n,o,w*y):tw(e,n,o,w*y),T=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,I=this._getAxis().indexOf(Qe(T,this.getFirstScaleIdForIndexAxis())),M=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+I;h=k.start+k.chunk*M+k.chunk/2,b=Math.min(m,k.chunk*k.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),b=Math.min(m,n.min*n.ratio);return{base:h-b/2,head:h+b/2,center:h,size:b}}draw(){let e=this._cachedMeta,n=e.vScale,r=e.data,o=r.length,l=0;for(;l<o;++l)this.getParsed(l)[n.axis]!==null&&!r[l].hidden&&r[l].draw(this._ctx)}}return i})(),dw=(()=>{class i extends ur{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,o){let l=super.parsePrimitiveData(e,n,r,o);for(let m=0;m<l.length;m++)l[m]._custom=this.resolveDataElementOptions(m+r).radius;return l}parseArrayData(e,n,r,o){let l=super.parseArrayData(e,n,r,o);for(let m=0;m<l.length;m++){let h=n[r+m];l[m]._custom=Qe(h[2],this.resolveDataElementOptions(m+r).radius)}return l}parseObjectData(e,n,r,o){let l=super.parseObjectData(e,n,r,o);for(let m=0;m<l.length;m++){let h=n[r+m];l[m]._custom=Qe(h&&h.r&&+h.r,this.resolveDataElementOptions(m+r).radius)}return l}getMaxOverflow(){let e=this._cachedMeta.data,n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:l}=n,m=this.getParsed(e),h=o.getLabelForValue(m.x),b=l.getLabelForValue(m.y),y=m._custom;return{label:r[e]||"",value:"("+h+", "+b+(y?", "+y:"")+")"}}update(e){let n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,o){let l=o==="reset",{iScale:m,vScale:h}=this._cachedMeta,{sharedOptions:b,includeOptions:y}=this._getSharedOptions(n,o),w=m.axis,k=h.axis;for(let T=n;T<n+r;T++){let I=e[T],M=!l&&this.getParsed(T),R={},N=R[w]=l?m.getPixelForDecimal(.5):m.getPixelForValue(M[w]),L=R[k]=l?h.getBasePixel():h.getPixelForValue(M[k]);R.skip=isNaN(N)||isNaN(L),y&&(R.options=b||this.resolveDataElementOptions(T,I.active?"active":o),l&&(R.options.radius=0)),this.updateElement(I,T,R,o)}}resolveDataElementOptions(e,n){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,n);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let l=o.radius;return n!=="active"&&(o.radius=0),o.radius+=Qe(r&&r._custom,l),o}}return i})();function mw(i,t,e){let n=1,r=1,o=0,l=0;if(t<Lt){let m=i,h=m+t,b=Math.cos(m),y=Math.sin(m),w=Math.cos(h),k=Math.sin(h),T=(K,ee,G)=>Mo(K,m,h,!0)?1:Math.max(ee,ee*e,G,G*e),I=(K,ee,G)=>Mo(K,m,h,!0)?-1:Math.min(ee,ee*e,G,G*e),M=T(0,b,w),R=T(Qt,y,k),N=I(yt,b,w),L=I(yt+Qt,y,k);n=(M-N)/2,r=(R-L)/2,o=-(M+N)/2,l=-(R+L)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:l}}var pu=(()=>{class i extends ur{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((l,m)=>{let b=e.getDatasetMeta(0).controller.getStyle(m);return{text:l,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:o,lineWidth:b.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(m),index:m}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let l=b=>+r[b];if(dt(r[e])){let{key:b="value"}=this._parsing;l=y=>+jn(r[y],b)}let m,h;for(m=e,h=e+n;m<h;++m)o._parsed[m]=l(m)}}_getRotation(){return Qi(this.options.rotation-90)}_getCircumference(){return Qi(this.options.circumference)}_getRotationExtents(){let e=Lt,n=-Lt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,l=o._getRotation(),m=o._getCircumference();e=Math.min(e,l),n=Math.max(n,l+m)}return{rotation:e,circumference:n-e}}update(e){let n=this.chart,{chartArea:r}=n,o=this._cachedMeta,l=o.data,m=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-m)/2,0),b=Math.min(n0(this.options.cutout,h),1),y=this._getRingWeight(this.index),{circumference:w,rotation:k}=this._getRotationExtents(),{ratioX:T,ratioY:I,offsetX:M,offsetY:R}=mw(k,w,b),N=(r.width-m)/T,L=(r.height-m)/I,K=Math.max(Math.min(N,L)/2,0),ee=sm(this.options.radius,K),G=Math.max(ee*b,0),Z=(ee-G)/this._getVisibleDatasetWeightTotal();this.offsetX=M*ee,this.offsetY=R*ee,o.total=this.calculateTotal(),this.outerRadius=ee-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*y,0),this.updateElements(l,0,l.length,e)}_circumference(e,n){let r=this.options,o=this._cachedMeta,l=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/Lt)}updateElements(e,n,r,o){let l=o==="reset",m=this.chart,h=m.chartArea,y=m.options.animation,w=(h.left+h.right)/2,k=(h.top+h.bottom)/2,T=l&&y.animateScale,I=T?0:this.innerRadius,M=T?0:this.outerRadius,{sharedOptions:R,includeOptions:N}=this._getSharedOptions(n,o),L=this._getRotation(),K;for(K=0;K<n;++K)L+=this._circumference(K,l);for(K=n;K<n+r;++K){let ee=this._circumference(K,l),G=e[K],Z={x:w+this.offsetX,y:k+this.offsetY,startAngle:L,endAngle:L+ee,circumference:ee,outerRadius:M,innerRadius:I};N&&(Z.options=R||this.resolveDataElementOptions(K,G.active?"active":o)),L+=ee,this.updateElement(G,K,Z,o)}}calculateTotal(){let e=this._cachedMeta,n=e.data,r=0,o;for(o=0;o<n.length;o++){let l=e._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(e){let n=this._cachedMeta.total;return n>0&&!isNaN(e)?Lt*(Math.abs(e)/n):0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],l=Io(n._parsed[e],r.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let n=0,r=this.chart,o,l,m,h,b;if(!e){for(o=0,l=r.data.datasets.length;o<l;++o)if(r.isDatasetVisible(o)){m=r.getDatasetMeta(o),e=m.data,h=m.controller;break}}if(!e)return 0;for(o=0,l=e.length;o<l;++o)b=h.resolveDataElementOptions(o),b.borderAlign!=="inner"&&(n=Math.max(n,b.borderWidth||0,b.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,o=e.length;r<o;++r){let l=this.resolveDataElementOptions(r);n=Math.max(n,l.offset||0,l.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Qe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return i})(),uw=(()=>{class i extends ur{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let n=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=n,m=this.chart._animationsDisabled,{start:h,count:b}=gm(n,o,m);this._drawStart=h,this._drawCount=b,bm(n)&&(h=0,b=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;let y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(r,void 0,{animated:!m,options:y},e),this.updateElements(o,h,b,e)}updateElements(e,n,r,o){let l=o==="reset",{iScale:m,vScale:h,_stacked:b,_dataset:y}=this._cachedMeta,{sharedOptions:w,includeOptions:k}=this._getSharedOptions(n,o),T=m.axis,I=h.axis,{spanGaps:M,segment:R}=this.options,N=qr(M)?M:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||l||o==="none",K=n+r,ee=e.length,G=n>0&&this.getParsed(n-1);for(let Z=0;Z<ee;++Z){let xe=e[Z],re=L?xe:{};if(Z<n||Z>=K){re.skip=!0;continue}let Me=this.getParsed(Z),rt=st(Me[I]),et=re[T]=m.getPixelForValue(Me[T],Z),mt=re[I]=l||rt?h.getBasePixel():h.getPixelForValue(b?this.applyStack(h,Me,b):Me[I],Z);re.skip=isNaN(et)||isNaN(mt)||rt,re.stop=Z>0&&Math.abs(Me[T]-G[T])>N,R&&(re.parsed=Me,re.raw=y.data[Z]),k&&(re.options=w||this.resolveDataElementOptions(Z,xe.active?"active":o)),L||this.updateElement(xe,Z,re,o),G=Me}}getMaxOverflow(){let e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let l=o[0].size(this.resolveDataElementOptions(0)),m=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,m)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return i})(),Vf=(()=>{class i extends ur{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let n=e.data;if(n.labels.length&&n.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return n.labels.map((l,m)=>{let b=e.getDatasetMeta(0).controller.getStyle(m);return{text:l,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,fontColor:o,lineWidth:b.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(m),index:m}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let n=this._cachedMeta,r=this.chart,o=r.data.labels||[],l=Io(n._parsed[e].r,r.options.locale);return{label:o[e]||"",value:l}}parseObjectData(e,n,r,o){return Tm.bind(this)(e,n,r,o)}update(e){let n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){let e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let l=this.getParsed(o).r;!isNaN(l)&&this.chart.getDataVisibility(o)&&(l<n.min&&(n.min=l),l>n.max&&(n.max=l))}),n}_updateRadius(){let e=this.chart,n=e.chartArea,r=e.options,o=Math.min(n.right-n.left,n.bottom-n.top),l=Math.max(o/2,0),m=Math.max(r.cutoutPercentage?l/100*r.cutoutPercentage:1,0),h=(l-m)/e.getVisibleDatasetCount();this.outerRadius=l-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(e,n,r,o){let l=o==="reset",m=this.chart,b=m.options.animation,y=this._cachedMeta.rScale,w=y.xCenter,k=y.yCenter,T=y.getIndexAngle(0)-.5*yt,I=T,M,R=360/this.countVisibleElements();for(M=0;M<n;++M)I+=this._computeAngle(M,o,R);for(M=n;M<n+r;M++){let N=e[M],L=I,K=I+this._computeAngle(M,o,R),ee=m.getDataVisibility(M)?y.getDistanceFromCenterForValue(this.getParsed(M).r):0;I=K,l&&(b.animateScale&&(ee=0),b.animateRotate&&(L=K=T));let G={x:w,y:k,innerRadius:0,outerRadius:ee,startAngle:L,endAngle:K,options:this.resolveDataElementOptions(M,N.active?"active":o)};this.updateElement(N,M,G,o)}}countVisibleElements(){let e=this._cachedMeta,n=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Qi(this.resolveDataElementOptions(e,n).angle||r):0}}return i})(),pw=(()=>{class i extends pu{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return i})(),hw=(()=>{class i extends ur{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,o){return Tm.bind(this)(e,n,r,o)}update(e){let n=this._cachedMeta,r=n.dataset,o=n.data||[],l=n.iScale.getLabels();if(r.points=o,e!=="resize"){let m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0);let h={_loop:!0,_fullLoop:l.length===o.length,options:m};this.updateElement(r,void 0,h,e)}this.updateElements(o,0,o.length,e)}updateElements(e,n,r,o){let l=this._cachedMeta.rScale,m=o==="reset";for(let h=n;h<n+r;h++){let b=e[h],y=this.resolveDataElementOptions(h,b.active?"active":o),w=l.getPointPositionForValue(h,this.getParsed(h).r),k=m?l.xCenter:w.x,T=m?l.yCenter:w.y,I={x:k,y:T,angle:w.angle,skip:isNaN(k)||isNaN(T),options:y};this.updateElement(b,h,I,o)}}}return i})(),fw=(()=>{class i extends ur{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:l}=n,m=this.getParsed(e),h=o.getLabelForValue(m.x),b=l.getLabelForValue(m.y);return{label:r[e]||"",value:"("+h+", "+b+")"}}update(e){let n=this._cachedMeta,{data:r=[]}=n,o=this.chart._animationsDisabled,{start:l,count:m}=gm(n,r,o);if(this._drawStart=l,this._drawCount=m,bm(n)&&(l=0,m=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:h,_dataset:b}=n;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!b._decimated,h.points=r;let y=this.resolveDatasetElementOptions(e);y.segment=this.options.segment,this.updateElement(h,void 0,{animated:!o,options:y},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,l,m,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,o){let l=o==="reset",{iScale:m,vScale:h,_stacked:b,_dataset:y}=this._cachedMeta,w=this.resolveDataElementOptions(n,o),k=this.getSharedOptions(w),T=this.includeOptions(o,k),I=m.axis,M=h.axis,{spanGaps:R,segment:N}=this.options,L=qr(R)?R:Number.POSITIVE_INFINITY,K=this.chart._animationsDisabled||l||o==="none",ee=n>0&&this.getParsed(n-1);for(let G=n;G<n+r;++G){let Z=e[G],xe=this.getParsed(G),re=K?Z:{},Me=st(xe[M]),rt=re[I]=m.getPixelForValue(xe[I],G),et=re[M]=l||Me?h.getBasePixel():h.getPixelForValue(b?this.applyStack(h,xe,b):xe[M],G);re.skip=isNaN(rt)||isNaN(et)||Me,re.stop=G>0&&Math.abs(xe[I]-ee[I])>L,N&&(re.parsed=xe,re.raw=y.data[G]),T&&(re.options=k||this.resolveDataElementOptions(G,Z.active?"active":o)),K||this.updateElement(Z,G,re,o),ee=xe}this.updateSharedOptions(k,o,w)}getMaxOverflow(){let e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let h=0;for(let b=n.length-1;b>=0;--b)h=Math.max(h,n[b].size(this.resolveDataElementOptions(b))/2);return h>0&&h}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!n.length)return o;let l=n[0].size(this.resolveDataElementOptions(0)),m=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,l,m)/2}}return i})(),_w=Object.freeze({__proto__:null,BarController:cw,BubbleController:dw,DoughnutController:pu,LineController:uw,PieController:pw,PolarAreaController:Vf,RadarController:hw,ScatterController:fw});function $r(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ym=class i{static override(t){Object.assign(i.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return $r()}parse(){return $r()}format(){return $r()}add(){return $r()}diff(){return $r()}startOf(){return $r()}endOf(){return $r()}},gw={_date:Ym};function bw(i,t,e,n){let{controller:r,data:o,_sorted:l}=i,m=r._cachedMeta.iScale,h=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(m&&t===m.axis&&t!=="r"&&l&&o.length){let b=m._reversePixels?c0:bn;if(n){if(r._sharedOptions){let y=o[0],w=typeof y.getRange=="function"&&y.getRange(t);if(w){let k=b(o,t,e-w),T=b(o,t,e+w);return{lo:k.lo,hi:T.hi}}}}else{let y=b(o,t,e);if(h){let{vScale:w}=r._cachedMeta,{_parsed:k}=i,T=k.slice(0,y.lo+1).reverse().findIndex(M=>!st(M[w.axis]));y.lo-=Math.max(0,T);let I=k.slice(y.hi).findIndex(M=>!st(M[w.axis]));y.hi+=Math.max(0,I)}return y}}return{lo:0,hi:o.length-1}}function $a(i,t,e,n,r){let o=i.getSortedVisibleDatasetMetas(),l=e[t];for(let m=0,h=o.length;m<h;++m){let{index:b,data:y}=o[m],{lo:w,hi:k}=bw(o[m],t,l,r);for(let T=w;T<=k;++T){let I=y[T];I.skip||n(I,b,T)}}}function vw(i){let t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){let o=t?Math.abs(n.x-r.x):0,l=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Bm(i,t,e,n,r){let o=[];return!r&&!i.isPointInArea(t)||$a(i,e,t,function(m,h,b){!r&&!vn(m,i.chartArea,0)||m.inRange(t.x,t.y,n)&&o.push({element:m,datasetIndex:h,index:b})},!0),o}function yw(i,t,e,n){let r=[];function o(l,m,h){let{startAngle:b,endAngle:y}=l.getProps(["startAngle","endAngle"],n),{angle:w}=um(l,{x:t.x,y:t.y});Mo(w,b,y)&&r.push({element:l,datasetIndex:m,index:h})}return $a(i,e,t,o),r}function xw(i,t,e,n,r,o){let l=[],m=vw(e),h=Number.POSITIVE_INFINITY;function b(y,w,k){let T=y.inRange(t.x,t.y,r);if(n&&!T)return;let I=y.getCenterPoint(r);if(!(!!o||i.isPointInArea(I))&&!T)return;let R=m(t,I);R<h?(l=[{element:y,datasetIndex:w,index:k}],h=R):R===h&&l.push({element:y,datasetIndex:w,index:k})}return $a(i,e,t,b),l}function jm(i,t,e,n,r,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!n?yw(i,t,e,r):xw(i,t,e,n,r,o)}function j0(i,t,e,n,r){let o=[],l=e==="x"?"inXRange":"inYRange",m=!1;return $a(i,e,t,(h,b,y)=>{h[l]&&h[l](t[e],r)&&(o.push({element:h,datasetIndex:b,index:y}),m=m||h.inRange(t.x,t.y,r))}),n&&!m?[]:o}var ww={evaluateInteractionItems:$a,modes:{index(i,t,e,n){let r=dr(t,i),o=e.axis||"x",l=e.includeInvisible||!1,m=e.intersect?Bm(i,r,o,n,l):jm(i,r,o,!1,n,l),h=[];return m.length?(i.getSortedVisibleDatasetMetas().forEach(b=>{let y=m[0].index,w=b.data[y];w&&!w.skip&&h.push({element:w,datasetIndex:b.index,index:y})}),h):[]},dataset(i,t,e,n){let r=dr(t,i),o=e.axis||"xy",l=e.includeInvisible||!1,m=e.intersect?Bm(i,r,o,n,l):jm(i,r,o,!1,n,l);if(m.length>0){let h=m[0].datasetIndex,b=i.getDatasetMeta(h).data;m=[];for(let y=0;y<b.length;++y)m.push({element:b[y],datasetIndex:h,index:y})}return m},point(i,t,e,n){let r=dr(t,i),o=e.axis||"xy",l=e.includeInvisible||!1;return Bm(i,r,o,n,l)},nearest(i,t,e,n){let r=dr(t,i),o=e.axis||"xy",l=e.includeInvisible||!1;return jm(i,r,o,e.intersect,n,l)},x(i,t,e,n){let r=dr(t,i);return j0(i,r,"x",e.intersect,n)},y(i,t,e,n){let r=dr(t,i);return j0(i,r,"y",e.intersect,n)}}},Rf=["left","top","right","bottom"];function La(i,t){return i.filter(e=>e.pos===t)}function z0(i,t){return i.filter(e=>Rf.indexOf(e.pos)===-1&&e.box.axis===t)}function Ba(i,t){return i.sort((e,n)=>{let r=t?n:e,o=t?e:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Cw(i){let t=[],e,n,r,o,l,m;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:o,options:{stack:l,stackWeight:m=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:m});return t}function Sw(i){let t={};for(let e of i){let{stack:n,pos:r,stackWeight:o}=e;if(!n||!Rf.includes(r))continue;let l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function Ew(i,t){let e=Sw(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t,o,l,m;for(o=0,l=i.length;o<l;++o){m=i[o];let{fullSize:h}=m.box,b=e[m.stack],y=b&&m.stackWeight/b.weight;m.horizontal?(m.width=y?y*n:h&&t.availableWidth,m.height=r):(m.width=n,m.height=y?y*r:h&&t.availableHeight)}return e}function kw(i){let t=Cw(i),e=Ba(t.filter(b=>b.box.fullSize),!0),n=Ba(La(t,"left"),!0),r=Ba(La(t,"right")),o=Ba(La(t,"top"),!0),l=Ba(La(t,"bottom")),m=z0(t,"x"),h=z0(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:r.concat(h).concat(l).concat(m),chartArea:La(t,"chartArea"),vertical:n.concat(r).concat(h),horizontal:o.concat(l).concat(m)}}function H0(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function Ff(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Tw(i,t,e,n){let{pos:r,box:o}=e,l=i.maxPadding;if(!dt(r)){e.size&&(i[r]-=e.size);let w=n[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?o.height:o.width),e.size=w.size/w.count,i[r]+=e.size}o.getPadding&&Ff(l,o.getPadding());let m=Math.max(0,t.outerWidth-H0(l,i,"left","right")),h=Math.max(0,t.outerHeight-H0(l,i,"top","bottom")),b=m!==i.w,y=h!==i.h;return i.w=m,i.h=h,e.horizontal?{same:b,other:y}:{same:y,other:b}}function Mw(i){let t=i.maxPadding;function e(n){let r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Iw(i,t){let e=t.maxPadding;function n(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return n(i?["left","right"]:["top","bottom"])}function Ha(i,t,e,n){let r=[],o,l,m,h,b,y;for(o=0,l=i.length,b=0;o<l;++o){m=i[o],h=m.box,h.update(m.width||t.w,m.height||t.h,Iw(m.horizontal,t));let{same:w,other:k}=Tw(t,e,m,n);b|=w&&r.length,y=y||k,h.fullSize||r.push(m)}return b&&Ha(r,t,e,n)||y}function kl(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function U0(i,t,e,n){let r=e.padding,{x:o,y:l}=t;for(let m of i){let h=m.box,b=n[m.stack]||{count:1,placed:0,weight:1},y=m.stackWeight/b.weight||1;if(m.horizontal){let w=t.w*y,k=b.size||h.height;ko(b.start)&&(l=b.start),h.fullSize?kl(h,r.left,l,e.outerWidth-r.right-r.left,k):kl(h,t.left+b.placed,l,w,k),b.start=l,b.placed+=w,l=h.bottom}else{let w=t.h*y,k=b.size||h.width;ko(b.start)&&(o=b.start),h.fullSize?kl(h,o,r.top,k,e.outerHeight-r.bottom-r.top):kl(h,o,t.top+b.placed,k,w),b.start=o,b.placed+=w,o=h.right}}t.x=o,t.y=l}var _i={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){let e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;let r=hi(i.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),m=kw(i.boxes),h=m.vertical,b=m.horizontal;St(i.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});let y=h.reduce((M,R)=>R.box.options&&R.box.options.display===!1?M:M+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/y,hBoxMaxHeight:l/2}),k=Object.assign({},r);Ff(k,hi(n));let T=Object.assign({maxPadding:k,w:o,h:l,x:r.left,y:r.top},r),I=Ew(h.concat(b),w);Ha(m.fullSize,T,w,I),Ha(h,T,w,I),Ha(b,T,w,I)&&Ha(h,T,w,I),Mw(T),U0(m.leftAndTop,T,w,I),T.x+=T.w,T.y+=T.h,U0(m.rightAndBottom,T,w,I),i.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},St(m.chartArea,M=>{let R=M.box;Object.assign(R,i.chartArea),R.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}},Rl=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}},Qm=class extends Rl{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Pl="$chartjs",Dw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},W0=i=>i===null||i==="";function Aw(i,t){let e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[Pl]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",W0(r)){let o=Im(i,"width");o!==void 0&&(i.width=o)}if(W0(n))if(i.style.height==="")i.height=i.width/(t||2);else{let o=Im(i,"height");o!==void 0&&(i.height=o)}return i}var Nf=k0?{passive:!0}:!1;function Pw(i,t,e){i&&i.addEventListener(t,e,Nf)}function Ow(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,Nf)}function Vw(i,t){let e=Dw[i.type]||i.type,{x:n,y:r}=dr(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Fl(i,t){for(let e of i)if(e===t||e.contains(t))return!0}function Rw(i,t,e){let n=i.canvas,r=new MutationObserver(o=>{let l=!1;for(let m of o)l=l||Fl(m.addedNodes,n),l=l&&!Fl(m.removedNodes,n);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Fw(i,t,e){let n=i.canvas,r=new MutationObserver(o=>{let l=!1;for(let m of o)l=l||Fl(m.removedNodes,n),l=l&&!Fl(m.addedNodes,n);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var Wa=new Map,q0=0;function Lf(){let i=window.devicePixelRatio;i!==q0&&(q0=i,Wa.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Nw(i,t){Wa.size||window.addEventListener("resize",Lf),Wa.set(i,t)}function Lw(i){Wa.delete(i),Wa.size||window.removeEventListener("resize",Lf)}function Bw(i,t,e){let n=i.canvas,r=n&&Sl(n);if(!r)return;let o=_m((m,h)=>{let b=r.clientWidth;e(m,h),b<r.clientWidth&&e()},window),l=new ResizeObserver(m=>{let h=m[0],b=h.contentRect.width,y=h.contentRect.height;b===0&&y===0||o(b,y)});return l.observe(r),Nw(i,o),l}function zm(i,t,e){e&&e.disconnect(),t==="resize"&&Lw(i)}function jw(i,t,e){let n=i.canvas,r=_m(o=>{i.ctx!==null&&e(Vw(o,i))},i);return Pw(n,t,r),r}var Km=class extends Rl{acquireContext(t,e){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Aw(t,e),n):null}releaseContext(t){let e=t.canvas;if(!e[Pl])return!1;let n=e[Pl].initial;["height","width"].forEach(o=>{let l=n[o];st(l)?e.removeAttribute(o):e.setAttribute(o,l)});let r=n.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Pl],!0}addEventListener(t,e,n){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),l={attach:Rw,detach:Fw,resize:Bw}[e]||jw;r[e]=l(t,e,n)}removeEventListener(t,e){let n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:zm,detach:zm,resize:zm}[e]||Ow)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return E0(t,e,n,r)}isAttached(t){let e=t&&Sl(t);return!!(e&&e.isConnected)}};function zw(i){return!Cl()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Qm:Km}var dn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return qr(this.x)&&qr(this.y)}getProps(t,e){let n=this.$animations;if(!e||!n)return this;let r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function Hw(i,t){let e=i.options.ticks,n=Uw(i),r=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?qw(t):[],l=o.length,m=o[0],h=o[l-1],b=[];if(l>r)return Gw(t,b,o,l/r),b;let y=Ww(o,t,r);if(l>0){let w,k,T=l>1?Math.round((h-m)/(l-1)):null;for(Tl(t,b,y,st(T)?0:m-T,m),w=0,k=l-1;w<k;w++)Tl(t,b,y,o[w],o[w+1]);return Tl(t,b,y,h,st(T)?t.length:h+T),b}return Tl(t,b,y),b}function Uw(i){let t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function Ww(i,t,e){let n=$w(i),r=t.length/e;if(!n)return Math.max(r,1);let o=a0(n);for(let l=0,m=o.length-1;l<m;l++){let h=o[l];if(h>r)return h}return Math.max(r,1)}function qw(i){let t=[],e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Gw(i,t,e,n){let r=0,o=e[0],l;for(n=Math.ceil(n),l=0;l<i.length;l++)l===o&&(t.push(i[l]),r++,o=e[r*n])}function Tl(i,t,e,n,r){let o=Qe(n,0),l=Math.min(Qe(r,i.length),i.length),m=0,h,b,y;for(e=Math.ceil(e),r&&(h=r-n,e=h/Math.floor(h/e)),y=o;y<0;)m++,y=Math.round(o+m*e);for(b=Math.max(o,0);b<l;b++)b===y&&(t.push(i[b]),m++,y=Math.round(o+m*e))}function $w(i){let t=i.length,e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}var Yw=i=>i==="left"?"right":i==="right"?"left":i,G0=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,$0=(i,t)=>Math.min(t||i,i);function Y0(i,t){let e=[],n=i.length/t,r=i.length,o=0;for(;o<r;o+=n)e.push(i[Math.floor(o)]);return e}function Qw(i,t,e){let n=i.ticks.length,r=Math.min(t,n-1),o=i._startPixel,l=i._endPixel,m=1e-6,h=i.getPixelForTick(r),b;if(!(e&&(n===1?b=Math.max(h-o,l-h):t===0?b=(i.getPixelForTick(1)-h)/2:b=(h-i.getPixelForTick(r-1))/2,h+=r<t?b:-b,h<o-m||h>l+m)))return h}function Kw(i,t){St(i,e=>{let n=e.gc,r=n.length/2,o;if(r>t){for(o=0;o<r;++o)delete e.data[n[o]];n.splice(0,r)}})}function ja(i){return i.drawTicks?i.tickLength:0}function Q0(i,t){if(!i.display)return 0;let e=ii(i.font,t),n=hi(i.padding);return(Nt(i.text)?i.text.length:1)*e.lineHeight+n.height}function Jw(i,t){return zn(i,{scale:t,type:"scale"})}function Zw(i,t,e){return zn(i,{tick:e,index:t,type:"tick"})}function Xw(i,t,e){let n=bl(i);return(e&&t!=="right"||!e&&t==="right")&&(n=Yw(n)),n}function eC(i,t,e,n){let{top:r,left:o,bottom:l,right:m,chart:h}=i,{chartArea:b,scales:y}=h,w=0,k,T,I,M=l-r,R=m-o;if(i.isHorizontal()){if(T=pi(n,o,m),dt(e)){let N=Object.keys(e)[0],L=e[N];I=y[N].getPixelForValue(L)+M-t}else e==="center"?I=(b.bottom+b.top)/2+M-t:I=G0(i,e,t);k=m-o}else{if(dt(e)){let N=Object.keys(e)[0],L=e[N];T=y[N].getPixelForValue(L)-R+t}else e==="center"?T=(b.left+b.right)/2-R+t:T=G0(i,e,t);I=pi(n,l,r),w=e==="left"?-Qt:Qt}return{titleX:T,titleY:I,maxWidth:k,rotation:w}}var Qr=class i extends dn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=Mi(t,Number.POSITIVE_INFINITY),e=Mi(e,Number.NEGATIVE_INFINITY),n=Mi(n,Number.POSITIVE_INFINITY),r=Mi(r,Number.NEGATIVE_INFINITY),{min:Mi(t,n),max:Mi(e,r),minDefined:Gt(t),maxDefined:Gt(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:n};let m=this.getMatchingVisibleMetas();for(let h=0,b=m.length;h<b;++h)l=m[h].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(n=Math.max(n,l.max));return e=o&&e>n?n:e,n=r&&e>n?e:n,{min:Mi(e,Mi(n,e)),max:Mi(n,Mi(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(t,e,n){let{beginAtZero:r,grace:o,ticks:l}=this.options,m=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=v0(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let h=m<this.ticks.length;this._convertTicksToLabels(h?Y0(this.ticks,m):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Hw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ot(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=Ot(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,n=$0(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation,l=r,m,h,b;if(!this._isVisible()||!e.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}let y=this._getLabelSizes(),w=y.widest.width,k=y.highest.height,T=oi(this.chart.width-w,0,this.maxWidth);m=t.offset?this.maxWidth/n:T/(n-1),w+6>m&&(m=T/(n-(t.offset?.5:1)),h=this.maxHeight-ja(t.grid)-e.padding-Q0(t.title,this.chart.options.font),b=Math.sqrt(w*w+k*k),l=_l(Math.min(Math.asin(oi((y.highest.height+6)/m,-1,1)),Math.asin(oi(h/b,-1,1))-Math.asin(oi(k/b,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:o}}=this,l=this._isVisible(),m=this.isHorizontal();if(l){let h=Q0(r,e.options.font);if(m?(t.width=this.maxWidth,t.height=ja(o)+h):(t.height=this.maxHeight,t.width=ja(o)+h),n.display&&this.ticks.length){let{first:b,last:y,widest:w,highest:k}=this._getLabelSizes(),T=n.padding*2,I=Qi(this.labelRotation),M=Math.cos(I),R=Math.sin(I);if(m){let N=n.mirror?0:R*w.width+M*k.height;t.height=Math.min(this.maxHeight,t.height+N+T)}else{let N=n.mirror?0:M*w.width+R*k.height;t.width=Math.min(this.maxWidth,t.width+N+T)}this._calculatePadding(b,y,R,M)}}this._handleMargins(),m?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){let{ticks:{align:o,padding:l},position:m}=this.options,h=this.labelRotation!==0,b=m!=="top"&&this.axis==="x";if(this.isHorizontal()){let y=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1),k=0,T=0;h?b?(k=r*t.width,T=n*e.height):(k=n*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?k=t.width:o!=="inner"&&(k=t.width/2,T=e.width/2),this.paddingLeft=Math.max((k-y+l)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-w+l)*this.width/(this.width-w),0)}else{let y=e.height/2,w=t.height/2;o==="start"?(y=0,w=t.height):o==="end"&&(y=e.height,w=0),this.paddingTop=y+l,this.paddingBottom=w+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)st(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,n=this.ticks;e<n.length&&(n=Y0(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){let{ctx:r,_longestTextCache:o}=this,l=[],m=[],h=Math.floor(e/$0(e,n)),b=0,y=0,w,k,T,I,M,R,N,L,K,ee,G;for(w=0;w<e;w+=h){if(I=t[w].label,M=this._resolveTickFontOptions(w),r.font=R=M.string,N=o[R]=o[R]||{data:{},gc:[]},L=M.lineHeight,K=ee=0,!st(I)&&!Nt(I))K=Pa(r,N.data,N.gc,K,I),ee=L;else if(Nt(I))for(k=0,T=I.length;k<T;++k)G=I[k],!st(G)&&!Nt(G)&&(K=Pa(r,N.data,N.gc,K,G),ee+=L);l.push(K),m.push(ee),b=Math.max(K,b),y=Math.max(ee,y)}Kw(o,e);let Z=l.indexOf(b),xe=m.indexOf(y),re=Me=>({width:l[Me]||0,height:m[Me]||0});return{first:re(0),last:re(e-1),widest:re(Z),highest:re(xe),widths:l,heights:m}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return l0(this._alignToPixels?sr(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let n=e[t];return n.$context||(n.$context=Zw(this.getContext(),t,n))}return this.$context||(this.$context=Jw(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Qi(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,m=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*n>m*r?m/n:h/r:h*r<m*n?h/n:m/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,n=this.chart,r=this.options,{grid:o,position:l,border:m}=r,h=o.offset,b=this.isHorizontal(),w=this.ticks.length+(h?1:0),k=ja(o),T=[],I=m.setContext(this.getContext()),M=I.display?I.width:0,R=M/2,N=function(Ht){return sr(n,Ht,M)},L,K,ee,G,Z,xe,re,Me,rt,et,mt,li;if(l==="top")L=N(this.bottom),xe=this.bottom-k,Me=L-R,et=N(t.top)+R,li=t.bottom;else if(l==="bottom")L=N(this.top),et=t.top,li=N(t.bottom)-R,xe=L+R,Me=this.top+k;else if(l==="left")L=N(this.right),Z=this.right-k,re=L-R,rt=N(t.left)+R,mt=t.right;else if(l==="right")L=N(this.left),rt=t.left,mt=N(t.right)-R,Z=L+R,re=this.left+k;else if(e==="x"){if(l==="center")L=N((t.top+t.bottom)/2+.5);else if(dt(l)){let Ht=Object.keys(l)[0],Kt=l[Ht];L=N(this.chart.scales[Ht].getPixelForValue(Kt))}et=t.top,li=t.bottom,xe=L+R,Me=xe+k}else if(e==="y"){if(l==="center")L=N((t.left+t.right)/2);else if(dt(l)){let Ht=Object.keys(l)[0],Kt=l[Ht];L=N(this.chart.scales[Ht].getPixelForValue(Kt))}Z=L-R,re=Z-k,rt=t.left,mt=t.right}let Vi=Qe(r.ticks.maxTicksLimit,w),Et=Math.max(1,Math.ceil(w/Vi));for(K=0;K<w;K+=Et){let Ht=this.getContext(K),Kt=o.setContext(Ht),nn=m.setContext(Ht),fi=Kt.lineWidth,co=Kt.color,Ks=nn.dash||[],mo=nn.dashOffset,_a=Kt.tickWidth,Dr=Kt.tickColor,ga=Kt.tickBorderDash||[],Ar=Kt.tickBorderDashOffset;ee=Qw(this,K,h),ee!==void 0&&(G=sr(n,ee,fi),b?Z=re=rt=mt=G:xe=Me=et=li=G,T.push({tx1:Z,ty1:xe,tx2:re,ty2:Me,x1:rt,y1:et,x2:mt,y2:li,width:fi,color:co,borderDash:Ks,borderDashOffset:mo,tickWidth:_a,tickColor:Dr,tickBorderDash:ga,tickBorderDashOffset:Ar}))}return this._ticksLength=w,this._borderValue=L,T}_computeLabelItems(t){let e=this.axis,n=this.options,{position:r,ticks:o}=n,l=this.isHorizontal(),m=this.ticks,{align:h,crossAlign:b,padding:y,mirror:w}=o,k=ja(n.grid),T=k+y,I=w?-y:T,M=-Qi(this.labelRotation),R=[],N,L,K,ee,G,Z,xe,re,Me,rt,et,mt,li="middle";if(r==="top")Z=this.bottom-I,xe=this._getXAxisLabelAlignment();else if(r==="bottom")Z=this.top+I,xe=this._getXAxisLabelAlignment();else if(r==="left"){let Et=this._getYAxisLabelAlignment(k);xe=Et.textAlign,G=Et.x}else if(r==="right"){let Et=this._getYAxisLabelAlignment(k);xe=Et.textAlign,G=Et.x}else if(e==="x"){if(r==="center")Z=(t.top+t.bottom)/2+T;else if(dt(r)){let Et=Object.keys(r)[0],Ht=r[Et];Z=this.chart.scales[Et].getPixelForValue(Ht)+T}xe=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")G=(t.left+t.right)/2-T;else if(dt(r)){let Et=Object.keys(r)[0],Ht=r[Et];G=this.chart.scales[Et].getPixelForValue(Ht)}xe=this._getYAxisLabelAlignment(k).textAlign}e==="y"&&(h==="start"?li="top":h==="end"&&(li="bottom"));let Vi=this._getLabelSizes();for(N=0,L=m.length;N<L;++N){K=m[N],ee=K.label;let Et=o.setContext(this.getContext(N));re=this.getPixelForTick(N)+o.labelOffset,Me=this._resolveTickFontOptions(N),rt=Me.lineHeight,et=Nt(ee)?ee.length:1;let Ht=et/2,Kt=Et.color,nn=Et.textStrokeColor,fi=Et.textStrokeWidth,co=xe;l?(G=re,xe==="inner"&&(N===L-1?co=this.options.reverse?"left":"right":N===0?co=this.options.reverse?"right":"left":co="center"),r==="top"?b==="near"||M!==0?mt=-et*rt+rt/2:b==="center"?mt=-Vi.highest.height/2-Ht*rt+rt:mt=-Vi.highest.height+rt/2:b==="near"||M!==0?mt=rt/2:b==="center"?mt=Vi.highest.height/2-Ht*rt:mt=Vi.highest.height-et*rt,w&&(mt*=-1),M!==0&&!Et.showLabelBackdrop&&(G+=rt/2*Math.sin(M))):(Z=re,mt=(1-et)*rt/2);let Ks;if(Et.showLabelBackdrop){let mo=hi(Et.backdropPadding),_a=Vi.heights[N],Dr=Vi.widths[N],ga=mt-mo.top,Ar=0-mo.left;switch(li){case"middle":ga-=_a/2;break;case"bottom":ga-=_a;break}switch(xe){case"center":Ar-=Dr/2;break;case"right":Ar-=Dr;break;case"inner":N===L-1?Ar-=Dr:N>0&&(Ar-=Dr/2);break}Ks={left:Ar,top:ga,width:Dr+mo.width,height:_a+mo.height,color:Et.backdropColor}}R.push({label:ee,font:Me,textOffset:mt,options:{rotation:M,color:Kt,strokeColor:nn,strokeWidth:fi,textAlign:co,textBaseline:li,translation:[G,Z],backdrop:Ks}})}return R}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Qi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),m=t+o,h=l.widest.width,b,y;return e==="left"?r?(y=this.right+o,n==="near"?b="left":n==="center"?(b="center",y+=h/2):(b="right",y+=h)):(y=this.right-m,n==="near"?b="right":n==="center"?(b="center",y-=h/2):(b="left",y=this.left)):e==="right"?r?(y=this.left+o,n==="near"?b="right":n==="center"?(b="center",y-=h/2):(b="left",y-=h)):(y=this.left+m,n==="near"?b="left":n==="center"?(b="center",y+=h/2):(b="right",y=this.right)):b="right",{textAlign:b,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:n,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,o,l),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,l,m=(h,b,y)=>{!y.width||!y.color||(n.save(),n.lineWidth=y.width,n.strokeStyle=y.color,n.setLineDash(y.borderDash||[]),n.lineDashOffset=y.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(b.x,b.y),n.stroke(),n.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){let h=r[o];e.drawOnChartArea&&m({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),e.drawTicks&&m({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),l=n.display?o.width:0;if(!l)return;let m=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue,b,y,w,k;this.isHorizontal()?(b=sr(t,this.left,l)-l/2,y=sr(t,this.right,m)+m/2,w=k=h):(w=sr(t,this.top,l)-l/2,k=sr(t,this.bottom,m)+m/2,b=y=h),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(b,w),e.lineTo(y,k),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,r=this._computeLabelArea();r&&Ra(n,r);let o=this.getLabelItems(t);for(let l of o){let m=l.options,h=l.font,b=l.label,y=l.textOffset;lr(n,b,0,y,h,m)}r&&Fa(n)}drawTitle(){let{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;let o=ii(n.font),l=hi(n.padding),m=n.align,h=o.lineHeight/2;e==="bottom"||e==="center"||dt(e)?(h+=l.bottom,Nt(n.text)&&(h+=o.lineHeight*(n.text.length-1))):h+=l.top;let{titleX:b,titleY:y,maxWidth:w,rotation:k}=eC(this,h,e,m);lr(t,n.text,0,0,o,{color:n.color,maxWidth:w,rotation:k,textAlign:Xw(m,e,r),textBaseline:"middle",translation:[b,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,n=Qe(t.grid&&t.grid.z,-1),r=Qe(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==i.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[],o,l;for(o=0,l=e.length;o<l;++o){let m=e[o];m[n]===this.id&&(!t||m.type===t)&&r.push(m)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return ii(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Oo=class{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),n;nC(e)&&(n=this.register(e));let r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,tC(t,l,n),this.override&&Vt.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){let e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in Vt[r]&&(delete Vt[r][n],this.override&&delete ar[n])}};function tC(i,t,e){let n=Co(Object.create(null),[e?Vt.get(e):{},Vt.get(t),i.defaults]);Vt.set(t,n),i.defaultRoutes&&iC(t,i.defaultRoutes),i.descriptors&&Vt.describe(t,i.descriptors)}function iC(i,t){Object.keys(t).forEach(e=>{let n=e.split("."),r=n.pop(),o=[i].concat(n).join("."),l=t[e].split("."),m=l.pop(),h=l.join(".");Vt.route(o,r,h,m)})}function nC(i){return"id"in i&&"defaults"in i}var Jm=class{constructor(){this.controllers=new Oo(ur,"datasets",!0),this.elements=new Oo(dn,"elements"),this.plugins=new Oo(Object,"plugins"),this.scales=new Oo(Qr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{let o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):St(r,l=>{let m=n||this._getRegistryForType(l);this._exec(t,m,l)})})}_exec(t,e,n){let r=fl(t);Ot(n["before"+r],[],n),e[t](n),Ot(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}},Cn=new Jm,Zm=class{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,n,r){r=r||{};for(let o of t){let l=o.plugin,m=l[n],h=[e,r,o.options];if(Ot(m,h,l)===!1&&r.cancelable)return!1}return!0}invalidate(){st(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let n=t&&t.config,r=Qe(n.options&&n.options.plugins,{}),o=rC(n);return r===!1&&!e?[]:aC(t,o,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],n=this._cache,r=(o,l)=>o.filter(m=>!l.some(h=>m.plugin.id===h.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}};function rC(i){let t={},e=[],n=Object.keys(Cn.plugins.items);for(let o=0;o<n.length;o++)e.push(Cn.getPlugin(n[o]));let r=i.plugins||[];for(let o=0;o<r.length;o++){let l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function oC(i,t){return!t&&i===!1?null:i===!0?{}:i}function aC(i,{plugins:t,localIds:e},n,r){let o=[],l=i.getContext();for(let m of t){let h=m.id,b=oC(n[h],r);b!==null&&o.push({plugin:m,options:sC(i.config,{plugin:m,local:e[h]},b,l)})}return o}function sC(i,{plugin:t,local:e},n,r){let o=i.pluginScopeKeys(t),l=i.getOptionScopes(n,o);return e&&t.defaults&&l.push(t.defaults),i.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xm(i,t){let e=Vt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function lC(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function cC(i,t){return i===t?"_index_":"_value_"}function K0(i){if(i==="x"||i==="y"||i==="r")return i}function dC(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function eu(i,...t){if(K0(i))return i;for(let e of t){let n=e.axis||dC(e.position)||i.length>1&&K0(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function J0(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function mC(i,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return J0(i,"x",e[0])||J0(i,"y",e[0])}return{}}function uC(i,t){let e=ar[i.type]||{scales:{}},n=t.scales||{},r=Xm(i.type,t),o=Object.create(null);return Object.keys(n).forEach(l=>{let m=n[l];if(!dt(m))return console.error(`Invalid scale configuration for scale: ${l}`);if(m._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);let h=eu(l,m,mC(l,i),Vt.scales[m.type]),b=cC(h,r),y=e.scales||{};o[l]=Eo(Object.create(null),[{axis:h},m,y[h],y[b]])}),i.data.datasets.forEach(l=>{let m=l.type||i.type,h=l.indexAxis||Xm(m,t),y=(ar[m]||{}).scales||{};Object.keys(y).forEach(w=>{let k=lC(w,h),T=l[k+"AxisID"]||k;o[T]=o[T]||Object.create(null),Eo(o[T],[{axis:k},n[T],y[w]])})}),Object.keys(o).forEach(l=>{let m=o[l];Eo(m,[Vt.scales[m.type],Vt.scale])}),o}function Bf(i){let t=i.options||(i.options={});t.plugins=Qe(t.plugins,{}),t.scales=uC(i,t)}function jf(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function pC(i){return i=i||{},i.data=jf(i.data),Bf(i),i}var Z0=new Map,zf=new Set;function Ml(i,t){let e=Z0.get(i);return e||(e=t(),Z0.set(i,e),zf.add(e)),e}var za=(i,t,e)=>{let n=jn(t,e);n!==void 0&&i.add(n)},tu=class{constructor(t){this._config=pC(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=jf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),Bf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ml(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ml(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ml(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,n=this.type;return Ml(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let n=this._scopeCache,r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){let{options:r,type:o}=this,l=this._cachedScopes(t,n),m=l.get(e);if(m)return m;let h=new Set;e.forEach(y=>{t&&(h.add(t),y.forEach(w=>za(h,t,w))),y.forEach(w=>za(h,r,w)),y.forEach(w=>za(h,ar[o]||{},w)),y.forEach(w=>za(h,Vt,w)),y.forEach(w=>za(h,vl,w))});let b=Array.from(h);return b.length===0&&b.push(Object.create(null)),zf.has(e)&&l.set(e,b),b}chartOptionScopes(){let{options:t,type:e}=this;return[t,ar[e]||{},Vt.datasets[e]||{},{type:e},Vt,vl]}resolveNamedOptions(t,e,n,r=[""]){let o={$shared:!0},{resolver:l,subPrefixes:m}=X0(this._resolverCache,t,r),h=l;if(fC(l,e)){o.$shared=!1,n=Ln(n)?n():n;let b=this.createResolver(t,n,m);h=Wr(l,n,b)}for(let b of e)o[b]=h[b];return o}createResolver(t,e,n=[""],r){let{resolver:o}=X0(this._resolverCache,t,n);return dt(e)?Wr(o,e,void 0,r):o}};function X0(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));let r=e.join(),o=n.get(r);return o||(o={resolver:wl(t,e),subPrefixes:e.filter(m=>!m.toLowerCase().includes("hover"))},n.set(r,o)),o}var hC=i=>dt(i)&&Object.getOwnPropertyNames(i).some(t=>Ln(i[t]));function fC(i,t){let{isScriptable:e,isIndexable:n}=Sm(i);for(let r of t){let o=e(r),l=n(r),m=(l||o)&&i[r];if(o&&(Ln(m)||hC(m))||l&&Nt(m))return!0}return!1}var _C="4.5.0",gC=["top","bottom","left","right","chartArea"];function ef(i,t){return i==="top"||i==="bottom"||gC.indexOf(i)===-1&&t==="x"}function tf(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function nf(i){let t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ot(e&&e.onComplete,[i],t)}function bC(i){let t=i.chart,e=t.options.animation;Ot(e&&e.onProgress,[i],t)}function Hf(i){return Cl()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var Ol={},rf=i=>{let t=Hf(i);return Object.values(Ol).filter(e=>e.canvas===t).pop()};function vC(i,t,e){let n=Object.keys(i);for(let r of n){let o=+r;if(o>=t){let l=i[r];delete i[r],(e>0||o>t)&&(i[o+e]=l)}}}function yC(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}var jl=(()=>{class i{static defaults=Vt;static instances=Ol;static overrides=ar;static registry=Cn;static version=_C;static getChart=rf;static register(...e){Cn.add(...e),of()}static unregister(...e){Cn.remove(...e),of()}constructor(e,n){let r=this.config=new tu(n),o=Hf(e),l=rf(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");let m=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zw(o)),this.platform.updateConfig(r);let h=this.platform.acquireContext(o,m.aspectRatio),b=h&&h.canvas,y=b&&b.height,w=b&&b.width;if(this.id=i0(),this.ctx=h,this.canvas=b,this.width=w,this.height=y,this._options=m,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p0(k=>this.update(k),m.resizeDelay||0),this._dataChanges=[],Ol[this.id]=this,!h||!b){console.error("Failed to create chart: can't acquire context from the given item");return}Hn.listen(this,"complete",nf),Hn.listen(this,"progress",bC),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:o,_aspectRatio:l}=this;return st(e)?n&&l?l:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mm(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xm(this.canvas,this.ctx),this}stop(){return Hn.stop(this),this}resize(e,n){Hn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){let r=this.options,o=this.canvas,l=r.maintainAspectRatio&&this.aspectRatio,m=this.platform.getMaximumSize(o,e,n,l),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),b=this.width?"resize":"attach";this.width=m.width,this.height=m.height,this._aspectRatio=this.aspectRatio,Mm(this,h,!0)&&(this.notifyPlugins("resize",{size:m}),Ot(r.onResize,[this,m],this),this.attached&&this._doResize(b)&&this.render())}ensureScalesHaveIDs(){let n=this.options.scales||{};St(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,n=e.scales,r=this.scales,o=Object.keys(r).reduce((m,h)=>(m[h]=!1,m),{}),l=[];n&&(l=l.concat(Object.keys(n).map(m=>{let h=n[m],b=eu(m,h),y=b==="r",w=b==="x";return{options:h,dposition:y?"chartArea":w?"bottom":"left",dtype:y?"radialLinear":w?"category":"linear"}}))),St(l,m=>{let h=m.options,b=h.id,y=eu(b,h),w=Qe(h.type,m.dtype);(h.position===void 0||ef(h.position,y)!==ef(m.dposition))&&(h.position=m.dposition),o[b]=!0;let k=null;if(b in r&&r[b].type===w)k=r[b];else{let T=Cn.getScale(w);k=new T({id:b,type:w,ctx:this.ctx,chart:this}),r[k.id]=k}k.init(h,e)}),St(o,(m,h)=>{m||delete r[h]}),St(r,m=>{_i.configure(this,m,m.options),_i.addBox(this,m)})}_updateMetasets(){let e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((o,l)=>o.index-l.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(tf("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,o)=>{n.filter(l=>l===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],n=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){let l=n[r],m=this.getDatasetMeta(r),h=l.type||this.config.type;if(m.type&&m.type!==h&&(this._destroyDatasetMeta(r),m=this.getDatasetMeta(r)),m.type=h,m.indexAxis=l.indexAxis||Xm(h,this.options),m.order=l.order||0,m.index=r,m.label=""+l.label,m.visible=this.isDatasetVisible(r),m.controller)m.controller.updateIndex(r),m.controller.linkScales();else{let b=Cn.getController(h),{datasetElementType:y,dataElementType:w}=Vt.datasets[h];Object.assign(b,{dataElementType:Cn.getElement(w),datasetElementType:y&&Cn.getElement(y)}),m.controller=new b(this,r),e.push(m.controller)}}return this._updateMetasets(),e}_resetElements(){St(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let n=this.config;n.update();let r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let m=0;for(let y=0,w=this.data.datasets.length;y<w;y++){let{controller:k}=this.getDatasetMeta(y),T=!o&&l.indexOf(k)===-1;k.buildOrUpdateElements(T),m=Math.max(+k.getMaxOverflow(),m)}m=this._minPadding=r.layout.autoPadding?m:0,this._updateLayout(m),o||St(l,y=>{y.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tf("z","_idx"));let{_active:h,_lastEvent:b}=this;b?this._eventHandler(b,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){St(this.scales,e=>{_i.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!lm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:l}of n){let m=r==="_removeElements"?-l:l;vC(e,o,m)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let n=this.data.datasets.length,r=l=>new Set(e.filter(m=>m[0]===l).map((m,h)=>h+","+m.splice(1).join(","))),o=r(0);for(let l=1;l<n;l++)if(!lm(o,r(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_i.update(this,this.width,this.height,e);let n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],St(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ln(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hn.has(this)?this.attached&&!Hn.running(this)&&Hn.start(this):(this.draw(),nf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let n=this._sortedMetasets,r=[],o,l;for(o=0,l=n.length;o<l;++o){let m=n[o];(!e||m.visible)&&r.push(m)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let n=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=Vm(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&Ra(n,o),e.controller.draw(),o&&Fa(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return vn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,o){let l=ww.modes[n];return typeof l=="function"?l(this,e,r,o):[]}getDatasetMeta(e){let n=this.data.datasets[e],r=this._metasets,o=r.filter(l=>l&&l._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=zn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let n=this.data.datasets[e];if(!n)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){let r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){let o=r?"show":"hide",l=this.getDatasetMeta(e),m=l.controller._resolveAnimations(void 0,o);ko(n)?(l.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),m.update(l,{visible:r}),this.update(h=>h.datasetIndex===e?o:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){let n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Hn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ol[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,n=this.platform,r=(l,m)=>{n.addEventListener(this,l,m),e[l]=m},o=(l,m,h)=>{l.offsetX=m,l.offsetY=h,this._eventHandler(l)};St(this.options.events,l=>r(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,n=this.platform,r=(b,y)=>{n.addEventListener(this,b,y),e[b]=y},o=(b,y)=>{e[b]&&(n.removeEventListener(this,b,y),delete e[b])},l=(b,y)=>{this.canvas&&this.resize(b,y)},m,h=()=>{o("attach",h),this.attached=!0,this.resize(),r("resize",l),r("detach",m)};m=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),r("attach",h)},n.isAttached(this.canvas)?h():m()}unbindEvents(){St(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},St(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){let o=r?"set":"remove",l,m,h,b;for(n==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),h=0,b=e.length;h<b;++h){m=e[h];let y=m&&this.getDatasetMeta(m.datasetIndex).controller;y&&y[o+"HoverStyle"](m.element,m.datasetIndex,m.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let n=this._active||[],r=e.map(({datasetIndex:l,index:m})=>{let h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[m],index:m}});!Oa(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){let o=this.options.hover,l=(b,y)=>b.filter(w=>!y.some(k=>w.datasetIndex===k.datasetIndex&&w.index===k.index)),m=l(n,e),h=r?e:l(e,n);m.length&&this.updateHoverStyle(m,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(e,n){let r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},o=m=>(m.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let l=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(l||r.changed)&&this.render(),this}_handleEvent(e,n,r){let{_active:o=[],options:l}=this,m=n,h=this._getActiveElements(e,o,r,m),b=o0(e),y=yC(e,this._lastEvent,r,b);r&&(this._lastEvent=null,Ot(l.onHover,[e,h,this],this),b&&Ot(l.onClick,[e,h,this],this));let w=!Oa(h,o);return(w||n)&&(this._active=h,this._updateHoverStyles(h,o,n)),this._lastEvent=y,w}_getActiveElements(e,n,r,o){if(e.type==="mouseout")return[];if(!r)return n;let l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}}return i})();function of(){return St(jl.instances,i=>i._plugins.invalidate())}function xC(i,t,e){let{startAngle:n,x:r,y:o,outerRadius:l,innerRadius:m,options:h}=t,{borderWidth:b,borderJoinStyle:y}=h,w=Math.min(b/l,ui(n-e));if(i.beginPath(),i.arc(r,o,l-b/2,n+w/2,e-w/2),m>0){let k=Math.min(b/m,ui(n-e));i.arc(r,o,m+b/2,e-k/2,n+k/2,!0)}else{let k=Math.min(b/2,l*ui(n-e));if(y==="round")i.arc(r,o,k,e-yt/2,n+yt/2,!0);else if(y==="bevel"){let T=2*k*k,I=-T*Math.cos(e+yt/2)+r,M=-T*Math.sin(e+yt/2)+o,R=T*Math.cos(n+yt/2)+r,N=T*Math.sin(n+yt/2)+o;i.lineTo(I,M),i.lineTo(R,N)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function wC(i,t,e){let{startAngle:n,pixelMargin:r,x:o,y:l,outerRadius:m,innerRadius:h}=t,b=r/m;i.beginPath(),i.arc(o,l,m,n-b,e+b),h>r?(b=r/h,i.arc(o,l,h,e+b,n-b,!0)):i.arc(o,l,r,e+Qt,n-Qt),i.closePath(),i.clip()}function CC(i){return xl(i,["outerStart","outerEnd","innerStart","innerEnd"])}function SC(i,t,e,n){let r=CC(i.options.borderRadius),o=(e-t)/2,l=Math.min(o,n*t/2),m=h=>{let b=(e-Math.min(o,h))*n/2;return oi(h,0,Math.min(o,b))};return{outerStart:m(r.outerStart),outerEnd:m(r.outerEnd),innerStart:oi(r.innerStart,0,l),innerEnd:oi(r.innerEnd,0,l)}}function Po(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function Nl(i,t,e,n,r,o){let{x:l,y:m,startAngle:h,pixelMargin:b,innerRadius:y}=t,w=Math.max(t.outerRadius+n+e-b,0),k=y>0?y+n+e+b:0,T=0,I=r-h;if(n){let Et=y>0?y-n:0,Ht=w>0?w-n:0,Kt=(Et+Ht)/2,nn=Kt!==0?I*Kt/(Kt+n):I;T=(I-nn)/2}let M=Math.max(.001,I*w-e/yt)/w,R=(I-M)/2,N=h+R+T,L=r-R-T,{outerStart:K,outerEnd:ee,innerStart:G,innerEnd:Z}=SC(t,k,w,L-N),xe=w-K,re=w-ee,Me=N+K/xe,rt=L-ee/re,et=k+G,mt=k+Z,li=N+G/et,Vi=L-Z/mt;if(i.beginPath(),o){let Et=(Me+rt)/2;if(i.arc(l,m,w,Me,Et),i.arc(l,m,w,Et,rt),ee>0){let fi=Po(re,rt,l,m);i.arc(fi.x,fi.y,ee,rt,L+Qt)}let Ht=Po(mt,L,l,m);if(i.lineTo(Ht.x,Ht.y),Z>0){let fi=Po(mt,Vi,l,m);i.arc(fi.x,fi.y,Z,L+Qt,Vi+Math.PI)}let Kt=(L-Z/k+(N+G/k))/2;if(i.arc(l,m,k,L-Z/k,Kt,!0),i.arc(l,m,k,Kt,N+G/k,!0),G>0){let fi=Po(et,li,l,m);i.arc(fi.x,fi.y,G,li+Math.PI,N-Qt)}let nn=Po(xe,N,l,m);if(i.lineTo(nn.x,nn.y),K>0){let fi=Po(xe,Me,l,m);i.arc(fi.x,fi.y,K,N-Qt,Me)}}else{i.moveTo(l,m);let Et=Math.cos(Me)*w+l,Ht=Math.sin(Me)*w+m;i.lineTo(Et,Ht);let Kt=Math.cos(rt)*w+l,nn=Math.sin(rt)*w+m;i.lineTo(Kt,nn)}i.closePath()}function EC(i,t,e,n,r){let{fullCircles:o,startAngle:l,circumference:m}=t,h=t.endAngle;if(o){Nl(i,t,e,n,h,r);for(let b=0;b<o;++b)i.fill();isNaN(m)||(h=l+(m%Lt||Lt))}return Nl(i,t,e,n,h,r),i.fill(),h}function kC(i,t,e,n,r){let{fullCircles:o,startAngle:l,circumference:m,options:h}=t,{borderWidth:b,borderJoinStyle:y,borderDash:w,borderDashOffset:k,borderRadius:T}=h,I=h.borderAlign==="inner";if(!b)return;i.setLineDash(w||[]),i.lineDashOffset=k,I?(i.lineWidth=b*2,i.lineJoin=y||"round"):(i.lineWidth=b,i.lineJoin=y||"bevel");let M=t.endAngle;if(o){Nl(i,t,e,n,M,r);for(let R=0;R<o;++R)i.stroke();isNaN(m)||(M=l+(m%Lt||Lt))}I&&wC(i,t,M),h.selfJoin&&M-l>=yt&&T===0&&y!=="miter"&&xC(i,t,M),o||(Nl(i,t,e,n,M,r),i.stroke())}var iu=class extends dn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){let r=this.getProps(["x","y"],n),{angle:o,distance:l}=um(r,{x:t,y:e}),{startAngle:m,endAngle:h,innerRadius:b,outerRadius:y,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),k=(this.options.spacing+this.options.borderWidth)/2,T=Qe(w,h-m),I=Mo(o,m,h)&&m!==h,M=T>=Lt||I,R=xn(l,b+k,y+k);return M&&R}getCenterPoint(t){let{x:e,y:n,startAngle:r,endAngle:o,innerRadius:l,outerRadius:m}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:h,spacing:b}=this.options,y=(r+o)/2,w=(l+m+b+h)/2;return{x:e+Math.cos(y)*w,y:n+Math.sin(y)*w}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:n}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>Lt?Math.floor(n/Lt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let m=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(m)*r,Math.sin(m)*r);let h=1-Math.sin(Math.min(yt,n||0)),b=r*h;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,EC(t,this,b,o,l),kC(t,this,b,o,l),t.restore()}};function Uf(i,t,e=t){i.lineCap=Qe(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Qe(e.borderDash,t.borderDash)),i.lineDashOffset=Qe(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Qe(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Qe(e.borderWidth,t.borderWidth),i.strokeStyle=Qe(e.borderColor,t.borderColor)}function TC(i,t,e){i.lineTo(e.x,e.y)}function MC(i){return i.stepped?g0:i.tension||i.cubicInterpolationMode==="monotone"?b0:TC}function Wf(i,t,e={}){let n=i.length,{start:r=0,end:o=n-1}=e,{start:l,end:m}=t,h=Math.max(r,l),b=Math.min(o,m),y=r<l&&o<l||r>m&&o>m;return{count:n,start:h,loop:t.loop,ilen:b<h&&!y?n+b-h:b-h}}function IC(i,t,e,n){let{points:r,options:o}=t,{count:l,start:m,loop:h,ilen:b}=Wf(r,e,n),y=MC(o),{move:w=!0,reverse:k}=n||{},T,I,M;for(T=0;T<=b;++T)I=r[(m+(k?b-T:T))%l],!I.skip&&(w?(i.moveTo(I.x,I.y),w=!1):y(i,M,I,k,o.stepped),M=I);return h&&(I=r[(m+(k?b:0))%l],y(i,M,I,k,o.stepped)),!!h}function DC(i,t,e,n){let r=t.points,{count:o,start:l,ilen:m}=Wf(r,e,n),{move:h=!0,reverse:b}=n||{},y=0,w=0,k,T,I,M,R,N,L=ee=>(l+(b?m-ee:ee))%o,K=()=>{M!==R&&(i.lineTo(y,R),i.lineTo(y,M),i.lineTo(y,N))};for(h&&(T=r[L(0)],i.moveTo(T.x,T.y)),k=0;k<=m;++k){if(T=r[L(k)],T.skip)continue;let ee=T.x,G=T.y,Z=ee|0;Z===I?(G<M?M=G:G>R&&(R=G),y=(w*y+ee)/++w):(K(),i.lineTo(ee,G),I=Z,w=0,M=R=G),N=G}K()}function nu(i){let t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?DC:IC}function AC(i){return i.stepped?T0:i.tension||i.cubicInterpolationMode==="monotone"?M0:or}function PC(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),Uf(i,t.options),i.stroke(r)}function OC(i,t,e,n){let{segments:r,options:o}=t,l=nu(t);for(let m of r)Uf(i,o,m.style),i.beginPath(),l(i,t,m,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}var VC=typeof Path2D=="function";function RC(i,t,e,n){VC&&!t.options.segment?PC(i,t,e,n):OC(i,t,e,n)}var zl=(()=>{class i extends dn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;S0(this._points,r,e,o,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=D0(this,this.options.segment))}first(){let e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){let e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){let r=this.options,o=e[n],l=this.points,m=Om(this,{property:n,start:o,end:o});if(!m.length)return;let h=[],b=AC(r),y,w;for(y=0,w=m.length;y<w;++y){let{start:k,end:T}=m[y],I=l[k],M=l[T];if(I===M){h.push(I);continue}let R=Math.abs((o-I[n])/(M[n]-I[n])),N=b(I,M,R,r.stepped);N[n]=e[n],h.push(N)}return h.length===1?h[0]:h}pathSegment(e,n,r){return nu(this)(e,this,n,r)}path(e,n,r){let o=this.segments,l=nu(this),m=this._loop;n=n||0,r=r||this.points.length-n;for(let h of o)m&=l(e,this,h,{start:n,end:n+r-1});return!!m}draw(e,n,r,o){let l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),RC(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return i})();function af(i,t,e,n){let r=i.options,{[e]:o}=i.getProps([e],n);return Math.abs(t-o)<r.radius+r.hitRadius}var FC=(()=>{class i extends dn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){let o=this.options,{x:l,y:m}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(n-m,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,n){return af(this,e,"x",n)}inYRange(e,n){return af(this,e,"y",n)}getCenterPoint(e){let{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);let r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){let r=this.options;this.skip||r.radius<.1||!vn(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,yl(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return i})();function qf(i,t){let{x:e,y:n,base:r,width:o,height:l}=i.getProps(["x","y","base","width","height"],t),m,h,b,y,w;return i.horizontal?(w=l/2,m=Math.min(e,r),h=Math.max(e,r),b=n-w,y=n+w):(w=o/2,m=e-w,h=e+w,b=Math.min(n,r),y=Math.max(n,r)),{left:m,top:b,right:h,bottom:y}}function mr(i,t,e,n){return i?0:oi(t,e,n)}function NC(i,t,e){let n=i.options.borderWidth,r=i.borderSkipped,o=Cm(n);return{t:mr(r.top,o.top,0,e),r:mr(r.right,o.right,0,t),b:mr(r.bottom,o.bottom,0,e),l:mr(r.left,o.left,0,t)}}function LC(i,t,e){let{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=cr(r),l=Math.min(t,e),m=i.borderSkipped,h=n||dt(r);return{topLeft:mr(!h||m.top||m.left,o.topLeft,0,l),topRight:mr(!h||m.top||m.right,o.topRight,0,l),bottomLeft:mr(!h||m.bottom||m.left,o.bottomLeft,0,l),bottomRight:mr(!h||m.bottom||m.right,o.bottomRight,0,l)}}function BC(i){let t=qf(i),e=t.right-t.left,n=t.bottom-t.top,r=NC(i,e/2,n/2),o=LC(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Hm(i,t,e,n){let r=t===null,o=e===null,m=i&&!(r&&o)&&qf(i,n);return m&&(r||xn(t,m.left,m.right))&&(o||xn(e,m.top,m.bottom))}function jC(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function zC(i,t){i.rect(t.x,t.y,t.w,t.h)}function Um(i,t,e={}){let n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,o=(i.x+i.w!==e.x+e.w?t:0)-n,l=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+o,h:i.h+l,radius:i.radius}}var ru=class extends dn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:l}=BC(this),m=jC(l.radius)?Do:zC;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),m(t,Um(l,e,o)),t.clip(),m(t,Um(o,-e,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),m(t,Um(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Hm(this,t,e,n)}inXRange(t,e){return Hm(this,t,null,e)}inYRange(t,e){return Hm(this,null,t,e)}getCenterPoint(t){let{x:e,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},HC=Object.freeze({__proto__:null,ArcElement:iu,BarElement:ru,LineElement:zl,PointElement:FC}),ou=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sf=ou.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function Gf(i){return ou[i%ou.length]}function $f(i){return sf[i%sf.length]}function UC(i,t){return i.borderColor=Gf(t),i.backgroundColor=$f(t),++t}function WC(i,t){return i.backgroundColor=i.data.map(()=>Gf(t++)),t}function qC(i,t){return i.backgroundColor=i.data.map(()=>$f(t++)),t}function GC(i){let t=0;return(e,n)=>{let r=i.getDatasetMeta(n).controller;r instanceof pu?t=WC(e,t):r instanceof Vf?t=qC(e,t):r&&(t=UC(e,t))}}function lf(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function $C(i){return i&&(i.borderColor||i.backgroundColor)}function YC(){return Vt.borderColor!=="rgba(0,0,0,0.1)"||Vt.backgroundColor!=="rgba(0,0,0,0.1)"}var QC={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;let{data:{datasets:n},options:r}=i.config,{elements:o}=r,l=lf(n)||$C(r)||o&&lf(o)||YC();if(!e.forceOverride&&l)return;let m=GC(i);n.forEach(m)}};function KC(i,t,e,n,r){let o=r.samples||n;if(o>=e)return i.slice(t,t+e);let l=[],m=(e-2)/(o-2),h=0,b=t+e-1,y=t,w,k,T,I,M;for(l[h++]=i[y],w=0;w<o-2;w++){let R=0,N=0,L,K=Math.floor((w+1)*m)+1+t,ee=Math.min(Math.floor((w+2)*m)+1,e)+t,G=ee-K;for(L=K;L<ee;L++)R+=i[L].x,N+=i[L].y;R/=G,N/=G;let Z=Math.floor(w*m)+1+t,xe=Math.min(Math.floor((w+1)*m)+1,e)+t,{x:re,y:Me}=i[y];for(T=I=-1,L=Z;L<xe;L++)I=.5*Math.abs((re-R)*(i[L].y-Me)-(re-i[L].x)*(N-Me)),I>T&&(T=I,k=i[L],M=L);l[h++]=k,y=M}return l[h++]=i[b],l}function JC(i,t,e,n){let r=0,o=0,l,m,h,b,y,w,k,T,I,M,R=[],N=t+e-1,L=i[t].x,ee=i[N].x-L;for(l=t;l<t+e;++l){m=i[l],h=(m.x-L)/ee*n,b=m.y;let G=h|0;if(G===y)b<I?(I=b,w=l):b>M&&(M=b,k=l),r=(o*r+m.x)/++o;else{let Z=l-1;if(!st(w)&&!st(k)){let xe=Math.min(w,k),re=Math.max(w,k);xe!==T&&xe!==Z&&R.push(_t(Ie({},i[xe]),{x:r})),re!==T&&re!==Z&&R.push(_t(Ie({},i[re]),{x:r}))}l>0&&Z!==T&&R.push(i[Z]),R.push(m),y=G,o=0,I=M=b,w=k=T=l}}return R}function Yf(i){if(i._decimated){let t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function cf(i){i.data.datasets.forEach(t=>{Yf(t)})}function ZC(i,t){let e=t.length,n=0,r,{iScale:o}=i,{min:l,max:m,minDefined:h,maxDefined:b}=o.getUserBounds();return h&&(n=oi(bn(t,o.axis,l).lo,0,e-1)),b?r=oi(bn(t,o.axis,m).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var XC={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){cf(i);return}let n=i.width;i.data.datasets.forEach((r,o)=>{let{_data:l,indexAxis:m}=r,h=i.getDatasetMeta(o),b=l||r.data;if(Ao([m,i.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;let y=i.scales[h.xAxisID];if(y.type!=="linear"&&y.type!=="time"||i.options.parsing)return;let{start:w,count:k}=ZC(h,b),T=e.threshold||4*n;if(k<=T){Yf(r);return}st(l)&&(r._data=b,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}}));let I;switch(e.algorithm){case"lttb":I=KC(b,w,k,n,e);break;case"min-max":I=JC(b,w,k,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=I})},destroy(i){cf(i)}};function eS(i,t,e){let n=i.segments,r=i.points,o=t.points,l=[];for(let m of n){let{start:h,end:b}=m;b=Hl(h,b,r);let y=au(e,r[h],r[b],m.loop);if(!t.segments){l.push({source:m,target:y,start:r[h],end:r[b]});continue}let w=Om(t,y);for(let k of w){let T=au(e,o[k.start],o[k.end],k.loop),I=Pm(m,r,T);for(let M of I)l.push({source:M,target:k,start:{[e]:df(y,T,"start",Math.max)},end:{[e]:df(y,T,"end",Math.min)}})}}return l}function au(i,t,e,n){if(n)return;let r=t[i],o=e[i];return i==="angle"&&(r=ui(r),o=ui(o)),{property:i,start:r,end:o}}function tS(i,t){let{x:e=null,y:n=null}=i||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:m})=>{m=Hl(l,m,r);let h=r[l],b=r[m];n!==null?(o.push({x:h.x,y:n}),o.push({x:b.x,y:n})):e!==null&&(o.push({x:e,y:h.y}),o.push({x:e,y:b.y}))}),o}function Hl(i,t,e){for(;t>i;t--){let n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function df(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function Qf(i,t){let e=[],n=!1;return Nt(i)?(n=!0,e=i):e=tS(i,t),e.length?new zl({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function mf(i){return i&&i.fill!==!1}function iS(i,t,e){let r=i[t].fill,o=[t],l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Gt(r))return r;if(l=i[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function nS(i,t,e){let n=sS(i);if(dt(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Gt(r)&&Math.floor(r)===r?rS(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function rS(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function oS(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:dt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function aS(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:dt(i)?n=i.value:n=t.getBaseValue(),n}function sS(i){let t=i.options,e=t.fill,n=Qe(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function lS(i){let{scale:t,index:e,line:n}=i,r=[],o=n.segments,l=n.points,m=cS(t,e);m.push(Qf({x:null,y:t.bottom},n));for(let h=0;h<o.length;h++){let b=o[h];for(let y=b.start;y<=b.end;y++)dS(r,l[y],m)}return new zl({points:r,options:{}})}function cS(i,t){let e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){let o=n[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function dS(i,t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],{first:l,last:m,point:h}=mS(o,t,"x");if(!(!h||l&&m)){if(l)n.unshift(h);else if(i.push(h),!m)break}}i.push(...n)}function mS(i,t,e){let n=i.interpolate(t,e);if(!n)return{};let r=n[e],o=i.segments,l=i.points,m=!1,h=!1;for(let b=0;b<o.length;b++){let y=o[b],w=l[y.start][e],k=l[y.end][e];if(xn(r,w,k)){m=r===w,h=r===k;break}}return{first:m,last:h,point:n}}var Ll=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){let{x:r,y:o,radius:l}=this;return e=e||{start:0,end:Lt},t.arc(r,o,l,e.end,e.start,!0),!n.bounds}interpolate(t){let{x:e,y:n,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:n+Math.sin(o)*r,angle:o}}};function uS(i){let{chart:t,fill:e,line:n}=i;if(Gt(e))return pS(t,e);if(e==="stack")return lS(i);if(e==="shape")return!0;let r=hS(i);return r instanceof Ll?r:Qf(r,n)}function pS(i,t){let e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function hS(i){return(i.scale||{}).getPointPositionForValue?_S(i):fS(i)}function fS(i){let{scale:t={},fill:e}=i,n=oS(e,t);if(Gt(n)){let r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function _S(i){let{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,o=n.reverse?t.max:t.min,l=aS(e,t,o),m=[];if(n.grid.circular){let h=t.getPointPositionForValue(0,o);return new Ll({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(l)})}for(let h=0;h<r;++h)m.push(t.getPointPositionForValue(h,l));return m}function Wm(i,t,e){let n=uS(t),{chart:r,index:o,line:l,scale:m,axis:h}=t,b=l.options,y=b.fill,w=b.backgroundColor,{above:k=w,below:T=w}=y||{},I=r.getDatasetMeta(o),M=Vm(r,I);n&&l.points.length&&(Ra(i,e),gS(i,{line:l,target:n,above:k,below:T,area:e,scale:m,axis:h,clip:M}),Fa(i))}function gS(i,t){let{line:e,target:n,above:r,below:o,area:l,scale:m,clip:h}=t,b=e._loop?"angle":t.axis;i.save();let y=o;o!==r&&(b==="x"?(uf(i,n,l.top),qm(i,{line:e,target:n,color:r,scale:m,property:b,clip:h}),i.restore(),i.save(),uf(i,n,l.bottom)):b==="y"&&(pf(i,n,l.left),qm(i,{line:e,target:n,color:o,scale:m,property:b,clip:h}),i.restore(),i.save(),pf(i,n,l.right),y=r)),qm(i,{line:e,target:n,color:y,scale:m,property:b,clip:h}),i.restore()}function uf(i,t,e){let{segments:n,points:r}=t,o=!0,l=!1;i.beginPath();for(let m of n){let{start:h,end:b}=m,y=r[h],w=r[Hl(h,b,r)];o?(i.moveTo(y.x,y.y),o=!1):(i.lineTo(y.x,e),i.lineTo(y.x,y.y)),l=!!t.pathSegment(i,m,{move:l}),l?i.closePath():i.lineTo(w.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function pf(i,t,e){let{segments:n,points:r}=t,o=!0,l=!1;i.beginPath();for(let m of n){let{start:h,end:b}=m,y=r[h],w=r[Hl(h,b,r)];o?(i.moveTo(y.x,y.y),o=!1):(i.lineTo(e,y.y),i.lineTo(y.x,y.y)),l=!!t.pathSegment(i,m,{move:l}),l?i.closePath():i.lineTo(e,w.y)}i.lineTo(e,t.first().y),i.closePath(),i.clip()}function qm(i,t){let{line:e,target:n,property:r,color:o,scale:l,clip:m}=t,h=eS(e,n,r);for(let{source:b,target:y,start:w,end:k}of h){let{style:{backgroundColor:T=o}={}}=b,I=n!==!0;i.save(),i.fillStyle=T,bS(i,l,m,I&&au(r,w,k)),i.beginPath();let M=!!e.pathSegment(i,b),R;if(I){M?i.closePath():hf(i,n,k,r);let N=!!n.pathSegment(i,y,{move:M,reverse:!0});R=M&&N,R||hf(i,n,w,r)}i.closePath(),i.fill(R?"evenodd":"nonzero"),i.restore()}}function bS(i,t,e,n){let r=t.chart.chartArea,{property:o,start:l,end:m}=n||{};if(o==="x"||o==="y"){let h,b,y,w;o==="x"?(h=l,b=r.top,y=m,w=r.bottom):(h=r.left,b=l,y=r.right,w=m),i.beginPath(),e&&(h=Math.max(h,e.left),y=Math.min(y,e.right),b=Math.max(b,e.top),w=Math.min(w,e.bottom)),i.rect(h,b,y-h,w-b),i.clip()}}function hf(i,t,e,n){let r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var vS={id:"filler",afterDatasetsUpdate(i,t,e){let n=(i.data.datasets||[]).length,r=[],o,l,m,h;for(l=0;l<n;++l)o=i.getDatasetMeta(l),m=o.dataset,h=null,m&&m.options&&m instanceof zl&&(h={visible:i.isDatasetVisible(l),index:l,fill:nS(m,l,n),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:m}),o.$filler=h,r.push(h);for(l=0;l<n;++l)h=r[l],!(!h||h.fill===!1)&&(h.fill=iS(r,l,e.propagate))},beforeDraw(i,t,e){let n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let l=r.length-1;l>=0;--l){let m=r[l].$filler;m&&(m.line.updateControlPoints(o,m.axis),n&&m.fill&&Wm(i.ctx,m,o))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){let o=n[r].$filler;mf(o)&&Wm(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,e){let n=t.meta.$filler;!mf(n)||e.drawTime!=="beforeDatasetDraw"||Wm(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},ff=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},yS=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index,Bl=class extends dn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=Ot(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,r=ii(n.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:m,itemHeight:h}=ff(n,o),b,y;e.font=r.string,this.isHorizontal()?(b=this.maxWidth,y=this._fitRows(l,o,m,h)+10):(y=this.maxHeight,b=this._fitCols(l,r,m,h)+10),this.width=Math.min(b,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){let{ctx:o,maxWidth:l,options:{labels:{padding:m}}}=this,h=this.legendHitBoxes=[],b=this.lineWidths=[0],y=r+m,w=t;o.textAlign="left",o.textBaseline="middle";let k=-1,T=-y;return this.legendItems.forEach((I,M)=>{let R=n+e/2+o.measureText(I.text).width;(M===0||b[b.length-1]+R+2*m>l)&&(w+=y,b[b.length-(M>0?0:1)]=0,T+=y,k++),h[M]={left:0,top:T,row:k,width:R,height:r},b[b.length-1]+=R+m}),w}_fitCols(t,e,n,r){let{ctx:o,maxHeight:l,options:{labels:{padding:m}}}=this,h=this.legendHitBoxes=[],b=this.columnSizes=[],y=l-t,w=m,k=0,T=0,I=0,M=0;return this.legendItems.forEach((R,N)=>{let{itemWidth:L,itemHeight:K}=xS(n,e,o,R,r);N>0&&T+K+2*m>y&&(w+=k+m,b.push({width:k,height:T}),I+=k+m,M++,k=T=0),h[N]={left:I,top:T,col:M,width:L,height:K},k=Math.max(k,L),T+=K+m}),w+=k,b.push({width:k,height:T}),w}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:o}}=this,l=Gr(o,this.left,this.width);if(this.isHorizontal()){let m=0,h=pi(n,this.left+r,this.right-this.lineWidths[m]);for(let b of e)m!==b.row&&(m=b.row,h=pi(n,this.left+r,this.right-this.lineWidths[m])),b.top+=this.top+t+r,b.left=l.leftForLtr(l.x(h),b.width),h+=b.width+r}else{let m=0,h=pi(n,this.top+t+r,this.bottom-this.columnSizes[m].height);for(let b of e)b.col!==m&&(m=b.col,h=pi(n,this.top+t+r,this.bottom-this.columnSizes[m].height)),b.top=h,b.left+=this.left+r,b.left=l.leftForLtr(l.x(b.left),b.width),h+=b.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ra(t,this),this._draw(),Fa(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:o,labels:l}=t,m=Vt.color,h=Gr(t.rtl,this.left,this.width),b=ii(l.font),{padding:y}=l,w=b.size,k=w/2,T;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=b.string;let{boxWidth:I,boxHeight:M,itemHeight:R}=ff(l,w),N=function(Z,xe,re){if(isNaN(I)||I<=0||isNaN(M)||M<0)return;r.save();let Me=Qe(re.lineWidth,1);if(r.fillStyle=Qe(re.fillStyle,m),r.lineCap=Qe(re.lineCap,"butt"),r.lineDashOffset=Qe(re.lineDashOffset,0),r.lineJoin=Qe(re.lineJoin,"miter"),r.lineWidth=Me,r.strokeStyle=Qe(re.strokeStyle,m),r.setLineDash(Qe(re.lineDash,[])),l.usePointStyle){let rt={radius:M*Math.SQRT2/2,pointStyle:re.pointStyle,rotation:re.rotation,borderWidth:Me},et=h.xPlus(Z,I/2),mt=xe+k;wm(r,rt,et,mt,l.pointStyleWidth&&I)}else{let rt=xe+Math.max((w-M)/2,0),et=h.leftForLtr(Z,I),mt=cr(re.borderRadius);r.beginPath(),Object.values(mt).some(li=>li!==0)?Do(r,{x:et,y:rt,w:I,h:M,radius:mt}):r.rect(et,rt,I,M),r.fill(),Me!==0&&r.stroke()}r.restore()},L=function(Z,xe,re){lr(r,re.text,Z,xe+R/2,b,{strikethrough:re.hidden,textAlign:h.textAlign(re.textAlign)})},K=this.isHorizontal(),ee=this._computeTitleHeight();K?T={x:pi(o,this.left+y,this.right-n[0]),y:this.top+y+ee,line:0}:T={x:this.left+y,y:pi(o,this.top+ee+y,this.bottom-e[0].height),line:0},Dm(this.ctx,t.textDirection);let G=R+y;this.legendItems.forEach((Z,xe)=>{r.strokeStyle=Z.fontColor,r.fillStyle=Z.fontColor;let re=r.measureText(Z.text).width,Me=h.textAlign(Z.textAlign||(Z.textAlign=l.textAlign)),rt=I+k+re,et=T.x,mt=T.y;h.setWidth(this.width),K?xe>0&&et+rt+y>this.right&&(mt=T.y+=G,T.line++,et=T.x=pi(o,this.left+y,this.right-n[T.line])):xe>0&&mt+G>this.bottom&&(et=T.x=et+e[T.line].width+y,T.line++,mt=T.y=pi(o,this.top+ee+y,this.bottom-e[T.line].height));let li=h.x(et);if(N(li,mt,Z),et=h0(Me,et+I+k,K?et+rt:this.right,t.rtl),L(h.x(et),mt,Z),K)T.x+=rt+y;else if(typeof Z.text!="string"){let Vi=b.lineHeight;T.y+=Kf(Z,Vi)+y}else T.y+=G}),Am(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,n=ii(e.font),r=hi(e.padding);if(!e.display)return;let o=Gr(t.rtl,this.left,this.width),l=this.ctx,m=e.position,h=n.size/2,b=r.top+h,y,w=this.left,k=this.width;if(this.isHorizontal())k=Math.max(...this.lineWidths),y=this.top+b,w=pi(t.align,w,this.right-k);else{let I=this.columnSizes.reduce((M,R)=>Math.max(M,R.height),0);y=b+pi(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}let T=pi(m,w,w+k);l.textAlign=o.textAlign(bl(m)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=n.string,lr(l,e.text,T,y,n)}_computeTitleHeight(){let t=this.options.title,e=ii(t.font),n=hi(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,o;if(xn(t,this.left,this.right)&&xn(e,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],xn(t,r.left,r.left+r.width)&&xn(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){let e=this.options;if(!SS(t.type,e))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,o=yS(r,n);r&&!o&&Ot(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&Ot(e.onHover,[t,n,this],this)}else n&&Ot(e.onClick,[t,n,this],this)}};function xS(i,t,e,n,r){let o=wS(n,i,t,e),l=CS(r,n,t.lineHeight);return{itemWidth:o,itemHeight:l}}function wS(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+n.measureText(r).width}function CS(i,t,e){let n=i;return typeof t.text!="string"&&(n=Kf(t,e)),n}function Kf(i,t){let e=i.text?i.text.length:0;return t*e}function SS(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var ES={id:"legend",_element:Bl,start(i,t,e){let n=i.legend=new Bl({ctx:i.ctx,options:e,chart:i});_i.configure(i,n,e),_i.addBox(i,n)},stop(i){_i.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){let n=i.legend;_i.configure(i,n,e),n.options=e},afterUpdate(i){let t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){let n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){let t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:o,useBorderRadius:l,borderRadius:m}}=i.legend.options;return i._getSortedDatasetMetas().map(h=>{let b=h.controller.getStyle(e?0:void 0),y=hi(b.borderWidth);return{text:t[h.index].label,fillStyle:b.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:b.borderColor,pointStyle:n||b.pointStyle,rotation:b.rotation,textAlign:r||b.textAlign,borderRadius:l&&(m||b.borderRadius),datasetIndex:h.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}},qa=class extends dn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=Nt(n.text)?n.text.length:1;this._padding=hi(n.padding);let o=r*ii(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:n,bottom:r,right:o,options:l}=this,m=l.align,h=0,b,y,w;return this.isHorizontal()?(y=pi(m,n,o),w=e+t,b=o-n):(l.position==="left"?(y=n+t,w=pi(m,r,e),h=yt*-.5):(y=o-t,w=pi(m,e,r),h=yt*.5),b=r-e),{titleX:y,titleY:w,maxWidth:b,rotation:h}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let n=ii(e.font),o=n.lineHeight/2+this._padding.top,{titleX:l,titleY:m,maxWidth:h,rotation:b}=this._drawArgs(o);lr(t,e.text,0,0,n,{color:e.color,maxWidth:h,rotation:b,textAlign:bl(e.align),textBaseline:"middle",translation:[l,m]})}};function kS(i,t){let e=new qa({ctx:i.ctx,options:t,chart:i});_i.configure(i,e,t),_i.addBox(i,e),i.titleBlock=e}var TS={id:"title",_element:qa,start(i,t,e){kS(i,e)},stop(i){let t=i.titleBlock;_i.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){let n=i.titleBlock;_i.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Il=new WeakMap,MS={id:"subtitle",start(i,t,e){let n=new qa({ctx:i.ctx,options:e,chart:i});_i.configure(i,n,e),_i.addBox(i,n),Il.set(i,n)},stop(i){_i.removeBox(i,Il.get(i)),Il.delete(i)},beforeUpdate(i,t,e){let n=Il.get(i);_i.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Ua={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,o=0;for(t=0,e=i.length;t<e;++t){let m=i[t].element;if(m&&m.hasValue()){let h=m.tooltipPosition();n.add(h.x),r+=h.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((m,h)=>m+h)/n.size,y:r/o}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,o,l,m;for(o=0,l=i.length;o<l;++o){let h=i[o].element;if(h&&h.hasValue()){let b=h.getCenterPoint(),y=pl(t,b);y<r&&(r=y,m=h)}}if(m){let h=m.tooltipPosition();e=h.x,n=h.y}return{x:e,y:n}}};function wn(i,t){return t&&(Nt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Un(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function IS(i,t){let{element:e,datasetIndex:n,index:r}=t,o=i.getDatasetMeta(n).controller,{label:l,value:m}=o.getLabelAndValue(r);return{chart:i,label:l,parsed:o.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:m,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function _f(i,t){let e=i.chart.ctx,{body:n,footer:r,title:o}=i,{boxWidth:l,boxHeight:m}=t,h=ii(t.bodyFont),b=ii(t.titleFont),y=ii(t.footerFont),w=o.length,k=r.length,T=n.length,I=hi(t.padding),M=I.height,R=0,N=n.reduce((ee,G)=>ee+G.before.length+G.lines.length+G.after.length,0);if(N+=i.beforeBody.length+i.afterBody.length,w&&(M+=w*b.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),N){let ee=t.displayColors?Math.max(m,h.lineHeight):h.lineHeight;M+=T*ee+(N-T)*h.lineHeight+(N-1)*t.bodySpacing}k&&(M+=t.footerMarginTop+k*y.lineHeight+(k-1)*t.footerSpacing);let L=0,K=function(ee){R=Math.max(R,e.measureText(ee).width+L)};return e.save(),e.font=b.string,St(i.title,K),e.font=h.string,St(i.beforeBody.concat(i.afterBody),K),L=t.displayColors?l+2+t.boxPadding:0,St(n,ee=>{St(ee.before,K),St(ee.lines,K),St(ee.after,K)}),L=0,e.font=y.string,St(i.footer,K),e.restore(),R+=I.width,{width:R,height:M}}function DS(i,t){let{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function AS(i,t,e,n){let{x:r,width:o}=n,l=e.caretSize+e.caretPadding;if(i==="left"&&r+o+l>t.width||i==="right"&&r-o-l<0)return!0}function PS(i,t,e,n){let{x:r,width:o}=e,{width:l,chartArea:{left:m,right:h}}=i,b="center";return n==="center"?b=r<=(m+h)/2?"left":"right":r<=o/2?b="left":r>=l-o/2&&(b="right"),AS(b,i,t,e)&&(b="center"),b}function gf(i,t,e){let n=e.yAlign||t.yAlign||DS(i,e);return{xAlign:e.xAlign||t.xAlign||PS(i,t,e,n),yAlign:n}}function OS(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function VS(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function bf(i,t,e,n){let{caretSize:r,caretPadding:o,cornerRadius:l}=i,{xAlign:m,yAlign:h}=e,b=r+o,{topLeft:y,topRight:w,bottomLeft:k,bottomRight:T}=cr(l),I=OS(t,m),M=VS(t,h,b);return h==="center"?m==="left"?I+=b:m==="right"&&(I-=b):m==="left"?I-=Math.max(y,k)+r:m==="right"&&(I+=Math.max(w,T)+r),{x:oi(I,0,n.width-t.width),y:oi(M,0,n.height-t.height)}}function Dl(i,t,e){let n=hi(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function vf(i){return wn([],Un(i))}function RS(i,t,e){return zn(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function yf(i,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}var Jf={beforeTitle:yn,title(i){if(i.length>0){let t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");let e=i.formattedValue;return st(e)||(t+=e),t},labelColor(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){let e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function Ii(i,t,e,n){let r=i[t].call(e,n);return typeof r>"u"?Jf[t].call(e,n):r}var xf=(()=>{class i extends dn{static positioners=Ua;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,l=new Vl(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=RS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){let{callbacks:r}=n,o=Ii(r,"beforeTitle",this,e),l=Ii(r,"title",this,e),m=Ii(r,"afterTitle",this,e),h=[];return h=wn(h,Un(o)),h=wn(h,Un(l)),h=wn(h,Un(m)),h}getBeforeBody(e,n){return vf(Ii(n.callbacks,"beforeBody",this,e))}getBody(e,n){let{callbacks:r}=n,o=[];return St(e,l=>{let m={before:[],lines:[],after:[]},h=yf(r,l);wn(m.before,Un(Ii(h,"beforeLabel",this,l))),wn(m.lines,Ii(h,"label",this,l)),wn(m.after,Un(Ii(h,"afterLabel",this,l))),o.push(m)}),o}getAfterBody(e,n){return vf(Ii(n.callbacks,"afterBody",this,e))}getFooter(e,n){let{callbacks:r}=n,o=Ii(r,"beforeFooter",this,e),l=Ii(r,"footer",this,e),m=Ii(r,"afterFooter",this,e),h=[];return h=wn(h,Un(o)),h=wn(h,Un(l)),h=wn(h,Un(m)),h}_createItems(e){let n=this._active,r=this.chart.data,o=[],l=[],m=[],h=[],b,y;for(b=0,y=n.length;b<y;++b)h.push(IS(this.chart,n[b]));return e.filter&&(h=h.filter((w,k,T)=>e.filter(w,k,T,r))),e.itemSort&&(h=h.sort((w,k)=>e.itemSort(w,k,r))),St(h,w=>{let k=yf(e.callbacks,w);o.push(Ii(k,"labelColor",this,w)),l.push(Ii(k,"labelPointStyle",this,w)),m.push(Ii(k,"labelTextColor",this,w))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=m,this.dataPoints=h,h}update(e,n){let r=this.options.setContext(this.getContext()),o=this._active,l,m=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{let h=Ua[r.position].call(this,o,this._eventPosition);m=this._createItems(r),this.title=this.getTitle(m,r),this.beforeBody=this.getBeforeBody(m,r),this.body=this.getBody(m,r),this.afterBody=this.getAfterBody(m,r),this.footer=this.getFooter(m,r);let b=this._size=_f(this,r),y=Object.assign({},h,b),w=gf(this.chart,r,y),k=bf(r,y,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,l={opacity:1,x:k.x,y:k.y,width:b.width,height:b.height,caretX:h.x,caretY:h.y}}this._tooltipItems=m,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,o){let l=this.getCaretPosition(e,r,o);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(e,n,r){let{xAlign:o,yAlign:l}=this,{caretSize:m,cornerRadius:h}=r,{topLeft:b,topRight:y,bottomLeft:w,bottomRight:k}=cr(h),{x:T,y:I}=e,{width:M,height:R}=n,N,L,K,ee,G,Z;return l==="center"?(G=I+R/2,o==="left"?(N=T,L=N-m,ee=G+m,Z=G-m):(N=T+M,L=N+m,ee=G-m,Z=G+m),K=N):(o==="left"?L=T+Math.max(b,w)+m:o==="right"?L=T+M-Math.max(y,k)-m:L=this.caretX,l==="top"?(ee=I,G=ee-m,N=L-m,K=L+m):(ee=I+R,G=ee+m,N=L+m,K=L-m),Z=ee),{x1:N,x2:L,x3:K,y1:ee,y2:G,y3:Z}}drawTitle(e,n,r){let o=this.title,l=o.length,m,h,b;if(l){let y=Gr(r.rtl,this.x,this.width);for(e.x=Dl(this,r.titleAlign,r),n.textAlign=y.textAlign(r.titleAlign),n.textBaseline="middle",m=ii(r.titleFont),h=r.titleSpacing,n.fillStyle=r.titleColor,n.font=m.string,b=0;b<l;++b)n.fillText(o[b],y.x(e.x),e.y+m.lineHeight/2),e.y+=m.lineHeight+h,b+1===l&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,n,r,o,l){let m=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:b,boxWidth:y}=l,w=ii(l.bodyFont),k=Dl(this,"left",l),T=o.x(k),I=b<w.lineHeight?(w.lineHeight-b)/2:0,M=n.y+I;if(l.usePointStyle){let R={radius:Math.min(y,b)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=o.leftForLtr(T,y)+y/2,L=M+b/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,yl(e,R,N,L),e.strokeStyle=m.borderColor,e.fillStyle=m.backgroundColor,yl(e,R,N,L)}else{e.lineWidth=dt(m.borderWidth)?Math.max(...Object.values(m.borderWidth)):m.borderWidth||1,e.strokeStyle=m.borderColor,e.setLineDash(m.borderDash||[]),e.lineDashOffset=m.borderDashOffset||0;let R=o.leftForLtr(T,y),N=o.leftForLtr(o.xPlus(T,1),y-2),L=cr(m.borderRadius);Object.values(L).some(K=>K!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Do(e,{x:R,y:M,w:y,h:b,radius:L}),e.fill(),e.stroke(),e.fillStyle=m.backgroundColor,e.beginPath(),Do(e,{x:N,y:M+1,w:y-2,h:b-2,radius:L}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(R,M,y,b),e.strokeRect(R,M,y,b),e.fillStyle=m.backgroundColor,e.fillRect(N,M+1,y-2,b-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){let{body:o}=this,{bodySpacing:l,bodyAlign:m,displayColors:h,boxHeight:b,boxWidth:y,boxPadding:w}=r,k=ii(r.bodyFont),T=k.lineHeight,I=0,M=Gr(r.rtl,this.x,this.width),R=function(Me){n.fillText(Me,M.x(e.x+I),e.y+T/2),e.y+=T+l},N=M.textAlign(m),L,K,ee,G,Z,xe,re;for(n.textAlign=m,n.textBaseline="middle",n.font=k.string,e.x=Dl(this,N,r),n.fillStyle=r.bodyColor,St(this.beforeBody,R),I=h&&N!=="right"?m==="center"?y/2+w:y+2+w:0,G=0,xe=o.length;G<xe;++G){for(L=o[G],K=this.labelTextColors[G],n.fillStyle=K,St(L.before,R),ee=L.lines,h&&ee.length&&(this._drawColorBox(n,e,G,M,r),T=Math.max(k.lineHeight,b)),Z=0,re=ee.length;Z<re;++Z)R(ee[Z]),T=k.lineHeight;St(L.after,R)}I=0,T=k.lineHeight,St(this.afterBody,R),e.y-=l}drawFooter(e,n,r){let o=this.footer,l=o.length,m,h;if(l){let b=Gr(r.rtl,this.x,this.width);for(e.x=Dl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=b.textAlign(r.footerAlign),n.textBaseline="middle",m=ii(r.footerFont),n.fillStyle=r.footerColor,n.font=m.string,h=0;h<l;++h)n.fillText(o[h],b.x(e.x),e.y+m.lineHeight/2),e.y+=m.lineHeight+r.footerSpacing}}drawBackground(e,n,r,o){let{xAlign:l,yAlign:m}=this,{x:h,y:b}=e,{width:y,height:w}=r,{topLeft:k,topRight:T,bottomLeft:I,bottomRight:M}=cr(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(h+k,b),m==="top"&&this.drawCaret(e,n,r,o),n.lineTo(h+y-T,b),n.quadraticCurveTo(h+y,b,h+y,b+T),m==="center"&&l==="right"&&this.drawCaret(e,n,r,o),n.lineTo(h+y,b+w-M),n.quadraticCurveTo(h+y,b+w,h+y-M,b+w),m==="bottom"&&this.drawCaret(e,n,r,o),n.lineTo(h+I,b+w),n.quadraticCurveTo(h,b+w,h,b+w-I),m==="center"&&l==="left"&&this.drawCaret(e,n,r,o),n.lineTo(h,b+k),n.quadraticCurveTo(h,b,h+k,b),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){let n=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){let m=Ua[e.position].call(this,this._active,this._eventPosition);if(!m)return;let h=this._size=_f(this,e),b=Object.assign({},m,this._size),y=gf(n,e,b),w=bf(e,b,y,n);(o._to!==w.x||l._to!==w.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=h.width,this.height=h.height,this.caretX=m.x,this.caretY=m.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(e){let n=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(n);let o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let m=hi(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,o,n),Dm(e,n.textDirection),l.y+=m.top,this.drawTitle(l,e,n),this.drawBody(l,e,n),this.drawFooter(l,e,n),Am(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){let r=this._active,o=e.map(({datasetIndex:h,index:b})=>{let y=this.chart.getDatasetMeta(h);if(!y)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:y.data[b],index:b}}),l=!Oa(r,o),m=this._positionChanged(o,n);(l||m)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,l=this._active||[],m=this._getActiveElements(e,l,n,r),h=this._positionChanged(m,e),b=n||!Oa(m,l)||h;return b&&(this._active=m,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),b}_getActiveElements(e,n,r,o){let l=this.options;if(e.type==="mouseout")return[];if(!o)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);let m=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&m.reverse(),m}_positionChanged(e,n){let{caretX:r,caretY:o,options:l}=this,m=Ua[l.position].call(this,e,n);return m!==!1&&(r!==m.x||o!==m.y)}}return i})(),FS={id:"tooltip",_element:xf,positioners:Ua,afterInit(i,t,e){e&&(i.tooltip=new xf({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){let t=i.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",_t(Ie({},e),{cancelable:!0}))===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){let e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},NS=Object.freeze({__proto__:null,Colors:QC,Decimation:XC,Filler:vS,Legend:ES,SubTitle:MS,Title:TS,Tooltip:FS}),LS=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function BS(i,t,e,n){let r=i.indexOf(t);if(r===-1)return LS(i,t,e,n);let o=i.lastIndexOf(t);return r!==o?e:r}var jS=(i,t)=>i===null?null:oi(Math.round(i),0,t);function wf(i){let t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var zS=(()=>{class i extends Qr{static id="category";static defaults={ticks:{callback:wf}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let n=this._addedLabels;if(n.length){let r=this.getLabels();for(let{index:o,label:l}of n)r[o]===l&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(st(e))return null;let r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:BS(r,e,Qe(n,e),this._addedLabels),jS(n,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,n=this.max,r=this.options.offset,o=[],l=this.getLabels();l=e===0&&n===l.length-1?l:l.slice(e,n+1),this._valueRange=Math.max(l.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let m=e;m<=n;m++)o.push({value:m});return o}getLabelForValue(e){return wf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return i})();function HS(i,t){let e=[],{bounds:r,step:o,min:l,max:m,precision:h,count:b,maxTicks:y,maxDigits:w,includeBounds:k}=i,T=o||1,I=y-1,{min:M,max:R}=t,N=!st(l),L=!st(m),K=!st(b),ee=(R-M)/(w+1),G=cm((R-M)/I/T)*T,Z,xe,re,Me;if(G<1e-14&&!N&&!L)return[{value:M},{value:R}];Me=Math.ceil(R/G)-Math.floor(M/G),Me>I&&(G=cm(Me*G/I/T)*T),st(h)||(Z=Math.pow(10,h),G=Math.ceil(G*Z)/Z),r==="ticks"?(xe=Math.floor(M/G)*G,re=Math.ceil(R/G)*G):(xe=M,re=R),N&&L&&o&&s0((m-l)/o,G/1e3)?(Me=Math.round(Math.min((m-l)/G,y)),G=(m-l)/Me,xe=l,re=m):K?(xe=N?l:xe,re=L?m:re,Me=b-1,G=(re-xe)/Me):(Me=(re-xe)/G,To(Me,Math.round(Me),G/1e3)?Me=Math.round(Me):Me=Math.ceil(Me));let rt=Math.max(mm(G),mm(xe));Z=Math.pow(10,st(h)?rt:h),xe=Math.round(xe*Z)/Z,re=Math.round(re*Z)/Z;let et=0;for(N&&(k&&xe!==l?(e.push({value:l}),xe<l&&et++,To(Math.round((xe+et*G)*Z)/Z,l,Cf(l,ee,i))&&et++):xe<l&&et++);et<Me;++et){let mt=Math.round((xe+et*G)*Z)/Z;if(L&&mt>m)break;e.push({value:mt})}return L&&k&&re!==m?e.length&&To(e[e.length-1].value,m,Cf(m,ee,i))?e[e.length-1].value=m:e.push({value:m}):(!L||re===m)&&e.push({value:re}),e}function Cf(i,t,{horizontal:e,minRotation:n}){let r=Qi(n),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+i).length;return Math.min(t/o,l)}var Vo=class extends Qr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return st(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds(),{min:r,max:o}=this,l=h=>r=e?r:h,m=h=>o=n?o:h;if(t){let h=cn(r),b=cn(o);h<0&&b<0?m(0):h>0&&b>0&&l(0)}if(r===o){let h=o===0?1:Math.abs(o*.05);m(o+h),t||l(r-h)}this.min=r,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=HS(r,o);return t.bounds==="ticks"&&dm(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){let t=this.ticks,e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Io(t,this.chart.options.locale,this.options.ticks.format)}},su=class extends Vo{static id="linear";static defaults={ticks:{callback:Va.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Gt(t)?t:0,this.max=Gt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,n=Qi(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Ga=i=>Math.floor(Bn(i)),Yr=(i,t)=>Math.pow(10,Ga(i)+t);function Sf(i){return i/Math.pow(10,Ga(i))===1}function Ef(i,t,e){let n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function US(i,t){let e=t-i,n=Ga(e);for(;Ef(i,t,n)>10;)n++;for(;Ef(i,t,n)<10;)n--;return Math.min(n,Ga(i))}function WS(i,{min:t,max:e}){t=Mi(i.min,t);let n=[],r=Ga(t),o=US(t,e),l=o<0?Math.pow(10,Math.abs(o)):1,m=Math.pow(10,o),h=r>o?Math.pow(10,r):0,b=Math.round((t-h)*l)/l,y=Math.floor((t-h)/m/10)*m*10,w=Math.floor((b-y)/Math.pow(10,o)),k=Mi(i.min,Math.round((h+y+w*Math.pow(10,o))*l)/l);for(;k<e;)n.push({value:k,major:Sf(k),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(o++,w=2,l=o>=0?1:l),k=Math.round((h+y+w*Math.pow(10,o))*l)/l;let T=Mi(i.max,k);return n.push({value:T,major:Sf(T),significand:w}),n}var lu=class extends Qr{static id="logarithmic";static defaults={ticks:{callback:Va.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let n=Vo.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return Gt(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=Gt(t)?Math.max(0,t):null,this.max=Gt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Gt(this._userMin)&&(this.min=t===Yr(this.min,0)?Yr(this.min,-1):Yr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),n=this.min,r=this.max,o=m=>n=t?n:m,l=m=>r=e?r:m;n===r&&(n<=0?(o(1),l(10)):(o(Yr(n,-1)),l(Yr(r,1)))),n<=0&&o(Yr(r,-1)),r<=0&&l(Yr(n,1)),this.min=n,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},n=WS(e,this);return t.bounds==="ticks"&&dm(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Io(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Bn(t),this._valueRange=Bn(this.max)-Bn(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Bn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function cu(i){let t=i.ticks;if(t.display&&i.display){let e=hi(t.backdropPadding);return Qe(t.font&&t.font.size,Vt.font.size)+e.height}return 0}function qS(i,t,e){return e=Nt(e)?e:[e],{w:_0(i,t.string,e),h:e.length*t.lineHeight}}function kf(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function GS(i){let t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],o=i._pointLabels.length,l=i.options.pointLabels,m=l.centerPointLabels?yt/o:0;for(let h=0;h<o;h++){let b=l.setContext(i.getPointLabelContext(h));r[h]=b.padding;let y=i.getPointPosition(h,i.drawingArea+r[h],m),w=ii(b.font),k=qS(i.ctx,w,i._pointLabels[h]);n[h]=k;let T=ui(i.getIndexAngle(h)+m),I=Math.round(_l(T)),M=kf(I,y.x,k.w,0,180),R=kf(I,y.y,k.h,90,270);$S(e,t,T,M,R)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=KS(i,n,r)}function $S(i,t,e,n,r){let o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e)),m=0,h=0;n.start<t.l?(m=(t.l-n.start)/o,i.l=Math.min(i.l,t.l-m)):n.end>t.r&&(m=(n.end-t.r)/o,i.r=Math.max(i.r,t.r+m)),r.start<t.t?(h=(t.t-r.start)/l,i.t=Math.min(i.t,t.t-h)):r.end>t.b&&(h=(r.end-t.b)/l,i.b=Math.max(i.b,t.b+h))}function YS(i,t,e){let n=i.drawingArea,{extra:r,additionalAngle:o,padding:l,size:m}=e,h=i.getPointPosition(t,n+r+l,o),b=Math.round(_l(ui(h.angle+Qt))),y=XS(h.y,m.h,b),w=JS(b),k=ZS(h.x,m.w,w);return{visible:!0,x:h.x,y,textAlign:w,left:k,top:y,right:k+m.w,bottom:y+m.h}}function QS(i,t){if(!t)return!0;let{left:e,top:n,right:r,bottom:o}=i;return!(vn({x:e,y:n},t)||vn({x:e,y:o},t)||vn({x:r,y:n},t)||vn({x:r,y:o},t))}function KS(i,t,e){let n=[],r=i._pointLabels.length,o=i.options,{centerPointLabels:l,display:m}=o.pointLabels,h={extra:cu(o)/2,additionalAngle:l?yt/r:0},b;for(let y=0;y<r;y++){h.padding=e[y],h.size=t[y];let w=YS(i,y,h);n.push(w),m==="auto"&&(w.visible=QS(w,b),w.visible&&(b=w))}return n}function JS(i){return i===0||i===180?"center":i<180?"left":"right"}function ZS(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function XS(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function e2(i,t,e){let{left:n,top:r,right:o,bottom:l}=e,{backdropColor:m}=t;if(!st(m)){let h=cr(t.borderRadius),b=hi(t.backdropPadding);i.fillStyle=m;let y=n-b.left,w=r-b.top,k=o-n+b.width,T=l-r+b.height;Object.values(h).some(I=>I!==0)?(i.beginPath(),Do(i,{x:y,y:w,w:k,h:T,radius:h}),i.fill()):i.fillRect(y,w,k,T)}}function t2(i,t){let{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){let o=i._pointLabelItems[r];if(!o.visible)continue;let l=n.setContext(i.getPointLabelContext(r));e2(e,l,o);let m=ii(l.font),{x:h,y:b,textAlign:y}=o;lr(e,i._pointLabels[r],h,b+m.lineHeight/2,m,{color:l.color,textAlign:y,textBaseline:"middle"})}}function Zf(i,t,e,n){let{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,Lt);else{let o=i.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<n;l++)o=i.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function i2(i,t,e,n,r){let o=i.ctx,l=t.circular,{color:m,lineWidth:h}=t;!l&&!n||!m||!h||e<0||(o.save(),o.strokeStyle=m,o.lineWidth=h,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),Zf(i,e,l,n),o.closePath(),o.stroke(),o.restore())}function n2(i,t,e){return zn(i,{label:e,index:t,type:"pointLabel"})}var du=class extends Vo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Va.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=hi(cu(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=Gt(t)&&!isNaN(t)?t:0,this.max=Gt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cu(this.options))}generateTickLabels(t){Vo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{let r=Ot(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?GS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){let e=Lt/(this._pointLabels.length||1),n=this.options.startAngle||0;return ui(t*e+Qi(n))}getDistanceFromCenterForValue(t){if(st(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(st(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let n=e[t];return n2(this.getContext(),t,n)}}getPointPosition(t,e,n=0){let r=this.getIndexAngle(t)-Qt+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:n,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),Zf(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:n,grid:r,border:o}=e,l=this._pointLabels.length,m,h,b;if(e.pointLabels.display&&t2(this,l),r.display&&this.ticks.forEach((y,w)=>{if(w!==0||w===0&&this.min<0){h=this.getDistanceFromCenterForValue(y.value);let k=this.getContext(w),T=r.setContext(k),I=o.setContext(k);i2(this,T,h,l,I)}}),n.display){for(t.save(),m=l-1;m>=0;m--){let y=n.setContext(this.getPointLabelContext(m)),{color:w,lineWidth:k}=y;!k||!w||(t.lineWidth=k,t.strokeStyle=w,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,h=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),b=this.getPointPosition(m,h),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(b.x,b.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;let r=this.getIndexAngle(0),o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((m,h)=>{if(h===0&&this.min>=0&&!e.reverse)return;let b=n.setContext(this.getContext(h)),y=ii(b.font);if(o=this.getDistanceFromCenterForValue(this.ticks[h].value),b.showLabelBackdrop){t.font=y.string,l=t.measureText(m.label).width,t.fillStyle=b.backdropColor;let w=hi(b.backdropPadding);t.fillRect(-l/2-w.left,-o-y.size/2-w.top,l+w.width,y.size+w.height)}lr(t,m.label,0,-o,y,{color:b.color,strokeColor:b.textStrokeColor,strokeWidth:b.textStrokeWidth})}),t.restore()}drawTitle(){}},Ul={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Di=Object.keys(Ul);function Tf(i,t){return i-t}function Mf(i,t){if(st(t))return null;let e=i._adapter,{parser:n,round:r,isoWeekday:o}=i._parseOpts,l=t;return typeof n=="function"&&(l=n(l)),Gt(l)||(l=typeof n=="string"?e.parse(l,n):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(qr(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function If(i,t,e,n){let r=Di.length;for(let o=Di.indexOf(i);o<r-1;++o){let l=Ul[Di[o]],m=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(m*l.size))<=n)return Di[o]}return Di[r-1]}function r2(i,t,e,n,r){for(let o=Di.length-1;o>=Di.indexOf(e);o--){let l=Di[o];if(Ul[l].common&&i._adapter.diff(r,n,l)>=t-1)return l}return Di[e?Di.indexOf(e):0]}function o2(i){for(let t=Di.indexOf(i)+1,e=Di.length;t<e;++t)if(Ul[Di[t]].common)return Di[t]}function Df(i,t,e){if(!e)i[t]=!0;else if(e.length){let{lo:n,hi:r}=gl(e,t),o=e[n]>=t?e[n]:e[r];i[o]=!0}}function a2(i,t,e,n){let r=i._adapter,o=+r.startOf(t[0].value,n),l=t[t.length-1].value,m,h;for(m=o;m<=l;m=+r.add(m,1,n))h=e[m],h>=0&&(t[h].major=!0);return t}function Af(i,t,e){let n=[],r={},o=t.length,l,m;for(l=0;l<o;++l)m=t[l],r[m]=l,n.push({value:m,major:!1});return o===0||!e?n:a2(i,n,r,e)}var mu=(()=>{class i extends Qr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){let r=e.time||(e.time={}),o=this._adapter=new gw._date(e.adapters.date);o.init(n),Eo(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Mf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,n=this._adapter,r=e.time.unit||"day",{min:o,max:l,minDefined:m,maxDefined:h}=this.getUserBounds();function b(y){!m&&!isNaN(y.min)&&(o=Math.min(o,y.min)),!h&&!isNaN(y.max)&&(l=Math.max(l,y.max))}(!m||!h)&&(b(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&b(this.getMinMax(!1))),o=Gt(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),l=Gt(l)&&!isNaN(l)?l:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){let e=this.getLabelTimestamps(),n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){let e=this.options,n=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let l=this.min,m=this.max,h=d0(o,l,m);return this._unit=n.unit||(r.autoSkip?If(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):r2(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:o2(this._unit),this.initOffsets(o),e.reverse&&h.reverse(),Af(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?n=1-o:n=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?r=l:r=(l-this.getDecimalForValue(e[e.length-2]))/2);let m=e.length<3?.5:.25;n=oi(n,0,m),r=oi(r,0,m),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){let e=this._adapter,n=this.min,r=this.max,o=this.options,l=o.time,m=l.unit||If(l.minUnit,n,r,this._getLabelCapacity(n)),h=Qe(o.ticks.stepSize,1),b=m==="week"?l.isoWeekday:!1,y=qr(b)||b===!0,w={},k=n,T,I;if(y&&(k=+e.startOf(k,"isoWeek",b)),k=+e.startOf(k,y?"day":m),e.diff(r,n,m)>1e5*h)throw new Error(n+" and "+r+" are too far apart with stepSize of "+h+" "+m);let M=o.ticks.source==="data"&&this.getDataTimestamps();for(T=k,I=0;T<r;T=+e.add(T,h,m),I++)Df(w,T,M);return(T===r||o.bounds==="ticks"||I===1)&&Df(w,T,M),Object.keys(w).sort(Tf).map(R=>+R)}getLabelForValue(e){let n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){let o=this.options.time.displayFormats,l=this._unit,m=n||o[l];return this._adapter.format(e,m)}_tickFormatFunction(e,n,r,o){let l=this.options,m=l.ticks.callback;if(m)return Ot(m,[e,n,r],this);let h=l.time.displayFormats,b=this._unit,y=this._majorUnit,w=b&&h[b],k=y&&h[y],T=r[n],I=y&&k&&T&&T.major;return this._adapter.format(e,o||(I?k:w))}generateTickLabels(e){let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n],o.label=this._tickFormatFunction(o.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){let n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let n=this.options.ticks,r=this.ctx.measureText(e).width,o=Qi(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(o),m=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:r*l+h*m,h:r*m+h*l}}_getLabelCapacity(e){let n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,l=this._tickFormatFunction(e,0,Af(this,[e],this._majorUnit),o),m=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/m.w:this.height/m.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)e=e.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],n,r;if(e.length)return e;let o=this.getLabels();for(n=0,r=o.length;n<r;++n)e.push(Mf(this,o[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hm(e.sort(Tf))}}return i})();function Al(i,t,e){let n=0,r=i.length-1,o,l,m,h;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=bn(i,"pos",t)),{pos:o,time:m}=i[n],{pos:l,time:h}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=bn(i,"time",t)),{time:o,pos:m}=i[n],{time:l,pos:h}=i[r]);let b=l-o;return b?m+(h-m)*(t-o)/b:m}var uu=class extends mu{static id="timeseries";static defaults=mu.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Al(e,this.min),this._tableRange=Al(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:n}=this,r=[],o=[],l,m,h,b,y;for(l=0,m=t.length;l<m;++l)b=t[l],b>=e&&b<=n&&r.push(b);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(l=0,m=r.length;l<m;++l)y=r[l+1],h=r[l-1],b=r[l],Math.round((y+h)/2)!==b&&o.push({time:b,pos:l/(m-1)});return o}_generate(){let t=this.min,e=this.max,n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Al(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Al(this._table,n*this._tableRange+this._minPos,!0)}},s2=Object.freeze({__proto__:null,CategoryScale:zS,LinearScale:su,LogarithmicScale:lu,RadialLinearScale:du,TimeScale:mu,TimeSeriesScale:uu}),Xf=[_w,HC,NS,s2];var l2=typeof global=="object"&&global&&global.Object===Object&&global,Wl=l2;var c2=typeof self=="object"&&self&&self.Object===Object&&self,d2=Wl||c2||Function("return this")(),Ki=d2;var m2=Ki.Symbol,Ro=m2;var e_=Object.prototype,u2=e_.hasOwnProperty,p2=e_.toString,Ya=Ro?Ro.toStringTag:void 0;function h2(i){var t=u2.call(i,Ya),e=i[Ya];try{i[Ya]=void 0;var n=!0}catch{}var r=p2.call(i);return n&&(t?i[Ya]=e:delete i[Ya]),r}var t_=h2;var f2=Object.prototype,_2=f2.toString;function g2(i){return _2.call(i)}var i_=g2;var b2="[object Null]",v2="[object Undefined]",n_=Ro?Ro.toStringTag:void 0;function y2(i){return i==null?i===void 0?v2:b2:n_&&n_ in Object(i)?t_(i):i_(i)}var pr=y2;function x2(i){return i!=null&&typeof i=="object"}var Sn=x2;var w2=Array.isArray,Qa=w2;function C2(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var Ai=C2;function S2(i){return i}var ql=S2;var E2="[object AsyncFunction]",k2="[object Function]",T2="[object GeneratorFunction]",M2="[object Proxy]";function I2(i){if(!Ai(i))return!1;var t=pr(i);return t==k2||t==T2||t==E2||t==M2}var Fo=I2;var D2=Ki["__core-js_shared__"],Gl=D2;var r_=function(){var i=/[^.]+$/.exec(Gl&&Gl.keys&&Gl.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function A2(i){return!!r_&&r_ in i}var o_=A2;var P2=Function.prototype,O2=P2.toString;function V2(i){if(i!=null){try{return O2.call(i)}catch{}try{return i+""}catch{}}return""}var a_=V2;var R2=/[\\^$.*+?()[\]{}|]/g,F2=/^\[object .+?Constructor\]$/,N2=Function.prototype,L2=Object.prototype,B2=N2.toString,j2=L2.hasOwnProperty,z2=RegExp("^"+B2.call(j2).replace(R2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H2(i){if(!Ai(i)||o_(i))return!1;var t=Fo(i)?z2:F2;return t.test(a_(i))}var s_=H2;function U2(i,t){return i?.[t]}var l_=U2;function W2(i,t){var e=l_(i,t);return s_(e)?e:void 0}var No=W2;var c_=Object.create,q2=function(){function i(){}return function(t){if(!Ai(t))return{};if(c_)return c_(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}(),d_=q2;function G2(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}var m_=G2;function $2(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}var u_=$2;var Y2=800,Q2=16,K2=Date.now;function J2(i){var t=0,e=0;return function(){var n=K2(),r=Q2-(n-e);if(e=n,r>0){if(++t>=Y2)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}var p_=J2;function Z2(i){return function(){return i}}var h_=Z2;var X2=function(){try{var i=No(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Lo=X2;var eE=Lo?function(i,t){return Lo(i,"toString",{configurable:!0,enumerable:!1,value:h_(t),writable:!0})}:ql,f_=eE;var tE=p_(f_),__=tE;var iE=9007199254740991,nE=/^(?:0|[1-9]\d*)$/;function rE(i,t){var e=typeof i;return t=t??iE,!!t&&(e=="number"||e!="symbol"&&nE.test(i))&&i>-1&&i%1==0&&i<t}var $l=rE;function oE(i,t,e){t=="__proto__"&&Lo?Lo(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}var Bo=oE;function aE(i,t){return i===t||i!==i&&t!==t}var hr=aE;var sE=Object.prototype,lE=sE.hasOwnProperty;function cE(i,t,e){var n=i[t];(!(lE.call(i,t)&&hr(n,e))||e===void 0&&!(t in i))&&Bo(i,t,e)}var g_=cE;function dE(i,t,e,n){var r=!e;e||(e={});for(var o=-1,l=t.length;++o<l;){var m=t[o],h=n?n(e[m],i[m],m,e,i):void 0;h===void 0&&(h=i[m]),r?Bo(e,m,h):g_(e,m,h)}return e}var b_=dE;var v_=Math.max;function mE(i,t,e){return t=v_(t===void 0?i.length-1:t,0),function(){for(var n=arguments,r=-1,o=v_(n.length-t,0),l=Array(o);++r<o;)l[r]=n[t+r];r=-1;for(var m=Array(t+1);++r<t;)m[r]=n[r];return m[t]=e(l),m_(i,this,m)}}var y_=mE;function uE(i,t){return __(y_(i,t,ql),i+"")}var x_=uE;var pE=9007199254740991;function hE(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=pE}var Yl=hE;function fE(i){return i!=null&&Yl(i.length)&&!Fo(i)}var jo=fE;function _E(i,t,e){if(!Ai(e))return!1;var n=typeof t;return(n=="number"?jo(e)&&$l(t,e.length):n=="string"&&t in e)?hr(e[t],i):!1}var w_=_E;function gE(i){return x_(function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,l=r>2?e[2]:void 0;for(o=i.length>3&&typeof o=="function"?(r--,o):void 0,l&&w_(e[0],e[1],l)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var m=e[n];m&&i(t,m,n,o)}return t})}var C_=gE;var bE=Object.prototype;function vE(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||bE;return i===e}var Ql=vE;function yE(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}var S_=yE;var xE="[object Arguments]";function wE(i){return Sn(i)&&pr(i)==xE}var hu=wE;var E_=Object.prototype,CE=E_.hasOwnProperty,SE=E_.propertyIsEnumerable,EE=hu(function(){return arguments}())?hu:function(i){return Sn(i)&&CE.call(i,"callee")&&!SE.call(i,"callee")},Ka=EE;function kE(){return!1}var k_=kE;var I_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,T_=I_&&typeof module=="object"&&module&&!module.nodeType&&module,TE=T_&&T_.exports===I_,M_=TE?Ki.Buffer:void 0,ME=M_?M_.isBuffer:void 0,IE=ME||k_,Kl=IE;var DE="[object Arguments]",AE="[object Array]",PE="[object Boolean]",OE="[object Date]",VE="[object Error]",RE="[object Function]",FE="[object Map]",NE="[object Number]",LE="[object Object]",BE="[object RegExp]",jE="[object Set]",zE="[object String]",HE="[object WeakMap]",UE="[object ArrayBuffer]",WE="[object DataView]",qE="[object Float32Array]",GE="[object Float64Array]",$E="[object Int8Array]",YE="[object Int16Array]",QE="[object Int32Array]",KE="[object Uint8Array]",JE="[object Uint8ClampedArray]",ZE="[object Uint16Array]",XE="[object Uint32Array]",zt={};zt[qE]=zt[GE]=zt[$E]=zt[YE]=zt[QE]=zt[KE]=zt[JE]=zt[ZE]=zt[XE]=!0;zt[DE]=zt[AE]=zt[UE]=zt[PE]=zt[WE]=zt[OE]=zt[VE]=zt[RE]=zt[FE]=zt[NE]=zt[LE]=zt[BE]=zt[jE]=zt[zE]=zt[HE]=!1;function ek(i){return Sn(i)&&Yl(i.length)&&!!zt[pr(i)]}var D_=ek;function tk(i){return function(t){return i(t)}}var A_=tk;var P_=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ja=P_&&typeof module=="object"&&module&&!module.nodeType&&module,ik=Ja&&Ja.exports===P_,fu=ik&&Wl.process,nk=function(){try{var i=Ja&&Ja.require&&Ja.require("util").types;return i||fu&&fu.binding&&fu.binding("util")}catch{}}(),_u=nk;var O_=_u&&_u.isTypedArray,rk=O_?A_(O_):D_,Jl=rk;var ok=Object.prototype,ak=ok.hasOwnProperty;function sk(i,t){var e=Qa(i),n=!e&&Ka(i),r=!e&&!n&&Kl(i),o=!e&&!n&&!r&&Jl(i),l=e||n||r||o,m=l?S_(i.length,String):[],h=m.length;for(var b in i)(t||ak.call(i,b))&&!(l&&(b=="length"||r&&(b=="offset"||b=="parent")||o&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||$l(b,h)))&&m.push(b);return m}var V_=sk;function lk(i,t){return function(e){return i(t(e))}}var R_=lk;function ck(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}var F_=ck;var dk=Object.prototype,mk=dk.hasOwnProperty;function uk(i){if(!Ai(i))return F_(i);var t=Ql(i),e=[];for(var n in i)n=="constructor"&&(t||!mk.call(i,n))||e.push(n);return e}var N_=uk;function pk(i){return jo(i)?V_(i,!0):N_(i)}var Zl=pk;var hk=No(Object,"create"),Wn=hk;function fk(){this.__data__=Wn?Wn(null):{},this.size=0}var L_=fk;function _k(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var B_=_k;var gk="__lodash_hash_undefined__",bk=Object.prototype,vk=bk.hasOwnProperty;function yk(i){var t=this.__data__;if(Wn){var e=t[i];return e===gk?void 0:e}return vk.call(t,i)?t[i]:void 0}var j_=yk;var xk=Object.prototype,wk=xk.hasOwnProperty;function Ck(i){var t=this.__data__;return Wn?t[i]!==void 0:wk.call(t,i)}var z_=Ck;var Sk="__lodash_hash_undefined__";function Ek(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Wn&&t===void 0?Sk:t,this}var H_=Ek;function zo(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}zo.prototype.clear=L_;zo.prototype.delete=B_;zo.prototype.get=j_;zo.prototype.has=z_;zo.prototype.set=H_;var gu=zo;function kk(){this.__data__=[],this.size=0}var U_=kk;function Tk(i,t){for(var e=i.length;e--;)if(hr(i[e][0],t))return e;return-1}var fr=Tk;var Mk=Array.prototype,Ik=Mk.splice;function Dk(i){var t=this.__data__,e=fr(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Ik.call(t,e,1),--this.size,!0}var W_=Dk;function Ak(i){var t=this.__data__,e=fr(t,i);return e<0?void 0:t[e][1]}var q_=Ak;function Pk(i){return fr(this.__data__,i)>-1}var G_=Pk;function Ok(i,t){var e=this.__data__,n=fr(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}var $_=Ok;function Ho(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Ho.prototype.clear=U_;Ho.prototype.delete=W_;Ho.prototype.get=q_;Ho.prototype.has=G_;Ho.prototype.set=$_;var _r=Ho;var Vk=No(Ki,"Map"),Xl=Vk;function Rk(){this.size=0,this.__data__={hash:new gu,map:new(Xl||_r),string:new gu}}var Y_=Rk;function Fk(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}var Q_=Fk;function Nk(i,t){var e=i.__data__;return Q_(t)?e[typeof t=="string"?"string":"hash"]:e.map}var gr=Nk;function Lk(i){var t=gr(this,i).delete(i);return this.size-=t?1:0,t}var K_=Lk;function Bk(i){return gr(this,i).get(i)}var J_=Bk;function jk(i){return gr(this,i).has(i)}var Z_=jk;function zk(i,t){var e=gr(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}var X_=zk;function Uo(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Uo.prototype.clear=Y_;Uo.prototype.delete=K_;Uo.prototype.get=J_;Uo.prototype.has=Z_;Uo.prototype.set=X_;var eg=Uo;var Hk=R_(Object.getPrototypeOf,Object),ec=Hk;var Uk="[object Object]",Wk=Function.prototype,qk=Object.prototype,tg=Wk.toString,Gk=qk.hasOwnProperty,$k=tg.call(Object);function Yk(i){if(!Sn(i)||pr(i)!=Uk)return!1;var t=ec(i);if(t===null)return!0;var e=Gk.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&tg.call(e)==$k}var ig=Yk;function Qk(){this.__data__=new _r,this.size=0}var ng=Qk;function Kk(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}var rg=Kk;function Jk(i){return this.__data__.get(i)}var og=Jk;function Zk(i){return this.__data__.has(i)}var ag=Zk;var Xk=200;function eT(i,t){var e=this.__data__;if(e instanceof _r){var n=e.__data__;if(!Xl||n.length<Xk-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new eg(n)}return e.set(i,t),this.size=e.size,this}var sg=eT;function Wo(i){var t=this.__data__=new _r(i);this.size=t.size}Wo.prototype.clear=ng;Wo.prototype.delete=rg;Wo.prototype.get=og;Wo.prototype.has=ag;Wo.prototype.set=sg;var lg=Wo;var ug=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cg=ug&&typeof module=="object"&&module&&!module.nodeType&&module,tT=cg&&cg.exports===ug,dg=tT?Ki.Buffer:void 0,mg=dg?dg.allocUnsafe:void 0;function iT(i,t){if(t)return i.slice();var e=i.length,n=mg?mg(e):new i.constructor(e);return i.copy(n),n}var pg=iT;var nT=Ki.Uint8Array,bu=nT;function rT(i){var t=new i.constructor(i.byteLength);return new bu(t).set(new bu(i)),t}var hg=rT;function oT(i,t){var e=t?hg(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var fg=oT;function aT(i){return typeof i.constructor=="function"&&!Ql(i)?d_(ec(i)):{}}var _g=aT;function sT(i){return function(t,e,n){for(var r=-1,o=Object(t),l=n(t),m=l.length;m--;){var h=l[i?m:++r];if(e(o[h],h,o)===!1)break}return t}}var gg=sT;var lT=gg(),bg=lT;function cT(i,t,e){(e!==void 0&&!hr(i[t],e)||e===void 0&&!(t in i))&&Bo(i,t,e)}var Za=cT;function dT(i){return Sn(i)&&jo(i)}var vg=dT;function mT(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}var Xa=mT;function uT(i){return b_(i,Zl(i))}var yg=uT;function pT(i,t,e,n,r,o,l){var m=Xa(i,e),h=Xa(t,e),b=l.get(h);if(b){Za(i,e,b);return}var y=o?o(m,h,e+"",i,t,l):void 0,w=y===void 0;if(w){var k=Qa(h),T=!k&&Kl(h),I=!k&&!T&&Jl(h);y=h,k||T||I?Qa(m)?y=m:vg(m)?y=u_(m):T?(w=!1,y=pg(h,!0)):I?(w=!1,y=fg(h,!0)):y=[]:ig(h)||Ka(h)?(y=m,Ka(m)?y=yg(m):(!Ai(m)||Fo(m))&&(y=_g(h))):w=!1}w&&(l.set(h,y),r(y,h,n,o,l),l.delete(h)),Za(i,e,y)}var xg=pT;function wg(i,t,e,n,r){i!==t&&bg(t,function(o,l){if(r||(r=new lg),Ai(o))xg(i,t,l,e,wg,n,r);else{var m=n?n(Xa(i,l),o,l+"",i,t,r):void 0;m===void 0&&(m=o),Za(i,l,m)}},Zl)}var Cg=wg;var hT=C_(function(i,t,e){Cg(i,t,e)}),tc=hT;var Sg=new gt("Configuration for ngCharts");function Eg(...i){return{registerables:[...Xf,...i]}}function kg(...i){let t=tc({},...i);return{provide:Sg,useValue:t}}var fT=(()=>{class i{constructor(){this.colorschemesOptions=new hn(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ic=(()=>{class i{constructor(e,n,r,o){this.zone=n,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new Te,this.chartHover=new Te,this.subs=[],this.themeOverrides={},o?.registerables&&jl.register(...o.registerables),o?.defaults&&Vt.set(o.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Or()).subscribe(l=>this.themeChanged(l)))}ngOnChanges(e){let n=["type"],r=Object.getOwnPropertyNames(e);if(r.some(o=>n.includes(o))||r.every(o=>e[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new jl(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,n){this.chart&&(this.chart.getDatasetMeta(e).hidden=n,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return tc({onHover:(e,n)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:n}))},onClick:(e,n)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:n}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(n){return new(n||i)(E(De),E(ot),E(fT),E(Sg,8))}}static{this.\u0275dir=Se({type:i,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[jt]})}}return i})();var qn=class i{constructor(t,e,n){this.lsService=t;this.router=e;this.route=n}canActivate(t,e){return this.lsService.get(W.tokenName)!=null?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||i)(B(te),B(He),B(Ge))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var nc={redirectLogin(i){let t=i.get(W.userName),e="/admin/dashboard";return console.log(t),e}};var es=class i{constructor(t,e){this.lsService=t;this.router=e}canActivate(t,e){if(this.lsService.get(W.tokenName)!=null){let n=nc.redirectLogin(this.lsService);return this.router.navigate([n]),!1}else return!0}static \u0275fac=function(e){return new(e||i)(B(te),B(He))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var rc=class i{constructor(t,e){this.lsService=t;this.router=e}canActivate(t,e){return this.lsService.get(W.tokenName)!=null?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||i)(B(te),B(He))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var yu;try{yu=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yu=!1}var ai=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?jr(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||yu)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(B(ka))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ts;function _T(){if(ts==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ts=!0}))}finally{ts=ts||!1}return ts}function br(i){return _T()?i:!!i.capture}var Kr;function Tg(){if(Kr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Kr=!1,Kr;if("scrollBehavior"in document.documentElement.style)Kr=!0;else{let i=Element.prototype.scrollTo;i?Kr=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Kr=!1}}return Kr}var vu;function gT(){if(vu==null){let i=typeof document<"u"?document.head:null;vu=!!(i&&(i.createShadowRoot||i.attachShadow))}return vu}function Mg(i){if(gT()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function mn(i){return i.composedPath?i.composedPath()[0]:i.target}function is(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ig(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function oc(i){return i!=null&&`${i}`!="false"}function rs(i,t=0){return bT(i)?Number(i):arguments.length===2?t:0}function bT(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function qo(i){return Array.isArray(i)?i:[i]}function ei(i){return i==null?"":typeof i=="string"?i:`${i}px`}function Gn(i){return i instanceof De?i.nativeElement:i}var vT=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ac=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[vT]})}}return i})();var Dg=new Set,Jr,yT=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wT}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&xT(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(B(ai),B(uh,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xT(i,t){if(!Dg.has(i))try{Jr||(Jr=document.createElement("style"),t&&Jr.setAttribute("nonce",t),Jr.setAttribute("type","text/css"),document.head.appendChild(Jr)),Jr.sheet&&(Jr.sheet.insertRule(`@media ${i} {body{ }}`,0),Dg.add(i))}catch(e){console.error(e)}}function wT(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Pg=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Ag(qo(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=Ag(qo(e)).map(l=>this._registerQuery(l).observable),o=Wd(r);return o=nh(o.pipe(uo(1)),o.pipe(po(1),xa(0))),o.pipe(rn(l=>{let m={matches:!1,breakpoints:{}};return l.forEach(({matches:h,query:b})=>{m.matches=m.matches||h,m.breakpoints[b]=h}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new Zn(l=>{let m=h=>this._zone.run(()=>l.next(h));return n.addListener(m),()=>{n.removeListener(m)}}).pipe(Vr(n),rn(({matches:l})=>({query:e,matches:l})),tt(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static{this.\u0275fac=function(n){return new(n||i)(B(yT),B(ot))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ag(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Fg=" ";function kT(i,t,e){let n=dc(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(Fg)))}function TT(i,t,e){let n=dc(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(Fg)):i.removeAttribute(t)}function dc(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var Ng="cdk-describedby-message",sc="cdk-describedby-host",Cu=0,Lg=(()=>{class i{constructor(e,n){this._platform=n,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${Cu++}`,this._document=e,this._id=ce(mh)+"-"+Cu++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=xu(n,r);typeof n!="string"?(Og(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=xu(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let l=this._messageRegistry.get(o);l&&l.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${sc}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(sc);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");Og(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(xu(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=dc(e,"aria-describedby").filter(r=>r.indexOf(Ng)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);kT(e,"aria-describedby",r.messageElement.id),e.setAttribute(sc,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,TT(e,"aria-describedby",r.messageElement.id),e.removeAttribute(sc)}_isElementDescribedByMessage(e,n){let r=dc(e,"aria-describedby"),o=this._messageRegistry.get(n),l=o&&o.messageElement.id;return!!l&&r.indexOf(l)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(n){return new(n||i)(B(it),B(ai))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xu(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function Og(i,t){i.id||(i.id=`${Ng}-${t}-${Cu++}`)}function Su(i){return i.buttons===0||i.detail===0}function Eu(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var MT=new gt("cdk-input-modality-detector-options"),IT={ignoreKeys:[18,17,224,91,16]},Bg=650,Go=br({passive:!0,capture:!0}),DT=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new hn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(m=>m===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mn(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<Bg||(this._modality.next(Su(l)?"keyboard":"mouse"),this._mostRecentTarget=mn(l))},this._onTouchstart=l=>{if(Eu(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mn(l)},this._options=Ie(Ie({},IT),o),this.modalityDetected=this._modality.pipe(po(1)),this.modalityChanged=this.modalityDetected.pipe(Or()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Go),r.addEventListener("mousedown",this._onMousedown,Go),r.addEventListener("touchstart",this._onTouchstart,Go)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Go),document.removeEventListener("mousedown",this._onMousedown,Go),document.removeEventListener("touchstart",this._onTouchstart,Go))}static{this.\u0275fac=function(n){return new(n||i)(B(ai),B(ot),B(it),B(MT,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var cc=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(cc||{}),AT=new gt("cdk-focus-monitor-default-options"),lc=br({passive:!0,capture:!0}),jg=(()=>{class i{constructor(e,n,r,o,l){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pe,this._rootNodeFocusAndBlurListener=m=>{let h=mn(m);for(let b=h;b;b=b.parentElement)m.type==="focus"?this._onFocus(m,b):this._onBlur(m,b)},this._document=o,this._detectionMode=l?.detectionMode||cc.IMMEDIATE}monitor(e,n=!1){let r=Gn(e);if(!this._platform.isBrowser||r.nodeType!==1)return Xn();let o=Mg(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return n&&(l.checkChildren=!0),l.subject;let m={checkChildren:n,subject:new Pe,rootNode:o};return this._elementInfo.set(r,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){let n=Gn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Gn(e),l=this._getDocument().activeElement;o===l?this._getClosestElementsInfo(o).forEach(([m,h])=>this._originChanged(m,n,h)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===cc.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===cc.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Bg:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=mn(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,lc),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,lc)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(tt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lc),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lc),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let l=0;l<o.length;l++)if(o[l].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||i)(B(ot),B(ai),B(DT),B(it,8),B(AT,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zr=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Zr||{}),Vg="cdk-high-contrast-black-on-white",Rg="cdk-high-contrast-white-on-black",wu="cdk-high-contrast-active",ku=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=ce(Pg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zr.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zr.BLACK_ON_WHITE}return Zr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(wu,Vg,Rg),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Zr.BLACK_ON_WHITE?e.add(wu,Vg):n===Zr.WHITE_ON_BLACK&&e.add(wu,Rg)}}static{this.\u0275fac=function(n){return new(n||i)(B(ai),B(it))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),zg=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(n){return new(n||i)(B(ku))}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[ac]})}}return i})();var PT=new gt("cdk-dir-doc",{providedIn:"root",factory:OT});function OT(){return ce(it)}var VT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function RT(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?VT.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var mc=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new Te,e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=RT(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||i)(B(PT,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vr=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();function NT(){return!0}var LT=new gt("mat-sanity-checks",{providedIn:"root",factory:NT}),Tt=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return is()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(B(ku),B(LT,8),B(it))}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[vr,vr]})}}return i})();var Ji=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Ji||{}),Tu=class{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=Ji.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Wg=br({passive:!0,capture:!0}),Mu=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=mn(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,n,r){let o=this._events.get(e);if(o){let l=o.get(n);l?l.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Wg)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Wg)))}},qg={enterDuration:225,exitDuration:150},BT=800,Gg=br({passive:!0,capture:!0}),$g=["mousedown","touchstart"],Yg=["mouseup","mouseleave","touchend","touchcancel"],Iu=class i{static{this._eventManager=new Mu}constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gn(n))}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Ie(Ie({},qg),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let l=n.radius||jT(t,e,r),m=t-r.left,h=e-r.top,b=o.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=`${m-l}px`,y.style.top=`${h-l}px`,y.style.height=`${l*2}px`,y.style.width=`${l*2}px`,n.color!=null&&(y.style.backgroundColor=n.color),y.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(y);let w=window.getComputedStyle(y),k=w.transitionProperty,T=w.transitionDuration,I=k==="none"||T==="0s"||T==="0s, 0s"||r.width===0&&r.height===0,M=new Tu(this,y,n,I);y.style.transform="scale3d(1, 1, 1)",M.state=Ji.FADING_IN,n.persistent||(this._mostRecentTransientRipple=M);let R=null;return!I&&(b||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let N=()=>{R&&(R.fallbackTimer=null),clearTimeout(K),this._finishRippleTransition(M)},L=()=>this._destroyRipple(M),K=setTimeout(L,b+100);y.addEventListener("transitionend",N),y.addEventListener("transitioncancel",L),R={onTransitionEnd:N,onTransitionCancel:L,fallbackTimer:K}}),this._activeRipples.set(M,R),(I||!b)&&this._finishRippleTransition(M),M}fadeOutRipple(t){if(t.state===Ji.FADING_OUT||t.state===Ji.HIDDEN)return;let e=t.element,n=Ie(Ie({},qg),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Ji.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Gn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,$g.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Yg.forEach(e=>{this._triggerElement.addEventListener(e,this,Gg)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ji.FADING_IN?this._startFadeOutTransition(t):t.state===Ji.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Ji.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ji.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Su(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+BT;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Eu(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Ji.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ji.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&($g.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Yg.forEach(e=>t.removeEventListener(e,this,Gg)),this._pointerUpEventsRegistered=!1))}};function jT(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var $o=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Tt]})}}return i})();var Qg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt]})}}return i})();var Kg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,$o,Tt]})}}return i})();var Jg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Tt]})}}return i})();var Zg=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Tt]})}}return i})();var lb=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(E(qi),E(De))}}static{this.\u0275dir=Se({type:i})}}return i})(),Zo=(()=>{class i extends lb{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,features:[At]})}}return i})(),wi=new gt(""),zT={provide:wi,useExisting:Ut(()=>ms),multi:!0},ms=(()=>{class i extends Zo{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&v("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[ct([zT]),At]})}}return i})(),HT={provide:wi,useExisting:Ut(()=>oe),multi:!0};function UT(){let i=Zd()?Zd().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var WT=new gt(""),oe=(()=>{class i extends lb{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!UT())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(E(qi),E(De),E(WT,8))}}static{this.\u0275dir=Se({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&v("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[ct([HT]),At]})}}return i})();function yr(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function cb(i){return i!=null&&typeof i.length=="number"}var Qn=new gt(""),xc=new gt(""),qT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xr=class{static min(t){return db(t)}static max(t){return mb(t)}static required(t){return ub(t)}static requiredTrue(t){return GT(t)}static email(t){return $T(t)}static minLength(t){return pb(t)}static maxLength(t){return hb(t)}static pattern(t){return YT(t)}static nullValidator(t){return pc(t)}static compose(t){return yb(t)}static composeAsync(t){return xb(t)}};function db(i){return t=>{if(yr(t.value)||yr(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function mb(i){return t=>{if(yr(t.value)||yr(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function ub(i){return yr(i.value)?{required:!0}:null}function GT(i){return i.value===!0?null:{required:!0}}function $T(i){return yr(i.value)||qT.test(i.value)?null:{email:!0}}function pb(i){return t=>yr(t.value)||!cb(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function hb(i){return t=>cb(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function YT(i){if(!i)return pc;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(yr(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function pc(i){return null}function fb(i){return i!=null}function _b(i){return Ch(i)?th(i):i}function gb(i){let t={};return i.forEach(e=>{t=e!=null?Ie(Ie({},t),e):t}),Object.keys(t).length===0?null:t}function bb(i,t){return t.map(e=>e(i))}function QT(i){return!i.validate}function vb(i){return i.map(t=>QT(t)?t:e=>t.validate(e))}function yb(i){if(!i)return null;let t=i.filter(fb);return t.length==0?null:function(e){return gb(bb(e,t))}}function Ru(i){return i!=null?yb(vb(i)):null}function xb(i){if(!i)return null;let t=i.filter(fb);return t.length==0?null:function(e){let n=bb(e,t).map(_b);return rh(n).pipe(rn(gb))}}function Fu(i){return i!=null?xb(vb(i)):null}function Xg(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function wb(i){return i._rawValidators}function Cb(i){return i._rawAsyncValidators}function Du(i){return i?Array.isArray(i)?i:[i]:[]}function hc(i,t){return Array.isArray(i)?i.includes(t):i===t}function eb(i,t){let e=Du(t);return Du(i).forEach(r=>{hc(e,r)||e.push(r)}),e}function tb(i,t){return Du(t).filter(e=>!hc(i,e))}var fc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ru(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Fu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Yn=class extends fc{get formDirective(){return null}get path(){return null}},xr=class extends fc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},_c=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},DY=_t(Ie({},KT),{"[class.ng-submitted]":"isSubmitted"}),ae=(()=>{class i extends _c{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(E(xr,2))}}static{this.\u0275dir=Se({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&$e("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[At]})}}return i})(),ue=(()=>{class i extends _c{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(E(Yn,10))}}static{this.\u0275dir=Se({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&$e("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[At]})}}return i})();var os="VALID",uc="INVALID",Yo="PENDING",as="DISABLED",wr=class{},gc=class extends wr{constructor(t,e){super(),this.value=t,this.source=e}},ls=class extends wr{constructor(t,e){super(),this.pristine=t,this.source=e}},cs=class extends wr{constructor(t,e){super(),this.touched=t,this.source=e}},Qo=class extends wr{constructor(t,e){super(),this.status=t,this.source=e}},Au=class extends wr{constructor(t){super(),this.source=t}},Pu=class extends wr{constructor(t){super(),this.source=t}};function Nu(i){return(wc(i)?i.validators:i)||null}function JT(i){return Array.isArray(i)?Ru(i):i||null}function Lu(i,t){return(wc(t)?t.asyncValidators:i)||null}function ZT(i){return Array.isArray(i)?Fu(i):i||null}function wc(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Sb(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Rr(1e3,"");if(!n[e])throw new Rr(1001,"")}function Eb(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new Rr(1002,"")})}var Ko=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Lr(()=>this.statusReactive()),this.statusReactive=Fi(void 0),this._pristine=Lr(()=>this.pristineReactive()),this.pristineReactive=Fi(!0),this._touched=Lr(()=>this.touchedReactive()),this.touchedReactive=Fi(!1),this._events=new Pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Gi(this.statusReactive)}set status(t){Gi(()=>this.statusReactive.set(t))}get valid(){return this.status===os}get invalid(){return this.status===uc}get pending(){return this.status==Yo}get disabled(){return this.status===as}get enabled(){return this.status!==as}get pristine(){return Gi(this.pristineReactive)}set pristine(t){Gi(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Gi(this.touchedReactive)}set touched(t){Gi(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(eb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(eb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(tb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(tb(t,this._rawAsyncValidators))}hasValidator(t){return hc(this._rawValidators,t)}hasAsyncValidator(t){return hc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(_t(Ie({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new cs(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new cs(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(_t(Ie({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new ls(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new ls(!0,n))}markAsPending(t={}){this.status=Yo;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Qo(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(_t(Ie({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=as,this.errors=null,this._forEachChild(r=>{r.disable(_t(Ie({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gc(this.value,n)),this._events.next(new Qo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_t(Ie({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=os,this._forEachChild(n=>{n.enable(_t(Ie({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(_t(Ie({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===Yo)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new gc(this.value,e)),this._events.next(new Qo(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(_t(Ie({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?as:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=_b(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Qo(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?as:this.errors?uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus(uc)?uc:os}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ls(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new cs(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JT(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ZT(this._rawAsyncValidators)}},Jo=class extends Ko{constructor(t,e,n){super(Nu(e),Lu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Eb(this,!0,t),Object.keys(t).forEach(n=>{Sb(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ou=class extends Jo{};var Xo=new gt("CallSetDisabledState",{providedIn:"root",factory:()=>us}),us="always";function kb(i,t){return[...t.path,i]}function bc(i,t,e=us){Bu(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),eM(i,t),iM(i,t),tM(i,t),XT(i,t)}function ib(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),yc(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function vc(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function XT(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Bu(i,t){let e=wb(i);t.validator!==null?i.setValidators(Xg(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Cb(i);t.asyncValidator!==null?i.setAsyncValidators(Xg(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();vc(t._rawValidators,r),vc(t._rawAsyncValidators,r)}function yc(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=wb(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,i.setValidators(o))}}if(t.asyncValidator!==null){let r=Cb(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,i.setAsyncValidators(o))}}}let n=()=>{};return vc(t._rawValidators,n),vc(t._rawAsyncValidators,n),e}function eM(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Tb(i,t)})}function tM(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Tb(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function Tb(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function iM(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function Mb(i,t){i==null,Bu(i,t)}function nM(i,t){return yc(i,t)}function Ib(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function rM(i){return Object.getPrototypeOf(i.constructor)===Zo}function Db(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Ab(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(o=>{o.constructor===oe?e=o:rM(o)?n=o:r=o}),r||n||e||null}function oM(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}var aM={provide:Yn,useExisting:Ut(()=>he)},ss=Promise.resolve(),he=(()=>{class i extends Yn{get submitted(){return Gi(this.submittedReactive)}constructor(e,n,r){super(),this.callSetDisabledState=r,this._submitted=Lr(()=>this.submittedReactive()),this.submittedReactive=Fi(!1),this._directives=new Set,this.ngSubmit=new Te,this.form=new Jo({},Ru(e),Fu(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ss.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),bc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ss.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ss.then(()=>{let n=this._findContainer(e.path),r=new Jo({});Mb(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ss.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){ss.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Db(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(n){return new(n||i)(E(Qn,10),E(xc,10),E(Xo,8))}}static{this.\u0275dir=Se({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&v("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([aM]),At]})}}return i})();function nb(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function rb(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ds=class extends Ko{constructor(t=null,e,n){super(Nu(e),Lu(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(rb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){rb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var sM=i=>i instanceof ds;var lM={provide:xr,useExisting:Ut(()=>le)},ob=Promise.resolve(),le=(()=>{class i extends xr{constructor(e,n,r,o,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new ds,this._registered=!1,this.name="",this.update=new Te,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ab(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ib(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){ob.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Nr(n);ob.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?kb(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(E(Yn,9),E(Qn,10),E(xc,10),E(wi,10),E(Pt,8),E(Xo,8))}}static{this.\u0275dir=Se({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ct([lM]),At,jt]})}}return i})(),pe=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Se({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),cM={provide:wi,useExisting:Ut(()=>ju),multi:!0},ju=(()=>{class i extends Zo{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&v("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[ct([cM]),At]})}}return i})(),dM={provide:wi,useExisting:Ut(()=>Le),multi:!0};var mM=(()=>{class i{constructor(){this._accessors=[]}add(e,n){this._accessors.push([e,n])}remove(e){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===e){this._accessors.splice(n,1);return}}select(e){this._accessors.forEach(n=>{this._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}_isSameGroup(e,n){return e[0].control?e[0]._parent===n._control._parent&&e[1].name===n.name:!1}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Le=(()=>{class i extends Zo{constructor(e,n,r,o){super(e,n),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=ce(Xo,{optional:!0})??us}ngOnInit(){this._control=this._injector.get(xr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(n){return new(n||i)(E(qi),E(De),E(mM),E(Dt))}}static{this.\u0275dir=Se({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,r){n&1&&v("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ct([dM]),At]})}}return i})();var Pb=new gt("");var uM={provide:Yn,useExisting:Ut(()=>zu)},zu=(()=>{class i extends Yn{get submitted(){return Gi(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,n,r){super(),this.callSetDisabledState=r,this._submitted=Lr(()=>this._submittedReactive()),this._submittedReactive=Fi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return bc(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){ib(e.control||null,e,!1),oM(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Db(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Au(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Pu(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(ib(n||null,e),sM(r)&&(bc(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Mb(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&nM(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bu(this.form,this),this._oldForm&&yc(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(E(Qn,10),E(xc,10),E(Xo,8))}}static{this.\u0275dir=Se({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&v("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ct([uM]),At,jt]})}}return i})();var pM={provide:xr,useExisting:Ut(()=>Hu)},Hu=(()=>{class i extends xr{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Ab(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Ib(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(E(Yn,13),E(Qn,10),E(xc,10),E(wi,10),E(Pb,8))}}static{this.\u0275dir=Se({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ct([pM]),At,jt]})}}return i})(),hM={provide:wi,useExisting:Ut(()=>Ne),multi:!0};function Ob(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function fM(i){return i.split(":")[0]}var Ne=(()=>{class i extends Zo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n=this._getOptionId(e),r=Ob(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=fM(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&v("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([hM]),At]})}}return i})(),Ee=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ob(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(E(De),E(qi),E(Ne,9))}}static{this.\u0275dir=Se({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})(),_M={provide:wi,useExisting:Ut(()=>Vb),multi:!0};function ab(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function gM(i){return i.split(":")[0]}var Vb=(()=>{class i extends Zo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,l)=>{o._setSelected(r.indexOf(l.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let l=o;for(let m=0;m<l.length;m++){let h=l[m],b=this._getOptionValue(h.value);r.push(b)}}else{let l=n.options;for(let m=0;m<l.length;m++){let h=l[m];if(h.selected){let b=this._getOptionValue(h.value);r.push(b)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=gM(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&v("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[ct([_M]),At]})}}return i})(),ke=(()=>{class i{constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(ab(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ab(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(n){return new(n||i)(E(De),E(qi),E(Vb,9))}}static{this.\u0275dir=Se({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return i})();function Rb(i){return typeof i=="number"?i:parseInt(i,10)}function Fb(i){return typeof i=="number"?i:parseFloat(i)}var ps=(()=>{class i{constructor(){this._validator=pc}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):pc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Se({type:i,features:[jt]})}}return i})(),bM={provide:Qn,useExisting:Ut(()=>Uu),multi:!0},Uu=(()=>{class i extends ps{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>Fb(e),this.createValidator=e=>mb(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ze("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[ct([bM]),At]})}}return i})(),vM={provide:Qn,useExisting:Ut(()=>Wu),multi:!0},Wu=(()=>{class i extends ps{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>Fb(e),this.createValidator=e=>db(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ze("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[ct([vM]),At]})}}return i})(),yM={provide:Qn,useExisting:Ut(()=>Ce),multi:!0};var Ce=(()=>{class i extends ps{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Nr,this.createValidator=e=>ub}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ze("required",r._enabled?"":null)},inputs:{required:"required"},features:[ct([yM]),At]})}}return i})();var xM={provide:Qn,useExisting:Ut(()=>hs),multi:!0},hs=(()=>{class i extends ps{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>Rb(e),this.createValidator=e=>pb(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ze("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[ct([xM]),At]})}}return i})(),wM={provide:Qn,useExisting:Ut(()=>qu),multi:!0},qu=(()=>{class i extends ps{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>Rb(e),this.createValidator=e=>hb(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,r){n&2&&Ze("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ct([wM]),At]})}}return i})();var Nb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),Vu=class extends Ko{constructor(t,e,n){super(Nu(e),Lu(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Eb(this,!1,t),t.forEach((n,r)=>{Sb(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function sb(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Lb=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),o={};return sb(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new Jo(r,o)}record(e,n=null){let r=this._reduceControls(e);return new Ou(r,n)}control(e,n,r){let o={};return this.useNonNullable?(sb(n)?o=n:(o.validators=n,o.asyncValidators=r),new ds(e,_t(Ie({},o),{nonNullable:!0}))):new ds(e,n,r)}array(e,n,r){let o=e.map(l=>this._createControl(l));return new Vu(o,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof ds)return e;if(e instanceof Ko)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(n,r,o)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ie=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Xo,useValue:e.callSetDisabledState??us}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Nb]})}}return i})(),Cc=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Pb,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Xo,useValue:e.callSetDisabledState??us}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Nb]})}}return i})();var Bb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[ac,J,Tt,$o,Qg,Zg]})}}return i})();var CM=20,fs=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new Pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=CM){return this._platform.isBrowser?new Zn(n=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(ya(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(xi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Gn(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return ci(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||i)(B(ot),B(ai),B(it,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var SM=20,Sc=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new Pe,this._changeListener=o=>{this._change.next(o)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),l=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,m=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:l,left:m}}change(e=SM){return e>0?this._change.pipe(ya(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||i)(B(ai),B(ot),B(it,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Kn=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),Gu=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[vr,Kn,vr,Kn]})}}return i})();var jb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Kn,Kn,Tt]})}}return i})();var zb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Tt]})}}return i})();var Hb=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var _s=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},gs=class extends _s{constructor(t,e,n,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},bs=class extends _s{constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},$u=class extends _s{constructor(t){super(),this.element=t instanceof De?t.nativeElement:t}},Yu=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof gs)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof bs)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof $u)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ec=class extends Yu{constructor(t,e,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=l=>{this._document;let m=l.element;m.parentNode;let h=this._document.createComment("dom-portal");m.parentNode.insertBefore(h,m),this.outletElement.appendChild(m),this._attachedPortal=l,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(m,h)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Dt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var kc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var Ub=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[Tt,Hb,kc]})}}return i})();var Wb=Tg(),Qu=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ei(-this._previousScrollPosition.left),t.style.top=ei(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Wb&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wb&&(n.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var Ku=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(xi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tc=class{enable(){}disable(){}attach(){}};function Ju(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,l=i.left>e.right;return n||r||o||l})}function qb(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,l=i.right>e.right;return n||r||o||l})}var Zu=class{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Ju(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},TM=(()=>{class i{constructor(e,n,r,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new Tc,this.close=l=>new Ku(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Qu(this._viewportRuler,this._document),this.reposition=l=>new Zu(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static{this.\u0275fac=function(n){return new(n||i)(B(fs),B(Sc),B(ot),B(it))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Mc=class{constructor(t){if(this.scrollStrategy=new Tc,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var Xu=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var Jb=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(n){return new(n||i)(B(it))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),MM=(()=>{class i extends Jb{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{let o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){let m=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>m.next(r)):m.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(n){return new(n||i)(B(it),B(ot,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),IM=(()=>{class i extends Jb{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=mn(o)},this._clickListener=o=>{let l=mn(o),m=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let h=this._attachedOverlays.slice();for(let b=h.length-1;b>-1;b--){let y=h[b];if(y._outsidePointerEvents.observers.length<1||!y.hasAttached())continue;if(Gb(y.overlayElement,l)||Gb(y.overlayElement,m))break;let w=y._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(o)):w.next(o)}}}add(e){if(super.add(e),!this._isAttached){let n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(n){return new(n||i)(B(it),B(ai),B(ot,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Gb(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Zb=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||is()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),is()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static{this.\u0275fac=function(n){return new(n||i)(B(it),B(ai))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ep=class{constructor(t,e,n,r,o,l,m,h,b,y=!1,w){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=m,this._location=h,this._outsideClickDispatcher=b,this._animationsDisabled=y,this._injector=w,this._backdropElement=null,this._backdropClick=new Pe,this._attachments=new Pe,this._detachments=new Pe,this._locationChanges=ba.EMPTY,this._backdropClickHandler=k=>this._backdropClick.next(k),this._backdropTransitionendHandler=k=>{this._disposeBackdrop(k.target)},this._keydownEvents=new Pe,this._outsidePointerEvents=new Pe,this._renders=new Pe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Gi(()=>Yd(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=an(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Ie(Ie({},this._config),t),this._updateElementSize()}setDirection(t){this._config=_t(Ie({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ei(this._config.width),t.height=ei(this._config.height),t.minWidth=ei(this._config.minWidth),t.minHeight=ei(this._config.minHeight),t.maxWidth=ei(this._config.maxWidth),t.maxHeight=ei(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,n){let r=qo(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(tt(Pr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},$b="cdk-overlay-connected-position-bounding-box",DM=/([A-Za-z%]+)$/,tp=class{get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pe,this._resizeSubscription=ba.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add($b),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],l;for(let m of this._preferredPositions){let h=this._getOriginPoint(t,r,m),b=this._getOverlayPoint(h,e,m),y=this._getOverlayFit(b,e,n,m);if(y.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(m,h);return}if(this._canFitWithFlexibleDimensions(y,b,n)){o.push({position:m,origin:h,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(h,m)});continue}(!l||l.overlayFit.visibleArea<y.visibleArea)&&(l={overlayFit:y,overlayPoint:b,originPoint:h,position:m,overlayRect:e})}if(o.length){let m=null,h=-1;for(let b of o){let y=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);y>h&&(h=y,m=b)}this._isPushed=!1,this._applyPosition(m.position,m.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(l.position,l.originPoint);return}this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($b),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let l=this._isRtl()?t.right:t.left,m=this._isRtl()?t.left:t.right;r=n.originX=="start"?l:m}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=Qb(e),{x:l,y:m}=t,h=this._getOffset(r,"x"),b=this._getOffset(r,"y");h&&(l+=h),b&&(m+=b);let y=0-l,w=l+o.width-n.width,k=0-m,T=m+o.height-n.height,I=this._subtractOverflows(o.width,y,w),M=this._subtractOverflows(o.height,k,T),R=I*M;return{visibleArea:R,isCompletelyWithinViewport:o.width*o.height===R,fitsInViewportVertically:M===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,l=Yb(this._overlayRef.getConfig().minHeight),m=Yb(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportVertically||l!=null&&l<=r,b=t.fitsInViewportHorizontally||m!=null&&m<=o;return h&&b}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=Qb(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),m=Math.max(t.y+r.height-o.height,0),h=Math.max(o.top-n.top-t.y,0),b=Math.max(o.left-n.left-t.x,0),y=0,w=0;return r.width<=o.width?y=b||-l:y=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?w=h||-m:w=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:y,y:w},{x:t.x+y,y:t.y+w}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!AM(this._lastScrollVisibility,n)){let r=new Xu(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,l,m;if(e.overlayY==="top")l=t.y,o=n.height-l+this._viewportMargin;else if(e.overlayY==="bottom")m=n.height-t.y+this._viewportMargin*2,o=n.height-m+this._viewportMargin;else{let T=Math.min(n.bottom-t.y+n.top,t.y),I=this._lastBoundingBoxSize.height;o=T*2,l=t.y-T,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-I/2)}let h=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,b=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,y,w,k;if(b)k=n.width-t.x+this._viewportMargin*2,y=t.x-this._viewportMargin;else if(h)w=t.x,y=n.right-t.x;else{let T=Math.min(n.right-t.x+n.left,t.x),I=this._lastBoundingBoxSize.width;y=T*2,w=t.x-T,y>I&&!this._isInitialRender&&!this._growAfterOpen&&(w=t.x-I/2)}return{top:l,left:w,bottom:m,right:k,width:y,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=ei(n.height),r.top=ei(n.top),r.bottom=ei(n.bottom),r.width=ei(n.width),r.left=ei(n.left),r.right=ei(n.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ei(o)),l&&(r.maxWidth=ei(l))}this._lastBoundingBoxSize=n,eo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){eo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){let y=this._viewportRuler.getViewportScrollPosition();eo(n,this._getExactOverlayY(e,t,y)),eo(n,this._getExactOverlayX(e,t,y))}else n.position="static";let m="",h=this._getOffset(e,"x"),b=this._getOffset(e,"y");h&&(m+=`translateX(${h}px) `),b&&(m+=`translateY(${b}px)`),n.transform=m.trim(),l.maxHeight&&(r?n.maxHeight=ei(l.maxHeight):o&&(n.maxHeight="")),l.maxWidth&&(r?n.maxWidth=ei(l.maxWidth):o&&(n.maxWidth="")),eo(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let l=this._document.documentElement.clientHeight;r.bottom=`${l-(o.y+this._overlayRect.height)}px`}else r.top=ei(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let l;if(this._isRtl()?l=t.overlayX==="end"?"left":"right":l=t.overlayX==="end"?"right":"left",l==="right"){let m=this._document.documentElement.clientWidth;r.right=`${m-(o.x+this._overlayRect.width)}px`}else r.left=ei(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qb(t,n),isOriginOutsideView:Ju(t,n),isOverlayClipped:qb(e,n),isOverlayOutsideView:Ju(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qo(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof De)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}};function eo(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Yb(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(DM);return!e||e==="px"?parseFloat(t):null}return i||null}function Qb(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function AM(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var Kb="cdk-global-overlay-wrapper",ip=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Kb),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:m}=n,h=(r==="100%"||r==="100vw")&&(!l||l==="100%"||l==="100vw"),b=(o==="100%"||o==="100vh")&&(!m||m==="100%"||m==="100vh"),y=this._xPosition,w=this._xOffset,k=this._overlayRef.getConfig().direction==="rtl",T="",I="",M="";h?M="flex-start":y==="center"?(M="center",k?I=w:T=w):k?y==="left"||y==="end"?(M="flex-end",T=w):(y==="right"||y==="start")&&(M="flex-start",I=w):y==="left"||y==="start"?(M="flex-start",T=w):(y==="right"||y==="end")&&(M="flex-end",I=w),t.position=this._cssPosition,t.marginLeft=h?"0":T,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=h?"0":I,e.justifyContent=M,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Kb),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},PM=(()=>{class i{constructor(e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o}global(){return new ip}flexibleConnectedTo(e){return new tp(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(n){return new(n||i)(B(Sc),B(it),B(ai),B(Zb))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),OM=0,un=(()=>{class i{constructor(e,n,r,o,l,m,h,b,y,w,k,T){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=m,this._ngZone=h,this._document=b,this._directionality=y,this._location=w,this._outsideClickDispatcher=k,this._animationsModuleType=T}create(e){let n=this._createHostElement(),r=this._createPaneElement(n),o=this._createPortalOutlet(r),l=new Mc(e);return l.direction=l.direction||this._directionality.value,new ep(o,n,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Ea))}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=`cdk-overlay-${OM++}`,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_n)),new Ec(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(n){return new(n||i)(B(TM),B(Zb),B(_o),B(PM),B(MM),B(Dt),B(ot),B(it),B(mc),B(tl),B(IM),B(Fr,8))}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var VM=new gt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=ce(un);return()=>i.scrollStrategies.reposition()}});function RM(i){return()=>i.scrollStrategies.reposition()}var FM={provide:VM,deps:[un],useFactory:RM},Ic=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[un,FM],imports:[vr,kc,Gu,Gu]})}}return i})();var Xb={transformMenu:zr("transformMenu",[gn("void",Li({opacity:0,transform:"scale(0.8)"})),Rn("void => enter",Vn("120ms cubic-bezier(0, 0, 0.2, 1)",Li({opacity:1,transform:"scale(1)"}))),Rn("* => void",Vn("100ms 25ms linear",Li({opacity:0})))]),fadeInItems:zr("fadeInItems",[gn("showing",Li({opacity:1})),Rn("void => *",[Li({opacity:0}),Vn("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},eK=Xb.fadeInItems,tK=Xb.transformMenu;var LM=new gt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let i=ce(un);return()=>i.scrollStrategies.reposition()}});function BM(i){return()=>i.scrollStrategies.reposition()}var jM={provide:LM,deps:[un],useFactory:BM};var ev=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[jM],imports:[J,$o,Tt,Ic,Kn,Tt]})}}return i})();function uv(i,t,e){if(typeof i=="function"?i===t:i.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function zM(i,t){if(t.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tv(i,t){return i.get(uv(i,t))}function HM(i,t,e){zM(i,t),t.set(i,e)}function UM(i,t,e){return i.set(uv(i,t),e),e}var WM=100,ze={},qM=()=>{ze.previousActiveElement instanceof HTMLElement?(ze.previousActiveElement.focus(),ze.previousActiveElement=null):document.body&&document.body.focus()},GM=i=>new Promise(t=>{if(!i)return t();let e=window.scrollX,n=window.scrollY;ze.restoreFocusTimeout=setTimeout(()=>{qM(),t()},WM),window.scrollTo(e,n)}),pv="swal2-",$M=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],z=$M.reduce((i,t)=>(i[t]=pv+t,i),{}),YM=["success","warning","info","question","error"],Ac=YM.reduce((i,t)=>(i[t]=pv+t,i),{}),hv="SweetAlert2:",mp=i=>i.charAt(0).toUpperCase()+i.slice(1),Ci=i=>{console.warn(`${hv} ${typeof i=="object"?i.join(" "):i}`)},ro=i=>{console.error(`${hv} ${i}`)},iv=[],QM=i=>{iv.includes(i)||(iv.push(i),Ci(i))},fv=(i,t=null)=>{QM(`"${i}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},jc=i=>typeof i=="function"?i():i,up=i=>i&&typeof i.toPromise=="function",vs=i=>up(i)?i.toPromise():Promise.resolve(i),pp=i=>i&&Promise.resolve(i)===i,Si=()=>document.body.querySelector(`.${z.container}`),ys=i=>{let t=Si();return t?t.querySelector(i):null},ji=i=>ys(`.${i}`),xt=()=>ji(z.popup),ra=()=>ji(z.icon),KM=()=>ji(z["icon-content"]),_v=()=>ji(z.title),hp=()=>ji(z["html-container"]),gv=()=>ji(z.image),fp=()=>ji(z["progress-steps"]),zc=()=>ji(z["validation-message"]),kn=()=>ys(`.${z.actions} .${z.confirm}`),oa=()=>ys(`.${z.actions} .${z.cancel}`),oo=()=>ys(`.${z.actions} .${z.deny}`),JM=()=>ji(z["input-label"]),aa=()=>ys(`.${z.loader}`),xs=()=>ji(z.actions),bv=()=>ji(z.footer),Hc=()=>ji(z["timer-progress-bar"]),_p=()=>ji(z.close),ZM=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gp=()=>{let i=xt();if(!i)return[];let t=i.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((o,l)=>{let m=parseInt(o.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return m>h?1:m<h?-1:0}),n=i.querySelectorAll(ZM),r=Array.from(n).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(r))].filter(o=>Pi(o))},bp=()=>Jn(document.body,z.shown)&&!Jn(document.body,z["toast-shown"])&&!Jn(document.body,z["no-backdrop"]),Uc=()=>{let i=xt();return i?Jn(i,z.toast):!1},XM=()=>{let i=xt();return i?i.hasAttribute("data-loading"):!1},zi=(i,t)=>{if(i.textContent="",t){let n=new DOMParser().parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach(l=>{i.appendChild(l)});let o=n.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?i.appendChild(l.cloneNode(!0)):i.appendChild(l)})}},Jn=(i,t)=>{if(!t)return!1;let e=t.split(/\s+/);for(let n=0;n<e.length;n++)if(!i.classList.contains(e[n]))return!1;return!0},e3=(i,t)=>{Array.from(i.classList).forEach(e=>{!Object.values(z).includes(e)&&!Object.values(Ac).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&i.classList.remove(e)})},Bi=(i,t,e)=>{if(e3(i,t),!t.customClass)return;let n=t.customClass[e];if(n){if(typeof n!="string"&&!n.forEach){Ci(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof n}"`);return}Ct(i,n)}},Wc=(i,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return i.querySelector(`.${z.popup} > .${z[t]}`);case"checkbox":return i.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return i.querySelector(`.${z.popup} > .${z.radio} input:checked`)||i.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return i.querySelector(`.${z.popup} > .${z.range} input`);default:return i.querySelector(`.${z.popup} > .${z.input}`)}},vv=i=>{if(i.focus(),i.type!=="file"){let t=i.value;i.value="",i.value=t}},yv=(i,t,e)=>{!i||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(n=>{Array.isArray(i)?i.forEach(r=>{e?r.classList.add(n):r.classList.remove(n)}):e?i.classList.add(n):i.classList.remove(n)}))},Ct=(i,t)=>{yv(i,t,!0)},Zi=(i,t)=>{yv(i,t,!1)},Cr=(i,t)=>{let e=Array.from(i.children);for(let n=0;n<e.length;n++){let r=e[n];if(r instanceof HTMLElement&&Jn(r,t))return r}},io=(i,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?i.style.setProperty(t,typeof e=="number"?`${e}px`:e):i.style.removeProperty(t)},si=(i,t="flex")=>{i&&(i.style.display=t)},gi=i=>{i&&(i.style.display="none")},vp=(i,t="block")=>{i&&new MutationObserver(()=>{ws(i,i.innerHTML,t)}).observe(i,{childList:!0,subtree:!0})},nv=(i,t,e,n)=>{let r=i.querySelector(t);r&&r.style.setProperty(e,n)},ws=(i,t,e="flex")=>{t?si(i,e):gi(i)},Pi=i=>!!(i&&(i.offsetWidth||i.offsetHeight||i.getClientRects().length)),t3=()=>!Pi(kn())&&!Pi(oo())&&!Pi(oa()),ap=i=>i.scrollHeight>i.clientHeight,i3=(i,t)=>{let e=i;for(;e&&e!==t;){if(ap(e))return!0;e=e.parentElement}return!1},xv=i=>{let t=window.getComputedStyle(i),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||n>0},yp=(i,t=!1)=>{let e=Hc();e&&Pi(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${i/1e3}s linear`,e.style.width="0%"},10))},n3=()=>{let i=Hc();if(!i)return;let t=parseInt(window.getComputedStyle(i).width);i.style.removeProperty("transition"),i.style.width="100%";let e=parseInt(window.getComputedStyle(i).width),n=t/e*100;i.style.width=`${n}%`},r3=()=>typeof window>"u"||typeof document>"u",o3=`
 <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">
   <button type="button" class="${z.close}"></button>
   <ul class="${z["progress-steps"]}"></ul>
   <div class="${z.icon}"></div>
   <img class="${z.image}" />
   <h2 class="${z.title}" id="${z.title}"></h2>
   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>
   <input class="${z.input}" id="${z.input}" />
   <input type="file" class="${z.file}" />
   <div class="${z.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${z.select}" id="${z.select}"></select>
   <div class="${z.radio}"></div>
   <label class="${z.checkbox}">
     <input type="checkbox" id="${z.checkbox}" />
     <span class="${z.label}"></span>
   </label>
   <textarea class="${z.textarea}" id="${z.textarea}"></textarea>
   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>
   <div class="${z.actions}">
     <div class="${z.loader}"></div>
     <button type="button" class="${z.confirm}"></button>
     <button type="button" class="${z.deny}"></button>
     <button type="button" class="${z.cancel}"></button>
   </div>
   <div class="${z.footer}"></div>
   <div class="${z["timer-progress-bar-container"]}">
     <div class="${z["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),a3=()=>{let i=Si();return i?(i.remove(),Zi([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0):!1},to=()=>{ze.currentInstance.resetValidationMessage()},s3=()=>{let i=xt(),t=Cr(i,z.input),e=Cr(i,z.file),n=i.querySelector(`.${z.range} input`),r=i.querySelector(`.${z.range} output`),o=Cr(i,z.select),l=i.querySelector(`.${z.checkbox} input`),m=Cr(i,z.textarea);t.oninput=to,e.onchange=to,o.onchange=to,l.onchange=to,m.oninput=to,n.oninput=()=>{to(),r.value=n.value},n.onchange=()=>{to(),r.value=n.value}},l3=i=>typeof i=="string"?document.querySelector(i):i,c3=i=>{let t=xt();t.setAttribute("role",i.toast?"alert":"dialog"),t.setAttribute("aria-live",i.toast?"polite":"assertive"),i.toast||t.setAttribute("aria-modal","true")},d3=i=>{window.getComputedStyle(i).direction==="rtl"&&Ct(Si(),z.rtl)},m3=i=>{let t=a3();if(r3()){ro("SweetAlert2 requires document to initialize");return}let e=document.createElement("div");e.className=z.container,t&&Ct(e,z["no-transition"]),zi(e,o3),e.dataset.swal2Theme=i.theme;let n=l3(i.target);n.appendChild(e),i.topLayer&&(e.setAttribute("popover",""),e.showPopover()),c3(i),d3(n),s3()},xp=(i,t)=>{i instanceof HTMLElement?t.appendChild(i):typeof i=="object"?u3(i,t):i&&zi(t,i)},u3=(i,t)=>{i.jquery?p3(t,i):zi(t,i.toString())},p3=(i,t)=>{if(i.textContent="",0 in t)for(let e=0;e in t;e++)i.appendChild(t[e].cloneNode(!0));else i.appendChild(t.cloneNode(!0))},h3=(i,t)=>{let e=xs(),n=aa();!e||!n||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?gi(e):si(e),Bi(e,t,"actions"),f3(e,n,t),zi(n,t.loaderHtml||""),Bi(n,t,"loader"))};function f3(i,t,e){let n=kn(),r=oo(),o=oa();!n||!r||!o||(rp(n,"confirm",e),rp(r,"deny",e),rp(o,"cancel",e),_3(n,r,o,e),e.reverseButtons&&(e.toast?(i.insertBefore(o,n),i.insertBefore(r,n)):(i.insertBefore(o,t),i.insertBefore(r,t),i.insertBefore(n,t))))}function _3(i,t,e,n){if(!n.buttonsStyling){Zi([i,t,e],z.styled);return}Ct([i,t,e],z.styled),n.confirmButtonColor&&i.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&e.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),np(i),np(t),np(e)}function np(i){let t=window.getComputedStyle(i);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let e=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");i.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${e}`))}function rp(i,t,e){let n=mp(t);ws(i,e[`show${n}Button`],"inline-block"),zi(i,e[`${t}ButtonText`]||""),i.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),i.className=z[t],Bi(i,e,`${t}Button`)}var g3=(i,t)=>{let e=_p();e&&(zi(e,t.closeButtonHtml||""),Bi(e,t,"closeButton"),ws(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},b3=(i,t)=>{let e=Si();e&&(v3(e,t.backdrop),y3(e,t.position),x3(e,t.grow),Bi(e,t,"container"))};function v3(i,t){typeof t=="string"?i.style.background=t:t||Ct([document.documentElement,document.body],z["no-backdrop"])}function y3(i,t){t&&(t in z?Ct(i,z[t]):(Ci('The "position" parameter is not valid, defaulting to "center"'),Ct(i,z.center)))}function x3(i,t){t&&Ct(i,z[`grow-${t}`])}var Bt={innerParams:new WeakMap,domCache:new WeakMap},w3=["input","file","range","select","radio","checkbox","textarea"],C3=(i,t)=>{let e=xt();if(!e)return;let n=Bt.innerParams.get(i),r=!n||t.input!==n.input;w3.forEach(o=>{let l=Cr(e,z[o]);l&&(k3(o,t.inputAttributes),l.className=z[o],r&&gi(l))}),t.input&&(r&&S3(t),T3(t))},S3=i=>{if(!i.input)return;if(!ti[i.input]){ro(`Unexpected type of input! Expected ${Object.keys(ti).join(" | ")}, got "${i.input}"`);return}let t=wv(i.input);if(!t)return;let e=ti[i.input](t,i);si(t),i.inputAutoFocus&&setTimeout(()=>{vv(e)})},E3=i=>{for(let t=0;t<i.attributes.length;t++){let e=i.attributes[t].name;["id","type","value","style"].includes(e)||i.removeAttribute(e)}},k3=(i,t)=>{let e=xt();if(!e)return;let n=Wc(e,i);if(n){E3(n);for(let r in t)n.setAttribute(r,t[r])}},T3=i=>{if(!i.input)return;let t=wv(i.input);t&&Bi(t,i,"input")},wp=(i,t)=>{!i.placeholder&&t.inputPlaceholder&&(i.placeholder=t.inputPlaceholder)},Cs=(i,t,e)=>{if(e.inputLabel){let n=document.createElement("label"),r=z["input-label"];n.setAttribute("for",i.id),n.className=r,typeof e.customClass=="object"&&Ct(n,e.customClass.inputLabel),n.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",n)}},wv=i=>{let t=xt();if(t)return Cr(t,z[i]||z.input)},Pc=(i,t)=>{["string","number"].includes(typeof t)?i.value=`${t}`:pp(t)||Ci(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},ti={};ti.text=ti.email=ti.password=ti.number=ti.tel=ti.url=ti.search=ti.date=ti["datetime-local"]=ti.time=ti.week=ti.month=(i,t)=>(Pc(i,t.inputValue),Cs(i,i,t),wp(i,t),i.type=t.input,i);ti.file=(i,t)=>(Cs(i,i,t),wp(i,t),i);ti.range=(i,t)=>{let e=i.querySelector("input"),n=i.querySelector("output");return Pc(e,t.inputValue),e.type=t.input,Pc(n,t.inputValue),Cs(e,i,t),i};ti.select=(i,t)=>{if(i.textContent="",t.inputPlaceholder){let e=document.createElement("option");zi(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,i.appendChild(e)}return Cs(i,i,t),i};ti.radio=i=>(i.textContent="",i);ti.checkbox=(i,t)=>{let e=Wc(xt(),"checkbox");e.value="1",e.checked=!!t.inputValue;let n=i.querySelector("span");return zi(n,t.inputPlaceholder||t.inputLabel),e};ti.textarea=(i,t)=>{Pc(i,t.inputValue),wp(i,t),Cs(i,i,t);let e=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let n=parseInt(window.getComputedStyle(xt()).width),r=()=>{if(!document.body.contains(i))return;let o=i.offsetWidth+e(i);o>n?xt().style.width=`${o}px`:io(xt(),"width",t.width)};new MutationObserver(r).observe(i,{attributes:!0,attributeFilter:["style"]})}}),i};var M3=(i,t)=>{let e=hp();e&&(vp(e),Bi(e,t,"htmlContainer"),t.html?(xp(t.html,e),si(e,"block")):t.text?(e.textContent=t.text,si(e,"block")):gi(e),C3(i,t))},I3=(i,t)=>{let e=bv();e&&(vp(e),ws(e,t.footer,"block"),t.footer&&xp(t.footer,e),Bi(e,t,"footer"))},D3=(i,t)=>{let e=Bt.innerParams.get(i),n=ra();if(!n)return;if(e&&t.icon===e.icon){ov(n,t),rv(n,t);return}if(!t.icon&&!t.iconHtml){gi(n);return}if(t.icon&&Object.keys(Ac).indexOf(t.icon)===-1){ro(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),gi(n);return}si(n),ov(n,t),rv(n,t),Ct(n,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Cv)},rv=(i,t)=>{for(let[e,n]of Object.entries(Ac))t.icon!==e&&Zi(i,n);Ct(i,t.icon&&Ac[t.icon]),O3(i,t),Cv(),Bi(i,t,"icon")},Cv=()=>{let i=xt();if(!i)return;let t=window.getComputedStyle(i).getPropertyValue("background-color"),e=i.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<e.length;n++)e[n].style.backgroundColor=t},A3=i=>`
  ${i.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${i.animation?'<div class="swal2-success-fix"></div>':""}
  ${i.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,P3=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ov=(i,t)=>{if(!t.icon&&!t.iconHtml)return;let e=i.innerHTML,n="";t.iconHtml?n=av(t.iconHtml):t.icon==="success"?(n=A3(t),e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?n=P3:t.icon&&(n=av({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==n.trim()&&zi(i,n)},O3=(i,t)=>{if(t.iconColor){i.style.color=t.iconColor,i.style.borderColor=t.iconColor;for(let e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])nv(i,e,"background-color",t.iconColor);nv(i,".swal2-success-ring","border-color",t.iconColor)}},av=i=>`<div class="${z["icon-content"]}">${i}</div>`,V3=(i,t)=>{let e=gv();if(e){if(!t.imageUrl){gi(e);return}si(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),io(e,"width",t.imageWidth),io(e,"height",t.imageHeight),e.className=z.image,Bi(e,t,"image")}},Cp=!1,Sv=0,Ev=0,kv=0,Tv=0,R3=i=>{i.addEventListener("mousedown",Oc),document.body.addEventListener("mousemove",Vc),i.addEventListener("mouseup",Rc),i.addEventListener("touchstart",Oc),document.body.addEventListener("touchmove",Vc),i.addEventListener("touchend",Rc)},F3=i=>{i.removeEventListener("mousedown",Oc),document.body.removeEventListener("mousemove",Vc),i.removeEventListener("mouseup",Rc),i.removeEventListener("touchstart",Oc),document.body.removeEventListener("touchmove",Vc),i.removeEventListener("touchend",Rc)},Oc=i=>{let t=xt();if(i.target===t||ra().contains(i.target)){Cp=!0;let e=Mv(i);Sv=e.clientX,Ev=e.clientY,kv=parseInt(t.style.insetInlineStart)||0,Tv=parseInt(t.style.insetBlockStart)||0,Ct(t,"swal2-dragging")}},Vc=i=>{let t=xt();if(Cp){let{clientX:e,clientY:n}=Mv(i);t.style.insetInlineStart=`${kv+(e-Sv)}px`,t.style.insetBlockStart=`${Tv+(n-Ev)}px`}},Rc=()=>{let i=xt();Cp=!1,Zi(i,"swal2-dragging")},Mv=i=>{let t=0,e=0;return i.type.startsWith("mouse")?(t=i.clientX,e=i.clientY):i.type.startsWith("touch")&&(t=i.touches[0].clientX,e=i.touches[0].clientY),{clientX:t,clientY:e}},N3=(i,t)=>{let e=Si(),n=xt();if(!(!e||!n)){if(t.toast){io(e,"width",t.width),n.style.width="100%";let r=aa();r&&n.insertBefore(r,ra())}else io(n,"width",t.width);io(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),gi(zc()),L3(n,t),t.draggable&&!t.toast?(Ct(n,z.draggable),R3(n)):(Zi(n,z.draggable),F3(n))}},L3=(i,t)=>{let e=t.showClass||{};i.className=`${z.popup} ${Pi(i)?e.popup:""}`,t.toast?(Ct([document.documentElement,document.body],z["toast-shown"]),Ct(i,z.toast)):Ct(i,z.modal),Bi(i,t,"popup"),typeof t.customClass=="string"&&Ct(i,t.customClass),t.icon&&Ct(i,z[`icon-${t.icon}`])},B3=(i,t)=>{let e=fp();if(!e)return;let{progressSteps:n,currentProgressStep:r}=t;if(!n||n.length===0||r===void 0){gi(e);return}si(e),e.textContent="",r>=n.length&&Ci("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((o,l)=>{let m=j3(o);if(e.appendChild(m),l===r&&Ct(m,z["active-progress-step"]),l!==n.length-1){let h=z3(t);e.appendChild(h)}})},j3=i=>{let t=document.createElement("li");return Ct(t,z["progress-step"]),zi(t,i),t},z3=i=>{let t=document.createElement("li");return Ct(t,z["progress-step-line"]),i.progressStepsDistance&&io(t,"width",i.progressStepsDistance),t},H3=(i,t)=>{let e=_v();e&&(vp(e),ws(e,t.title||t.titleText,"block"),t.title&&xp(t.title,e),t.titleText&&(e.innerText=t.titleText),Bi(e,t,"title"))},Iv=(i,t)=>{N3(i,t),b3(i,t),B3(i,t),D3(i,t),V3(i,t),H3(i,t),g3(i,t),M3(i,t),h3(i,t),I3(i,t);let e=xt();typeof t.didRender=="function"&&e&&t.didRender(e),ze.eventEmitter.emit("didRender",e)},U3=()=>Pi(xt()),Dv=()=>{var i;return(i=kn())===null||i===void 0?void 0:i.click()},W3=()=>{var i;return(i=oo())===null||i===void 0?void 0:i.click()},q3=()=>{var i;return(i=oa())===null||i===void 0?void 0:i.click()},sa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Av=i=>{i.keydownTarget&&i.keydownHandlerAdded&&(i.keydownTarget.removeEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!1)},G3=(i,t,e)=>{Av(i),t.toast||(i.keydownHandler=n=>Y3(t,n,e),i.keydownTarget=t.keydownListenerCapture?window:xt(),i.keydownListenerCapture=t.keydownListenerCapture,i.keydownTarget.addEventListener("keydown",i.keydownHandler,{capture:i.keydownListenerCapture}),i.keydownHandlerAdded=!0)},sp=(i,t)=>{var e;let n=gp();if(n.length){i=i+t,i===-2&&(i=n.length-1),i===n.length?i=0:i===-1&&(i=n.length-1),n[i].focus();return}(e=xt())===null||e===void 0||e.focus()},Pv=["ArrowRight","ArrowDown"],$3=["ArrowLeft","ArrowUp"],Y3=(i,t,e)=>{i&&(t.isComposing||t.keyCode===229||(i.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Q3(t,i):t.key==="Tab"?K3(t):[...Pv,...$3].includes(t.key)?J3(t.key):t.key==="Escape"&&Z3(t,i,e)))},Q3=(i,t)=>{if(!jc(t.allowEnterKey))return;let e=Wc(xt(),t.input);if(i.target&&e&&i.target instanceof HTMLElement&&i.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;Dv(),i.preventDefault()}},K3=i=>{let t=i.target,e=gp(),n=-1;for(let r=0;r<e.length;r++)if(t===e[r]){n=r;break}i.shiftKey?sp(n,-1):sp(n,1),i.stopPropagation(),i.preventDefault()},J3=i=>{let t=xs(),e=kn(),n=oo(),r=oa();if(!t||!e||!n||!r)return;let o=[e,n,r];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;let l=Pv.includes(i)?"nextElementSibling":"previousElementSibling",m=document.activeElement;if(m){for(let h=0;h<t.children.length;h++){if(m=m[l],!m)return;if(m instanceof HTMLButtonElement&&Pi(m))break}m instanceof HTMLButtonElement&&m.focus()}},Z3=(i,t,e)=>{i.preventDefault(),jc(t.allowEscapeKey)&&e(sa.esc)},ia={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},X3=()=>{let i=Si();Array.from(document.body.children).forEach(e=>{e.contains(i)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},Ov=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Vv=typeof window<"u"&&!!window.GestureEvent,e4=()=>{if(Vv&&!Jn(document.body,z.iosfix)){let i=document.body.scrollTop;document.body.style.top=`${i*-1}px`,Ct(document.body,z.iosfix),t4()}},t4=()=>{let i=Si();if(!i)return;let t;i.ontouchstart=e=>{t=i4(e)},i.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},i4=i=>{let t=i.target,e=Si(),n=hp();return!e||!n||n4(i)||r4(i)?!1:t===e||!ap(e)&&t instanceof HTMLElement&&!i3(t,n)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(ap(n)&&n.contains(t))},n4=i=>i.touches&&i.touches.length&&i.touches[0].touchType==="stylus",r4=i=>i.touches&&i.touches.length>1,o4=()=>{if(Jn(document.body,z.iosfix)){let i=parseInt(document.body.style.top,10);Zi(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=i*-1}},a4=()=>{let i=document.createElement("div");i.className=z["scrollbar-measure"],document.body.appendChild(i);let t=i.getBoundingClientRect().width-i.clientWidth;return document.body.removeChild(i),t},ea=null,s4=i=>{ea===null&&(document.body.scrollHeight>window.innerHeight||i==="scroll")&&(ea=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ea+a4()}px`)},l4=()=>{ea!==null&&(document.body.style.paddingRight=`${ea}px`,ea=null)};function Rv(i,t,e,n){Uc()?sv(i,n):(GM(e).then(()=>sv(i,n)),Av(ze)),Vv?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),bp()&&(l4(),o4(),Ov()),c4()}function c4(){Zi([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}function Sr(i){i=m4(i);let t=ia.swalPromiseResolve.get(this),e=d4(this);this.isAwaitingPromise?i.isDismissed||(Ss(this),t(i)):e&&t(i)}var d4=i=>{let t=xt();if(!t)return!1;let e=Bt.innerParams.get(i);if(!e||Jn(t,e.hideClass.popup))return!1;Zi(t,e.showClass.popup),Ct(t,e.hideClass.popup);let n=Si();return Zi(n,e.showClass.backdrop),Ct(n,e.hideClass.backdrop),u4(i,t,e),!0};function Fv(i){let t=ia.swalPromiseReject.get(this);Ss(this),t&&t(i)}var Ss=i=>{i.isAwaitingPromise&&(delete i.isAwaitingPromise,Bt.innerParams.get(i)||i._destroy())},m4=i=>typeof i>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},i),u4=(i,t,e)=>{var n;let r=Si(),o=xv(t);typeof e.willClose=="function"&&e.willClose(t),(n=ze.eventEmitter)===null||n===void 0||n.emit("willClose",t),o?p4(i,t,r,e.returnFocus,e.didClose):Rv(i,r,e.returnFocus,e.didClose)},p4=(i,t,e,n,r)=>{ze.swalCloseEventFinishedCallback=Rv.bind(null,i,e,n,r);let o=function(l){if(l.target===t){var m;(m=ze.swalCloseEventFinishedCallback)===null||m===void 0||m.call(ze),delete ze.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},sv=(i,t)=>{setTimeout(()=>{var e;typeof t=="function"&&t.bind(i.params)(),(e=ze.eventEmitter)===null||e===void 0||e.emit("didClose"),i._destroy&&i._destroy()})},na=i=>{let t=xt();if(t||new Er,t=xt(),!t)return;let e=aa();Uc()?gi(ra()):h4(t,i),si(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},h4=(i,t)=>{let e=xs(),n=aa();!e||!n||(!t&&Pi(kn())&&(t=kn()),si(e),t&&(gi(t),n.setAttribute("data-button-to-replace",t.className),e.insertBefore(n,t)),Ct([i,e],z.loading))},f4=(i,t)=>{t.input==="select"||t.input==="radio"?y4(i,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(up(t.inputValue)||pp(t.inputValue))&&(na(kn()),x4(i,t))},_4=(i,t)=>{let e=i.getInput();if(!e)return null;switch(t.input){case"checkbox":return g4(e);case"radio":return b4(e);case"file":return v4(e);default:return t.inputAutoTrim?e.value.trim():e.value}},g4=i=>i.checked?1:0,b4=i=>i.checked?i.value:null,v4=i=>i.files&&i.files.length?i.getAttribute("multiple")!==null?i.files:i.files[0]:null,y4=(i,t)=>{let e=xt();if(!e)return;let n=r=>{t.input==="select"?w4(e,Fc(r),t):t.input==="radio"&&C4(e,Fc(r),t)};up(t.inputOptions)||pp(t.inputOptions)?(na(kn()),vs(t.inputOptions).then(r=>{i.hideLoading(),n(r)})):typeof t.inputOptions=="object"?n(t.inputOptions):ro(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},x4=(i,t)=>{let e=i.getInput();e&&(gi(e),vs(t.inputValue).then(n=>{e.value=t.input==="number"?`${parseFloat(n)||0}`:`${n}`,si(e),e.focus(),i.hideLoading()}).catch(n=>{ro(`Error in inputValue promise: ${n}`),e.value="",si(e),e.focus(),i.hideLoading()}))};function w4(i,t,e){let n=Cr(i,z.select);if(!n)return;let r=(o,l,m)=>{let h=document.createElement("option");h.value=m,zi(h,l),h.selected=Nv(m,e.inputValue),o.appendChild(h)};t.forEach(o=>{let l=o[0],m=o[1];if(Array.isArray(m)){let h=document.createElement("optgroup");h.label=l,h.disabled=!1,n.appendChild(h),m.forEach(b=>r(h,b[1],b[0]))}else r(n,m,l)}),n.focus()}function C4(i,t,e){let n=Cr(i,z.radio);if(!n)return;t.forEach(o=>{let l=o[0],m=o[1],h=document.createElement("input"),b=document.createElement("label");h.type="radio",h.name=z.radio,h.value=l,Nv(l,e.inputValue)&&(h.checked=!0);let y=document.createElement("span");zi(y,m),y.className=z.label,b.appendChild(h),b.appendChild(y),n.appendChild(b)});let r=n.querySelectorAll("input");r.length&&r[0].focus()}var Fc=i=>{let t=[];return i instanceof Map?i.forEach((e,n)=>{let r=e;typeof r=="object"&&(r=Fc(r)),t.push([n,r])}):Object.keys(i).forEach(e=>{let n=i[e];typeof n=="object"&&(n=Fc(n)),t.push([e,n])}),t},Nv=(i,t)=>!!t&&t.toString()===i.toString(),S4=i=>{let t=Bt.innerParams.get(i);i.disableButtons(),t.input?Lv(i,"confirm"):Ep(i,!0)},E4=i=>{let t=Bt.innerParams.get(i);i.disableButtons(),t.returnInputValueOnDeny?Lv(i,"deny"):Sp(i,!1)},k4=(i,t)=>{i.disableButtons(),t(sa.cancel)},Lv=(i,t)=>{let e=Bt.innerParams.get(i);if(!e.input){ro(`The "input" parameter is needed to be set when using returnInputValueOn${mp(t)}`);return}let n=i.getInput(),r=_4(i,e);e.inputValidator?T4(i,r,t):n&&!n.checkValidity()?(i.enableButtons(),i.showValidationMessage(e.validationMessage||n.validationMessage)):t==="deny"?Sp(i,r):Ep(i,r)},T4=(i,t,e)=>{let n=Bt.innerParams.get(i);i.disableInput(),Promise.resolve().then(()=>vs(n.inputValidator(t,n.validationMessage))).then(o=>{i.enableButtons(),i.enableInput(),o?i.showValidationMessage(o):e==="deny"?Sp(i,t):Ep(i,t)})},Sp=(i,t)=>{let e=Bt.innerParams.get(i||void 0);e.showLoaderOnDeny&&na(oo()),e.preDeny?(i.isAwaitingPromise=!0,Promise.resolve().then(()=>vs(e.preDeny(t,e.validationMessage))).then(r=>{r===!1?(i.hideLoading(),Ss(i)):i.close({isDenied:!0,value:typeof r>"u"?t:r})}).catch(r=>Bv(i||void 0,r))):i.close({isDenied:!0,value:t})},lv=(i,t)=>{i.close({isConfirmed:!0,value:t})},Bv=(i,t)=>{i.rejectPromise(t)},Ep=(i,t)=>{let e=Bt.innerParams.get(i||void 0);e.showLoaderOnConfirm&&na(),e.preConfirm?(i.resetValidationMessage(),i.isAwaitingPromise=!0,Promise.resolve().then(()=>vs(e.preConfirm(t,e.validationMessage))).then(r=>{Pi(zc())||r===!1?(i.hideLoading(),Ss(i)):lv(i,typeof r>"u"?t:r)}).catch(r=>Bv(i||void 0,r))):lv(i,t)};function Nc(){let i=Bt.innerParams.get(this);if(!i)return;let t=Bt.domCache.get(this);gi(t.loader),Uc()?i.icon&&si(ra()):M4(t),Zi([t.popup,t.actions],z.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}var M4=i=>{let t=i.popup.getElementsByClassName(i.loader.getAttribute("data-button-to-replace"));t.length?si(t[0],"inline-block"):t3()&&gi(i.actions)};function jv(){let i=Bt.innerParams.get(this),t=Bt.domCache.get(this);return t?Wc(t.popup,i.input):null}function zv(i,t,e){let n=Bt.domCache.get(i);t.forEach(r=>{n[r].disabled=e})}function Hv(i,t){let e=xt();if(!(!e||!i))if(i.type==="radio"){let n=e.querySelectorAll(`[name="${z.radio}"]`);for(let r=0;r<n.length;r++)n[r].disabled=t}else i.disabled=t}function Uv(){zv(this,["confirmButton","denyButton","cancelButton"],!1)}function Wv(){zv(this,["confirmButton","denyButton","cancelButton"],!0)}function qv(){Hv(this.getInput(),!1)}function Gv(){Hv(this.getInput(),!0)}function $v(i){let t=Bt.domCache.get(this),e=Bt.innerParams.get(this);zi(t.validationMessage,i),t.validationMessage.className=z["validation-message"],e.customClass&&e.customClass.validationMessage&&Ct(t.validationMessage,e.customClass.validationMessage),si(t.validationMessage);let n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",z["validation-message"]),vv(n),Ct(n,z.inputerror))}function Yv(){let i=Bt.domCache.get(this);i.validationMessage&&gi(i.validationMessage);let t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Zi(t,z.inputerror))}var ta={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},I4=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],D4={allowEnterKey:void 0},A4=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qv=i=>Object.prototype.hasOwnProperty.call(ta,i),Kv=i=>I4.indexOf(i)!==-1,Jv=i=>D4[i],P4=i=>{Qv(i)||Ci(`Unknown parameter "${i}"`)},O4=i=>{A4.includes(i)&&Ci(`The parameter "${i}" is incompatible with toasts`)},V4=i=>{let t=Jv(i);t&&fv(i,t)},Zv=i=>{i.backdrop===!1&&i.allowOutsideClick&&Ci('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),i.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(i.theme)&&Ci(`Invalid theme "${i.theme}"`);for(let t in i)P4(t),i.toast&&O4(t),V4(t)};function Xv(i){let t=Si(),e=xt(),n=Bt.innerParams.get(this);if(!e||Jn(e,n.hideClass.popup)){Ci("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let r=R4(i),o=Object.assign({},n,r);Zv(o),t.dataset.swal2Theme=o.theme,Iv(this,o),Bt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,i),writable:!1,enumerable:!0}})}var R4=i=>{let t={};return Object.keys(i).forEach(e=>{Kv(e)?t[e]=i[e]:Ci(`Invalid parameter to update: ${e}`)}),t};function e1(){let i=Bt.domCache.get(this),t=Bt.innerParams.get(this);if(!t){t1(this);return}i.popup&&ze.swalCloseEventFinishedCallback&&(ze.swalCloseEventFinishedCallback(),delete ze.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),ze.eventEmitter.emit("didDestroy"),F4(this)}var F4=i=>{t1(i),delete i.params,delete ze.keydownHandler,delete ze.keydownTarget,delete ze.currentInstance},t1=i=>{i.isAwaitingPromise?(op(Bt,i),i.isAwaitingPromise=!0):(op(ia,i),op(Bt,i),delete i.isAwaitingPromise,delete i.disableButtons,delete i.enableButtons,delete i.getInput,delete i.disableInput,delete i.enableInput,delete i.hideLoading,delete i.disableLoading,delete i.showValidationMessage,delete i.resetValidationMessage,delete i.close,delete i.closePopup,delete i.closeModal,delete i.closeToast,delete i.rejectPromise,delete i.update,delete i._destroy)},op=(i,t)=>{for(let e in i)i[e].delete(t)},N4=Object.freeze({__proto__:null,_destroy:e1,close:Sr,closeModal:Sr,closePopup:Sr,closeToast:Sr,disableButtons:Wv,disableInput:Gv,disableLoading:Nc,enableButtons:Uv,enableInput:qv,getInput:jv,handleAwaitingPromise:Ss,hideLoading:Nc,rejectPromise:Fv,resetValidationMessage:Yv,showValidationMessage:$v,update:Xv}),L4=(i,t,e)=>{i.toast?B4(i,t,e):(z4(t),H4(t),U4(i,t,e))},B4=(i,t,e)=>{t.popup.onclick=()=>{i&&(j4(i)||i.timer||i.input)||e(sa.close)}},j4=i=>!!(i.showConfirmButton||i.showDenyButton||i.showCancelButton||i.showCloseButton),Lc=!1,z4=i=>{i.popup.onmousedown=()=>{i.container.onmouseup=function(t){i.container.onmouseup=()=>{},t.target===i.container&&(Lc=!0)}}},H4=i=>{i.container.onmousedown=t=>{t.target===i.container&&t.preventDefault(),i.popup.onmouseup=function(e){i.popup.onmouseup=()=>{},(e.target===i.popup||e.target instanceof HTMLElement&&i.popup.contains(e.target))&&(Lc=!0)}}},U4=(i,t,e)=>{t.container.onclick=n=>{if(Lc){Lc=!1;return}n.target===t.container&&jc(i.allowOutsideClick)&&e(sa.backdrop)}},W4=i=>typeof i=="object"&&i.jquery,cv=i=>i instanceof Element||W4(i),q4=i=>{let t={};return typeof i[0]=="object"&&!cv(i[0])?Object.assign(t,i[0]):["title","html","icon"].forEach((e,n)=>{let r=i[n];typeof r=="string"||cv(r)?t[e]=r:r!==void 0&&ro(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof r}`)}),t};function G4(...i){return new this(...i)}function $4(i){class t extends this{_main(n,r){return super._main(n,Object.assign({},i,r))}}return t}var Y4=()=>ze.timeout&&ze.timeout.getTimerLeft(),i1=()=>{if(ze.timeout)return n3(),ze.timeout.stop()},n1=()=>{if(ze.timeout){let i=ze.timeout.start();return yp(i),i}},Q4=()=>{let i=ze.timeout;return i&&(i.running?i1():n1())},K4=i=>{if(ze.timeout){let t=ze.timeout.increase(i);return yp(t,!0),t}},J4=()=>!!(ze.timeout&&ze.timeout.isRunning()),dv=!1,lp={};function Z4(i="data-swal-template"){lp[i]=this,dv||(document.body.addEventListener("click",X4),dv=!0)}var X4=i=>{for(let t=i.target;t&&t!==document;t=t.parentNode)for(let e in lp){let n=t.getAttribute(e);if(n){lp[e].fire({template:n});return}}},cp=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){let n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){let n=(...r)=>{this.removeListener(t,n),e.apply(this,r)};this.on(t,n)}emit(t,...e){this._getHandlersByEventName(t).forEach(n=>{try{n.apply(this,e)}catch(r){console.error(r)}})}removeListener(t,e){let n=this._getHandlersByEventName(t),r=n.indexOf(e);r>-1&&n.splice(r,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};ze.eventEmitter=new cp;var eI=(i,t)=>{ze.eventEmitter.on(i,t)},tI=(i,t)=>{ze.eventEmitter.once(i,t)},iI=(i,t)=>{if(!i){ze.eventEmitter.reset();return}t?ze.eventEmitter.removeListener(i,t):ze.eventEmitter.removeAllListeners(i)},nI=Object.freeze({__proto__:null,argsToParams:q4,bindClickHandler:Z4,clickCancel:q3,clickConfirm:Dv,clickDeny:W3,enableLoading:na,fire:G4,getActions:xs,getCancelButton:oa,getCloseButton:_p,getConfirmButton:kn,getContainer:Si,getDenyButton:oo,getFocusableElements:gp,getFooter:bv,getHtmlContainer:hp,getIcon:ra,getIconContent:KM,getImage:gv,getInputLabel:JM,getLoader:aa,getPopup:xt,getProgressSteps:fp,getTimerLeft:Y4,getTimerProgressBar:Hc,getTitle:_v,getValidationMessage:zc,increaseTimer:K4,isDeprecatedParameter:Jv,isLoading:XM,isTimerRunning:J4,isUpdatableParameter:Kv,isValidParameter:Qv,isVisible:U3,mixin:$4,off:iI,on:eI,once:tI,resumeTimer:n1,showLoading:na,stopTimer:i1,toggleTimer:Q4}),dp=class{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){let e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}},r1=["swal-title","swal-html","swal-footer"],rI=i=>{let t=typeof i.template=="string"?document.querySelector(i.template):i.template;if(!t)return{};let e=t.content;return uI(e),Object.assign(oI(e),aI(e),sI(e),lI(e),cI(e),dI(e),mI(e,r1))},oI=i=>{let t={};return Array.from(i.querySelectorAll("swal-param")).forEach(n=>{no(n,["name","value"]);let r=n.getAttribute("name"),o=n.getAttribute("value");!r||!o||(typeof ta[r]=="boolean"?t[r]=o!=="false":typeof ta[r]=="object"?t[r]=JSON.parse(o):t[r]=o)}),t},aI=i=>{let t={};return Array.from(i.querySelectorAll("swal-function-param")).forEach(n=>{let r=n.getAttribute("name"),o=n.getAttribute("value");!r||!o||(t[r]=new Function(`return ${o}`)())}),t},sI=i=>{let t={};return Array.from(i.querySelectorAll("swal-button")).forEach(n=>{no(n,["type","color","aria-label"]);let r=n.getAttribute("type");!r||!["confirm","cancel","deny"].includes(r)||(t[`${r}ButtonText`]=n.innerHTML,t[`show${mp(r)}Button`]=!0,n.hasAttribute("color")&&(t[`${r}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(t[`${r}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),t},lI=i=>{let t={},e=i.querySelector("swal-image");return e&&(no(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},cI=i=>{let t={},e=i.querySelector("swal-icon");return e&&(no(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},dI=i=>{let t={},e=i.querySelector("swal-input");e&&(no(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));let n=Array.from(i.querySelectorAll("swal-input-option"));return n.length&&(t.inputOptions={},n.forEach(r=>{no(r,["value"]);let o=r.getAttribute("value");if(!o)return;let l=r.innerHTML;t.inputOptions[o]=l})),t},mI=(i,t)=>{let e={};for(let n in t){let r=t[n],o=i.querySelector(r);o&&(no(o,[]),e[r.replace(/^swal-/,"")]=o.innerHTML.trim())}return e},uI=i=>{let t=r1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(i.children).forEach(e=>{let n=e.tagName.toLowerCase();t.includes(n)||Ci(`Unrecognized element <${n}>`)})},no=(i,t)=>{Array.from(i.attributes).forEach(e=>{t.indexOf(e.name)===-1&&Ci([`Unrecognized attribute "${e.name}" on <${i.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},o1=10,pI=i=>{let t=Si(),e=xt();typeof i.willOpen=="function"&&i.willOpen(e),ze.eventEmitter.emit("willOpen",e);let r=window.getComputedStyle(document.body).overflowY;_I(t,e,i),setTimeout(()=>{hI(t,e)},o1),bp()&&(fI(t,i.scrollbarPadding,r),X3()),!Uc()&&!ze.previousActiveElement&&(ze.previousActiveElement=document.activeElement),typeof i.didOpen=="function"&&setTimeout(()=>i.didOpen(e)),ze.eventEmitter.emit("didOpen",e),Zi(t,z["no-transition"])},Bc=i=>{let t=xt();if(i.target!==t)return;let e=Si();t.removeEventListener("animationend",Bc),t.removeEventListener("transitionend",Bc),e.style.overflowY="auto"},hI=(i,t)=>{xv(t)?(i.style.overflowY="hidden",t.addEventListener("animationend",Bc),t.addEventListener("transitionend",Bc)):i.style.overflowY="auto"},fI=(i,t,e)=>{e4(),t&&e!=="hidden"&&s4(e),setTimeout(()=>{i.scrollTop=0})},_I=(i,t,e)=>{Ct(i,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),si(t,"grid"),setTimeout(()=>{Ct(t,e.showClass.popup),t.style.removeProperty("opacity")},o1)):si(t,"grid"),Ct([document.documentElement,document.body],z.shown),e.heightAuto&&e.backdrop&&!e.toast&&Ct([document.documentElement,document.body],z["height-auto"])},mv={email:(i,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(i,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(i)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function gI(i){i.inputValidator||(i.input==="email"&&(i.inputValidator=mv.email),i.input==="url"&&(i.inputValidator=mv.url))}function bI(i){(!i.target||typeof i.target=="string"&&!document.querySelector(i.target)||typeof i.target!="string"&&!i.target.appendChild)&&(Ci('Target parameter is not valid, defaulting to "body"'),i.target="body")}function vI(i){gI(i),i.showLoaderOnConfirm&&!i.preConfirm&&Ci(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bI(i),typeof i.title=="string"&&(i.title=i.title.split(`
`).join("<br />")),m3(i)}var En,Dc=new WeakMap,$t=class{constructor(...t){if(HM(this,Dc,void 0),typeof window>"u")return;En=this;let e=Object.freeze(this.constructor.argsToParams(t));this.params=e,this.isAwaitingPromise=!1,UM(Dc,this,this._main(En.params))}_main(t,e={}){if(Zv(Object.assign({},e,t)),ze.currentInstance){let o=ia.swalPromiseResolve.get(ze.currentInstance),{isAwaitingPromise:l}=ze.currentInstance;ze.currentInstance._destroy(),l||o({isDismissed:!0}),bp()&&Ov()}ze.currentInstance=En;let n=xI(t,e);vI(n),Object.freeze(n),ze.timeout&&(ze.timeout.stop(),delete ze.timeout),clearTimeout(ze.restoreFocusTimeout);let r=wI(En);return Iv(En,n),Bt.innerParams.set(En,n),yI(En,r,n)}then(t){return tv(Dc,this).then(t)}finally(t){return tv(Dc,this).finally(t)}},yI=(i,t,e)=>new Promise((n,r)=>{let o=l=>{i.close({isDismissed:!0,dismiss:l})};ia.swalPromiseResolve.set(i,n),ia.swalPromiseReject.set(i,r),t.confirmButton.onclick=()=>{S4(i)},t.denyButton.onclick=()=>{E4(i)},t.cancelButton.onclick=()=>{k4(i,o)},t.closeButton.onclick=()=>{o(sa.close)},L4(e,t,o),G3(ze,e,o),f4(i,e),pI(e),CI(ze,e,o),SI(t,e),setTimeout(()=>{t.container.scrollTop=0})}),xI=(i,t)=>{let e=rI(i),n=Object.assign({},ta,t,e,i);return n.showClass=Object.assign({},ta.showClass,n.showClass),n.hideClass=Object.assign({},ta.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},wI=i=>{let t={popup:xt(),container:Si(),actions:xs(),confirmButton:kn(),denyButton:oo(),cancelButton:oa(),loader:aa(),closeButton:_p(),validationMessage:zc(),progressSteps:fp()};return Bt.domCache.set(i,t),t},CI=(i,t,e)=>{let n=Hc();gi(n),t.timer&&(i.timeout=new dp(()=>{e("timer"),delete i.timeout},t.timer),t.timerProgressBar&&(si(n),Bi(n,t,"timerProgressBar"),setTimeout(()=>{i.timeout&&i.timeout.running&&yp(t.timer)})))},SI=(i,t)=>{if(!t.toast){if(!jc(t.allowEnterKey)){fv("allowEnterKey"),TI();return}EI(i)||kI(i,t)||sp(-1,1)}},EI=i=>{let t=Array.from(i.popup.querySelectorAll("[autofocus]"));for(let e of t)if(e instanceof HTMLElement&&Pi(e))return e.focus(),!0;return!1},kI=(i,t)=>t.focusDeny&&Pi(i.denyButton)?(i.denyButton.focus(),!0):t.focusCancel&&Pi(i.cancelButton)?(i.cancelButton.focus(),!0):t.focusConfirm&&Pi(i.confirmButton)?(i.confirmButton.focus(),!0):!1,TI=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let i=new Date,t=localStorage.getItem("swal-initiation");t?(i.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${i}`)}$t.prototype.disableButtons=Wv;$t.prototype.enableButtons=Uv;$t.prototype.getInput=jv;$t.prototype.disableInput=Gv;$t.prototype.enableInput=qv;$t.prototype.hideLoading=Nc;$t.prototype.disableLoading=Nc;$t.prototype.showValidationMessage=$v;$t.prototype.resetValidationMessage=Yv;$t.prototype.close=Sr;$t.prototype.closePopup=Sr;$t.prototype.closeModal=Sr;$t.prototype.closeToast=Sr;$t.prototype.rejectPromise=Fv;$t.prototype.update=Xv;$t.prototype._destroy=e1;Object.assign($t,nI);Object.keys(N4).forEach(i=>{$t[i]=function(...t){return En&&En[i]?En[i](...t):null}});$t.DismissReason=sa;$t.version="11.22.2";var Er=$t;Er.default=Er;typeof document<"u"&&function(i,t){var e=i.createElement("style");if(i.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');var se={simpleAlert(i,t,e,n){Er.fire({icon:i,title:t,text:e,footer:n})},simpleAlertWithHtml(i,t,e,n){Er.fire({icon:i,title:t,html:e,footer:n})},positionned(i,t,e=1500,n){Er.fire({position:n,icon:i,title:t,showConfirmButton:!1,timer:1500})},confirmBox(i,t,e){return Er.fire({title:t,text:e,icon:i,showCancelButton:!0,confirmButtonText:"Oui, continuer",cancelButtonText:"Annuler"})}};var a1=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"Comptes Admin Sectoriels",icon:"person-outline",link:"/admin/users"},{title:"D\xE9partements",icon:"options-outline",link:"/admin/departments"},{title:"Type Entit\xE9",icon:"options-outline",link:"/admin/entity-type"},{title:"Entit\xE9s",icon:"options-outline",link:"/admin/entities"},{title:"Type Unit\xE9 Admin",icon:"options-outline",link:"/admin/unity-admin-type"},{title:"R\xF4le & Permissions",icon:"options-outline",link:"/admin/profiles"},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"}],s1=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"Agents",icon:"person-outline",link:"/admin/officers"},{title:"Comptes utilisateurs",icon:"person-outline",link:"/admin/users"},{title:"Prestations",icon:"home-outline",link:"",home:!0,isTitle:!0},{title:"Prestations",icon:"award-outline",link:"/admin/prestations"},{title:"Param\xE8tre",icon:"home-outline",link:"",home:!0,isTitle:!0},{title:"Unit\xE9 Admin",icon:"options-outline",link:"/admin/unity-admins"},{title:"Fonction Agent",icon:"options-outline",link:"/admin/posts"},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"},{title:"Support",icon:"settings-2-outline",link:"/admin/billings"},{title:"Sujet de support",icon:"settings-2-outline",link:"/admin/type-billings"}],l1=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord ",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"E Service",icon:"award-outline",children:[{title:"Attestation de service fait",link:"/admin/eservice/espace-decision/service/attestation-de-service-fait"},{title:"Autorisation de stage",link:"/admin/eservice/espace-decision/service/autorisation-de-stage"},{title:"Attestation de stage",link:"/admin/eservice/espace-decision/service/attestation-de-stage"},{title:"R\xE8glement Int\xE9rieur",link:"/admin/eservice/espace-decision/service/visa-reglement-interieur-entreprise"},{title:"Autorisation Licenciement",link:"/admin/eservice/espace-decision/service/autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel"},{title:"Contrat d'apprentissage",link:"/admin/eservice/espace-decision/service/visa-contrat-apprentisage"},{title:"Agr\xE9ment M\xE9d\xE9cin",link:"/admin/eservice/espace-decision/service/decision-agrement-exercice-medecin"}]},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"}];function qc(i){i||(dh(qc),i=ce(Js));let t=new Zn(e=>i.onDestroy(e.next.bind(e)));return e=>e.pipe(tt(t))}var Ip=["*"];function MI(i,t){if(i&1){let e=x();a(0,"button",1),v("click",function(){f(e);let r=u();return _(r.close())}),s()}}var II=i=>({$implicit:i});var DI=["dialog"],AI=["ngbNavOutlet",""];function PI(i,t){}function OI(i,t){if(i&1&&(a(0,"div",0),S(1,PI,0,0,"ng-template",1),s()),i&2){let e=u().$implicit,n=u();p("item",e)("nav",n.nav)("role",n.paneRole),d(),p("ngTemplateOutlet",(e.contentTpl==null?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",ki(5,II,e.active||n.isPanelTransitioning(e)))}}function VI(i,t){if(i&1&&S(0,OI,2,7,"div",0),i&2){let e=t.$implicit,n=u();fn(e.isPanelInDom()||n.isPanelTransitioning(e)?0:-1)}}var d1={animation:!0,transitionTimerDelayMs:5},Qc=(()=>{class i{constructor(){this.animation=d1.animation}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function RI(i){let{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(i),n=parseFloat(t),r=parseFloat(e);return(n+r)*1e3}function Dp(i){return typeof i=="string"}function Mn(i){return i!=null}function m1(i){return i&&i.then}function Es(i){return(i||document.body).getBoundingClientRect()}function FI(i){return t=>new Zn(e=>{let n=l=>i.run(()=>e.next(l)),r=l=>i.run(()=>e.error(l)),o=()=>i.run(()=>e.complete());return t.subscribe({next:n,error:r,complete:o})})}var NI=()=>{},{transitionTimerDelayMs:LI}=d1,Gc=new Map,Oi=(i,t,e,n)=>{let r=n.context||{},o=Gc.get(t);if(o)switch(n.runningTransition){case"continue":return eh;case"stop":i.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Gc.delete(t)}let l=e(t,n.animation,r)||NI;if(!n.animation||window.getComputedStyle(t).transitionProperty==="none")return i.run(()=>l()),Xn(void 0).pipe(FI(i));let m=new Pe,h=new Pe,b=m.pipe(lh(!0));Gc.set(t,{transition$:m,complete:()=>{h.next(),h.complete()},context:r});let y=RI(t);return i.runOutsideAngular(()=>{let w=ci(t,"transitionend").pipe(tt(b),xi(({target:T})=>T===t)),k=oh(y+LI).pipe(tt(b));ah(k,w,h).pipe(tt(b)).subscribe(()=>{Gc.delete(t),i.run(()=>{l(),m.next(),m.complete()})})}),m.asObservable()};var u1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),BI=(()=>{class i{constructor(){this._ngbConfig=ce(Qc),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),jI=({classList:i})=>{i.remove("show")},kr=(()=>{class i{constructor(){this._config=ce(BI),this._elementRef=ce(De),this._zone=ce(ot),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Te}close(){let e=Oi(this._zone,this._elementRef.nativeElement,jI,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(n,r){n&2&&(Ft("alert show"+(r.type?" alert-"+r.type:"")),$e("fade",r.animation)("alert-dismissible",r.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[U],ngContentSelectors:Ip,decls:2,vars:1,consts:()=>{let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","aria-label",e,1,"btn-close"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(n,r){n&1&&(Jt(),Zt(0),S(1,MI,1,0,"button",0)),n&2&&(d(),fn(r.dismissible?1:-1))},styles:[`ngb-alert{display:block}
`],encapsulation:2,changeDetection:0})}}return i})(),p1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var h1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),f1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var UK=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||t()):!1})();var zI=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ap(i){let t=Array.from(i.querySelectorAll(zI)).filter(e=>e.tabIndex!==-1);return[t[0],t[t.length-1]]}var _1=(i,t,e,n=!1)=>{i.runOutsideAngular(()=>{let r=ci(t,"focusin").pipe(tt(e),rn(o=>o.target));ci(t,"keydown").pipe(tt(e),xi(o=>o.key==="Tab"),Gd(r)).subscribe(([o,l])=>{let[m,h]=Ap(t);(l===m||l===t)&&o.shiftKey&&(h.focus(),o.preventDefault()),l===h&&!o.shiftKey&&(m.focus(),o.preventDefault())}),n&&ci(t,"click").pipe(tt(e),Gd(r),rn(o=>o[1])).subscribe(o=>o.focus())})};var WK=new Date(1882,10,12),qK=new Date(2174,10,25);var GK=1e3*60*60*24;var Pp=1080,HI=24*Pp,UI=12*Pp+793,$K=29*HI+UI,YK=11*Pp+204;var g1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var b1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),Je=(()=>{class i{constructor(){this._ngbConfig=ce(Qc),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Tn=class{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}};var v1=(()=>{class i{constructor(){this._document=ce(it)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,r=n.style,{overflow:o,paddingRight:l}=r;if(e>0){let m=parseFloat(window.getComputedStyle(n).paddingRight);r.paddingRight=`${m+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=l),r.overflow=o}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),WI=(()=>{class i{constructor(){this._nativeElement=ce(De).nativeElement,this._zone=ce(ot),this._injector=ce(Dt)}ngOnInit(){an({mixedReadWrite:()=>Oi(this._zone,this._nativeElement,(e,n)=>{n&&Es(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Oi(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,r){n&2&&(Ft("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),$e("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[U],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return i})(),$c=class{update(t){}close(t){}dismiss(t){}},qI=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],GI=["animation","backdropClass"],kp=class{_applyWindowOptions(t,e){qI.forEach(n=>{Mn(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){GI.forEach(n=>{Mn(e[n])&&(t[n]=e[n])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Pe,this._dismissed=new Pe,this._hidden=new Pe,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();m1(e)?e.then(n=>{n!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Xn(void 0);t.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),va(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Tp=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(Tp||{}),$I=(()=>{class i{constructor(){this._document=ce(it),this._elRef=ce(De),this._zone=ce(ot),this._injector=ce(Dt),this._closed$=new Pe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new Te,this.shown=new Pe,this.hidden=new Pe}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Dp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,an({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},r=Oi(this._zone,e,()=>e.classList.remove("show"),n),o=Oi(this._zone,this._dialogEl.nativeElement,()=>{},n),l=va(r,o);return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){let e={animation:this.animation,runningTransition:"continue"},n=Oi(this._zone,this._elRef.nativeElement,(o,l)=>{l&&Es(o),o.classList.add("show")},e),r=Oi(this._zone,this._dialogEl.nativeElement,()=>{},e);va(n,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ci(e,"keydown").pipe(tt(this._closed$),xi(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Tp.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;ci(this._dialogEl.nativeElement,"mousedown").pipe(tt(this._closed$),wa(()=>n=!1),qd(()=>ci(e,"mouseup").pipe(tt(this._closed$),uo(1))),xi(({target:r})=>e===r)).subscribe(()=>{n=!0}),ci(e,"click").pipe(tt(this._closed$)).subscribe(({target:r})=>{e===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(Tp.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let n=e.querySelector("[ngbAutofocus]"),r=Ap(e)[0];(n||r||e).focus()}}_restoreFocus(){let e=this._document.body,n=this._elWithFocus,r;n&&n.focus&&e.contains(n)?r=n:r=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Oi(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(n,r){if(n&1&&at(DI,7),n&2){let o;Re(o=Fe())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(n,r){n&2&&(Ze("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),Ft("modal d-block"+(r.windowClass?" "+r.windowClass:"")),$e("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[U],ngContentSelectors:Ip,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,r){n&1&&(Jt(),a(0,"div",1,0)(2,"div",2),Zt(3),s()()),n&2&&Ft("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return i})(),YI=(()=>{class i{constructor(){this._applicationRef=ce(_n),this._injector=ce(Dt),this._environmentInjector=ce(Ea),this._document=ce(it),this._scrollBar=ce(v1),this._activeWindowCmptHasChanged=new Pe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Te;let e=ce(ot);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];_1(e,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,r){let o=r.container instanceof HTMLElement?r.container:Mn(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let l=new $c;e=r.injector||e;let m=e.get(Ea,null)||this._environmentInjector,h=this._getContentRef(e,m,n,l,r),b=r.backdrop!==!1?this._attachBackdrop(o):void 0,y=this._attachWindowComponent(o,h.nodes),w=new kp(y,h,b,r.beforeDismiss);return this._registerModalRef(w),this._registerWindowCmpt(y),w.hidden.pipe(uo(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=k=>{w.close(k)},l.dismiss=k=>{w.dismiss(k)},l.update=k=>{w.update(k)},w.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),b&&b.instance&&b.changeDetectorRef.detectChanges(),y.changeDetectorRef.detectChanges(),w}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=Br(WI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let r=Br($I,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,n,r,o,l){return r?r instanceof pt?this._createFromTemplateRef(r,o):Dp(r)?this._createFromString(r):this._createFromComponent(e,n,r,o,l):new Tn([])}_createFromTemplateRef(e,n){let r={$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}},o=e.createEmbeddedView(r);return this._applicationRef.attachView(o),new Tn([o.rootNodes],o)}_createFromString(e){let n=this._document.createTextNode(`${e}`);return new Tn([[n]])}_createFromComponent(e,n,r,o,l){let m=Dt.create({providers:[{provide:$c,useValue:o}],parent:e}),h=Br(r,{environmentInjector:n,elementInjector:m}),b=h.location.nativeElement;return l.scrollable&&b.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new Tn([[b]],h.hostView,h)}_setAriaHidden(e){let n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(r=>{r!==e&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let n=()=>{let r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),de=(()=>{class i{constructor(){this._injector=ce(Dt),this._modalStack=ce(YI),this._config=ce(Je)}open(e,n={}){let r=Ie(_t(Ie({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),y1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[de]})}}return i})(),QI=(()=>{class i{constructor(){this._ngbConfig=ce(Qc),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),x1=i=>Mn(i)&&i!=="",KI=0,Op=(()=>{class i{constructor(){this.templateRef=ce(pt)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Se({type:i,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}}return i})();var Kc=(()=>{class i{constructor(){this._nav=ce(Jc),this._nativeElement=ce(De).nativeElement,this.disabled=!1,this.shown=new Te,this.hidden=new Te}ngOnInit(){Mn(this.domId)||(this.domId=`ngb-nav-${KI++}`)}get active(){return this._nav.activeId===this.id}get id(){return x1(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Mn(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Se({type:i,selectors:[["","ngbNavItem",""]],contentQueries:function(n,r,o){if(n&1&&Wt(o,Op,4),n&2){let l;Re(l=Fe())&&(r.contentTpl=l.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}}return i})(),Jc=(()=>{class i{constructor(e){this.role=e,this._config=ce(QI),this._cd=ce(Pt),this._document=ce(it),this._nativeElement=ce(De).nativeElement,this.destroyRef=ce(Js),this._navigatingWithKeyboard=!1,this.activeIdChange=new Te,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Te,this.hidden=new Te,this.navItemChange$=new Pe,this.navChange=new Te}click(e){e.disabled||this._updateActiveId(e.id)}onFocusout({relatedTarget:e}){this._nativeElement.contains(e)||(this._navigatingWithKeyboard=!1)}onKeyDown(e){if(this.roles!=="tablist"||!this.keyboard)return;let n=this.links.filter(l=>!l.navItem.disabled),{length:r}=n,o=-1;if(n.forEach((l,m)=>{l.nativeElement===this._document.activeElement&&(o=m)}),r){switch(e.key){case"ArrowUp":case"ArrowLeft":o=(o-1+r)%r;break;case"ArrowRight":case"ArrowDown":o=(o+1)%r;break;case"Home":o=0;break;case"End":o=r-1;break}this.keyboard==="changeWithArrows"&&this.select(n[o].navItem.id),n[o].nativeElement.focus(),this._navigatingWithKeyboard=!0,e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Mn(this.activeId)){let e=this.items.first?this.items.first.id:null;x1(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(qc(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}_updateActiveId(e,n=!0){if(this.activeId!==e){let r=!1;n&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{r=!0}}),r||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(n=>n.id===e)||null}static{this.\u0275fac=function(n){return new(n||i)(on("role"))}}static{this.\u0275dir=Se({type:i,selectors:[["","ngbNav",""]],contentQueries:function(n,r,o){if(n&1&&(Wt(o,Kc,4),Wt(o,Zc,5)),n&2){let l;Re(l=Fe())&&(r.items=l),Re(l=Fe())&&(r.links=l)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(n,r){n&1&&v("keydown.arrowLeft",function(l){return r.onKeyDown(l)})("keydown.arrowRight",function(l){return r.onKeyDown(l)})("keydown.arrowDown",function(l){return r.onKeyDown(l)})("keydown.arrowUp",function(l){return r.onKeyDown(l)})("keydown.Home",function(l){return r.onKeyDown(l)})("keydown.End",function(l){return r.onKeyDown(l)})("focusout",function(l){return r.onFocusout(l)}),n&2&&(Ze("aria-orientation",r.orientation==="vertical"&&r.roles==="tablist"?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),$e("flex-column",r.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[jt]})}}return i})(),Zc=(()=>{class i{constructor(e){this.role=e,this.navItem=ce(Kc),this.nav=ce(Jc),this.nativeElement=ce(De).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(n){return new(n||i)(on("role"))}}static{this.\u0275dir=Se({type:i,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(n,r){n&2&&(bo("id",r.navItem.domId),Ze("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.tabindex)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),$e("nav-item",r.navItem.isNgContainer())("active",r.navItem.active)("disabled",r.navItem.disabled))},standalone:!0})}}return i})();var w1=(()=>{class i extends Zc{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=di(i)))(r||i)}})()}static{this.\u0275dir=Se({type:i,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(n,r){n&1&&v("click",function(l){return r.nav.click(r.navItem),l.preventDefault()})},standalone:!0,features:[At]})}}return i})(),JI=({classList:i})=>(i.remove("show"),()=>i.remove("active")),ZI=(i,t)=>{t&&Es(i),i.classList.add("show")},c1=(()=>{class i{constructor(){this.nativeElement=ce(De).nativeElement}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=Se({type:i,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(n,r){n&2&&(bo("id",r.item.panelDomId),Ze("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),$e("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}}return i})(),C1=(()=>{class i{constructor(){this._cd=ce(Pt),this._ngZone=ce(ot),this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(qc(this.nav.destroyRef),Vr(this._activePane?.item||null),Or(),po(1)).subscribe(e=>{let n={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Oi(this._ngZone,this._activePane.nativeElement,JI,n).subscribe(()=>{let r=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Oi(this._ngZone,this._activePane.nativeElement,ZI,n).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(e){return this._panes&&this._panes.find(n=>n.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["","ngbNavOutlet",""]],viewQuery:function(n,r){if(n&1&&at(c1,5),n&2){let o;Re(o=Fe())&&(r._panes=o)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},standalone:!0,features:[U],attrs:AI,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&yh(0,VI,1,1,null,null,vh),n&2&&xh(r.nav.items)},dependencies:[c1,ir],encapsulation:2,changeDetection:0})}}return i})();var S1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var E1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var k1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var T1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var M1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var I1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var D1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var A1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var P1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})();var QK=new gt("live announcer delay",{providedIn:"root",factory:()=>100});var O1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),XI=(()=>{class i{constructor(){this._ngbConfig=ce(Qc),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Yc=class{close(t){}dismiss(t){}},Mp=class{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(tt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(tt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(t,e,n,r){this._panelCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Pe,this._dismissed=new Pe,this._hidden=new Pe,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),n&&n.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(t){this._panelCmptRef&&(this._closed.next(t),this._resolve(t),this._removeOffcanvasElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeOffcanvasElements()}dismiss(t){if(this._panelCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();m1(e)?e.then(n=>{n!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeOffcanvasElements(){let t=this._panelCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Xn(void 0);t.subscribe(()=>{let{nativeElement:n}=this._panelCmptRef.location;n.parentNode.removeChild(n),this._panelCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._panelCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),va(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Vp=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(Vp||{}),eD=(()=>{class i{constructor(){this._nativeElement=ce(De).nativeElement,this._zone=ce(ot),this._injector=ce(Dt),this.dismissEvent=new Te}ngOnInit(){an({mixedReadWrite:()=>Oi(this._zone,this._nativeElement,(e,n)=>{n&&Es(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Oi(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(Vp.BACKDROP_CLICK)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(n,r){n&1&&v("mousedown",function(){return r.dismiss()}),n&2&&(Ft("offcanvas-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),$e("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[U],decls:0,vars:0,template:function(n,r){},encapsulation:2})}}return i})(),tD=(()=>{class i{constructor(){this._document=ce(it),this._elRef=ce(De),this._zone=ce(ot),this._injector=ce(Dt),this._closed$=new Pe,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new Te,this.shown=new Pe,this.hidden=new Pe}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,an({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let e={animation:this.animation,runningTransition:"stop"},n=Oi(this._zone,this._elRef.nativeElement,r=>(r.classList.remove("showing"),r.classList.add("hiding"),()=>r.classList.remove("show","hiding")),e);return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){let e={animation:this.animation,runningTransition:"continue"};Oi(this._zone,this._elRef.nativeElement,(r,o)=>(o&&Es(r),r.classList.add("show","showing"),()=>r.classList.remove("showing")),e).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{ci(e,"keydown").pipe(tt(this._closed$),xi(n=>n.key==="Escape")).subscribe(n=>{this.keyboard&&requestAnimationFrame(()=>{n.defaultPrevented||this._zone.run(()=>this.dismiss(Vp.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let n=e.querySelector("[ngbAutofocus]"),r=Ap(e)[0];(n||r||e).focus()}}_restoreFocus(){let e=this._document.body,n=this._elWithFocus,r;n&&n.focus&&e.contains(n)?r=n:r=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=j({type:i,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(n,r){n&2&&(Ze("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Ft("offcanvas offcanvas-"+r.position+(r.panelClass?" "+r.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[U],ngContentSelectors:Ip,decls:1,vars:0,template:function(n,r){n&1&&(Jt(),Zt(0))},encapsulation:2})}}return i})(),iD=(()=>{class i{constructor(){this._applicationRef=ce(_n),this._injector=ce(Dt),this._document=ce(it),this._scrollBar=ce(v1),this._activePanelCmptHasChanged=new Pe,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new Te;let e=ce(ot);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&_1(e,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,r){let o=r.container instanceof HTMLElement?r.container:Mn(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified offcanvas container "${r.container||"body"}" was not found in the DOM.`);r.scroll||this._hideScrollBar();let l=new Yc,m=this._getContentRef(r.injector||e,n,l),h=r.backdrop!==!1?this._attachBackdrop(o):void 0,b=this._attachWindowComponent(o,m.nodes),y=new Mp(b,m,h,r.beforeDismiss);return this._registerOffcanvasRef(y),this._registerPanelCmpt(b),y.hidden.pipe(ch(()=>this._restoreScrollBar())).subscribe(),l.close=w=>{y.close(w)},l.dismiss=w=>{y.dismiss(w)},this._applyPanelOptions(b.instance,r),h&&h.instance&&(this._applyBackdropOptions(h.instance,r),h.changeDetectorRef.detectChanges()),b.changeDetectorRef.detectChanges(),y}get activeInstance(){return this._activeInstance}dismiss(e){this._offcanvasRef?.dismiss(e)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(e){let n=Br(eD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let r=Br(tD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyPanelOptions(e,n){this._panelAttributes.forEach(r=>{Mn(n[r])&&(e[r]=n[r])})}_applyBackdropOptions(e,n){this._backdropAttributes.forEach(r=>{Mn(n[r])&&(e[r]=n[r])}),e.static=n.backdrop==="static"}_getContentRef(e,n,r){return n?n instanceof pt?this._createFromTemplateRef(n,r):Dp(n)?this._createFromString(n):this._createFromComponent(e,n,r):new Tn([])}_createFromTemplateRef(e,n){let r={$implicit:n,close(l){n.close(l)},dismiss(l){n.dismiss(l)}},o=e.createEmbeddedView(r);return this._applicationRef.attachView(o),new Tn([o.rootNodes],o)}_createFromString(e){let n=this._document.createTextNode(`${e}`);return new Tn([[n]])}_createFromComponent(e,n,r){let o=Dt.create({providers:[{provide:Yc,useValue:r}],parent:e}),l=Br(n,{environmentInjector:this._applicationRef.injector,elementInjector:o}),m=l.location.nativeElement;return this._applicationRef.attachView(l.hostView),new Tn([[m]],l.hostView,l)}_registerOffcanvasRef(e){let n=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=e,this._activeInstance.emit(this._offcanvasRef),e.result.then(n,n)}_registerPanelCmpt(e){this._panelCmpt=e,this._activePanelCmptHasChanged.next(),e.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),V1=(()=>{class i{constructor(){this._injector=ce(Dt),this._offcanvasStack=ce(iD),this._config=ce(XI)}open(e,n={}){let r=Ie(_t(Ie({},this._config),{animation:this._config.animation}),n);return this._offcanvasStack.open(this._injector,e,r)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(e){this._offcanvasStack.dismiss(e)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),R1=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({})}}return i})(),nD=[u1,p1,h1,f1,g1,b1,y1,S1,R1,E1,k1,T1,M1,I1,D1,A1,P1,O1],ge=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({imports:[nD,u1,p1,h1,f1,g1,b1,y1,S1,R1,E1,k1,T1,M1,I1,D1,A1,P1,O1]})}}return i})();var In=class i{constructor(t){this.http=t}url=F.toApiUrl("dash/");getDash(){return this.http.get(`${this.url}`,F.addAction("list"))}statsForMenu(){return this.http.get(F.toApiUrl("stats-for-menu"),F.addAction("list"))}getAll(){return this.http.get(`${this.url}`,F.addAction("list"))}show(t){return this.http.post(`${this.url}`,t,F.addAction("add"))}store(t){return this.http.post(`${this.url}`,t,F.addAction("add"))}update(t,e){return this.http.put(`${this.url}${t}/`,e,F.addAction("list"))}delete(t){return this.http.delete(`${this.url}${t}`,F.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,F.addAction("show"))}copy(t){return this.http.post(`${F.toApiUrl("roles-windows-copy")}`,t,F.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,F.addAction("status"))}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var F1=["toast-component",""];function rD(i,t){if(i&1){let e=x();a(0,"button",5),v("click",function(){f(e);let r=u();return _(r.remove())}),a(1,"span",6),c(2,"\xD7"),s()()}}function oD(i,t){if(i&1&&(bt(0),c(1),vt()),i&2){let e=u(2);d(),H("[",e.duplicatesCount+1,"]")}}function aD(i,t){if(i&1&&(a(0,"div"),c(1),S(2,oD,2,1,"ng-container",4),s()),i&2){let e=u();Ft(e.options.titleClass),Ze("aria-label",e.title),d(),H(" ",e.title," "),d(),p("ngIf",e.duplicatesCount)}}function sD(i,t){if(i&1&&g(0,"div",7),i&2){let e=u();Ft(e.options.messageClass),p("innerHTML",e.message,ho)}}function lD(i,t){if(i&1&&(a(0,"div",8),c(1),s()),i&2){let e=u();Ft(e.options.messageClass),Ze("aria-label",e.message),d(),H(" ",e.message," ")}}function cD(i,t){if(i&1&&(a(0,"div"),g(1,"div",9),s()),i&2){let e=u();d(),Ei("width",e.width()+"%")}}function dD(i,t){if(i&1){let e=x();a(0,"button",5),v("click",function(){f(e);let r=u();return _(r.remove())}),a(1,"span",6),c(2,"\xD7"),s()()}}function mD(i,t){if(i&1&&(bt(0),c(1),vt()),i&2){let e=u(2);d(),H("[",e.duplicatesCount+1,"]")}}function uD(i,t){if(i&1&&(a(0,"div"),c(1),S(2,mD,2,1,"ng-container",4),s()),i&2){let e=u();Ft(e.options.titleClass),Ze("aria-label",e.title),d(),H(" ",e.title," "),d(),p("ngIf",e.duplicatesCount)}}function pD(i,t){if(i&1&&g(0,"div",7),i&2){let e=u();Ft(e.options.messageClass),p("innerHTML",e.message,ho)}}function hD(i,t){if(i&1&&(a(0,"div",8),c(1),s()),i&2){let e=u();Ft(e.options.messageClass),Ze("aria-label",e.message),d(),H(" ",e.message," ")}}function fD(i,t){if(i&1&&(a(0,"div"),g(1,"div",9),s()),i&2){let e=u();d(),Ei("width",e.width()+"%")}}var Rp=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Fp=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},Np=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Pe;_activate=new Pe;_manualClose=new Pe;_resetTimeout=new Pe;_countDuplicate=new Pe;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},la=class{toastId;config;message;title;toastType;toastRef;_onTap=new Pe;_onAction=new Pe;constructor(t,e,n,r,o,l){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},N1={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},L1=new gt("ToastConfig"),Lp=class extends Fp{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){let n=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},_D=(()=>{class i{_document=ce(it);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Bp=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},gD=(()=>{class i{_overlayContainer=ce(_D);_componentFactoryResolver=ce(_o);_appRef=ce(_n);_document=ce(it);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new Lp(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Bp(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ne=(()=>{class i{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,o,l){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=l,this.toastrConfig=Ie(Ie({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Ie(Ie({},e.default.iconClasses),e.config.iconClasses))}show(e,n,r={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(r))}success(e,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}error(e,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}info(e,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}warning(e,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}clear(e){for(let n of this.toasts)if(e!==void 0){if(n.toastId===e){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(e){let n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,o){let{includeTitleDuplicates:l}=this.toastrConfig;for(let m of this.toasts){let h=l&&m.title===e;if((!l||h)&&m.message===n)return m.toastRef.onDuplicate(r,o),m}return null}applyConfig(e={}){return Ie(Ie({},this.toastrConfig),e)}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,o)):this._buildNotification(e,n,r,o)}_buildNotification(e,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let l=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&l!==null)return l;this.previousToastMessage=n;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let h=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let b=n;n&&o.enableHtml&&(b=this.sanitizer.sanitize(Zs.HTML,n));let y=new Np(h),w=new la(this.index,o,b,r,e,y),k=[{provide:la,useValue:w}],T=Dt.create({providers:k,parent:this._injector}),I=new Rp(o.toastComponent,T),M=h.attach(I,o.newestOnTop);y.componentInstance=M.instance;let R={toastId:this.index,title:r||"",message:n||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:w.onTap(),onAction:w.onAction(),portal:M};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{R.toastRef.activate()})),this.toasts.push(R),R}static \u0275fac=function(n){return new(n||i)(B(L1),B(gD),B(Dt),B(ht),B(ot))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bD=(()=>{class i{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Fi(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=Fi({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>_t(Ie({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>_t(Ie({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>_t(Ie({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||i)(E(ne),E(la),E(ot))};static \u0275cmp=j({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&v("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(Kd("@flyInOut",r._state),Ft(r.toastClasses),Ei("display",r.displayStyle))},standalone:!0,features:[U],attrs:F1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&S(0,rD,3,0,"button",0)(1,aD,3,5,"div",1)(2,sD,1,3,"div",2)(3,lD,2,4,"div",3)(4,cD,2,2,"div",4),n&2&&(p("ngIf",r.options.closeButton),d(),p("ngIf",r.title),d(),p("ngIf",r.message&&r.options.enableHtml),d(),p("ngIf",r.message&&!r.options.enableHtml),d(),p("ngIf",r.options.progressBar))},dependencies:[X],encapsulation:2,data:{animation:[zr("flyInOut",[gn("inactive",Li({opacity:0})),gn("active",Li({opacity:1})),gn("removed",Li({opacity:0})),Rn("inactive => active",Vn("{{ easeTime }}ms {{ easing }}")),Rn("active => removed",Vn("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return i})(),vD=_t(Ie({},N1),{toastComponent:bD}),B1=(i={})=>Sa([{provide:L1,useValue:{default:vD,config:i}}]);var yD=(()=>{class i{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Fi(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Fi("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||i)(E(ne),E(la),E(_n))};static \u0275cmp=j({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&v("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(Ft(r.toastClasses),Ei("display",r.displayStyle))},standalone:!0,features:[U],attrs:F1,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&S(0,dD,3,0,"button",0)(1,uD,3,5,"div",1)(2,pD,1,3,"div",2)(3,hD,2,4,"div",3)(4,fD,2,2,"div",4),n&2&&(p("ngIf",r.options.closeButton),d(),p("ngIf",r.title),d(),p("ngIf",r.message&&r.options.enableHtml),d(),p("ngIf",r.message&&!r.options.enableHtml),d(),p("ngIf",r.options.progressBar))},dependencies:[X],encapsulation:2,changeDetection:0})}return i})(),dJ=_t(Ie({},N1),{toastComponent:yD});function xD(i,t){if(i&1&&(a(0,"a",24),g(1,"i",25),a(2,"span"),c(3),s()()),i&2){let e=u().$implicit;sn("routerLink",e.link),d(3),O(e.title)}}function wD(i,t){if(i&1&&(a(0,"li",21)(1,"a",30),g(2,"i"),a(3,"span"),c(4),s()()()),i&2){let e=t.$implicit;d(),sn("routerLink",e.link),d(),Qd("nav-icon ",e.icon||"fas fa-circle",""),d(2),O(e.title)}}function CD(i,t){if(i&1){let e=x();a(0,"div",26)(1,"a",27),v("click",function(r){f(e);let o=u().index,l=u();return _(l.toggleSubmenu(o,r))}),g(2,"i"),a(3,"span"),c(4),s(),g(5,"i",28),s(),a(6,"ul",29),S(7,wD,5,5,"li",8),s()()}if(i&2){let e=u().$implicit,n=u();d(),$e("active",n.isMenuActive(e)),Ze("aria-expanded",e.expanded),d(),Qd("nav-icon ",e.icon||"fas fa-tachometer-alt",""),d(2),O(e.title),d(),$e("rotated",e.expanded),d(),$e("show",e.expanded),p("@slideDown",e.expanded?"expanded":"collapsed"),d(),p("ngForOf",e.children)}}function SD(i,t){if(i&1&&(a(0,"li",21),S(1,xD,4,2,"a",22)(2,CD,8,13,"div",23),s()),i&2){let e=t.$implicit;d(),p("ngIf",!(e!=null&&e.isTitle)&&!(e!=null&&e.hasChildren)),d(),p("ngIf",!(e!=null&&e.isTitle)&&(e==null?null:e.hasChildren))}}function ED(i,t){if(i&1){let e=x();a(0,"form",31,1),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.saveUsager(r.value))}),a(2,"div",32)(3,"h5",33),c(4,"Mon profil"),s(),a(5,"button",34),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",35)(7,"div",36)(8,"label",37),c(9," Nom * "),s(),a(10,"div",38)(11,"input",39),P("ngModelChange",function(r){f(e);let o=u();return A(o.user.lastname,r)||(o.user.lastname=r),_(r)}),s()()(),a(12,"div",36)(13,"label",40),c(14," Pr\xE9noms * "),s(),a(15,"div",38)(16,"input",41),P("ngModelChange",function(r){f(e);let o=u();return A(o.user.firstname,r)||(o.user.firstname=r),_(r)}),s()()(),a(17,"div",36)(18,"label",42),c(19," Email *"),s(),a(20,"div",38)(21,"input",43),P("ngModelChange",function(r){f(e);let o=u();return A(o.user.email,r)||(o.user.email=r),_(r)}),s()()(),a(22,"div",36)(23,"label",44),c(24," T\xE9l\xE9phone *"),s(),a(25,"div",38)(26,"input",45),P("ngModelChange",function(r){f(e);let o=u();return A(o.user.phone,r)||(o.user.phone=r),_(r)}),s()()()(),a(27,"div",46)(28,"button",47),g(29,"i",48),c(30,"\xA0 Enregistrer"),s()()()}if(i&2){let e=C(1),n=u();d(11),sn("value",n.user==null?null:n.user.lastname),D("ngModel",n.user.lastname),d(5),sn("value",n.user==null?null:n.user.firstname),D("ngModel",n.user.firstname),d(5),sn("value",n.user==null?null:n.user.email),D("ngModel",n.user.email),d(5),sn("value",n.user==null?null:n.user.phone),D("ngModel",n.user.phone),d(2),p("disabled",e.invalid||n.loading)}}var ed=class i{constructor(t,e,n,r,o,l){this.modalService=t;this.authService=e;this.dashService=n;this.router=r;this.toastr=o;this.lsService=l}menuOpen=!0;user;role;loading;isMobile=!1;menu=[];data=[];ngOnInit(){this.user=this.lsService.get(W.userName),console.log(this.user),this.role=this.user.roles[0].name,this.getUserMenu()}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}toggleMenu(){this.menuOpen=!this.menuOpen}openAddModal(t){this.loading=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(W.tokenName),this.lsService.remove(W.refreshTokenName),this.lsService.remove(W.expireIn),this.lsService.remove(W.userName),this.lsService.remove(W.exercice),this.router.navigate(["/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Connexion")})}saveUsager(t){this.authService.update(t).subscribe(e=>{this.modalService.dismissAll(),se.simpleAlert("succes","Mise \xE0 jour","Profile mis \xE0 jour avec succ\xE8s")})}getUserMenu(){switch(this.role){case"Admin national":this.menu=a1;break;case"Admin Sectoriel":this.menu=s1;break;case"Decisionnel":this.menu=l1;break;default:this.menu.push({title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0,hasChildren:!1}),this.menu.push({title:"Tableau de bord ",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!1,hasChildren:!1}),this.menu.push({title:"Mes e-Services",icon:"home-outline",link:"/admin/dashboard",home:!1,isTitle:!0,hasChildren:!1}),(this.user?.user_prestations).forEach(e=>{let n,r=[];this.user.is_trade?e?.prestation?.is_automatic_delivered?e?.prestation?.from_pns?(r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code})):(r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code+"/"+e?.prestation?.code})):((e?.prestation?.start_point2?.id==this.user.agent.unite_admin.id||e?.prestation?.start_points.findIndex(o=>o.unite_admin_id==this.user.agent.unite_admin.id)!=-1)&&r.push({title:"Demandes en attente",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}),e?.prestation?.signer2?.id==this.user.agent.unite_admin.id&&(e?.prestation?.from_pns?(r.push({title:"Demandes \xE0 signer",link:"/admin/eservice/espace-signature/"+e?.prestation?.code}),r.push({title:"Demandes sign\xE9es",link:"/admin/eservice/espace-signed/"+e?.prestation?.code}),r.push({title:"Demandes \xE0 rejeter",link:"/admin/eservice/espace-reject/"+e?.prestation?.code}),r.push({title:"Demandes rejet\xE9es",link:"/admin/eservice/espace-rejected/"+e?.prestation?.code})):(r.push({title:"Demandes \xE0 signer",link:"/admin/eservice/espace-signature/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes sign\xE9es",link:"/admin/eservice/espace-signed/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes \xE0 rejeter",link:"/admin/eservice/espace-reject/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes rejet\xE9es",link:"/admin/eservice/espace-rejected/"+e?.prestation?.code+"/"+e?.prestation?.code}))),e?.prestation?.from_pns?(this.role=="Chef Division"||this.role=="Collaborateur")&&r.push({title:"Demande \xE0 traiter",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}):(this.role=="Chef Division"||this.role=="Collaborateur")&&r.push({title:"Demande \xE0 traiter",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code+"/"+e?.prestation?.code}),e?.prestation?.signer2?.id!=this.user.agent.unite_admin.id&&(e?.prestation?.from_pns?(r.push({title:"Demande \xE0 valider",link:"/admin/eservice/espace-validation/"+e?.prestation?.code}),r.push({title:"Demandes mise en attente",link:"/admin/eservice/correction/"+e?.prestation?.code}),r.push({title:"Demandes corrig\xE9es",link:"/admin/eservice/espace-traitement-retour-correction/"+e?.prestation?.code}),r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code})):(r.push({title:"Demande \xE0 valider",link:"/admin/eservice/espace-validation/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes mise en attente",link:"/admin/eservice/correction/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes corrig\xE9es",link:"/admin/eservice/espace-traitement-retour-correction/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code+"/"+e?.prestation?.code}))),e?.prestation?.from_pns?(e?.prestation?.need_meeting&&r.push({title:"Rendez-vous",link:"/admin/agenda/"+e?.prestation?.code}),e?.prestation?.need_validation&&r.push({title:"Demande valid\xE9e pour visa",link:"/admin/eservice/espace-validation-visa/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code})):(e?.prestation?.need_meeting&&r.push({title:"Rendez-vous",link:"/admin/agenda/"+e?.prestation?.code+"/"+e?.prestation?.code}),e?.prestation?.need_validation&&r.push({title:"Demande valid\xE9e pour visa",link:"/admin/eservice/espace-validation-visa/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code+"/"+e?.prestation?.code}))):e?.prestation?.from_pns?r.push({title:"Demandes \xE0 confirmer",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}):r.push({title:"Demandes \xE0 confirmer",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code+"/"+e?.prestation?.code}),this.menu.push({title:e.prestation?.name,icon:"",isTitle:!1,hasChildren:!0,collapse:!1,code:e.prestation?.code,children:r,newCount:n})}),this.user.is_trade&&this.menu.push({title:"Statistiques Globales",isTitle:!1,hasChildren:!1,collapse:!1,code:"",link:"/admin/eservice/statistiques"}),this.menu.push({title:"Support",icon:"home-phone",link:"/admin/supports",isTitle:!1,hasChildren:!1}),this.dashService.statsForMenu().subscribe(e=>{this.data=e.data.stats});break}}getSlug(t){var e=t.split("/");return e[e.length-1]}verifyMenu(t){var e=this.user.user_prestations.find(n=>n.prestation.code==t);return!(e==null||e==null)}toggle(t){var e=this.menu.find(n=>n.code==t);e&&(e.collapse=!e.collapse)}toggleSubmenu(t,e){e.preventDefault(),e.stopPropagation(),this.menu.forEach((n,r)=>{r!==t&&n.children&&(n.expanded=!1)}),this.menu[t].children&&(this.menu[t].expanded=!this.menu[t].expanded)}isMenuActive(t){return t.children?t.children.some(e=>this.router.url.includes(e.link||"")):!1}static \u0275fac=function(e){return new(e||i)(E(de),E(Xt),E(In),E(He),E(ne),E(te))};static \u0275cmp=j({type:i,selectors:[["app-layout"]],hostBindings:function(e,n){e&1&&v("resize",function(){return n.onResize()},!1,ph)},standalone:!0,features:[U],decls:33,vars:2,consts:[["profil",""],["frmusager","ngForm"],[1,"dashboard-container"],[1,"sidebar","slim-scroll-container",2,"min-height","100px","overflow-y","scroll","overflow-x","hidden"],[1,"sidebar-header"],["href","#",1,"sidebar-brand"],[1,"fas","fa-chart-line","me-2"],[1,"sidebar-nav","nav","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],[1,"main-content"],[1,"content-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"page-title"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fas","fa-user-circle","me-2"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"content-body"],[1,"nav-item"],["class","nav-link active","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","nav-item-dropdown",4,"ngIf"],["routerLinkActive","active",1,"nav-link","active",3,"routerLink"],[1,"nav-icon","fas","fa-tachometer-alt"],[1,"nav-item-dropdown"],["href","#",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-chevron-down","ms-auto","submenu-arrow"],[1,"submenu","nav","flex-column"],["routerLinkActive","active",1,"nav-link","submenu-link",3,"routerLink"],["novalidate","",1,"form-horizontal",3,"ngSubmit"],[1,"modal-header","bg-mat-primary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-3","row"],["for","nom1",1,"col-sm-3","control-label"],[1,"col-sm-9"],["type","text","id","lastname","name","lastname","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","prenoms",1,"col-sm-3","control-label"],["type","text","id","firstname","name","firstname","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","email1",1,"col-sm-3","control-label"],["type","email","id","email1","name","email","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","tel2",1,"col-sm-3","control-label"],["type","text","numbers-only","numbers-only","id","tel2","name","phone","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"]],template:function(e,n){if(e&1){let r=x();a(0,"div",2)(1,"nav",3)(2,"div",4)(3,"a",5),g(4,"i",6),c(5," BackOffice eService "),s()(),a(6,"ul",7),S(7,SD,3,2,"li",8),s()(),a(8,"main",9)(9,"header",10)(10,"div",11)(11,"h1",12),c(12,"Backoffice "),s(),a(13,"div",13)(14,"button",14),g(15,"i",15),c(16," Admin "),s(),a(17,"ul",16)(18,"li")(19,"a",17),v("click",function(){f(r);let l=C(32);return _(n.openAddModal(l))}),c(20,"Profil"),s()(),a(21,"li")(22,"a",18),c(23,"Param\xE8tre"),s()(),a(24,"li"),g(25,"hr",19),s(),a(26,"li")(27,"a",17),v("click",function(){return f(r),_(n.logout())}),c(28,"D\xE9connexion"),s()()()()()(),a(29,"div",20),g(30,"router-outlet"),s()()(),S(31,ED,31,9,"ng-template",null,0,V)}e&2&&(d(7),p("ngForOf",n.menu),d(15),p("routerLink","/admin/settings"))},dependencies:[yo,Ti,$i,il,J,me,X,zb,jb,Jg,Bb,Kg,Ub,ev,ie,pe,oe,ae,ue,Ce,le,he],styles:[".container[_ngcontent-%COMP%]{height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#fff!important}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-toolbar[_ngcontent-%COMP%]{background-color:#000;color:orange}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1f0761;border-radius:unset!important}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important;border-radius:unset!important}mat-expansion-panel[_ngcontent-%COMP%]{background-color:unset!important;color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{background-color:#fff!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#1f0761;color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important}mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.menu-bg[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]{background-color:#fcd343;border-radius:unset!important}.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}  .mat-expansion-indicator svg{fill:#fff!important}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:8px}.username[_ngcontent-%COMP%]{margin-right:4px;font-weight:500}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px}.menu-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}.menu-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:gray}.bg-mat-primary[_ngcontent-%COMP%]{background-color:#1f0761!important}.nav-item-dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.submenu-arrow[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .3s ease}.submenu-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{background:#0003;margin:0;padding:0;overflow:hidden;transition:all .3s ease}.submenu.show[_ngcontent-%COMP%]{display:block}.submenu-link[_ngcontent-%COMP%]{padding:.5rem 1.5rem .5rem 3rem;font-size:.9rem;color:#ffffffb3}.submenu-link[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.submenu-link.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff26;border-right:2px solid rgba(255,255,255,.8)}.submenu[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:.75rem;width:16px;margin-right:.5rem}.slim-scroll-container[_ngcontent-%COMP%]{overflow-y:auto;border:1px solid #ccc}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"],data:{animation:[zr("slideDown",[gn("collapsed",Li({height:"0px",opacity:0,overflow:"hidden"})),gn("expanded",Li({height:"*",opacity:1,overflow:"visible"})),Rn("collapsed <=> expanded",[Vn("300ms ease-in-out")])])]}})};var TD=["tooltip"],H1=20;var U1=new gt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=ce(un);return()=>i.scrollStrategies.reposition({scrollThrottle:H1})}});function MD(i){return()=>i.scrollStrategies.reposition({scrollThrottle:H1})}var ID={provide:U1,deps:[un],useFactory:MD};function DD(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var AD=new gt("mat-tooltip-default-options",{providedIn:"root",factory:DD});var j1="tooltip-panel",z1=br({passive:!0}),PD=8,OD=8,VD=24,RD=200,Tr=(()=>{class i{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=oc(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=oc(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=rs(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=rs(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,n,r,o,l,m,h,b,y,w,k,T){this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=l,this._platform=m,this._ariaDescriber=h,this._focusMonitor=b,this._dir=w,this._defaultOptions=k,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=FD,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Pe,this._injector=ce(Dt),this._scrollStrategy=y,this._document=T,k&&(this._showDelay=k.showDelay,this._hideDelay=k.hideDelay,k.position&&(this.position=k.position),k.positionAtOrigin&&(this.positionAtOrigin=k.positionAtOrigin),k.touchGestures&&(this.touchGestures=k.touchGestures),k.tooltipClass&&(this.tooltipClass=k.tooltipClass)),w.change.pipe(tt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=PD}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(tt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,z1)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new gs(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(tt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof De)return this._overlayRef;this._detach()}let n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(tt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${j1}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(tt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(tt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(tt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!Ig(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(Ie(Ie({},r.main),o.main)),this._addOffset(Ie(Ie({},r.fallback),o.fallback))])}_addOffset(e){let n=OD,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:l}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),an(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,l;if(n==="center"?this._dir&&this._dir.value==="rtl"?l=r==="end"?"left":"right":l=r==="start"?"left":"right":l=n==="bottom"&&o==="top"?"above":"below",l!==this._currentPosition){let m=this._overlayRef;if(m){let h=`${this._cssClassPrefix}-${j1}-`;m.removePanelClass(h+this._currentPosition),m.addPanelClass(h+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,z1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(n){return new(n||i)(E(un),E(De),E(fs),E(tr),E(ot),E(ai),E(Lg),E(jg),E(U1),E(mc),E(AD,8),E(it))}}static{this.\u0275dir=Se({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&$e("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),FD=(()=>{class i{constructor(e,n,r){this._changeDetectorRef=e,this._elementRef=n,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Pe,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=r==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>VD&&e.width>=RD}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let l=getComputedStyle(n);(l.getPropertyValue("animation-duration")==="0s"||l.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(n){return new(n||i)(E(Pt),E(De),E(Fr,8))}}static{this.\u0275cmp=j({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&at(TD,7),n&2){let o;Re(o=Fe())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&v("mouseleave",function(l){return r._handleMouseLeave(l)})},standalone:!0,features:[U],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=x();a(0,"div",1,0),v("animationend",function(m){return f(o),_(r._handleAnimationEnd(m))}),a(2,"div",2),c(3),s()()}n&2&&($e("mdc-tooltip--multiline",r._isMultiline),p("ngClass",r.tooltipClass),d(3),O(r.message))},dependencies:[ln],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var ye=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[ID],imports:[zg,J,Ic,Tt,Tt,Kn]})}}return i})();var ND=["content"],LD=["scroll"],BD=["padding"],G1=["*"],Ts=i=>({searchTerm:i});function jD(i,t){if(i&1&&(a(0,"div",6),go(1,7),s()),i&2){let e=u();d(),p("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",ki(2,Ts,e.filterValue))}}function zD(i,t){if(i&1&&(a(0,"div",8),go(1,7),s()),i&2){let e=u();d(),p("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",ki(2,Ts,e.filterValue))}}var HD=["searchInput"],UD=["clearButton"],WD=(i,t,e)=>({item:i,clear:t,label:e}),qD=(i,t)=>({items:i,clear:t}),GD=(i,t,e,n)=>({item:i,item$:t,index:e,searchTerm:n});function $D(i,t){if(i&1){let e=x();a(0,"span",22),v("click",function(){f(e);let r=u().$implicit,o=u(2);return _(o.unselect(r))}),c(1,"\xD7"),s(),g(2,"span",23)}if(i&2){let e=u().$implicit,n=u(2);d(2),p("ngItemLabel",e.label)("escape",n.escapeHTML)}}function YD(i,t){}function QD(i,t){if(i&1&&(a(0,"div",20),S(1,$D,3,2,"ng-template",null,1,V)(3,YD,0,0,"ng-template",21),s()),i&2){let e=t.$implicit,n=C(2),r=u(2);$e("ng-value-disabled",e.disabled),d(3),p("ngTemplateOutlet",r.labelTemplate||n)("ngTemplateOutletContext",Ve(4,WD,e.value,r.clearItem,e.label))}}function KD(i,t){if(i&1&&(bt(0),S(1,QD,4,8,"div",19),vt()),i&2){let e=u();d(),p("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function JD(i,t){}function ZD(i,t){if(i&1&&S(0,JD,0,0,"ng-template",21),i&2){let e=u();p("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",On(2,qD,e.selectedValues,e.clearItem))}}function XD(i,t){i&1&&g(0,"div",25)}function eA(i,t){}function tA(i,t){if(i&1&&(bt(0),S(1,XD,1,0,"ng-template",null,2,V)(3,eA,0,0,"ng-template",24),vt()),i&2){let e=C(2),n=u();d(3),p("ngTemplateOutlet",n.loadingSpinnerTemplate||e)}}function iA(i,t){if(i&1&&(a(0,"span",26,3)(2,"span",27),c(3,"\xD7"),s()()),i&2){let e=u();sn("title",e.clearAllText)}}function nA(i,t){if(i&1&&g(0,"span",32),i&2){let e=u().$implicit,n=u(2);p("ngItemLabel",e.label)("escape",n.escapeHTML)}}function rA(i,t){}function oA(i,t){if(i&1){let e=x();a(0,"div",31),v("click",function(){let r=f(e).$implicit,o=u(2);return _(o.toggleItem(r))})("mouseover",function(){let r=f(e).$implicit,o=u(2);return _(o.onItemHover(r))}),S(1,nA,1,2,"ng-template",null,4,V)(3,rA,0,0,"ng-template",21),s()}if(i&2){let e=t.$implicit,n=C(2),r=u(2);$e("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),Ze("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),d(3),p("ngTemplateOutlet",e.children?r.optgroupTemplate||n:r.optionTemplate||n)("ngTemplateOutletContext",wh(17,GD,e.value,e,e.index,r.searchTerm))}}function aA(i,t){if(i&1&&(a(0,"span")(1,"span",34),c(2),s(),c(3),s()),i&2){let e=u(3);d(2),O(e.addTagText),d(),H('"',e.searchTerm,'"')}}function sA(i,t){}function lA(i,t){if(i&1){let e=x();a(0,"div",33),v("mouseover",function(){f(e);let r=u(2);return _(r.itemsList.unmarkItem())})("click",function(){f(e);let r=u(2);return _(r.selectTag())}),S(1,aA,4,2,"ng-template",null,5,V)(3,sA,0,0,"ng-template",21),s()}if(i&2){let e=C(2),n=u(2);$e("ng-option-marked",!n.itemsList.markedItem),d(3),p("ngTemplateOutlet",n.tagTemplate||e)("ngTemplateOutletContext",ki(4,Ts,n.searchTerm))}}function cA(i,t){if(i&1&&(a(0,"div",35),c(1),s()),i&2){let e=u(3);d(),O(e.notFoundText)}}function dA(i,t){}function mA(i,t){if(i&1&&(bt(0),S(1,cA,2,1,"ng-template",null,6,V)(3,dA,0,0,"ng-template",21),vt()),i&2){let e=C(2),n=u(2);d(3),p("ngTemplateOutlet",n.notFoundTemplate||e)("ngTemplateOutletContext",ki(2,Ts,n.searchTerm))}}function uA(i,t){if(i&1&&(a(0,"div",35),c(1),s()),i&2){let e=u(3);d(),O(e.typeToSearchText)}}function pA(i,t){}function hA(i,t){if(i&1&&(bt(0),S(1,uA,2,1,"ng-template",null,7,V)(3,pA,0,0,"ng-template",24),vt()),i&2){let e=C(2),n=u(2);d(3),p("ngTemplateOutlet",n.typeToSearchTemplate||e)}}function fA(i,t){if(i&1&&(a(0,"div",35),c(1),s()),i&2){let e=u(3);d(),O(e.loadingText)}}function _A(i,t){}function gA(i,t){if(i&1&&(bt(0),S(1,fA,2,1,"ng-template",null,8,V)(3,_A,0,0,"ng-template",21),vt()),i&2){let e=C(2),n=u(2);d(3),p("ngTemplateOutlet",n.loadingTextTemplate||e)("ngTemplateOutletContext",ki(2,Ts,n.searchTerm))}}function bA(i,t){if(i&1){let e=x();a(0,"ng-dropdown-panel",28),v("update",function(r){f(e);let o=u();return _(o.viewPortItems=r)})("scroll",function(r){f(e);let o=u();return _(o.scroll.emit(r))})("scrollToEnd",function(r){f(e);let o=u();return _(o.scrollToEnd.emit(r))})("outsideClick",function(){f(e);let r=u();return _(r.close())}),bt(1),S(2,oA,4,22,"div",29)(3,lA,4,6,"div",30),vt(),S(4,mA,4,4,"ng-container",12)(5,hA,4,1,"ng-container",12)(6,gA,4,4,"ng-container",12),s()}if(i&2){let e=u();$e("ng-select-multiple",e.multiple),p("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),d(2),p("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),d(),p("ngIf",e.showAddTag),d(),p("ngIf",e.showNoItemsFound()),d(),p("ngIf",e.showTypeToSearch()),d(),p("ngIf",e.loading&&e.itemsList.filteredItems.length===0)}}var $1=/[&<>"']/g,vA=RegExp($1.source),yA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function xA(i){return i&&vA.test(i)?i.replace($1,t=>yA[t]):i}function Yt(i){return i!=null}function ks(i){return typeof i=="object"&&Yt(i)}function wA(i){return i instanceof Promise}function nd(i){return i instanceof Function}var CA=(()=>{class i{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?xA(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(n){return new(n||i)(E(De))}}static{this.\u0275dir=Se({type:i,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[jt]})}}return i})(),SA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-option-tmp",""]]})}}return i})(),EA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-optgroup-tmp",""]]})}}return i})(),kA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-label-tmp",""]]})}}return i})(),TA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-multi-label-tmp",""]]})}}return i})(),MA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-header-tmp",""]]})}}return i})(),IA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-footer-tmp",""]]})}}return i})(),DA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-notfound-tmp",""]]})}}return i})(),AA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-typetosearch-tmp",""]]})}}return i})(),PA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-loadingtext-tmp",""]]})}}return i})(),OA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-tag-tmp",""]]})}}return i})(),VA=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(pt))}}static{this.\u0275dir=Se({type:i,selectors:[["","ng-loadingspinner-tmp",""]]})}}return i})();function Y1(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var RA={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function id(i){let t=e=>RA[e]||e;return i.replace(/[^\u0000-\u007E]/g,t)}var jp=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,n)=>this.mapItem(e,n)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Yt(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=n=>this._ngSelect.compareWith(n.value,t):this._ngSelect.bindValue?e=n=>!n.children&&this.resolveNested(n.value,this._ngSelect.bindValue)===t:e=n=>n.value===t||!n.children&&n.label&&n.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(n=>e(n))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=id(t).toLocaleLowerCase(),this.filteredItems.find(e=>id(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:id(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,n=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let l of this._groups.get(r)){if(n&&(l.parent&&l.parent.selected||l.selected))continue;let m=this._ngSelect.searchFn?l.value:l;e(t,m)&&o.push(l)}if(o.length>0){let[l]=o.slice(-1);if(l.parent){let m=this._items.find(h=>h===l.parent);this._filteredItems.push(m)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(n=>!n.disabled):-1}resolveNested(t,e){if(!ks(t))return t;if(e.indexOf(".")===-1)return t[e];{let n=e.split("."),r=t;for(let o=0,l=n.length;o<l;++o){if(r==null)return null;r=r[n[o]]}return r}}mapItem(t,e){let n=Yt(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=Yt(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:Yt(n)?n.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let n=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=Yt(n)?this.findItem(n):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,n)=>e.index-n.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(n=>n.selected)&&(this._filteredItems=this._filteredItems.filter(n=>n!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return id(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let n=new Map;if(t.length===0)return n;if(Array.isArray(t[0].value[e])){for(let l of t){let m=(l.value[e]||[]).map((h,b)=>this.mapItem(h,b));n.set(l,m)}return n}let r=nd(this._ngSelect.groupBy),o=l=>{let m=r?e(l.value):l.value[e];return Yt(m)?m:void 0};for(let l of t){let m=o(l),h=n.get(m);h?h.push(l):n.set(m,[l])}return n}_flatten(t){let e=nd(this._ngSelect.groupBy),n=[];for(let r of Array.from(t.keys())){let o=n.length;if(r===void 0){let w=t.get(void 0)||[];n.push(...w.map(k=>(k.index=o++,k)));continue}let l=ks(r),m={label:l?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:Y1()},h=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,b=this._ngSelect.groupValue||(()=>l?r.value:{[h]:r}),y=t.get(r).map(w=>(w.parent=m,w.children=void 0,w.index=o++,w));m.children=y,m.value=b(r,y.map(w=>w.value)),n.push(m),n.push(...y)}return n}},Dn=function(i){return i[i.Tab=9]="Tab",i[i.Enter=13]="Enter",i[i.Esc=27]="Esc",i[i.Space=32]="Space",i[i.ArrowUp=38]="ArrowUp",i[i.ArrowDown=40]="ArrowDown",i[i.Backspace=8]="Backspace",i}(Dn||{}),Q1=(()=>{class i{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,n,r){let o=this._dimensions,l=o.itemHeight*n,h=Math.max(0,e)/l*n,b=Math.min(n,Math.ceil(h)+(o.itemsPerViewport+1)),w=Math.max(0,b-o.itemsPerViewport),k=Math.min(w,Math.floor(h)),T=o.itemHeight*Math.ceil(k)-o.itemHeight*Math.min(k,r);return T=isNaN(T)?0:T,k=isNaN(k)?-1:k,b=isNaN(b)?-1:b,k-=r,k=Math.max(0,k),b+=r,b=Math.min(n,b),{topPadding:T,scrollHeight:l,start:k,end:b}}setDimensions(e,n){let r=Math.max(1,Math.floor(n/e));this._dimensions={itemHeight:e,panelHeight:n,itemsPerViewport:r}}getScrollTo(e,n,r){let{panelHeight:o}=this.dimensions,l=e+n,m=r,h=m+o;return o>=l&&r===e?null:l>h?m+l-h:e<=m?e:null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac})}}return i})(),W1=["top","right","bottom","left"],FA=typeof requestAnimationFrame<"u"?Ud:Hd,q1=(()=>{class i{constructor(e,n,r,o,l){this._renderer=e,this._zone=n,this._panelService=r,this._document=l,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new Te,this.scroll=new Te,this.scrollToEnd=new Te,this.outsideClick=new Te,this._destroy$=new Pe,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:n}=this._panelService.dimensions,r=this.markedItem.index*e;return n>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let n=e.items;this._onItemsChange(n.currentValue,n.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,n=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let l=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*l,l,this._lastScrollPosition)}else{let l=this._dropdown.querySelector(`#${e.htmlId}`),m=n?l.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(l.offsetTop,l.clientHeight,m)}Yt(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),W1.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){W1.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let n=`ng-select-${e}`;this._renderer.addClass(this._dropdown,n),this._renderer.addClass(this._select,n)}_handleScroll(){this._zone.runOutsideAngular(()=>{ci(this.scrollElementRef.nativeElement,"scroll").pipe(tt(this._destroy$),ya(0,FA)).subscribe(e=>{let n=e.path||e.composedPath&&e.composedPath(),r=!n||n.length===0?e.target.scrollTop:n[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Pr(ci(this._document,"touchstart",{capture:!0}),ci(this._document,"mousedown",{capture:!0})).pipe(tt(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let n=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&n&&n[0]&&this._select.contains(n[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,n){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(n):(this._setVirtualHeight(),this._updateItems(n))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let n=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,n),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let n=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(n.scrollHeight),this._contentPanel.style.transform=`translateY(${n.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(n.start,n.end)),this.scroll.emit({start:n.start,end:n.end})}),Yt(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let n=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=n.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let n=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=n.top+window.pageYOffset,l=n.height,m=e.getBoundingClientRect().height;return o+l+m>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.left-n.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),n=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=n.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-n.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{ci(this._dropdown,"mousedown").pipe(tt(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(n){return new(n||i)(E(qi),E(ot),E(Q1),E(De),E(it,8))}}static{this.\u0275cmp=j({type:i,selectors:[["ng-dropdown-panel"]],viewQuery:function(n,r){if(n&1&&(at(ND,7,De),at(LD,7,De),at(BD,7,De)),n&2){let o;Re(o=Fe())&&(r.contentElementRef=o.first),Re(o=Fe())&&(r.scrollElementRef=o.first),Re(o=Fe())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[jt],ngContentSelectors:G1,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(n,r){n&1&&(Jt(),S(0,jD,2,4,"div",3),a(1,"div",4,0),g(3,"div",null,1),a(5,"div",null,2),Zt(7),s()(),S(8,zD,2,4,"div",5)),n&2&&(p("ngIf",r.headerTemplate),d(3),$e("total-padding",r.virtualScroll),d(2),$e("scrollable-content",r.virtualScroll&&r.items.length),d(3),p("ngIf",r.footerTemplate))},dependencies:[X,ir],encapsulation:2,changeDetection:0})}}return i})(),Hi=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}constructor(e){this.elementRef=e,this.stateChange$=new Pe,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return e!=null&&`${e}`!="false"}static{this.\u0275fac=function(n){return new(n||i)(E(De))}}static{this.\u0275cmp=j({type:i,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[jt],ngContentSelectors:G1,decls:1,vars:0,template:function(n,r){n&1&&(Jt(),Zt(0))},encapsulation:2,changeDetection:0})}}return i})(),NA=(()=>{class i{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),LA=(()=>{class i{warn(e){console.warn(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),K1=new gt("ng-select-selection-model"),Xi=(()=>{class i{get items(){return this._items}set items(e){e===null&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!nd(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return Yt(this._clearSearchOnAdd)?this._clearSearchOnAdd:Yt(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return Yt(this._deselectOnClick)?this._deselectOnClick:Yt(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(e,n,r,o,l,m,h){this.classes=e,this.autoFocus=n,this.config=r,this._cd=m,this._console=h,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=b=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Te,this.focusEvent=new Te,this.changeEvent=new Te,this.openEvent=new Te,this.closeEvent=new Te,this.searchEvent=new Te,this.clearEvent=new Te,this.addEvent=new Te,this.removeEvent=new Te,this.scroll=new Te,this.scrollToEnd=new Te,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Y1(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Pe,this._keyPress$=new Pe,this._onChange=b=>{},this._onTouched=()=>{},this.clearItem=b=>{let y=this.selectedItems.find(w=>w.value===b);this.unselect(y)},this.trackByOption=(b,y)=>this.trackByFn?this.trackByFn(y.value):y,this._mergeGlobalConfig(r),this.itemsList=new jp(this,o()),this.element=l.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Yt(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Yt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(Dn[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let n=e.target;this.clearButton&&this.clearButton.nativeElement===n?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case Dn.ArrowDown:this._handleArrowDown(e);break;case Dn.ArrowUp:this._handleArrowUp(e);break;case Dn.Space:this._handleSpace(e);break;case Dn.Enter:this._handleEnter(e);break;case Dn.Tab:this._handleTab(e);break;case Dn.Esc:this.close(),e.preventDefault();break;case Dn.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case Dn.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){let n=e.target;if(n.tagName!=="INPUT"&&e.preventDefault(),n.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(n.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}n.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value))}selectTag(){let e;nd(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let n=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);wA(e)?e.then(r=>this.select(n(r))).catch(()=>{}):e&&this.select(n(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(n=>n.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(n=>n.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(n=>n.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let n=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Yt(n)?!ks(n):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Yt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},n=()=>{let r=Pr(this.ngOptions.changes,this._destroy$);Pr(...this.ngOptions.map(o=>o.stateChange$)).pipe(tt(r)).subscribe(o=>{let l=this.itemsList.findItem(o.value);l.disabled=o.disabled,l.label=o.label||l.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(Vr(this.ngOptions),tt(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),n()})}_isValidWriteValue(e){if(!Yt(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let n=r=>!Yt(this.compareWith)&&ks(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>n(r)):(this._console.warn("Multiple select ngModel should be array."),!1):n(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let n=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let l=ks(r),m=!l&&!this.bindValue;l||m?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>n(r)):n(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(tt(this._destroy$),wa(e=>this._pressedKeys.push(e)),xa(200),xi(()=>this._pressedKeys.length>0),rn(()=>this._pressedKeys.join(""))).subscribe(e=>{let n=this.itemsList.findByLabel(e);n&&(this.isOpen?(this.itemsList.markItem(n),this._scrollToMarked(),this._cd.markForCheck()):this.select(n)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,n=Ie({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let r of Object.keys(n))e.setAttribute(r,n[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let l=this.groupValue?this.bindValue:this.groupBy;o=r.value[l||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let n=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(n)):(this._onChange(Yt(e[0])?e[0]:null),this.changeEvent.emit(n[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let n=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(n<0||n===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Yt(this.virtualScroll)?this.virtualScroll:Yt(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=Yt(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(n){return new(n||i)(on("class"),on("autofocus"),E(NA),E(K1),E(De),E(Pt),E(LA))}}static{this.\u0275cmp=j({type:i,selectors:[["ng-select"]],contentQueries:function(n,r,o){if(n&1&&(Wt(o,SA,5,pt),Wt(o,EA,5,pt),Wt(o,kA,5,pt),Wt(o,TA,5,pt),Wt(o,MA,5,pt),Wt(o,IA,5,pt),Wt(o,DA,5,pt),Wt(o,AA,5,pt),Wt(o,PA,5,pt),Wt(o,OA,5,pt),Wt(o,VA,5,pt),Wt(o,Hi,5)),n&2){let l;Re(l=Fe())&&(r.optionTemplate=l.first),Re(l=Fe())&&(r.optgroupTemplate=l.first),Re(l=Fe())&&(r.labelTemplate=l.first),Re(l=Fe())&&(r.multiLabelTemplate=l.first),Re(l=Fe())&&(r.headerTemplate=l.first),Re(l=Fe())&&(r.footerTemplate=l.first),Re(l=Fe())&&(r.notFoundTemplate=l.first),Re(l=Fe())&&(r.typeToSearchTemplate=l.first),Re(l=Fe())&&(r.loadingTextTemplate=l.first),Re(l=Fe())&&(r.tagTemplate=l.first),Re(l=Fe())&&(r.loadingSpinnerTemplate=l.first),Re(l=Fe())&&(r.ngOptions=l)}},viewQuery:function(n,r){if(n&1&&(at(q1,5),at(HD,7),at(UD,5)),n&2){let o;Re(o=Fe())&&(r.dropdownPanel=o.first),Re(o=Fe())&&(r.searchInput=o.first),Re(o=Fe())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(n,r){n&1&&v("keydown",function(l){return r.handleKeyDown(l)}),n&2&&$e("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-single",r.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[ct([{provide:wi,useExisting:Ut(()=>i),multi:!0},Q1]),jt],decls:14,vars:19,consts:[["searchInput",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"input","compositionstart","compositionend","focus","blur","change","readOnly","disabled","value"],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(n,r){if(n&1){let o=x();a(0,"div",9),v("mousedown",function(m){return f(o),_(r.handleMousedown(m))}),a(1,"div",10)(2,"div",11),c(3),s(),S(4,KD,2,2,"ng-container",12)(5,ZD,1,5,null,12),a(6,"div",13)(7,"input",14,0),v("input",function(){f(o);let m=C(8);return _(r.filter(m.value))})("compositionstart",function(){return f(o),_(r.onCompositionStart())})("compositionend",function(){f(o);let m=C(8);return _(r.onCompositionEnd(m.value))})("focus",function(m){return f(o),_(r.onInputFocus(m))})("blur",function(m){return f(o),_(r.onInputBlur(m))})("change",function(m){return f(o),_(m.stopPropagation())}),s()()(),S(9,tA,4,1,"ng-container",12)(10,iA,4,1,"span",15),a(11,"span",16),g(12,"span",17),s()(),S(13,bA,7,19,"ng-dropdown-panel",18)}n&2&&($e("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),d(3),O(r.placeholder),d(),p("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),d(),p("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),d(),Ze("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),d(),p("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),Ze("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),d(2),p("ngIf",r.loading),d(),p("ngIf",r.showClear()),d(3),p("ngIf",r.isOpen))},dependencies:[ln,me,X,ir,q1,CA],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return i})();function BA(){return new zp}var zp=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,n){if(t.selected=!0,(!t.children||!e&&n)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(l=>l.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),n&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(n=>n!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let n=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...n.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let n of t)n.disabled||(n.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},be=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[{provide:K1,useValue:BA}],imports:[J]})}}return i})();function jA(i,t){if(i&1){let e=x();a(0,"a",12),v("keyup.enter",function(){f(e),u(3);let r=C(1);return _(r.previous())})("click",function(){f(e),u(3);let r=C(1);return _(r.previous())}),c(1),a(2,"span",13),c(3),s()()}if(i&2){let e=u(3);d(),H(" ",e.previousLabel," "),d(2),O(e.screenReaderPageLabel)}}function zA(i,t){if(i&1&&(a(0,"span",14),c(1),a(2,"span",13),c(3),s()()),i&2){let e=u(3);d(),H(" ",e.previousLabel," "),d(2),O(e.screenReaderPageLabel)}}function HA(i,t){if(i&1&&(a(0,"li",9),S(1,jA,4,2,"a",10)(2,zA,4,2,"span",11),s()),i&2){u(2);let e=C(1);$e("disabled",e.isFirstPage()),d(),p("ngIf",1<e.getCurrent()),d(),p("ngIf",e.isFirstPage())}}function UA(i,t){if(i&1){let e=x();a(0,"a",12),v("keyup.enter",function(){f(e);let r=u().$implicit;u(2);let o=C(1);return _(o.setCurrent(r.value))})("click",function(){f(e);let r=u().$implicit;u(2);let o=C(1);return _(o.setCurrent(r.value))}),a(1,"span",13),c(2),s(),a(3,"span"),c(4),$(5,"number"),s()()}if(i&2){let e=u().$implicit,n=u(2);d(2),H("",n.screenReaderPageLabel," "),d(2),O(e.label==="..."?e.label:Y(5,2,e.label,""))}}function WA(i,t){if(i&1&&(bt(0),a(1,"span",16)(2,"span",13),c(3),s(),a(4,"span"),c(5),$(6,"number"),s()(),vt()),i&2){let e=u().$implicit,n=u(2);d(3),H("",n.screenReaderCurrentLabel," "),d(2),O(e.label==="..."?e.label:Y(6,2,e.label,""))}}function qA(i,t){if(i&1&&(a(0,"li"),S(1,UA,6,5,"a",10)(2,WA,7,5,"ng-container",15),s()),i&2){let e=t.$implicit;u(2);let n=C(1);$e("current",n.getCurrent()===e.value)("ellipsis",e.label==="..."),d(),p("ngIf",n.getCurrent()!==e.value),d(),p("ngIf",n.getCurrent()===e.value)}}function GA(i,t){if(i&1){let e=x();a(0,"a",12),v("keyup.enter",function(){f(e),u(3);let r=C(1);return _(r.next())})("click",function(){f(e),u(3);let r=C(1);return _(r.next())}),c(1),a(2,"span",13),c(3),s()()}if(i&2){let e=u(3);d(),H(" ",e.nextLabel," "),d(2),O(e.screenReaderPageLabel)}}function $A(i,t){if(i&1&&(a(0,"span",14),c(1),a(2,"span",13),c(3),s()()),i&2){let e=u(3);d(),H(" ",e.nextLabel," "),d(2),O(e.screenReaderPageLabel)}}function YA(i,t){if(i&1&&(a(0,"li",17),S(1,GA,4,2,"a",10)(2,$A,4,2,"span",11),s()),i&2){u(2);let e=C(1);$e("disabled",e.isLastPage()),d(),p("ngIf",!e.isLastPage()),d(),p("ngIf",e.isLastPage())}}function QA(i,t){if(i&1&&(a(0,"ul",4),S(1,HA,3,4,"li",5),a(2,"li",6),c(3),s(),S(4,qA,3,6,"li",7)(5,YA,3,4,"li",8),s()),i&2){let e=u(),n=C(1);$e("responsive",e.responsive),d(),p("ngIf",e.directionLinks),d(2),mi(" ",n.getCurrent()," / ",n.getLastPage()," "),d(),p("ngForOf",n.pages)("ngForTrackBy",e.trackByIndex),d(),p("ngIf",e.directionLinks)}}var Ms=class{constructor(){this.change=new Te,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let n=this.instances[t],r=Math.ceil(n.totalItems/n.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},KA=Number.MAX_SAFE_INTEGER,Be=(()=>{class i{constructor(e){this.service=e,this.state={}}transform(e,n){if(!(e instanceof Array)){let w=n.id||this.service.defaultId();return this.state[w]?this.state[w].slice:e}let r=n.totalItems&&n.totalItems!==e.length,o=this.createInstance(e,n),l=o.id,m,h,b=o.itemsPerPage,y=this.service.register(o);if(!r&&e instanceof Array){if(b=+b||KA,m=(o.currentPage-1)*b,h=m+b,this.stateIsIdentical(l,e,m,h))return this.state[l].slice;{let k=e.slice(m,h);return this.saveState(l,e,k,m,h),this.service.change.emit(l),k}}else return y&&this.service.change.emit(l),this.saveState(l,e,e,m,h),e}createInstance(e,n){return this.checkConfig(n),{id:n.id!=null?n.id:this.service.defaultId(),itemsPerPage:+n.itemsPerPage||0,currentPage:+n.currentPage||1,totalItems:+n.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,n,r,o,l){this.state[e]={collection:n,size:n.length,slice:r,start:o,end:l}}stateIsIdentical(e,n,r,o){let l=this.state[e];return!l||!(l.size===n.length&&l.start===r&&l.end===o)?!1:l.slice.every((h,b)=>h===n[r+b])}}return i.\u0275fac=function(e){return new(e||i)(E(Ms,16))},i.\u0275pipe=Ca({name:"paginate",type:i,pure:!1}),i})();var JA=(()=>{class i{constructor(e,n){this.service=e,this.changeDetectorRef=n,this.maxSize=7,this.pageChange=new Te,this.pageBoundsCorrection=new Te,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(n),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let n=Math.ceil(e.totalItems/e.itemsPerPage);return n<e.currentPage&&0<n?n:e.currentPage<1?1:e.currentPage}createPageArray(e,n,r,o){o=+o;let l=[],m=Math.max(Math.ceil(r/n),1),h=Math.ceil(o/2),b=e<=h,y=m-h<e,w=!b&&!y,k=o<m,T=1;for(;T<=m&&T<=o;){let I,M=this.calculatePageNumber(T,e,o,m),R=T===2&&(w||y),N=T===o-1&&(w||b);k&&(R||N)?I="...":I=M,l.push({label:I,value:M}),T++}return l}calculatePageNumber(e,n,r,o){let l=Math.ceil(r/2);return e===r?o:e===1?e:r<o?o-l<n?o-r+e:l<n?n-l+e:e:e}}return i.\u0275fac=function(e){return new(e||i)(E(Ms),E(Pt))},i.\u0275dir=Se({type:i,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[jt]}),i})();function Hp(i){return!!i&&i!=="false"}var je=(()=>{class i{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Te,this.pageBoundsCorrection=new Te,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Hp(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Hp(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Hp(e)}trackByIndex(e){return e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=j({type:i,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,n){if(e&1){let r=x();a(0,"pagination-template",1,0),v("pageChange",function(l){return f(r),_(n.pageChange.emit(l))})("pageBoundsCorrection",function(l){return f(r),_(n.pageBoundsCorrection.emit(l))}),a(2,"nav",2),S(3,QA,6,8,"ul",3),s()()}if(e&2){let r=C(1);p("id",n.id)("maxSize",n.maxSize),d(2),Ze("aria-label",n.screenReaderPaginationLabel),d(),p("ngIf",!(n.autoHide&&r.pages.length<=1))}},dependencies:[JA,X,me,Ih],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),i})(),ve=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=_e({type:i}),i.\u0275inj=fe({providers:[Ms],imports:[[J]]}),i})();var Ae=class i{transform(t,e){return e!=""?t.filter(n=>n?.lastname?.toLowerCase().includes(e.toLowerCase())||n?.code?.toLowerCase().includes(e.toLowerCase())||n?.firstname?.toLowerCase().includes(e.toLowerCase())||n?.birthdate?.toLowerCase().includes(e.toLowerCase())||n?.birthplace?.toLowerCase().includes(e.toLowerCase())||n?.sex?.toLowerCase().includes(e.toLowerCase())||n?.address?.toLowerCase().includes(e.toLowerCase())||n?.fonction?.toLowerCase().includes(e.toLowerCase())||n?.email?.toLowerCase().includes(e.toLowerCase())||n?.phone?.toLowerCase().includes(e.toLowerCase())):t}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=Ca({name:"sampleSearch",type:i,pure:!0,standalone:!0})};function ZA(i,t){i&1&&g(0,"img",0)}var we=class i{isVisible=!1;constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=j({type:i,selectors:[["app-loading"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[U],decls:1,vars:1,consts:[["src","assets/spinner.gif","alt","",2,"height","30px"]],template:function(e,n){e&1&&S(0,ZA,1,0,"img",0),e&2&&fn(n.isVisible?0:-1)},dependencies:[J]})};var rd=class i{constructor(t){this.http=t}url=F.toApiUrl("agenda");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+`/get-by-prestation/${t}`)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}SendMail(t){return this.http.get(`${this.url}/mail/send/${t}`)}transUp(t){return this.http.get(`${this.url}/mail/trans-up/${t}`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var ft=class i{constructor(t){this.http=t}url=F.toApiUrl("requete");getAll(){return this.http.get(this.url)}get(t,e,n){return this.http.get(`${this.url}/get-one/${t}/${e}?prestation_code=${n}`)}getByPrestationNew(t,e){return this.http.get(this.url+"/byPrestation/pending/"+t+"/new?code="+e)}getByPrestationTreated(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/treated?code="+e)}getByPrestationToSign(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/to-sign?code="+e)}getByPrestationSigned(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/signed?code="+e)}getByPrestationToReject(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/to-reject?code="+e)}getByPrestationRejected(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/rejected?code="+e)}getByPrestationPending(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/pending?code="+e)}getForAgenda(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/agenda?code="+e)}getByPrestationFinished(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/finished?code="+e)}getByPrestationAll(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/all?code="+e)}getByPrestationCorrect(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/correct?code="+e)}getByPrestationVisa(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/visa?code="+e)}relance(t){return this.http.get(this.url+"/relance/"+t)}getCorrectionByPrestation(t,e){return this.http.get(this.url+"/correction/byPrestation/"+t+"?code="+e)}store(t){return this.http.post(this.url,t)}confirm(t,e,n){return this.http.post(this.url+"/confirm/byPrestation/"+e+"?code="+n,t)}concat(t){return this.http.post(this.url+"/concat",t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}getForTreatment(t,e,n){return this.http.get(`${this.url}/treatment/${t}/${e}?code=`+n)}update(t,e){return e._method="patch",this.http.patch(`${this.url}/${t}`,e)}geeratePDF(t,e,n,r){return this.http.post(`${this.url}/generate/${t}/${n}?code=`+r,e)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}verifyFile(t,e,n){return this.http.get(`${F.toApiUrl("requete-verify")}/${t}/${e}/${n}`)}requestProof(t){return this.http.post(`${F.toApiUrl("requete-file-proof-send")}`,t)}addContratFile(t){return this.http.post(`${F.toApiUrl("requete-add-contract-file")}`,t)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var eP=["dialog"],tP=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function iP(i,t){if(i&1){let e=x();a(0,"button",31),v("click",function(){f(e);let r=u(),o=C(48);return _(r.add(o))}),c(1,"Ajouter"),s()}}function nP(i,t){if(i&1){let e=x();a(0,"button",32),v("click",function(){f(e);let r=u(),o=C(50);return _(r.edit(o))}),c(1," Reprogrammer la rencontre "),s()}if(i&2){let e=u();p("disabled",e.loading)}}function rP(i,t){if(i&1){let e=x();a(0,"button",33),v("click",function(){f(e);let r=u();return _(r.delete())}),c(1," Annuler la rencontre "),s()}if(i&2){let e=u();p("disabled",e.loading)}}function oP(i,t){if(i&1){let e=x();a(0,"button",34),v("click",function(){f(e);let r=u();return _(r.transUp())}),c(1,"Transmettre"),s()}if(i&2){let e=u();p("disabled",e.loading)}}function aP(i,t){if(i&1){let e=x();a(0,"button",34),v("click",function(){f(e);let r=u();return _(r.sendMail())}),c(1,"Envoyer le mail"),s()}if(i&2){let e=u();p("disabled",e.loading)}}function sP(i,t){if(i&1){let e=x();a(0,"button",48),v("click",function(){f(e);let r=u(3),o=C(52);return _(r.show(o))}),g(1,"i",49),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function lP(i,t){if(i&1){let e=x();a(0,"button",50),v("click",function(){f(e);let r=u(3),o=C(50);return _(r.edit(o))}),g(1,"i",51),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function cP(i,t){if(i&1){let e=x();a(0,"button",52),v("click",function(){f(e);let r=u(3);return _(r.delete())}),g(1,"i",53),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function dP(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",55),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function mP(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",57),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function uP(i,t){if(i&1){let e=x();a(0,"div",39)(1,"button",40),v("click",function(){f(e);let r=u(2),o=C(48);return _(r.add(o))}),g(2,"i",41),s(),S(3,sP,2,1,"button",42)(4,lP,2,1,"button",43)(5,cP,2,1,"button",44)(6,dP,2,1,"button",45)(7,mP,2,1,"button",46),a(8,"button",47),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),s()()}if(i&2){let e=u(2);d(),p("disabled",e.loading),d(2),p("ngIf",e.buttonsPermission.show),d(),p("ngIf",e.buttonsPermission.edit),d(),p("ngIf",e.buttonsPermission.delete),d(),p("ngIf",e.is_active!=null&&!e.is_active),d(),p("ngIf",e.is_active!=null&&e.is_active)}}function pP(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,uP,9,6,"div",38),s(),a(5,"td"),c(6),$(7,"date"),s(),a(8,"td"),c(9),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),a(14,"td"),c(15),s(),a(16,"td"),c(17),s(),a(18,"td"),c(19),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(Y(7,13,e==null?null:e.date_start,"dd-MM-yyyy")),d(3),O(e==null||e.requete==null||e.requete.prestation==null?null:e.requete.prestation.name),d(2),O(e==null?null:e.description),d(2),O(e==null||e.unite_admin==null?null:e.unite_admin.libelle),d(2),O(n.getStatus(e==null?null:e.status)),d(2),O((e==null?null:e.usager_response)==null?"En attente de r\xE9ponse":(e==null?null:e.usager_response)==0?"Pas disponible":"Diponible"),d(2),mi("",e.user==null||e.user.agent==null?null:e.user.agent.lastname," ",e.user==null||e.user.agent==null?null:e.user.agent.firstname,"")}}function hP(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",58)(2,"p",59),c(3,"Recherche avanc\xE9e en cours..."),s(),a(4,"button",60),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),c(5," R\xE9initialiser la recherche "),s()()()}}function fP(i,t){if(i&1&&(a(0,"option",80),c(1),s()),i&2){let e=t.$implicit,n=u(2);p("selected",n.upId==e.id)("value",e.prestation.id),d(),O(e.prestation.name)}}function _P(i,t){if(i&1&&(a(0,"option",80),c(1),s()),i&2){let e=t.$implicit,n=u(3);p("selected",n.code==n.reqId)("value",e.id),d(),O(e.code)}}function gP(i,t){if(i&1&&(a(0,"div",67)(1,"label",68),c(2,"Choisir la requ\xEAte"),s(),a(3,"select",81),g(4,"option",70),S(5,_P,2,3,"option",71),s()()),i&2){let e=u(2);d(5),p("ngForOf",e.requetes)}}function bP(i,t){if(i&1&&(a(0,"option",84),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.code)}}function vP(i,t){if(i&1){let e=x();a(0,"div",67)(1,"label",68),c(2,"Choisir la requ\xEAte"),s(),a(3,"select",82),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.reqId,r)||(o.reqId=r),_(r)}),g(4,"option",70),S(5,bP,2,2,"option",83),s()()}if(i&2){let e=u(2);d(3),D("ngModel",e.reqId),d(2),p("ngForOf",e.requetes)}}function yP(i,t){i&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function xP(i,t){if(i&1&&(a(0,"span",85),S(1,yP,2,0,"small",86),s()),i&2){u();let e=C(21);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function wP(i,t){i&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function CP(i,t){if(i&1&&(a(0,"span",85),S(1,wP,2,0,"small",86),s()),i&2){u();let e=C(27);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function SP(i,t){if(i&1){let e=x();a(0,"form",61,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",62)(3,"h4",63),c(4,"Enregistrer un programme"),s(),a(5,"button",64),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",65),s()(),a(7,"div")(8,"div",66)(9,"div",67)(10,"label",68),c(11,"Choisir la prestation"),s(),a(12,"select",69),v("change",function(r){f(e);let o=u();return _(o.loadRequete(r))}),g(13,"option",70),S(14,fP,2,3,"option",71),s()(),S(15,gP,6,1,"div",72)(16,vP,6,2,"div",72),a(17,"div",67)(18,"label",73),c(19,"Texte"),s(),g(20,"textarea",74,4),S(22,xP,2,1,"span",75),s(),a(23,"div",67)(24,"label",73),c(25,"Date "),s(),g(26,"input",76,5),S(28,CP,2,1,"span",75),s()()(),a(29,"div",77)(30,"button",78),c(31,"Sauvegarder "),g(32,"app-loading",79),s()()()}if(i&2){let e=C(1),n=C(21),r=C(27),o=u();d(12),p("disabled",o.upId!=null),d(2),p("ngForOf",o.user_prestations),d(),p("ngIf",o.code==null),d(),p("ngIf",o.code!=null),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(6),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(2),p("disabled",e.invalid||o.loading),d(2),p("isVisible",o.loading)}}function EP(i,t){i&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function kP(i,t){if(i&1&&(a(0,"span",85),S(1,EP,2,0,"small",86),s()),i&2){u();let e=C(13);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function TP(i,t){i&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function MP(i,t){if(i&1&&(a(0,"span",85),S(1,TP,2,0,"small",86),s()),i&2){u();let e=C(19);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function IP(i,t){if(i&1){let e=x();a(0,"form",61,6),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",88)(3,"div")(4,"h6"),c(5,"Modification de programme "),a(6,"button",64),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(7,"i",65),s()()(),a(8,"div")(9,"div",67)(10,"label",73),c(11,"Texte"),s(),a(12,"textarea",89,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.description,r)||(o.selected_data.description=r),_(r)}),s(),S(14,kP,2,1,"span",75),s(),a(15,"div",67)(16,"label",73),c(17,"Date"),s(),a(18,"input",90,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.date_start,r)||(o.selected_data.date_start=r),_(r)}),s(),S(20,MP,2,1,"span",75),s()(),a(21,"div")(22,"button",78),c(23,"Sauvegarder "),g(24,"app-loading",79),s()()()()}if(i&2){let e=C(1),n=C(13),r=C(19),o=u();d(12),D("ngModel",o.selected_data.description),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(4),D("ngModel",o.selected_data.date_start),d(2),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(2),p("disabled",e.invalid||o.loading),d(2),p("isVisible",o.loading)}}function DP(i,t){if(i&1){let e=x();a(0,"div",62)(1,"h4",63),c(2,"D\xE9tails des informations"),s(),a(3,"button",91),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",66),g(5,"div",92),s()}}var ao=class i{constructor(t,e,n,r,o,l,m){this.agendaService=t;this.locService=e;this.modalService=r;this.requeteService=o;this.toastrService=l;this.activatedRoute=m;n.backdrop="static",n.keyboard=!1}dialog;selected_data;data=[];user;permissions=[];user_prestations=[];requetes=[];loading=!1;error="";loading2=!1;canTransmit=!0;role="";canSendMail=!0;is_active=!0;code;codeP;slug;upId;reqId;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;ngAfterViewInit(){this.slug!=null&&(this.upId=this.user_prestations.find(t=>t.prestation.slug==this.slug)?.id),this.code!=null&&this.slug!=null&&(this.upId=this.user_prestations.find(t=>t.prestation.slug==this.slug).id,this.requeteService.getForAgenda(this.slug,this.codeP).subscribe(t=>{this.requetes=t,this.reqId=this.requetes.find(e=>e.code==this.code)?.id,this.add(this.dialog)}))}ngOnInit(){this.user=this.locService.get(W.userName),this.user_prestations=this.user.userprestation,this.role=this.user.roles[0].name,this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.codeP=this.activatedRoute.snapshot.paramMap.get("codeP"),this.slug=this.activatedRoute.snapshot.paramMap.get("slug"),this.slug!=null&&this.slug!=null?this.getByPrestation():this.all()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.agendaService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getByPrestation(){this.loading2=!0,this.agendaService.getByPrestation(this.slug).subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t,t.ua_up==this.user.agent.unite_admin.id?this.canTransmit=!0:this.canTransmit=!1,this.role=="Directeur"&&t.status==0?this.canSendMail=!0:this.canSendMail=!1}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){let e=Ni(new Date,"yyyy-MM-dd","en_US");Ni(t.date_start,"yyyy-MM-dd","en_US")<e?(this.error="Impossible de choisir une date ant\xE9rieure",this.toastrService.error("Impossible de choisir une date ant\xE9rieure")):(this.reqId!=null&&(t.requete_id=this.reqId),this.loading=!0,this.agendaService.store(t).subscribe(r=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Un programme enregistr\xE9e, mail envoy\xE9 \xE0 l'usager")},r=>{this.loading=!1}))}update(t){this.loading=!0,console.log(t),this.agendaService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.agendaService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}loadRequete(t){this.requeteService.getForAgenda(this.user_prestations.find(e=>e.prestation.id==t.target.value).prestation.slug).subscribe(e=>{this.requetes=e})}getStatus(t){switch(t){case 0:return"Ouvert";case 1:return"Envoy\xE9";case 2:return"Clotur\xE9";default:return""}}transUp(){this.agendaService.transUp(this.selected_data.id).subscribe(t=>{this.loading=!1,this.getByPrestation(),this.toastrService.success("Transmission de la proposition de rendez vous")},t=>{this.loading=!1})}sendMail(){this.toastrService.info("Op\xE9ration en cours"),this.agendaService.SendMail(this.selected_data.id).subscribe(t=>{this.toastrService.info("Mail Envoy\xE9"),this.loading=!1,this.all(),this.toastrService.success("Transmission de la proposition de rendez vous")},t=>{this.toastrService.info("Echec d'envoi du mail"),this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.agendaService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(rd),E(te),E(Je),E(de),E(ft),E(ne),E(Ge))};static \u0275cmp=j({type:i,selectors:[["ngx-agenda"]],viewQuery:function(e,n){if(e&1&&at(eP,5),e&2){let r;Re(r=Fe())&&(n.dialog=r.first)}},standalone:!0,features:[U],decls:53,vars:31,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["description","ngModel"],["date_start","ngModel"],["editForm","ngForm"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"card","p-1"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],["class","btn btn-sm btn-warning mx-1","nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1","nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"disabled","click",4,"ngIf"],["class"," btn btn-sm btn-primary float-right mx-1",3,"disabled","click",4,"ngIf"],[1,"align-self-center","d-flex"],[1,"input-group"],["id","inputGroupSelect04","aria-label","Example select with button addon",1,"form-select"],["value",""],["type","text","name","search_text","placeholder","Rechercher..",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-rotate-left"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],["nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-warning","mx-1",3,"click","disabled"],["nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-danger","mx-1",3,"click","disabled"],[1,"btn","btn-sm","btn-primary","float-right","mx-1",3,"click","disabled"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],["colspan","5",1,"text-center"],[1,"text-muted"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for",""],["name","","id","",1,"form-control",3,"change","disabled"],["selected","","disabled",""],[3,"selected","value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["for","typeLabel"],["name","description","ngModel","","rows","5",1,"form-control"],["class","text-danger",4,"ngIf"],["type","datetime-local","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","date_start","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"selected","value"],["ngModel","","name","requete_id","required","",1,"form-control"],["name","requete_id","required","","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],[2,"height","80vh"],["name","description","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["type","datetime-local","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),S(4,iP,2,0,"button",11)(5,nP,2,1,"button",12)(6,rP,2,1,"button",13)(7,oP,2,1,"button",14)(8,aP,2,1,"button",14),a(9,"div",15)(10,"div",16)(11,"select",17)(12,"option",18),c(13,"Filtrer Par"),s()(),a(14,"input",19),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(15,"button",20),v("click",function(){return f(r),_(n.resetSearch())}),g(16,"i",21),s()()()(),a(17,"div",22)(18,"p"),c(19),s(),a(20,"div",23)(21,"table",24)(22,"thead",25)(23,"tr")(24,"th",26),c(25,"#"),s(),a(26,"th",27),c(27,"Date"),s(),a(28,"th",27),c(29,"Prestation concern\xE9e"),s(),a(30,"th",27),c(31,"Texte"),s(),a(32,"th",27),c(33,"Etape"),s(),a(34,"th",27),c(35,"Statut"),s(),a(36,"th",27),c(37,"R\xE9ponse usager"),s(),a(38,"th",27),c(39,"Auteur"),s()()(),a(40,"tbody"),S(41,pP,20,16,"tr",28),$(42,"paginate"),$(43,"sampleSearch"),S(44,hP,6,0,"tr",29),$(45,"sampleSearch"),s()()(),a(46,"pagination-controls",30),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()(),S(47,SP,33,8,"ng-template",null,0,V)(49,IP,25,6,"ng-template",null,1,V)(51,DP,6,0,"ng-template",null,2,V)}e&2&&(d(4),p("ngIf",n.buttonsPermission.add),d(),p("ngIf",n.selected_data!=null&&n.canTransmit),d(),p("ngIf",n.selected_data!=null&&n.canTransmit),d(),p("ngIf",n.canTransmit&&n.role!="Directeur"),d(),p("ngIf",n.canSendMail),d(6),D("ngModel",n.search_text),d(5),H("",n.isPaginate?n.pg.total:n.data.length," \xE9l\xE9ment(s)"),d(22),p("ngForOf",Y(43,21,Y(42,18,n.data,Ve(27,tP,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&Y(45,24,n.data,n.search_text).length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye,Tr]})};var Mr=class i{constructor(t){this.http=t}url=F.toApiUrl("billings");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}storeResponse(t){return this.http.post(F.toApiUrl("billings-response-store"),t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}setStatus(t,e){return this.http.get(`${this.url}/set-status/${t}/${e}`,F.httpHeader(localStorage.getItem(W.token),!0))}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var AP=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function PP(i,t){if(i&1){let e=x();a(0,"button",58),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",59),s()}}function OP(i,t){if(i&1){let e=x();a(0,"button",60),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",61),s()}}function VP(i,t){if(i&1){let e=x();a(0,"div",44)(1,"div",45)(2,"button",46),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.add(o))}),g(3,"i",47),s(),a(4,"button",48),v("click",function(){f(e);let r=u(2),o=C(55);return _(r.show(o))}),g(5,"i",49),s(),a(6,"button",50),v("click",function(){f(e);let r=u(2),o=C(53);return _(r.edit(o))}),g(7,"i",51),s(),a(8,"button",52),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",53),s(),S(10,PP,2,0,"button",54)(11,OP,2,0,"button",55),a(12,"button",56),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",57),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function RP(i,t){i&1&&(a(0,"span",62),c(1," Ouvert"),s())}function FP(i,t){i&1&&(a(0,"span",63),c(1," Ferm\xE9"),s())}function NP(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,VP,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),S(12,RP,2,0,"span",40)(13,FP,2,0,"span",41),s(),a(14,"td")(15,"a",42),c(16," ouvrir "),g(17,"i",43),s()()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null||e.type==null?null:e.type.name),d(2),O(e==null?null:e.object),d(2),mi("",e==null||e.user==null||e.user.officer==null?null:e.user.officer.lastname," ",e==null||e.user==null||e.user.officer==null?null:e.user.officer.firstname,""),d(2),p("ngIf",e==null?null:e.is_open),d(),p("ngIf",!(e!=null&&e.is_open)),d(2),Oe("routerLink","/admin/support/details/",e.token,"")}}function LP(i,t){if(i&1){let e=x();a(0,"tr",64)(1,"td",65)(2,"div",66),g(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function BP(i,t){i&1&&(a(0,"small",86),c(1,"Le libell\xE9 est requis."),s())}function jP(i,t){if(i&1&&(a(0,"span",84),S(1,BP,2,0,"small",85),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function zP(i,t){if(i&1){let e=x();a(0,"form",71,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),g(11,"input",79,4),S(13,jP,2,1,"span",80),s()(),a(14,"div",81)(15,"button",82),c(16,"Sauvegarder "),g(17,"app-loading",83),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(13),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function HP(i,t){i&1&&(a(0,"small",86),c(1,"Le libell\xE9 est requis."),s())}function UP(i,t){if(i&1&&(a(0,"span",84),S(1,HP,2,0,"small",85),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function WP(i,t){if(i&1){let e=x();a(0,"form",71,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),a(11,"input",87,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.libelle,r)||(o.selected_data.libelle=r),_(r)}),s(),S(13,UP,2,1,"span",80),s()(),a(14,"div",81)(15,"button",82),c(16,"Sauvegarder "),g(17,"app-loading",83),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(11),D("ngModel",r.selected_data.libelle),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function qP(i,t){if(i&1){let e=x();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",88),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",76),g(5,"div",89),s()}}var od=class i{constructor(t,e,n,r,o){this.billingService=t;this.modalService=n;this.locService=r;this.toastrService=o;e.backdrop="static",e.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.billingService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.billingService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.billingService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.billingService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(Mr),E(Je),E(de),E(te),E(ne))};static \u0275cmp=j({type:i,selectors:[["app-billing"]],standalone:!0,features:[U],decls:56,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des tickets"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(51);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Type de sujet"),s(),a(35,"th",30),c(36,"Objet"),s(),a(37,"th",30),c(38,"Identit\xE9"),s(),a(39,"th",30),c(40,"Statut"),s(),a(41,"th",30),c(42,"Consulter"),s()()(),a(43,"tbody"),S(44,NP,18,13,"tr",31),$(45,"paginate"),$(46,"sampleSearch"),S(47,LP,9,0,"tr",32),s()()(),a(48,"div",33)(49,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,zP,18,3,"ng-template",null,0,V)(52,WP,18,4,"ng-template",null,1,V)(54,qP,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,17,Y(45,14,n.data,Ve(20,AP,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye,Ti,$i]})};var GP=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function $P(i,t){if(i&1){let e=x();a(0,"button",52),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",53),s()}}function YP(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",55),s()}}function QP(i,t){if(i&1){let e=x();a(0,"div",38)(1,"div",39)(2,"button",40),v("click",function(){f(e);let r=u(2),o=C(53);return _(r.add(o))}),g(3,"i",41),s(),a(4,"button",42),v("click",function(){f(e);let r=u(2),o=C(55);return _(r.show(o))}),g(5,"i",43),s(),a(6,"button",44),v("click",function(){f(e);let r=u(2),o=C(59);return _(r.edit(o))}),g(7,"i",45),s(),a(8,"button",46),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",47),s(),S(10,$P,2,0,"button",48)(11,YP,2,0,"button",49),a(12,"button",50),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",51),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function KP(i,t){i&1&&(a(0,"td")(1,"span",56),c(2,"oui"),s()())}function JP(i,t){i&1&&(a(0,"td")(1,"span",57),c(2,"non"),s()())}function ZP(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function XP(i,t){if(i&1){let e=x();a(0,"tr",32)(1,"td",33)(2,"div",34)(3,"input",35),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,QP,14,2,"div",36),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),a(14,"td"),c(15),s(),S(16,KP,3,0,"td",37)(17,JP,3,0,"td",37)(18,ZP,2,1,"td",37),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,13,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.name_structure),d(2),O(e==null?null:e.rccm),d(2),O(e==null?null:e.ifu),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function eO(i,t){if(i&1){let e=x();a(0,"tr",58)(1,"td",59)(2,"div",60),g(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function tO(i,t){if(i&1&&(a(0,"li")(1,"p",70),c(2),s()()),i&2){let e=t.$implicit;d(2),O(e.libelle)}}function iO(i,t){if(i&1){let e=x();a(0,"div",65)(1,"div")(2,"h4",66),c(3,"D\xE9tails des parcours "),a(4,"button",67),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(5,"i",68),s()()(),a(6,"div")(7,"ol"),S(8,tO,3,1,"li",69),s()()()}if(i&2){let e=u();d(8),p("ngForOf",e.selected_data.parcours)}}function nO(i,t){if(i&1){let e=x();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",74),g(5,"div",75),s()}}function rO(i,t){if(i&1){let e=x();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",74),g(5,"div",75),s()}}function oO(i,t){if(i&1){let e=x();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",74),g(5,"div",75),s()}}var Is=class i{constructor(t,e,n,r,o,l,m,h){this.activatedRoute=t;this.requeteService=e;this.route=n;this._sanitizationService=r;this.locService=o;this.modalService=m;this.toastrService=h}user;data=[];slug;selected_data;loading2=!1;loading=!1;prestation;prestationName;doc_path="";doc_prefix="";dtTrigger=new Pe;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selectedId=null;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;showPreview2=!1;showPreview=!1;pdfSrc;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.data=[],this.selected_data=null,this.slug=this.route.snapshot.paramMap.get("slug"),this.code=this.route.snapshot.paramMap.get("code"),this.prestation=this.slug,this.all(),this.getName(),this.user=this.locService.get(W.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.requeteService.getByPrestationPending(this.slug,this.code).subscribe(t=>{this.loading2=!1,this.data=t},t=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}delete(){}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}authorized(){this.requeteService.update(this.selected_data.id,{}).subscribe(t=>{this.loading2=!1,this.all()},t=>{this.loading2=!1})}getName(){switch(this.prestation){case"attestation-de-non-litige":this.prestationName="d'attestation de non litige";break;case"declaration-etablissement":this.prestationName="de d\xE9claration d'\xE9tablissements";break;case"autorisation-de-stage":this.prestationName="d'autorisation de stage";break;case"attestation-de-stage":this.prestationName="d'attestation de stage";break;case"attestation-de-service-fait":this.prestationName="d'attestation de service fait";break;default:break}}ngOnDestroy(){this.dtTrigger.unsubscribe()}showFile(t){}showFile2(t){this.selected_data=t.code+"/"+t.filename}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(ft),E(Ge),E(ht),E(te),E(Je),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-correction"]],standalone:!0,features:[U],decls:60,vars:24,consts:[["addContent",""],["showContent",""],["editContent",""],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"card","card-body",2,"overflow","auto","height","90vh"],["id","modal-basic-title",1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-dark","btn-sm",3,"click"],[1,"fa","fa-times"],[4,"ngFor","ngForOf"],[1,"lorem"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",3),c(1,"Liste des demandes suspendues"),s(),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9),v("click",function(){f(r);let l=C(53);return _(n.add(l))}),g(8,"i",10),c(9," Ajouter "),s(),a(10,"div",11)(11,"div",12)(12,"select",13),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",14),c(14,"Filtrer Par"),s(),a(15,"option",15),c(16,"R\xF4le"),s(),a(17,"option",16),c(18,"Statut"),s()(),a(19,"input",17),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",18),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",19),s()()()()(),a(22,"div",20)(23,"div",21)(24,"p",22),g(25,"i",23),c(26),s()(),a(27,"div",24)(28,"table",25)(29,"thead")(30,"tr")(31,"th",26),c(32,"#"),s(),a(33,"th",27),c(34,"Code demande"),s(),a(35,"th",27),c(36,"Date Enreg."),s(),a(37,"th",27),c(38,"Nom structure"),s(),a(39,"th",27),c(40,"Rccm"),s(),a(41,"th",27),c(42,"Ifu"),s(),a(43,"th",27),c(44,"Livrable disponible (Oui/Non)"),s()()(),a(45,"tbody"),S(46,XP,19,16,"tr",28),$(47,"paginate"),$(48,"sampleSearch"),S(49,eO,9,0,"tr",29),s()()(),a(50,"div",30)(51,"pagination-controls",31),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(52,iO,9,1,"ng-template",null,0,V)(54,nO,6,0,"ng-template",null,1,V)(56,rO,6,0,"ng-template",null,0,V)(58,oO,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(20),p("ngForOf",Y(48,17,Y(47,14,n.data,Ve(20,GP,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,kt,ie,Ee,ke,oe,Ne,Le,ae,le,ge,Ae,be,ve,Be,je,ye]})};var aO=(i,t)=>({labels:i,datasets:t});function sO(i,t){if(i&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h6",6),c(5,"Nombre d'tilisateurs"),s(),a(6,"p",6),c(7),s()()(),a(8,"div",4)(9,"div",7)(10,"h6",6),c(11,"Nombre de prestations"),s(),a(12,"p",6),c(13),s()()(),a(14,"div",4)(15,"div",8)(16,"h6",6),c(17,"Nombre d'unit\xE9 administrative"),s(),a(18,"p",6),c(19),s()()()()()),i&2){let e=u();d(7),O(e.data==null?null:e.data.users),d(6),O(e.data==null?null:e.data.prestations),d(6),O(e.data==null?null:e.data.ua)}}function lO(i,t){if(i&1&&(a(0,"option",25),c(1),s()),i&2){let e=t.$implicit;p("value",e.prestation.code),d(),H("",e.prestation.name," ")}}function cO(i,t){if(i&1&&(a(0,"div",16)(1,"div",26)(2,"h6",6),c(3,"Demandes Valid\xE9es"),s(),a(4,"p",6),c(5),s()()()),i&2){let e=u(3);d(5),O(e.data==null?null:e.data.validated)}}function dO(i,t){if(i&1&&(a(0,"div",27),g(1,"canvas",28),s()),i&2){let e=u(3);d(),p("type","line")("data",On(3,aO,e.chartLabels,e.chartData))("options",e.chartOptions)}}function mO(i,t){if(i&1){let e=x();a(0,"div",11)(1,"div",12)(2,"label",13),c(3,"S\xE9lectionner une prestation"),s(),a(4,"select",14),v("change",function(r){f(e);let o=u(2);return _(o.getNewStat(r))}),S(5,lO,2,2,"option",15),s()(),a(6,"div",3)(7,"div",16)(8,"div",17)(9,"h6",6),c(10,"Demandes Totales"),s(),a(11,"p",6),c(12),s()()(),a(13,"div",16)(14,"div",18)(15,"h6",6),c(16,"Nouvelles demandes"),s(),a(17,"p",6),c(18),s()()(),a(19,"div",16)(20,"div",19)(21,"h6",6),c(22,"Demandes Trait\xE9es"),s(),a(23,"p",6),c(24),s()()(),a(25,"div",16)(26,"div",20)(27,"h6",6),c(28,"Demandes mise en attente"),s(),a(29,"p",6),c(30),s()()(),a(31,"div",16)(32,"div",8)(33,"h6",6),c(34,"Demandes suspendues pour accord \xE0 l'amiable"),s(),a(35,"p",6),c(36),s()()(),a(37,"div",16)(38,"div",21)(39,"h6",6),c(40,"Demandes Rejet\xE9es"),s(),a(41,"p",6),c(42),s()()(),a(43,"div",16)(44,"div",19)(45,"h6",6),c(46,"Demandes accord\xE9es"),s(),a(47,"p",6),c(48),s()()(),a(49,"div",16)(50,"div",19)(51,"h6",6),c(52,"Demandes Finalis\xE9es"),s(),a(53,"p",6),c(54),s()()(),S(55,cO,6,1,"div",22),a(56,"div",16)(57,"div",23)(58,"h6",6),c(59,"Demandes Abandonn\xE9es"),s(),a(60,"p",6),c(61),s()()()(),a(62,"div",2)(63,"h4"),c(64,"Graphe d'\xE9volution des demandes au cours des mois"),s(),S(65,dO,2,6,"div",24),s()()}if(i&2){let e=u(2);d(5),p("ngForOf",e.user_prestations),d(7),O(e.data==null?null:e.data.total),d(6),O(e.data==null?null:e.data.news),d(6),O(e.data==null?null:e.data.treated),d(6),O(e.data==null?null:e.data.pending),d(6),O(e.data==null?null:e.data.pending),d(6),O(e.data==null?null:e.data.rejected),d(6),O(e.data==null?null:e.data.signed),d(6),O(e.data==null?null:e.data.finished),d(),p("ngIf",e.currentPrestation==null?null:e.currentPrestation.need_validation),d(6),O(e.data==null?null:e.data.leaved),d(4),p("ngIf",e.data!=null)}}function uO(i,t){if(i&1&&(a(0,"option",25),c(1),s()),i&2){let e=t.$implicit;p("value",e.prestation.code),d(),H("",e.prestation.name," ")}}function pO(i,t){if(i&1){let e=x();a(0,"div",11)(1,"div",12)(2,"label",13),c(3,"S\xE9lectionner une prestation"),s(),a(4,"select",14),v("change",function(r){f(e);let o=u(2);return _(o.getNewStat(r))}),S(5,uO,2,2,"option",15),s()(),a(6,"div",3)(7,"div",16)(8,"div",7)(9,"h6",6),c(10,"Demandes en attente de confirmation"),s(),a(11,"p",6),c(12),s()()()()()}if(i&2){let e=u(2);d(5),p("ngForOf",e.user_prestations),d(7),O(e.data==null?null:e.data.pending)}}function hO(i,t){if(i&1&&(a(0,"div",9),S(1,mO,66,12,"div",10)(2,pO,13,2,"div",10),s()),i&2){let e=u();d(),p("ngIf",e.role!="Directeur"),d(),p("ngIf",e.role=="Directeur")}}var Ds=class i{constructor(t,e){this.locService=t;this.dashService=e}user;role;user_prestations=[];data;chartData=[];chartLabels=[];chartOptions={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!0}}};currentPrestation;ngOnDestroy(){}ngOnInit(){switch(this.user=this.locService.get(W.userName),this.role=this.user.roles[0].name,this.user_prestations=this.user.user_prestations,this.currentPrestation=this.user_prestations[0],console.log(this.role),this.role){case"Admin Sectoriel":this.dashService.get("admin").subscribe(t=>{this.data=t.data.stats});break;case"Admin national":this.dashService.get("admin").subscribe(t=>{this.data=t.data.stats});break;default:this.dashService.get(this.user_prestations[0].prestation.code).subscribe(t=>{this.data=t.data.stats,this.chartData.push({label:this.user_prestations[0].prestation.name,data:t.data.stats_by_month,pointHitRadius:15,pointHoverRadius:8}),this.chartLabels=t.data.months});break}}getNewStat(t){this.currentPrestation=this.user_prestations.find(e=>e.prestation.code==t.target.value)?.prestation,this.dashService.get(t.target.value).subscribe(e=>{this.data=e.data.stats;let n=this.chartData.findIndex(r=>r.label==this.user_prestations.find(o=>o.prestation.code==t.target.value).prestation.name);(n=-1)?this.chartData.push({label:this.user_prestations.find(r=>r.prestation.code==t.target.value).prestation.name,data:e.data.stats_by_month}):this.chartData[n].data=e.data.stats_by_month,this.chartLabels=e.data.months})}static \u0275fac=function(e){return new(e||i)(E(te),E(In))};static \u0275cmp=j({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[U],decls:2,vars:2,consts:[["class","",4,"ngIf"],["class","card",4,"ngIf"],[1,""],[1,"row"],[1,"col-12","col-lg-4","col-xxl-3","mb-3"],[1,"card","overflow-hidden","bg-primary","border-0","p-3"],[1,"text-center","text-white"],[1,"card","overflow-hidden","bg-warning","border-0","p-3"],[1,"card","overflow-hidden","bg-danger","border-0","p-3"],[1,"card"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","mb-5"],["for",""],[1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-3","col-lg-3","col-xxl-3","mb-3"],[1,"card","overflow-hidden","border-0","bg-primary","p-3"],[1,"card","overflow-hidden","bg-secondary","border-0","p-3"],[1,"card","overflow-hidden","border-0","bg-success","p-3"],[1,"card","overflow-hidden","bg-warning","border-0","dash3","p-3"],[1,"card","overflow-hidden","border-0","p-3","bg-danger"],["class"," col-12 col-sm-6 col-md-3 col-lg-3 col-xxl-3 mb-3",4,"ngIf"],[1,"card","overflow-hidden","bg-secondary","border-0","bg-secondary","p-3"],["class","chart-wrapper text-center",4,"ngIf"],[3,"value"],[1,"card","overflow-hidden","bg-success","border-0","dash3","p-3"],[1,"chart-wrapper","text-center"],["baseChart","",3,"type","data","options"]],template:function(e,n){e&1&&S(0,sO,20,3,"div",0)(1,hO,3,2,"div",1),e&2&&(p("ngIf",n.role=="Admin Sectoriel"||n.role=="Admin national"),d(),p("ngIf",n.role!="Admin Sectoriel"&&n.role!="Admin national"))},dependencies:[J,me,X,ic]})};var da=class i{constructor(t){this.http=t}url=F.toApiUrl("departments");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var fO=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function _O(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",55),s()}}function gO(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",57),s()}}function bO(i,t){if(i&1){let e=x();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.add(o))}),g(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=u(2),o=C(49);return _(r.show(o))}),g(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.edit(o))}),g(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",49),s(),S(10,_O,2,0,"button",50)(11,gO,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",53),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function vO(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,bO,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(e==null?null:e.name)}}function yO(i,t){if(i&1){let e=x();a(0,"tr",58)(1,"td",59)(2,"div",60),g(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function xO(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function wO(i,t){if(i&1&&(a(0,"span",78),S(1,xO,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function CO(i,t){if(i&1){let e=x();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de d\xE9partement"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),g(11,"input",73,4),S(13,wO,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(13),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function SO(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function EO(i,t){if(i&1&&(a(0,"span",78),S(1,SO,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function kO(i,t){if(i&1){let e=x();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s(),S(13,EO,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(11),D("ngModel",r.selected_data.name),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function TO(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",83),s()}}var ad=class i{constructor(t,e,n,r,o){this.departmentService=t;this.modalService=n;this.locService=r;this.toastrService=o;e.backdrop="static",e.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.departmentService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.departmentService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.departmentService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.departmentService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.departmentService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.departmentService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(da),E(Je),E(de),E(te),E(ne))};static \u0275cmp=j({type:i,selectors:[["app-department"]],standalone:!0,features:[U],decls:50,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des d\xE9partements"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(45);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Code"),s(),a(35,"th",30),c(36,"Libell\xE9"),s()()(),a(37,"tbody"),S(38,vO,9,7,"tr",31),$(39,"paginate"),$(40,"sampleSearch"),S(41,yO,9,0,"tr",32),s()()(),a(42,"div",33)(43,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(44,CO,18,3,"ng-template",null,0,V)(46,kO,18,4,"ng-template",null,1,V)(48,TO,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(12),p("ngForOf",Y(40,17,Y(39,14,n.data,Ve(20,fO,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var ma=class i{constructor(t){this.http=t}url=F.toApiUrl("type-entity");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var MO=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function IO(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",55),s()}}function DO(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",57),s()}}function AO(i,t){if(i&1){let e=x();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=u(2),o=C(43);return _(r.add(o))}),g(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.show(o))}),g(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.edit(o))}),g(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",49),s(),S(10,IO,2,0,"button",50)(11,DO,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",53),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function PO(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,AO,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.libelle)}}function OO(i,t){if(i&1){let e=x();a(0,"tr",58)(1,"td",59)(2,"div",60),g(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function VO(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function RO(i,t){if(i&1&&(a(0,"span",78),S(1,VO,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function FO(i,t){if(i&1){let e=x();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),g(11,"input",73,4),S(13,RO,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(13),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function NO(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function LO(i,t){if(i&1&&(a(0,"span",78),S(1,NO,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function BO(i,t){if(i&1){let e=x();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.libelle,r)||(o.selected_data.libelle=r),_(r)}),s(),S(13,LO,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(11),D("ngModel",r.selected_data.libelle),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function jO(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",83),s()}}var sd=class i{constructor(t,e,n,r,o){this.toastrService=t;this.entityTypeService=e;this.modalService=r;this.locService=o;n.backdrop="static",n.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;is_active=!1;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.entityTypeService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.entityTypeService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.entityTypeService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.entityTypeService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.entityTypeService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.entityTypeService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(ne),E(ma),E(Je),E(de),E(te))};static \u0275cmp=j({type:i,selectors:[["ngx-entity-type"]],standalone:!0,features:[U],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des types entit\xE9"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(43);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),S(36,PO,7,6,"tr",31),$(37,"paginate"),$(38,"sampleSearch"),S(39,OO,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(42,FO,18,3,"ng-template",null,0,V)(44,BO,18,4,"ng-template",null,1,V)(46,jO,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(10),p("ngForOf",Y(38,17,Y(37,14,n.data,Ve(20,MO,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var An=class i{constructor(t){this.http=t}url=F.toApiUrl("entity");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var zO=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function HO(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",57),s()}}function UO(i,t){if(i&1){let e=x();a(0,"button",58),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",59),s()}}function WO(i,t){if(i&1){let e=x();a(0,"div",42)(1,"div",43)(2,"button",44),v("click",function(){f(e);let r=u(2),o=C(43);return _(r.add(o))}),g(3,"i",45),s(),a(4,"button",46),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.show(o))}),g(5,"i",47),s(),a(6,"button",48),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.edit(o))}),g(7,"i",49),s(),a(8,"button",50),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",51),s(),S(10,HO,2,0,"button",52)(11,UO,2,0,"button",53),a(12,"button",54),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",55),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function qO(i,t){if(i&1){let e=x();a(0,"tr",37)(1,"td",38)(2,"div",39)(3,"input",40),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,WO,14,2,"div",41),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.libelle)}}function GO(i,t){if(i&1){let e=x();a(0,"tr",60)(1,"td",61)(2,"div",62),g(3,"i",63),a(4,"p",64),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",65),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",66),c(8," R\xE9initialiser la recherche "),s()()()()}}function $O(i,t){if(i&1&&(a(0,"option",82),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function YO(i,t){i&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function QO(i,t){if(i&1&&(a(0,"span",83),S(1,YO,2,0,"small",84),s()),i&2){u();let e=C(19);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function KO(i,t){i&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function JO(i,t){if(i&1&&(a(0,"span",83),S(1,KO,2,0,"small",84),s()),i&2){u();let e=C(25);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function ZO(i,t){if(i&1){let e=x();a(0,"form",67,3),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.store(o.value,r))}),a(2,"div")(3,"div",68),c(4,"Enregistrement d' entit\xE9 "),a(5,"button",69),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",70),c(7,"\xD7"),s()()(),a(8,"div",71)(9,"div",72)(10,"label",73),c(11,"Type"),s(),a(12,"select",74,4),S(14,$O,2,2,"option",75),s()(),a(15,"div",72)(16,"label",73),c(17,"Libell\xE9"),s(),g(18,"input",76,5),S(20,QO,2,1,"span",77),s(),a(21,"div",72)(22,"label",73),c(23,"Sigle"),s(),g(24,"input",78,6),S(26,JO,2,1,"span",77),s()(),a(27,"div",79)(28,"button",80),c(29,"Sauvegarder "),g(30,"app-loading",81),s()()()()}if(i&2){let e=C(1),n=C(19),r=C(25),o=u();d(14),p("ngForOf",o.data2),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(6),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(2),p("disabled",e.invalid||o.loading),d(2),p("isVisible",o.loading)}}function XO(i,t){if(i&1&&(a(0,"p",90)(1,"ngb-alert",91),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function eV(i,t){if(i&1&&(a(0,"option",82),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function tV(i,t){i&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function iV(i,t){if(i&1&&(a(0,"span",83),S(1,tV,2,0,"small",84),s()),i&2){u();let e=C(20);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function nV(i,t){i&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function rV(i,t){if(i&1&&(a(0,"span",83),S(1,nV,2,0,"small",84),s()),i&2){u();let e=C(26);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function oV(i,t){if(i&1){let e=x();a(0,"form",67,7),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.update(o.value,r))}),a(2,"div")(3,"div",68),c(4,"Modification d' entit\xE9 "),a(5,"button",69),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",70),c(7,"\xD7"),s()()(),a(8,"div",71),S(9,XO,3,2,"p",86),a(10,"div",72)(11,"label",73),c(12,"Type"),s(),a(13,"select",87,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.type_entity_id,r)||(o.selected_data.type_entity_id=r),_(r)}),S(15,eV,2,2,"option",75),s()(),a(16,"div",72)(17,"label",73),c(18,"Libell\xE9"),s(),a(19,"input",88,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.libelle,r)||(o.selected_data.libelle=r),_(r)}),s(),S(21,iV,2,1,"span",77),s(),a(22,"div",72)(23,"label",73),c(24,"Sigle"),s(),a(25,"input",89,6),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.sigle,r)||(o.selected_data.sigle=r),_(r)}),s(),S(27,rV,2,1,"span",77),s()(),a(28,"div",79)(29,"button",80),c(30,"Sauvegarder "),g(31,"app-loading",81),s()()()()}if(i&2){let e=C(1),n=C(20),r=C(26),o=u();d(9),p("ngIf",o.error!=""),d(4),D("ngModel",o.selected_data.type_entity_id),d(2),p("ngForOf",o.data2),d(4),D("ngModel",o.selected_data.libelle),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(4),D("ngModel",o.selected_data.sigle),d(2),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(2),p("disabled",e.invalid||o.loading),d(2),p("isVisible",o.loading)}}function aV(i,t){if(i&1){let e=x();a(0,"div",68)(1,"h4",92),c(2,"D\xE9tails des informations"),s(),a(3,"button",93),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",71),g(5,"div",94),s()}}var cd=class i{constructor(t,e,n,r,o){this.entityService=t;this.entitytypeService=e;this.locService=n;this.toastrService=r;this.modalService=o}error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selected_data;user;data=[];permissions=[];data2=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.getTypeEntity(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.entityService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeEntity(){this.entitytypeService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t,e){this.loading=!0,this.entityService.store(t).subscribe(n=>{this.loading=!1,this.modalService.dismissAll(),this.all()},n=>{this.loading=!1})}update(t,e){this.loading=!0,this.entityService.update(t,this.selected_data.id).subscribe(n=>{this.loading=!1,this.modalService.dismissAll(),this.all()},n=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.entityService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.entityService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.entityService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}static \u0275fac=function(e){return new(e||i)(E(An),E(ma),E(te),E(ne),E(de))};static \u0275cmp=j({type:i,selectors:[["ngx-entity"]],standalone:!0,features:[U],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["sigle","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],[1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_entity_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["class","lead mb-3",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_entity_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle",1,"form-control",3,"ngModelChange","ngModel"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",8),c(1,"Liste des entit\xE9s"),s(),a(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13)(7,"button",14),v("click",function(){f(r);let l=C(43);return _(n.add(l))}),g(8,"i",15),c(9," Ajouter "),s(),a(10,"div",16)(11,"div",17)(12,"select",18),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",19),c(14,"Filtrer Par"),s(),a(15,"option",20),c(16,"R\xF4le"),s(),a(17,"option",21),c(18,"Statut"),s()(),a(19,"input",22),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",23),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",24),s()()()()(),a(22,"div",25)(23,"div",26)(24,"p",27),g(25,"i",28),c(26),s()(),a(27,"div",29)(28,"table",30)(29,"thead")(30,"tr")(31,"th",31),c(32,"#"),s(),a(33,"th",32),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),S(36,qO,7,6,"tr",33),$(37,"paginate"),$(38,"sampleSearch"),S(39,GO,9,0,"tr",34),s()()(),a(40,"div",35)(41,"pagination-controls",36),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(42,ZO,31,5,"ng-template",null,0,V)(44,oV,32,9,"ng-template",null,1,V)(46,aV,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(10),p("ngForOf",Y(38,17,Y(37,14,n.data,Ve(20,zO,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,kr,we,Ae,be,ve,Be,je,ye]})};var yi={toFormatDate(i){return Ni(i,"dd MMMM yyyy","fr_FR")},now(){return Ni(new Date,"dd MMMM yyyy","fr_FR")},oldDate(i){var t=(new Date(i).getTime()-new Date().getTime())/1e3;return t/=60*60*24,Math.abs(Math.round(t/365.25))},closingDate(i){let t=new Date(i);return t.setDate(t.getDate()+55*365),t},splitGrade(i,t){if(i!=null||i!=null){var e=i.split("-");return e?.length>0&&e[t]!==void 0?e[t]:"....."}else return"....."}},We=[{name:"attestation de pr\xE9sence au poste",slug:"attestation-de-presence-au-poste",doc_path:"docs/adpap",desc(i){return` <section style="padding:15px">
                <div class="mb-3">
                   <p> Le Directeur de la Planification, de l'Administration et des Finances du Minist\xE8re du Travail et de la Fonction Publique, atteste que:</p>
                </div>
                <div>
                   <p><strong>${i?.adpap?.sex} ${i?.adpap?.identity},</strong></p>
                </div>
                <div>
                   <table>
                       <tbody>
                           <tr class="mb-3">
                               <td>CORPS :</td>
                               <td><strong>${i?.adpap?.corporate}</strong></td>
                           </tr>
                           <tr class="mb-3">
                            <td> MATRICULE :</td>
                            <td><strong>${i?.adpap?.matricule}</strong></td>
                        </tr>
                        <tr class="mb-3">
                            <td>DIRECTION: </td>
                            <td><strong>${i?.adpap?.structure?.libelle}</strong> </td>
                        </tr>
                       </tbody>
                   </table>
                </div>
        
                <div style="margin-top: 50px; ">
                   <p>est effectivement pr\xE9sent \xE0 son poste de travail le <strong>${yi.toFormatDate(i?.adpap?.date_job)} </strong>, date de sa prise de service dans la fonction publique, jusqu'\xE0 ce jour.</p>
                </div>
        
                <div style="margin-top: 50px; ">
                   <p> En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
                    valoir ce que de droit.</p>
                </div>
               
            </section>
        `}},{name:"de stage",slug:"autorisation-de-stage",doc_path:"docs/ads",desc(i){return` <div style="margin-top: 15px; ">
                <p class=""><span class="mtab"></span> Monsieur/Madame, ${i.ads.identity} </p>
                <p>
                    <span class="mtab"></span>    J'accuse r\xE9ception de votre demande de stage  ${i.ads.nature} ci-dessus mentionn\xE9e et vous notifie mon accord de principe pour le d\xE9roulement dudit stage au sein de la ${i.ads.structure}, afin de vous permettre de confronter vos connaissances th\xE9oriques \xE0 celles pratiques.
                </p>
            </div>
  
            <div style="margin-top: 15px; ">
                    <p>
                        <span class="mtab"></span> Ce stage b\xE9n\xE9vole de (0${i.ads.delay}) mois qui s'effectuera du ${yi.toFormatDate(i.ads.date_start)} au ${yi.toFormatDate(i.ads.date_end)} n'ouvre pas droit \xE0 un recrutement dans la fonction publique et ne vous conf\xE8re pas la qualit\xE9 d'agent d'\xE9tat.</p>
            </div>
           
            <div style="margin-top: 15px; ">
                   <p> <span class="mtab"></span> Recevez, Madame / Monsieur mes meilleures salutations.</p>
            </div>
        `},desc2(i){return` <div style="margin-top: 15px; ">
            <p class=""><span class="mtab"></span> Monsieur le Directeur, </p>
            <p>
                <span class="mtab"></span>    J'ai l'honneur de vous informer que les \xE9tudiants en fin de formation du cycle I de l'ENAM dont les noms figurent dans la liste ci-jointe sont autoris\xE9es \xE0 effectuer un stage acad\xE9mique de trois (${i.delay}) mois, du ${yi.toFormatDate(i.date_start)} au ${yi.toFormatDate(i.date_end)} au Minist\xE8re du Travail et de la Fonction Publique ont effectivement d\xE9marr\xE9 le stage dans nos structures.
            </p>
        </div>
      
        <div style="margin-top: 15px; ">
               <p> <span class="mtab"></span> Veuillez agr\xE9er, Monsieur le Directeur, l'expression de mes meilleures salutations.</p>
        </div> 
    `},desc3(i){return` <div style="margin-top: 15px; ">
        <p>
            J'ai l'honneur de mettre \xE0 votre disposition pour un stage ${i.ads.nature} du ${yi.toFormatDate(i.ads.date_start)} au ${yi.toFormatDate(i.ads.date_end)} , M./Mme ${i.ads.identity}, \xE9tudiant(e:any) en fin de formation de ${i.ads.domain} Option: ${i.ads.graduation}\xE0 ${i.ads.school}.
        </p>
    </div>

    <div style="margin-top: 15px; ">
            <p>
                Ce stage permettra \xE0 l'int\xE9ress\xE9 d'acqu\xE9rir des connaissances compl\xE9mentaires indispensables \xE0 la ${i.ads.motif}.
            </p>
    </div>
    <div style="margin-top: 15px; ">
           <p>
            Je tiens \xE0 rappeler que l'autorisation qui est accord\xE9e d'effectuer le pr\xE9sent stage, ne saurait \xEAtre assimi\xE9e \xE0 un recrutement dans la fonction publique.
           </p>
    </div>
    <div style="margin-top: 15px; ">
    <p> En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
     valoir ce que de droit.</p>
</div>

`}},{name:"d'attestation de non litige",slug:"attestation-de-non-litige",doc_path:"docs/atn",desc(i){return`  <section>
                <div>
                    La Directrice G\xE9n\xE9rale du Travail soussign\xE9e atteste que :
                    <p class="articl">${i.atn.name_structure}
                    </p>
                    <p class="articl">${i.atn.address_structure}</p>
                    <p class="articl">${i.atn.rccm}</p>
                    <p class="articl">${i.atn.ifu}</p>
                    <p class="articl">${i.phone}</p>
                </div>
      
                <div style="margin-top: 50px; ">
                    est en r\xE8gle vis-\xE0-vis de la l\xE9gislation du travail en vigueur en R\xE9publique du B\xE9nin et n'a, \xE0 ce jour, aucun litige pendant devant ses services.
                </div>
      
                <div style="margin-top: 50px; ">
                    En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
                    valoir ce que de droit.
                </div>
      
            </section>
        `}},{name:"attestation de stage",slug:"attestation-de-stage",doc_path:"docs/as",desc(i){return` 
                Le Directeur de la Planification, de l\u2019Administration,  et des Finances du Minist\xE8re du Travail et de la Fonction Publique soussign\xE9, atteste que Monsieur / Madame ${i?.as.identity}, titulaire d\u2019une ${i?.as.domain}, sp\xE9cialit\xE9: ${i?.as.graduation}, obtenu \xE0 ${i?.as.school} a effectu\xE9(e) un stage ${i?.as.nature} de __________________, du ___________________________ au ___________________________\xE0 la ______________________________.
                <br/>
                En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.
            
            `}},{name:"attestation de service fait",slug:"attestation-de-service-fait",doc_path:"docs/asf",desc(i){return i?.asf.type=="service"?` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Sanny LAOUROU, Personne Responsables des March\xE9s Publics par int\xE9rim du Minist\xE8re du Travail et de la Fonction Publique, atteste que l'ETS / la soci\xE9t\xE9 ${i?.asf.name_structure} s'est effectivement acquitt\xE9 de ses obligations conform\xE9ment au contrat N\xB0 ${i?.asf.ref_marche} du  ${yi.toFormatDate(i.asf.date_contrat)} relatif \xE0 la "......................................................................................" pour un montant toutes taxes comprises de...........................................francs CFA.</span></div><div style="text-align: justify;"><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div style="text-align: justify;"><br></div>
            `:` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Sanny LAOUROU, Personne Responsables des March\xE9s Publics par int\xE9rim, atteste que l'ETS / la soci\xE9t\xE9 ${i?.asf.name_structure} a ex\xE9cut\xE9 avec satisfaction le contrat n\xB0 ${i?.asf.ref_marche} du  ${yi.toFormatDate(i.asf.date_contrat)} relatif \xE0 la "......................................................................................" pour un montant toutes taxes comprises de...........................................francs CFA.</span></div><div style="text-align: justify;"><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div style="text-align: justify;"><br></div>
            `}},{name:"de visa de d\xE9claration d'\xE9tablissement",slug:"declaration-etablissement",doc_path:"docs/detab",desc(i){return` 
                
            `}},{name:"Visa de contrat nationaux",slug:"visa-de-contrat-nationaux",doc_path:"docs",desc(i){return` 
                
            `}},{name:"certificat de non raidation",slug:"certificat-de-non-radiation",doc_path:"docs/cnr",desc(i){return` 
                <div><span style="font-size: 12.96px;">Le Directeur de la R\xE9glementation et du Suivi des Carri\xE8res certifie que Monsieur ${i?.cnr.adpap?.identity} de l'Etat, num\xE9ro matricule ${i?.cnr.adpap?.matricule} de la cat\xE9gorie ${i?.cnr.adpap?.category} , \xE9chelle ${i?.cnr.adpap?.scale}, \xE9chelon ${i?.cnr.adpap?.level}, en service au ${i?.cnr.adpap?.structure?.libelle}, n\xE9 \xE0 ${i?.cnr.adpap?.birthplace} le ${yi.toFormatDate(i?.cnr.adpap?.birthday)}, n'est ni candidat au d\xE9part volontaire, ni radi\xE9 de la Fonction Publique B\xE9ninoise.</span></div><div><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, le pr\xE9sent certificat lui est d\xE9livr\xE9 pour servir et valoir ce que de droit.</span></div> 
                
            `}},{name:"d'attestation de validit\xE9 des services",slug:"attestation-de-validite-des-services",doc_path:"docs/vsa",desc(i){return` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Victorin V. HONVO, Directeur de Cabinet du Ministre du Travail et de la Fonction Publique, atteste que ${i?.vsa.sex} ${i?.vsa.identity} n\xE9 le ${yi.toFormatDate(i?.vsa.birthday)} \xE0 ${i?.vsa.birthplace}, est ${i?.vsa.status} de ${i?.vsa.job} de l'Etat en poste au Minist\xE8re du Travail et de la Fonction Publique.</span></div><div style="text-align: justify;"><div><span style="font-size: 12.96px;">Les donn\xE9es relatives \xE0 sa carri\xE8re se d\xE9clinent comme suit:</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Corps/Emploi</b></span><span style="background-color: transparent; font-size: 0.81rem;">: ${i?.vsa.job}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Grade</b></span><span style="background-color: transparent; font-size: 0.81rem;"><b>:</b> ${i?.vsa.rank}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Num\xE9ro matricule : ${i?.vsa.matricule}</b></span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Date de prise de service: </b> ${yi.toFormatDate(i?.vsa.job_date)}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Fonction</b></span><span style="background-color: transparent; font-size: 0.81rem;"><b>:</b> ${i?.vsa.function}</span><span style="background-color: transparent; font-size: 0.81rem;"></span></div><div><span style="background-color: transparent; font-size: 0.81rem;"><br></span></div><div><div><span style="font-size: 12.96px;">Anciennet\xE9 au ${yi.now()}:${yi.oldDate(i?.vsa.job_date)} an(s)</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">L'int\xE9ress\xE9 n'est ni candidat au d\xE9part volontaire, ni radi\xE9 de la fonction publique b\xE9ninoise. Il fera probablement valoir ses droits \xE0 une pension de retraite pour compter du</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">${yi.toFormatDate(yi.closingDate(i?.vsa.job_date))} pour limite d'\xE2ge des cinquante-cinq (55) ans.</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div><br></div></div></div> 
                
            
            `}},{name:" de visa de contrat d'apprentissage",slug:"visa-contrat-apprentisage",doc_path:"docs/vca",desc(i){return` 
                
            `}},{name:" de r\xE8glement int\xE9rieur d'entreprise",slug:"visa-reglement-interieur-entreprise",doc_path:"docs/vri",desc(i){return` 
                
            `}},{name:" d'autorisation de licenciement",slug:"autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel",doc_path:"docs/al",desc(i){return` 
                
            `}},{name:" d'agr\xE9ment m\xE9decin",slug:"decision-agrement-exercice-medecin",doc_path:"docs/am",desc(i){return`<h5><font face="Calibri"><u><b> DECISION</b></u>&nbsp; &nbsp; N\xB0....................../MTFP/DC/SGM/DGAT/DSSMST&nbsp;</font></h5><div><font face="Calibri">&nbsp;portant agr\xE9ment du Docteur ${i?.am?.identity} en qualit\xE9 de M\xE9decin d'entreprise&nbsp;</font><div><font face="Calibri"><br></font></div><div style="text-align: left;"><div style="text-align: center;"><font face="Calibri"><b style="background-color: transparent; font-size: 0.81rem;">&nbsp;LE MINISTRE DU TRAVAIL ET DE LA FONCTION PUBLIQUE</b><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;</span></font></div><div style="text-align: center;"><span style="background-color: transparent; font-size: 0.81rem;"><font face="Calibri"><br></font></span></div><h5 style="text-align: left;"><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;Vu la loi n\xB0 90-32 du 11 d\xE9cembre 1990 portant Constitution de la R\xE9publique du B\xE9nin, telle que modifi\xE9e par la loi n\xB0 2019-40 du 07 novembre 2019&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu la loi n\xB0 98-004 du 27 janvier 1998 portant Code du Travail en
                
                R\xE9publique du B\xE9nin<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu la d\xE9cision portant proclamation, le 21 avril 2021 par la Cour Constitutionnelle, des r\xE9sultats d\xE9finitifs de l'\xE9lection pr\xE9sidentielle du 11 avril 2021 :&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2021-257 du 25 mai 2021 portant composition du Gouvernement ;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2019-430 du 02 octobre 2019 fixant la structure-type des Minist\xE8res ;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2020-241 d. 15 avril 2020 portant attributions, organisation et fonctionnement du Minist\xE8re du Travail et de la Fonction Publique<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu l'arr\xEAt\xE9 interminist\xE9riel n\xB0 2020-024/MTFP/MS/DC/SGM/DSSMST/SMT/011SGG20 du 09 juin 2020 portant attributions, organisation et fonctionnement des services de sant\xE9 au travail;&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu l'arr\xEAt\xE9 n\xB0 074/MS/DC/SGM/CTJ/DNSP/SRS/SA/072SGG18 du 24 octobre 2018 portant autorisation de l'exercice en client\xE8le priv\xE9e de la profession m\xE9dicale;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le Certificat d'Etudes Sp\xE9cialis\xE9es de Sant\xE9 au Travail du 07 mars 2008 d\xE9livr\xE9 au Docteur ${i?.am?.identity} l'attestation d'inscription \xE0 l'Ordre National des M\xE9decins du B\xE9nin
                
                Apr\xE8s avis favorable du Ministre de la Sant\xE9, objet de la lettre n' 0564 2021/MS/DC/SGM/DNSP/SRS/SP du 10 juin 2021,</span></font></h5></div><div style="text-align: left;"><span style="background-color: transparent; font-size: 0.81rem;"><font face="Calibri"><br></font></span></div><div><h4 style="color: rgb(73, 80, 70);"><b><font face="Calibri">DECIDE&nbsp;</font></b></h4></div><div><b><font face="Calibri"><br></font></b></div><h5><font face="Calibri"><b><u>Article premier:</u></b>
                
                Monsieur Docteur en M\xE9decine, de Sant\xE9 au Travail, est agr\xE9\xE9 en
                
                titulaire du Certificat d'Etudes Sp\xE9cialis\xE9es qualit\xE9 de M\xE9decin d'Entreprise.</font></h5><h5><font face="Calibri"><br></font></h5><h5><font face="Calibri">&nbsp;<b style="text-decoration-line: underline;">Article 2:&nbsp;</b>&nbsp;Docteur&nbsp;${i?.am?.identity}
                
                M\xE9decin du Travail, doit, dans le cadre de ses interventions en entreprise, assurer une surveillance ad\xE9quate du milieu et des conditions de travail et exercer une action m\xE9dicale pr\xE9ventive sur les travailleurs, conform\xE9ment aux prescriptions de l'arr\xEAt\xE9 interminist\xE9riel n\xB02020 024/MTFP/MS/DC/SGM/DSSMST/SMT/011SGG20 du 09 juin 2020 portant attributions, organisation et fonctionnement des services de sant\xE9 au travail.</font></h5><h5><font face="Calibri"><br></font></h5><h5 style="text-align: left;"><font face="Calibri">&nbsp; &nbsp;<u><b>Article 3:</b></u> La pr\xE9sente d\xE9cision, qui prend effet pour compter de la date de sa signature, sera notifi\xE9e \xE0 l'int\xE9ress\xE9 et publi\xE9e au Journal officiel.</font></h5><h5 style="text-align: left;"><font face="Calibri"><br></font></h5><h5 style="text-align: right;"><font face="Calibri">&nbsp;Fait \xE0 Cotonou, le ..........................................................................</font></h5><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><h5 style="text-align: right;"><font face="Calibri">&nbsp;Adidjatou A. MATHYS&nbsp;</font></h5><h5><font face="Calibri"><br></font></h5><h5 style="text-align: left;"><font face="Calibri">&nbsp;<b><u>Ampliations</u></b></font></h5><h5 style="text-align: left;"><font face="Calibri">JO............................................................... 02&nbsp;</font></h5><h5 style="text-align: left;"><font face="Calibri">PR.............................................................. 01</font></h5><h5 style="text-align: left;"><font face="Calibri">SGG........................................................... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">A.N............................................................. 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CC............................................................... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CS............................................... ............... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CES ............................................................ 01</font></h5><h5 style="text-align: left;"><font face="Calibri">MTFP ......................................................... 06</font></h5><h5 style="text-align: left;"><font face="Calibri">MS............................................................... 06</font></h5><h5 style="text-align: left;"><font face="Calibri">TOUS AUTRES MINISTERES ............ 23</font></h5><h5 style="text-align: left;"><font face="Calibri">CCIB .......................................................... 02</font></h5><h5 style="text-align: left;"><font face="Calibri">CNP-BENIN ............................................ 02</font></h5><h5 style="text-align: left;"><font face="Calibri">CONEB ..................................................... 02</font></h5><h5 style="text-align: left;"><font face="Calibri">SYNDICATS............................................. 10</font></h5><h5 style="text-align: left;"><font face="Calibri">TOUTES DIRECTIONS/MTFP............. 20</font></h5></div>                
            `}},{name:" d'autorisation de licenciement pour motif \xE9conomique ou non, salaire prot\xE9g\xE9 ou non ",slug:"autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel",doc_path:"docs/al",desc(i){return`
                Aucun contenu disponible pour le momment 
                
            `}}];var en=class i{constructor(t){this.http=t}url=F.toApiUrl("prestation");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.put(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}saveStartPoint(t){return this.http.post(this.url+"/start-point/store",t)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Mt=class i{constructor(t){this.http=t}url=F.toApiUrl("affectation");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+"/byPrestation/"+t)}store(t){return this.http.post(this.url,t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var It=class i{constructor(t){this.http=t}url=F.toApiUrl("response");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+"/byPrestation/"+t)}getCorrectionByPrestation(t){return this.http.get(this.url+"/correction/byPrestation/"+t)}store(t){return this.http.post(this.url,t)}authorized(t){return this.http.post(this.url+"/sign-authorized",t)}correction(t){return this.http.post(this.url+"/need-correction",t)}reachedAgreement(t){return this.http.post(this.url+"/reached-agreement",t)}decline(t){return this.http.post(this.url+"/decline/store",t)}validate(t){return this.http.post(this.url+"/validated/store",t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return e._method="patch",this.http.patch(`${this.url}/${t}`,e)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}storeContent(t){return this.http.post(`${this.url}/store/content`,t)}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var sV=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function lV(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function cV(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function dV(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,lV,2,0,"button",66)(11,cV,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function mV(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function uV(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function pV(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function hV(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,dV,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,mV,3,0,"td",55)(15,uV,3,0,"td",55)(16,pV,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function fV(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function _V(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function gV(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function bV(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function vV(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function yV(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,vV,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function xV(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function wV(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function CV(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function SV(i,t){i&1&&g(0,"i",116)}function EV(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,SV,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function kV(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,EV,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function TV(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,kV,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function MV(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function IV(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function DV(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function AV(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function PV(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function OV(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",140),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function VV(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",140),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function RV(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var Ps=class i{constructor(t,e,n,r,o,l,m,h,b,y){this.activatedRoute=t;this.prestationService=e;this.locService=n;this.affService=r;this.requeteService=o;this.toastrService=l;this.router=m;this.responseService=h;this.modalService=b;this._sanitizationService=y}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];stepContents=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;code;prestation;prestationName;activePrestation;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;dtTrigger=new Pe;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user),this.code==null||this.prestationService.show(this.code).subscribe(e=>{this.activePrestation=e})}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationNew(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){this.dtTrigger.unsubscribe()}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1,this.toastrService.success("Pr\xE9sence au poste de l'agent confirm\xE9")},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}confirm(){confirm("Confirmer la pr\xE9sence au poste de l'agent")&&(this.loading=!0,this.requeteService.confirm({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id},this.prestation).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(en),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["ngx-eespace-traitement"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"float-right",3,"click"],["aria-hidden","true"],[1,"float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-primary"],[1,"btn","btn-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes \xE0 traiter"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,hV,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,fV,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,_V,8,1,"div",49)(51,gV,3,0,"ng-template",null,0,V)(53,bV,7,0,"ng-template",null,1,V)(55,yV,17,5,"ng-template",null,2,V)(57,xV,16,2,"ng-template",null,3,V)(59,wV,12,2,"ng-template",null,4,V)(61,CV,12,2,"ng-template",null,5,V)(63,TV,15,3,"ng-template",null,6,V)(65,MV,59,0,"ng-template",null,7,V)(67,IV,10,2,"div",49)(68,DV,12,3,"ng-template",null,8,V)(70,AV,12,2,"ng-template",null,9,V)(72,PV,6,0,"ng-template",null,10,V)(74,OV,12,2,"ng-template",null,0,V)(76,VV,12,2,"ng-template",null,11,V)(78,RV,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,sV,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye],styles:["div.dataTables_wrapper[_ngcontent-%COMP%]   div.dataTables_length[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100px!important;display:inline-block}"]})};var Gp=["*"];function FV(i,t){if(i&1&&(bt(0),Ri(),a(1,"svg"),g(2,"use"),s(),vt()),i&2){let e=u();d(2),Ze("href","assets/ae-icons/icons.svg#"+e.iconName)("href","assets/ae-icons/icons.svg#"+e.iconName,null,"xlink")}}function NV(i,t){i&1&&Zt(0)}var LV=["labelButton"],BV=i=>({"ae-expanded":i}),jV=(i,t)=>({selected:i,focused:t});function zV(i,t){if(i&1){let e=x();a(0,"button",6),v("click",function(r){let o=f(e).$implicit,l=u();return _(l.optionSelect(o,r))}),c(1),s()}if(i&2){let e=t.$implicit,n=t.index,r=u();p("ngClass",On(2,jV,e.value===r.value,n===r.optionId)),d(),H(" ",e.label," ")}}function HV(i,t){i&1&&(a(0,"span",7),c(1,"No items for select"),s())}var UV=["fileInput"];function WV(i,t){if(i&1){let e=x();a(0,"div",5)(1,"ae-select",37),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.customClassId,r)||(o.customClassId=r),_(r)}),v("change",function(){f(e);let r=u(2);return _(r.setCustomClass(r.customClassId))}),s()()}if(i&2){let e=u(2);d(),p("options",e.customClassList),D("ngModel",e.customClassId),p("disabled",e.htmlMode)("hidden",e.isButtonHidden("customClasses"))}}function qV(i,t){if(i&1){let e=x();a(0,"div",4)(1,"div",5)(2,"button",6),v("click",function(){f(e);let r=u();return _(r.triggerCommand("undo"))}),s(),a(3,"button",7),v("click",function(){f(e);let r=u();return _(r.triggerCommand("redo"))}),s()(),a(4,"div",5)(5,"button",8),v("click",function(){f(e);let r=u();return _(r.triggerCommand("bold"))}),s(),a(6,"button",9),v("click",function(){f(e);let r=u();return _(r.triggerCommand("italic"))}),s(),a(7,"button",10),v("click",function(){f(e);let r=u();return _(r.triggerCommand("underline"))}),s(),a(8,"button",11),v("click",function(){f(e);let r=u();return _(r.triggerCommand("strikeThrough"))}),s(),a(9,"button",12),v("click",function(){f(e);let r=u();return _(r.triggerCommand("subscript"))}),s(),a(10,"button",13),v("click",function(){f(e);let r=u();return _(r.triggerCommand("superscript"))}),s()(),a(11,"div",5)(12,"button",14),v("click",function(){f(e);let r=u();return _(r.triggerCommand("justifyLeft"))}),s(),a(13,"button",15),v("click",function(){f(e);let r=u();return _(r.triggerCommand("justifyCenter"))}),s(),a(14,"button",16),v("click",function(){f(e);let r=u();return _(r.triggerCommand("justifyRight"))}),s(),a(15,"button",17),v("click",function(){f(e);let r=u();return _(r.triggerCommand("justifyFull"))}),s()(),a(16,"div",5)(17,"button",18),v("click",function(){f(e);let r=u();return _(r.triggerCommand("indent"))}),s(),a(18,"button",19),v("click",function(){f(e);let r=u();return _(r.triggerCommand("outdent"))}),s()(),a(19,"div",5)(20,"button",20),v("click",function(){f(e);let r=u();return _(r.triggerCommand("insertUnorderedList"))}),s(),a(21,"button",21),v("click",function(){f(e);let r=u();return _(r.triggerCommand("insertOrderedList"))}),s()(),a(22,"div",5)(23,"ae-select",22),P("ngModelChange",function(r){f(e);let o=u();return A(o.block,r)||(o.block=r),_(r)}),v("change",function(){f(e);let r=u();return _(r.triggerCommand(r.block))}),s()(),a(24,"div",5)(25,"ae-select",23),P("ngModelChange",function(r){f(e);let o=u();return A(o.fontName,r)||(o.fontName=r),_(r)}),v("change",function(){f(e);let r=u();return _(r.setFontName(r.fontName))}),s()(),a(26,"div",5)(27,"ae-select",24),P("ngModelChange",function(r){f(e);let o=u();return A(o.fontSize,r)||(o.fontSize=r),_(r)}),v("change",function(){f(e);let r=u();return _(r.setFontSize(r.fontSize))}),s()(),a(28,"div",5)(29,"input",25,0),v("change",function(){f(e);let r=C(30),o=u();return _(o.insertColor(r.value,"textColor"))}),s(),a(31,"button",26),v("click",function(){f(e);let r=C(30);return u().focus(),_(r.click())}),s(),a(32,"input",25,1),v("change",function(){f(e);let r=C(33),o=u();return _(o.insertColor(r.value,"backgroundColor"))}),s(),a(34,"button",27),v("click",function(){f(e);let r=C(33);return u().focus(),_(r.click())}),s()(),S(35,WV,2,4,"div",28),a(36,"div",5)(37,"button",29),v("click",function(){f(e);let r=u();return _(r.insertUrl())}),s(),a(38,"button",30),v("click",function(){f(e);let r=u();return _(r.triggerCommand("unlink"))}),s(),a(39,"input",31,2),v("change",function(r){f(e);let o=u();return _(o.onFileChanged(r))}),s(),a(41,"button",32),v("click",function(){f(e);let r=C(40);return u().focus(),_(r.click())}),s(),a(42,"button",33),v("click",function(){f(e);let r=u();return _(r.insertVideo())}),s(),a(43,"button",34),v("click",function(){f(e);let r=u();return _(r.triggerCommand("insertHorizontalRule"))}),s()(),a(44,"div",5)(45,"button",35),v("click",function(){f(e);let r=u();return _(r.triggerCommand("removeFormat"))}),s()(),a(46,"div",5)(47,"button",36),v("click",function(){f(e);let r=u();return _(r.triggerCommand("toggleEditorMode"))}),s()(),Zt(48),s()}if(i&2){let e=u();d(2),p("hidden",e.isButtonHidden("undo")),d(),p("hidden",e.isButtonHidden("redo")),d(2),p("id","bold-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("bold")),d(),p("id","italic-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("italic")),d(),p("id","underline-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("underline")),d(),p("id","strikeThrough-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("strikeThrough")),d(),p("id","subscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("subscript")),d(),p("id","superscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("superscript")),d(2),p("id","justifyLeft-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyLeft")),d(),p("id","justifyCenter-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyCenter")),d(),p("id","justifyRight-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyRight")),d(),p("id","justifyFull-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyFull")),d(2),p("id","indent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("indent")),d(),p("id","outdent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("outdent")),d(2),p("id","insertUnorderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertUnorderedList")),d(),p("id","insertOrderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertOrderedList")),d(2),p("options",e.headings),D("ngModel",e.block),p("disabled",e.htmlMode)("hidden",e.isButtonHidden("heading")),d(2),p("options",e.fonts),D("ngModel",e.fontName),p("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontName")),d(2),p("options",e.fontSizes),D("ngModel",e.fontSize),p("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontSize")),d(4),p("id","foregroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("textColor")),d(3),p("id","backgroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("backgroundColor")),d(),p("ngIf",e._customClasses),d(2),p("id","link-"+e.id)("disabled",e.isLinkButtonDisabled)("hidden",e.isButtonHidden("link")),d(),p("id","unlink-"+e.id)("disabled",e.htmlMode||!e.linkSelected)("hidden",e.isButtonHidden("unlink")),d(3),p("id","insertImage-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertImage")),d(),p("id","insertVideo-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertVideo")),d(),p("id","insertHorizontalRule-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertHorizontalRule")),d(2),p("id","clearFormatting-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("removeFormat")),d(2),p("id","toggleEditorMode-"+e.id)("hidden",e.isButtonHidden("toggleEditorMode"))}}var GV=["customButtons"],$V=["editor"],YV=["editorWrapper"],QV=["editorToolbar"],KV=i=>({bottom:i}),JV=i=>({executeCommandFn:i}),qp=(()=>{class i{constructor(e,n){this.http=e,this.doc=n,this.saveSelection=()=>{if(this.doc.getSelection){let r=this.doc.getSelection();r.getRangeAt&&r.rangeCount&&(this.savedSelection=r.getRangeAt(0),this.selectedText=r.toString())}else this.doc.getSelection&&this.doc.createRange?this.savedSelection=document.createRange():this.savedSelection=null}}executeCommand(e,n){if(["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)){this.doc.execCommand("formatBlock",!1,e);return}this.doc.execCommand(e,!1,n)}createLink(e){if(!e.includes("http"))this.doc.execCommand("createlink",!1,e);else{let n='<a href="'+e+'" target="_blank">'+this.selectedText+"</a>";this.insertHtml(n)}}insertColor(e,n){this.restoreSelection()&&(n==="textColor"?this.doc.execCommand("foreColor",!1,e):this.doc.execCommand("hiliteColor",!1,e))}setFontName(e){this.doc.execCommand("fontName",!1,e)}setFontSize(e){this.doc.execCommand("fontSize",!1,e)}insertHtml(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}restoreSelection(){if(this.savedSelection){if(this.doc.getSelection){let e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}else if(this.doc.getSelection)return!0}else return!1}executeInNextQueueIteration(e,n=100){setTimeout(e,n)}checkSelection(){if(this.savedSelection.toString().length===0)throw new Error("No Selection Made");return!0}uploadImage(e){let n=new FormData;return n.append("file",e,e.name),this.http.post(this.uploadUrl,n,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(e){this.doc.execCommand("insertImage",!1,e)}setDefaultParagraphSeparator(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}createCustomClass(e){let n=this.selectedText;if(e){let r=e.tag?e.tag:"span";n="<"+r+' class="'+e.class+'">'+this.selectedText+"</"+r+">"}this.insertHtml(n)}insertVideo(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}insertYouTubeVideoTag(e){let r=`https://img.youtube.com/vi/${e.split("v=")[1]}/0.jpg`,o=`
      <div style='position: relative'>
        <a href='${e}' target='_blank'>
          <img src="${r}" alt="click to watch"/>
          <img style='position: absolute; left:200px; top:140px'
          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>
        </a>
      </div>`;this.insertHtml(o)}insertVimeoVideoTag(e){let n=this.http.get(`https://vimeo.com/api/oembed.json?url=${e}`).subscribe(r=>{let o=r.thumbnail_url_with_play_button,l=`<div>
        <a href='${e}' target='_blank'>
          <img src="${o}" alt="${r.title}"/>
        </a>
      </div>`;this.insertHtml(l),n.unsubscribe()})}nextNode(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}getRangeSelectedNodes(e,n){let r=e.startContainer,o=e.endContainer,l=[];if(r===o)l=[r];else{for(;r&&r!==o;)l.push(r=this.nextNode(r));for(r=e.startContainer;r&&r!==e.commonAncestorContainer;)l.unshift(r),r=r.parentNode}if(n)for(r=e.commonAncestorContainer;r;)l.push(r),r=r.parentNode;return l}getSelectedNodes(){let e=[];if(this.doc.getSelection){let n=this.doc.getSelection();for(let r=0,o=n.rangeCount;r<o;++r)e.push.apply(e,this.getRangeSelectedNodes(n.getRangeAt(r),!0))}return e}replaceWithOwnChildren(e){let n=e.parentNode;for(;e.hasChildNodes();)n.insertBefore(e.firstChild,e);n.removeChild(e)}removeSelectedElements(e){let n=e.toLowerCase().split(",");this.getSelectedNodes().forEach(r=>{r.nodeType===1&&n.indexOf(r.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(r)})}}return i.\u0275fac=function(e){return new(e||i)(B(Ue),B(it))},i.\u0275prov=q({token:i,factory:i.\u0275fac}),i})(),Wp={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function X1(i){return i!=null}var ZV=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=j({type:i,selectors:[["ae-toolbar-set"],["","aeToolbarSet",""]],hostAttrs:[1,"angular-editor-toolbar-set"],ngContentSelectors:Gp,decls:1,vars:0,template:function(e,n){e&1&&(Jt(),Zt(0))},styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar-set[_nghost-%COMP%]{display:flex;gap:1px;width:fit-content;vertical-align:baseline}"]}),i})(),XV=(()=>{class i{constructor(){this.iconName=""}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=j({type:i,selectors:[["ae-button"],["button","aeButton",""]],hostAttrs:[1,"angular-editor-button"],hostVars:2,hostBindings:function(e,n){e&2&&bo("tabIndex",-1)("type","button")},inputs:{iconName:"iconName"},ngContentSelectors:Gp,decls:3,vars:2,consts:[["contentTemplate",""],[4,"ngIf","ngIfElse"]],template:function(e,n){if(e&1&&(Jt(),S(0,FV,3,2,"ng-container",1)(1,NV,1,0,"ng-template",null,0,V)),e&2){let r=C(2);p("ngIf",n.iconName)("ngIfElse",r)}},dependencies:[X],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-button[_nghost-%COMP%]{background-color:var(--ae-button-bg-color, white);vertical-align:middle;border:var(--ae-button-border, 1px solid #ddd);border-radius:var(--ae-button-radius, 4px);padding:.4rem;float:left;width:2rem;height:2rem}.angular-editor-button[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.angular-editor-button[_nghost-%COMP%]:hover{cursor:pointer;background-color:var(--ae-button-hover-bg-color, #f1f1f1);transition:.2s ease}.angular-editor-button[_nghost-%COMP%]:focus, .angular-editor-button.focus[_nghost-%COMP%]{outline:0}.angular-editor-button[_nghost-%COMP%]:disabled{background-color:var(--ae-button-disabled-bg-color, #f5f5f5);pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-button.active[_nghost-%COMP%]{background:var(--ae-button-active-bg-color, #fffbd3)}.angular-editor-button.active[_nghost-%COMP%]:hover{background-color:var(--ae-button-active-hover-bg-color, #fffaad)}"]}),i})(),eR=(()=>{class i{constructor(e,n){this.elRef=e,this.r=n,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new Te,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],X1(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(e,n){n.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(e){this.disabled||(this.opened=!this.opened)}onClick(e){this.elRef.nativeElement.contains(e.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(e){!e||typeof e!="string"||this.setValue(e)}setValue(e){let n=0,r=this.options.find((o,l)=>(n=l,o.value===e));r&&(this.selectedOption=r,this.optionId=n)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.labelButton.nativeElement.disabled=e;let n=this.labelButton.nativeElement,r=e?"addClass":"removeClass";this.r[r](n,"disabled"),this.disabled=e}handleKeyDown(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace();break}}_handleArrowDown(e){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(e){this.optionId>=1&&this.optionId--}_handleSpace(e){}_handleEnter(e){this.optionSelect(this.options[this.optionId],e)}_handleTab(e){}_handleBackspace(){}}return i.\u0275fac=function(e){return new(e||i)(E(De),E(qi))},i.\u0275cmp=j({type:i,selectors:[["ae-select"]],viewQuery:function(e,n){if(e&1&&at(LV,7),e&2){let r;Re(r=Fe())&&(n.labelButton=r.first)}},hostVars:2,hostBindings:function(e,n){e&1&&v("click",function(o){return n.onClick(o)},!1,hh)("keydown",function(o){return n.handleKeyDown(o)}),e&2&&Ei("display",n.hidden)},inputs:{options:"options",isHidden:[0,"hidden","isHidden"]},outputs:{changeEvent:"change"},features:[ct([{provide:wi,useExisting:Ut(()=>i),multi:!0}])],decls:9,vars:9,consts:[["labelButton",""],[1,"ae-picker",3,"ngClass"],["tabindex","-1","type","button","role","button",1,"ae-picker-label",3,"click","tabIndex"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"click","ngClass"],[1,"dropdown-item"]],template:function(e,n){if(e&1){let r=x();a(0,"span",1)(1,"button",2,0),v("click",function(l){return f(r),_(n.toggleOpen(l))}),c(3),Ri(),a(4,"svg"),g(5,"use"),s()(),er(),a(6,"span",3),S(7,zV,2,5,"button",4)(8,HV,2,0,"span",5),s()()}e&2&&(p("ngClass",ki(7,BV,n.isOpen)),d(),p("tabIndex",-1),d(2),H("",n.label," "),d(2),Ze("href","assets/ae-icons/icons.svg#sort")("href","assets/ae-icons/icons.svg#sort",null,"xlink"),d(2),p("ngForOf",n.options),d(),p("ngIf",!n.options.length))},dependencies:[ln,me,X],styles:['a[_ngcontent-%COMP%]{cursor:pointer}svg[_ngcontent-%COMP%]{width:100%;height:100%}.ae-picker[_ngcontent-%COMP%]{color:var(--ae-picker-color, #444);display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-picker-label[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:1.8rem;vertical-align:middle;font-size:85%;text-align:left;background-color:var(--ae-picker-label-color, white);min-width:2rem;float:left;border:1px solid #ddd;border-radius:var(--ae-button-radius, 4px);text-overflow:clip;overflow:hidden;white-space:nowrap;height:2rem}.ae-picker-label[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,var(--ae-picker-label-color, white),var(--ae-picker-label-color, white) 100%)}.ae-picker-label[_ngcontent-%COMP%]:focus{outline:none}.ae-picker-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-picker-label[_ngcontent-%COMP%]:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-picker-label[_ngcontent-%COMP%]:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:0;width:1rem}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:not(:root){overflow:hidden}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-picker-options[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-bg-color, #fff);display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.selected[_ngcontent-%COMP%]{color:#06c;background-color:var(--ae-picker-option-active-bg-color, #fff4c2)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.focused[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-focused-bg-color, #fbf9b0)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]:hover{background-color:var(--ae-picker-option-hover-bg-color, #fffa98)}.ae-expanded[_ngcontent-%COMP%]{display:block;margin-top:-1px;z-index:1}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{stroke:#ccc}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}']}),i})(),tR=(()=>{class i{constructor(e,n,r,o){this.r=e,this.editorService=n,this.er=r,this.doc=o,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new Te}set customClasses(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map((n,r)=>({label:n.name,value:r.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(e){e&&(this.fontName=e)}set defaultFontSize(e){e&&(this.fontSize=e)}get isLinkButtonDisabled(){return this.htmlMode||!this.editorService.selectedText}triggerCommand(e){this.execute.emit(e)}triggerButtons(){this.showToolbar&&this.buttons.forEach(e=>{let n=this.doc.queryCommandState(e),r=this.doc.getElementById(e+"-"+this.id);n?this.r.addClass(r,"active"):this.r.removeClass(r,"active")})}triggerBlocks(e){if(!this.showToolbar)return;this.linkSelected=e.findIndex(r=>r.nodeName==="A")>-1;let n=!1;this.select.forEach(r=>{let o=e.find(l=>l.nodeName===r);o!==void 0&&r===o.nodeName?n===!1&&(this.block=o.nodeName.toLowerCase(),n=!0):n===!1&&(this.block="default")}),n=!1,this._customClasses&&this._customClasses.forEach((r,o)=>{e.find(m=>{if(m instanceof Element)return m.className===r.class})!==void 0?n===!1&&(this.customClassId=o.toString(),n=!0):n===!1&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(r=>{let o=this.doc.getElementById(this.tagMap[r]+"-"+this.id),l=e.find(m=>m.nodeName===r);l!==void 0&&r===l.nodeName?this.r.addClass(o,"active"):this.r.removeClass(o,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let e="https://",n=this.editorService.savedSelection;if(n&&n.commonAncestorContainer.parentElement.nodeName==="A"){let r=n.commonAncestorContainer.parentElement;r.href!==""&&(e=r.href)}e=prompt("Insert URL link",e),e&&e!==""&&e!=="https://"&&this.editorService.createLink(e)}insertVideo(){this.execute.emit("");let e=prompt("Insert Video link","https://");e&&e!==""&&e!=="https://"&&this.editorService.insertVideo(e)}insertColor(e,n){this.editorService.insertColor(e,n),this.execute.emit("")}setFontName(e){this.editorService.setFontName(e),this.execute.emit("")}setFontSize(e){this.editorService.setFontSize(e),this.execute.emit("")}setEditorMode(e){let n=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(n,"active"):this.r.removeClass(n,"active"),this.htmlMode=e}onFileChanged(e){let n=e.target.files[0];if(n.type.includes("image/"))if(this.upload)this.upload(n).subscribe(r=>this.watchUploadImage(r,e));else if(this.uploadUrl)this.editorService.uploadImage(n).subscribe(r=>this.watchUploadImage(r,e));else{let r=new FileReader;r.onload=o=>{let l=o.currentTarget;this.editorService.insertImage(l.result.toString())},r.readAsDataURL(n)}}watchUploadImage(e,n){let{imageUrl:r}=e.body;this.editorService.insertImage(r),n.srcElement.value=null}setCustomClass(e){e==="-1"?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}isButtonHidden(e){if(!e||!(this.hiddenButtons instanceof Array))return!1;let n;for(let r of this.hiddenButtons)if(r instanceof Array&&(n=r.find(o=>o===e)),n)break;return n!==void 0}focus(){this.execute.emit("focus"),console.log("focused")}}return i.\u0275fac=function(e){return new(e||i)(E(qi),E(qp),E(De),E(it))},i.\u0275cmp=j({type:i,selectors:[["angular-editor-toolbar"],["ae-toolbar"],["div","aeToolbar",""]],viewQuery:function(e,n){if(e&1&&at(UV,7),e&2){let r;Re(r=Fe())&&(n.myInputFile=r.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:Gp,decls:1,vars:1,consts:[["fgInput",""],["bgInput",""],["fileInput",""],["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],["aeToolbarSet",""],["aeButton","","title","Undo","iconName","undo",3,"click","hidden"],["aeButton","","title","Redo","iconName","redo",3,"click","hidden"],["aeButton","","title","Bold","iconName","bold",3,"click","id","disabled","hidden"],["aeButton","","iconName","italic","title","Italic",3,"click","id","disabled","hidden"],["aeButton","","title","Underline","iconName","underline",3,"click","id","disabled","hidden"],["aeButton","","iconName","strikeThrough","title","Strikethrough",3,"click","id","disabled","hidden"],["aeButton","","title","Subscript","iconName","subscript",3,"click","id","disabled","hidden"],["aeButton","","iconName","superscript","title","Superscript",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyLeft","title","Justify Left",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyCenter","title","Justify Center",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyRight","title","Justify Right",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyFull","title","Justify Full",3,"click","id","disabled","hidden"],["aeButton","","iconName","indent","title","Indent",3,"click","id","disabled","hidden"],["aeButton","","iconName","outdent","title","Outdent",3,"click","id","disabled","hidden"],["aeButton","","iconName","unorderedList","title","Unordered List",3,"click","id","disabled","hidden"],["aeButton","","iconName","orderedList","title","Ordered List",3,"click","id","disabled","hidden"],["tabindex","-1",1,"select-heading",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["tabindex","-1",1,"select-font",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["tabindex","-1",1,"select-font-size",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["type","color",2,"display","none",3,"change"],["aeButton","","iconName","textColor","title","Text Color",3,"click","id","disabled","hidden"],["aeButton","","iconName","backgroundColor","title","Background Color",3,"click","id","disabled","hidden"],["aeToolbarSet","",4,"ngIf"],["aeButton","","iconName","link","title","Insert Link",3,"click","id","disabled","hidden"],["aeButton","","iconName","unlink","title","Unlink",3,"click","id","disabled","hidden"],["accept","image/*","type","file",2,"display","none",3,"change"],["aeButton","","iconName","image","title","Insert Image",3,"click","id","disabled","hidden"],["aeButton","","iconName","video","title","Insert Video",3,"click","id","disabled","hidden"],["aeButton","","iconName","horizontalLine","title","Horizontal Line",3,"click","id","disabled","hidden"],["aeButton","","iconName","removeFormat","title","Clear Formatting",1,"angular-editor-button",3,"click","id","disabled","hidden"],["aeButton","","iconName","htmlCode","title","HTML Code",3,"click","id","hidden"],["tabindex","-1",1,"select-custom-style",3,"ngModelChange","change","options","ngModel","disabled","hidden"]],template:function(e,n){e&1&&(Jt(),S(0,qV,49,83,"div",3)),e&2&&p("ngIf",n.showToolbar)},dependencies:[ZV,XV,eR,X,ae,le],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}']}),i})(),ey=(()=>{class i{constructor(e,n,r,o,l,m,h){this.r=e,this.editorService=n,this.doc=r,this.sanitizer=o,this.cdRef=l,this.autoFocus=h,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=Wp,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new Te,this.blurEvent=new Te,this.focusEvent=new Te,this.tabindex=-1;let b=Number(m);this.tabIndex=b||b===0?b:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:Wp.toolbarPosition}ngAfterViewInit(){X1(this.autoFocus)&&this.focus()}onPaste(e){if(this.config.rawPaste){e.preventDefault();let n=e.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,n),n}}executeCommand(e,n){this.focus(),e!=="focus"&&(e==="toggleEditorMode"?this.toggleEditorMode(this.modeVisual):e!==""&&(e==="clear"?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):e==="default"?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e,n),this.exec()))}onTextAreaFocus(e){if(this.focused){e.stopPropagation();return}this.focused=!0,this.focusEvent.emit(e),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0})}onTextAreaMouseOut(e){this.editorService.saveSelection()}onTextAreaBlur(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),typeof this.onTouched=="function"&&this.onTouched(),e.relatedTarget!==null){let n=e.relatedTarget.parentElement;!n.classList.contains("angular-editor-toolbar-set")&&!n.classList.contains("ae-picker")&&(this.blurEvent.emit(e),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(e){let n="";this.modeVisual?n=e.innerHTML:n=e.innerText,(!n||n==="<br>")&&(n=""),typeof this.onChange=="function"&&(this.onChange(this.config.sanitize||this.config.sanitize===void 0?this.sanitizer.sanitize(Zs.HTML,n):n),!n!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(e){this.onChange=n=>e(n==="<br>"?"":n)}registerOnTouched(e){this.onTouched=e}writeValue(e){(!e||e==="<br>"||e==="")!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(e===void 0||e===""||e==="<br>")&&(e=null),this.refreshView(e)}refreshView(e){let n=e===null?"":e;this.r.setProperty(this.textArea.nativeElement,"innerHTML",n)}togglePlaceholder(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(e){let n=this.textArea.nativeElement,r=e?"addClass":"removeClass";this.r[r](n,"disabled"),this.disabled=e}toggleEditorMode(e){let n,r=this.textArea.nativeElement;if(e){n=this.r.createText(r.innerHTML),this.r.setProperty(r,"innerHTML",""),this.r.setProperty(r,"contentEditable",!1);let o=this.r.createElement("pre");this.r.setStyle(o,"margin","0"),this.r.setStyle(o,"outline","none");let l=this.r.createElement("code");this.r.setProperty(l,"id","sourceText"+this.id),this.r.setStyle(l,"display","block"),this.r.setStyle(l,"white-space","pre-wrap"),this.r.setStyle(l,"word-break","keep-all"),this.r.setStyle(l,"outline","none"),this.r.setStyle(l,"margin","0"),this.r.setStyle(l,"background-color","#fff5b9"),this.r.setProperty(l,"contentEditable",!0),this.r.appendChild(l,n),this.focusInstance=this.r.listen(l,"focus",m=>this.onTextAreaFocus(m)),this.blurInstance=this.r.listen(l,"blur",m=>this.onTextAreaBlur(m)),this.r.appendChild(o,l),this.r.appendChild(r,o),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),l.focus()}else this.doc.querySelectorAll?this.r.setProperty(r,"innerHTML",r.innerText):(n=this.doc.createRange(),n.selectNodeContents(r.firstChild),this.r.setProperty(r,"innerHTML",n.toString())),this.r.setProperty(r,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(r),r.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){this.editorToolbar.triggerButtons();let e;this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let n=e.focusNode,r=[];for(;n&&n.id!=="editor";)r.unshift(n),n=n.parentNode;this.editorToolbar.triggerBlocks(r)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:Wp.fonts).map(n=>({label:n.name,value:n.name}))}getCustomTags(){let e=["span"];return this.config.customClasses.forEach(n=>{n.tag!==void 0&&(e.includes(n.tag)||e.push(n.tag))}),e.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(e){return e=e.replace("position: fixed;",""),e}}return i.\u0275fac=function(e){return new(e||i)(E(qi),E(qp),E(it),E(ht),E(Pt),on("tabindex"),on("autofocus"))},i.\u0275cmp=j({type:i,selectors:[["angular-editor"]],contentQueries:function(e,n,r){if(e&1&&Wt(r,GV,5),e&2){let o;Re(o=Fe())&&(n.customButtonsTemplateRef=o.first)}},viewQuery:function(e,n){if(e&1&&(at($V,7),at(YV,7),at(QV,5)),e&2){let r;Re(r=Fe())&&(n.textArea=r.first),Re(r=Fe())&&(n.editorWrapper=r.first),Re(r=Fe())&&(n.editorToolbar=r.first)}},hostVars:1,hostBindings:function(e,n){e&1&&v("focus",function(){return n.onFocus()}),e&2&&Ze("tabindex",n.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[ct([{provide:wi,useExisting:Ut(()=>i),multi:!0},qp])],decls:11,vars:33,consts:[["angularEditor",""],["editorToolbar",""],["editorWrapper",""],["editor",""],[1,"angular-editor",3,"ngClass"],[3,"execute","id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"angular-editor-wrapper"],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],[1,"angular-editor-placeholder"]],template:function(e,n){if(e&1){let r=x();a(0,"div",4,0)(2,"angular-editor-toolbar",5,1),v("execute",function(l){return f(r),_(n.executeCommand(l))}),go(4,6),s(),a(5,"div",7,2)(7,"div",8,3),v("input",function(l){return f(r),_(n.onContentChange(l.target))})("focus",function(l){return f(r),_(n.onTextAreaFocus(l))})("blur",function(l){return f(r),_(n.onTextAreaBlur(l))})("click",function(){return f(r),_(n.exec())})("keyup",function(){return f(r),_(n.exec())})("mouseout",function(l){return f(r),_(n.onTextAreaMouseOut(l))})("paste",function(l){return f(r),_(n.onPaste(l))}),s(),a(9,"span",9),c(10),s()()()}e&2&&(Ei("width",n.config.width)("min-width",n.config.minWidth),p("ngClass",ki(29,KV,n.config.toolbarPosition==="bottom")),d(2),p("id",n.id)("uploadUrl",n.config.uploadUrl)("upload",n.config.upload)("showToolbar",n.config.showToolbar!==void 0?n.config.showToolbar:!0)("fonts",n.getFonts())("customClasses",n.config.customClasses)("defaultFontName",n.config.defaultFontName)("defaultFontSize",n.config.defaultFontSize)("hiddenButtons",n.config.toolbarHiddenButtons),d(2),p("ngTemplateOutlet",n.customButtonsTemplateRef)("ngTemplateOutletContext",ki(31,JV,n.executeCommandFn)),d(3),Ei("height",n.config.height)("min-height",n.config.minHeight)("max-height",n.config.maxHeight)("outline",n.config.outline===!1?"none":void 0),Ze("contenteditable",n.config.editable)("tabindex",n.disabled?-1:n.tabIndex)("translate",n.config.translate)("spellcheck",n.config.spellcheck),d(3),O(n.placeholder||n.config.placeholder))},dependencies:[tR,ln,ir],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--ae-gap, 5px)}.angular-editor.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;resize:vertical}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border-radius:var(--ae-text-area-border-radius, .3rem);border:var(--ae-text-area-border, 1px solid #ddd);background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:focus, .angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea.focus[_ngcontent-%COMP%]{outline:var(--ae-focus-outline-color, -webkit-focus-ring-color auto 1px)}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.6rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),i})(),dd=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=_e({type:i}),i.\u0275inj=fe({imports:[[J,ie,Cc]]}),i})();var tn=class i{constructor(t){this.http=t}url=F.toApiUrl("unity-admin");getAll(){return this.http.get(this.url)}getPrincipal(){return this.http.get(this.url+"/principal/all")}getUaCollabs(){return this.http.get(this.url+"/collabs/all")}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.put(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var nR=["pdfView"];function rR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function oR(i,t){if(i&1){let e=x();a(0,"button",23),v("click",function(){f(e);let r=u(2);return _(r.transUp())}),g(1,"i",24),c(2," Soumettre mon avis "),S(3,rR,3,0,"div",25),s()}if(i&2){let e=u(2);p("disabled",e.loading),d(3),p("ngIf",e.loading)}}function aR(i,t){if(i&1){let e=x();a(0,"button",28),v("click",function(){f(e);let r=u(2);return _(r.validate())}),g(1,"i",29),c(2," Envoyer une notification provisoire de demande accept\xE9e "),s()}}function sR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function lR(i,t){if(i&1){let e=x();a(0,"button",23),v("click",function(){f(e);let r=u(2);return _(r.delivered())}),g(1,"i",30),c(2," Cl\xF4turer la demande "),S(3,sR,3,0,"div",25),s()}if(i&2){let e=u(2);p("disabled",!e.isTreated||e.loading),d(3),p("ngIf",e.loading)}}function cR(i,t){if(i&1){let e=x();a(0,"button",31),v("click",function(){f(e);let r=u(2),o=C(9);return _(r.open(o))}),g(1,"i",32),c(2," Signer l'attestation / D\xE9livrer mon visa "),s()}}function dR(i,t){if(i&1){let e=x();a(0,"button",33),v("click",function(){f(e);let r=u(2);return _(r.delivered())}),g(1,"i",34),c(2," D\xE9livrer l'attestation / le document vis\xE9 "),s()}if(i&2){let e=u(2);p("disabled",e.loading)}}function mR(i,t){if(i&1&&(a(0,"div",35)(1,"div",36,1)(3,"object",37)(4,"p",38),g(5,"i",39)(6,"br"),c(7," Impossible d'afficher le PDF. "),a(8,"a",40),c(9," Ouvrir dans un nouvel onglet "),s()()()()()),i&2){let e=u(2);d(3),p("data",e.pdfSrc,ut),d(5),p("href",e.pdfSrc,fo)}}function uR(i,t){if(i&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Motif"),s(),a(4,"dd"),c(5),s()()()),i&2){let e=u(4);d(5),O(e.responseUATreated.motif)}}function pR(i,t){if(i&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Note"),s(),a(4,"dd"),c(5),s()()()),i&2){let e=u(4);d(5),O(e.responseUATreated.reason)}}function hR(i,t){if(i&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Observation compl\xE8te sur l'analyse de la demande"),s(),a(4,"dd"),c(5),s()()()),i&2){let e=u(4);d(5),O(e.responseUATreated.observation)}}function fR(i,t){if(i&1){let e=x();a(0,"button",63),v("click",function(){f(e);let r=u(4);return _(r.showResponseFile(r.responseUATreated.note))}),g(1,"i",64),c(2," Voir la note de service "),s()}}function _R(i,t){if(i&1){let e=x();a(0,"div",65)(1,"div",66)(2,"button",67),v("click",function(){f(e);let r=u(4);return _(r.back())}),g(3,"i",68),c(4," Fermer "),s()(),a(5,"div",35),g(6,"object",69),s()()}if(i&2){let e=u(4);d(6),p("data",e.pdfSrc,ut)}}function gR(i,t){if(i&1&&(a(0,"div",50)(1,"h4",43),g(2,"i",51),c(3," Avis du collaborateur "),s(),a(4,"div",52)(5,"div",53)(6,"div",54)(7,"dt",55),c(8,"D\xE9cision"),s(),a(9,"dd",56),g(10,"i",57),c(11),s()()(),S(12,uR,6,1,"div",58)(13,pR,6,1,"div",58)(14,hR,6,1,"div",58),s(),a(15,"div",59),S(16,fR,3,0,"button",60),s(),S(17,_R,7,1,"div",61),s()),i&2){let e=u(3);d(9),Ft(e.responseUATreated.hasPermission?"text-success":"text-danger"),d(),Ft(e.responseUATreated.hasPermission?"bi bi-check-circle":"bi bi-x-circle"),d(),H(" ",e.getDecision(e.responseUATreated.hasPermission)," "),d(),p("ngIf",!e.responseUATreated.hasPermission),d(),p("ngIf",e.responseUATreated.hasPermission),d(),p("ngIf",e.responseUATreated.hasPermission),d(2),p("ngIf",e.responseUATreated.note),d(),p("ngIf",e.showResponseFilePreview)}}function bR(i,t){i&1&&(a(0,"option",49),c(1,"Mise en attente"),s()),i&2&&p("value",2)}function vR(i,t){if(i&1){let e=x();a(0,"div",82),g(1,"hr"),a(2,"h6",83),g(3,"i",84),c(4," Compl\xE8ter ces informations "),s(),a(5,"div",85)(6,"div",53)(7,"div",71)(8,"label",86),c(9,"Direction"),s(),a(10,"input",87),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.structure,r)||(o.selected_data.structure=r),_(r)}),s()()(),a(11,"div",53)(12,"div",71)(13,"label",86),c(14,"Date d\xE9but de stage"),s(),a(15,"input",88),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.date_start,r)||(o.selected_data.date_start=r),_(r)}),s()()(),a(16,"div",53)(17,"div",71)(18,"label",86),c(19,"Date fin de stage"),s(),a(20,"input",89),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.date_end,r)||(o.selected_data.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(4);d(10),D("ngModel",e.selected_data.structure),d(5),D("ngModel",e.selected_data.date_start),d(5),D("ngModel",e.selected_data.date_end)}}function yR(i,t){if(i&1){let e=x();a(0,"div",82),g(1,"hr"),a(2,"h6",83),g(3,"i",84),c(4," Compl\xE8ter ces informations "),s(),a(5,"div",85)(6,"div",53)(7,"div",71)(8,"label",86),c(9,"Statut"),s(),a(10,"select",90),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.status,r)||(o.selected_data.adpap.status=r),_(r)}),a(11,"option",91),c(12,"Fontionnaire"),s(),a(13,"option",92),c(14,"ACE"),s()()()(),a(15,"div",53)(16,"div",71)(17,"label",86),c(18,"Date de naissance"),s(),a(19,"input",93),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.birthday,r)||(o.selected_data.adpap.birthday=r),_(r)}),s()()(),a(20,"div",53)(21,"div",71)(22,"label",86),c(23,"Lieu de naissance"),s(),a(24,"input",94),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.birthplace,r)||(o.selected_data.adpap.birthplace=r),_(r)}),s()()(),a(25,"div",95)(26,"div",71)(27,"label",86),c(28,"Civilit\xE9"),s(),a(29,"select",96),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.sex,r)||(o.selected_data.adpap.sex=r),_(r)}),a(30,"option",97),c(31,"Monsieur"),s(),a(32,"option",98),c(33,"Madame"),s()()()(),a(34,"div",53)(35,"div",71)(36,"label",86),c(37,"Corps"),s(),a(38,"input",99),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.corporate,r)||(o.selected_data.adpap.corporate=r),_(r)}),s()()(),a(39,"div",53)(40,"div",71)(41,"label",86),c(42,"Poste occup\xE9"),s(),a(43,"input",100),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.function,r)||(o.selected_data.adpap.function=r),_(r)}),s()()(),a(44,"div",95)(45,"div",71)(46,"label",86),c(47,"Grade"),s(),a(48,"input",101),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.category,r)||(o.selected_data.adpap.category=r),_(r)}),s()()(),a(49,"div",95)(50,"div",71)(51,"label",86),c(52,"Echelle"),s(),a(53,"input",102),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.scale,r)||(o.selected_data.adpap.scale=r),_(r)}),s()()(),a(54,"div",95)(55,"div",71)(56,"label",86),c(57,"Echelon"),s(),a(58,"input",103),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.selected_data.adpap.level,r)||(o.selected_data.adpap.level=r),_(r)}),s()()()()()}if(i&2){let e=u(4);d(10),D("ngModel",e.selected_data.adpap.status),d(9),D("ngModel",e.selected_data.adpap.birthday),d(5),D("ngModel",e.selected_data.adpap.birthplace),d(5),D("ngModel",e.selected_data.adpap.sex),d(9),D("ngModel",e.selected_data.adpap.corporate),d(5),D("ngModel",e.selected_data.adpap.function),d(5),D("ngModel",e.selected_data.adpap.category),d(5),D("ngModel",e.selected_data.adpap.scale),d(5),D("ngModel",e.selected_data.adpap.level)}}function xR(i,t){if(i&1){let e=x();a(0,"div")(1,"label",86),c(2,"Charger le contrat"),s(),a(3,"input",77),v("change",function(r){f(e);let o=u(),l=o.$implicit,m=o.index,h=u(5);return _(h.upload2(r,m,l.identity))}),s()()}}function wR(i,t){if(i&1){let e=x();a(0,"div")(1,"button",109),v("click",function(){f(e);let r=u().$implicit,o=u(5);return _(o.openContract(r.file==null?null:r.file.file))}),g(2,"i",110),c(3," Ouvrir le fichier "),s()()}}function CR(i,t){if(i&1&&(a(0,"div",62)(1,"div",107)(2,"div",41)(3,"h6",108),c(4),s(),S(5,xR,4,0,"div",11)(6,wR,4,0,"div",11),s()()()),i&2){let e=t.$implicit;d(4),O(e.identity),d(),p("ngIf",!e.has_contract),d(),p("ngIf",e.has_contract)}}function SR(i,t){if(i&1&&(a(0,"fieldset",82)(1,"legend",104),g(2,"i",105),c(3," Charger les contrats "),s(),a(4,"div",85),S(5,CR,7,3,"div",106),s()()),i&2){let e=u(4);d(5),p("ngForOf",e.contractFiles)}}function ER(i,t){if(i&1){let e=x();a(0,"div",82),g(1,"hr"),a(2,"div",111)(3,"h6",112),g(4,"i",64),c(5," Une note disponible "),s(),a(6,"button",113),v("click",function(){f(e);let r=u(4);return _(r.showResponseFile(r.responseUA.note))}),c(7," Voir la note de service "),s()()()}}function kR(i,t){if(i&1){let e=x();a(0,"div",114)(1,"label",46),c(2,"Contenu du document"),s(),a(3,"textarea",115),P("ngModelChange",function(r){f(e);let o=u(4);return A(o.desc,r)||(o.desc=r),_(r)}),s()()}if(i&2){let e=u(4);d(3),D("ngModel",e.desc)}}function TR(i,t){i&1&&(a(0,"div",116)(1,"h5",117),g(2,"i",84),c(3," Pas de contenu \xE0 \xE9diter pour cette prestation "),s(),a(4,"p",118),c(5,"Vous pouvez proc\xE9der \xE0 la g\xE9n\xE9ration du document"),s()())}function MR(i,t){if(i&1){let e=x();a(0,"div",114)(1,"div",119)(2,"h6",112),g(3,"i",120),c(4," Chargement du document final scann\xE9 (PDF) "),s(),a(5,"input",121),v("change",function(r){f(e);let o=u(4);return _(o.upload(r))}),s()()()}}function IR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function DR(i,t){if(i&1){let e=x();bt(0),a(1,"form",70,2),v("ngSubmit",function(){f(e);let r=C(2),o=u(3);return _(o.stepAction(r.value))}),a(3,"div",52)(4,"div",62)(5,"div",71)(6,"label",46),c(7,"Note"),s(),a(8,"textarea",72),P("ngModelChange",function(r){f(e);let o=u(3);return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()()(),a(9,"div",62)(10,"div",71)(11,"label",46),c(12,"Observation compl\xE8te sur l'analyse de la demande"),s(),a(13,"textarea",73),P("ngModelChange",function(r){f(e);let o=u(3);return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()()()(),S(14,vR,21,3,"div",74)(15,yR,59,9,"div",74)(16,SR,6,1,"fieldset",74)(17,ER,8,0,"div",74),a(18,"div",75)(19,"label",46),g(20,"i",76),c(21," Attacher une note si disponible "),s(),a(22,"input",77),v("change",function(r){f(e);let o=u(3);return _(o.upload(r))}),s()(),S(23,kR,4,1,"div",78)(24,TR,6,0,"div",79)(25,MR,6,0,"div",78),a(26,"div",80)(27,"button",81),g(28,"i",24),c(29),S(30,IR,3,0,"div",25),s()()(),vt()}if(i&2){let e=C(2),n=u(3);d(8),D("ngModel",n.responseUA.reason),d(5),D("ngModel",n.responseUA.observation),d(),p("ngIf",n.selected_data&&n.responseUA.hasPermission==1&&n.prestation=="autorisation-de-stage"),d(),p("ngIf",n.selectedData&&n.responseUA.hasPermission==1&&n.prestation=="attestation-de-presence-au-poste"),d(),p("ngIf",n.selectedData&&(n.myPrestation==null?null:n.myPrestation.content_type)==2&&(n.contractFiles==null?null:n.contractFiles.length)!=0),d(),p("ngIf",n.responseUA.note),d(6),p("ngIf",(n.myPrestation==null?null:n.myPrestation.content_type)==0),d(),p("ngIf",(n.myPrestation==null?null:n.myPrestation.content_type)==2),d(),p("ngIf",(n.myPrestation==null?null:n.myPrestation.content_type)==1&&n.isTreated&&(n.selected_data==null?null:n.selected_data.status)==5),d(2),p("disabled",n.loading||e.invalid),d(2),H(" ",n.getText()," "),d(),p("ngIf",n.loading)}}function AR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function PR(i,t){if(i&1){let e=x();bt(0),a(1,"form",70,3),v("ngSubmit",function(){f(e);let r=C(2),o=u(3);return _(o.stepAction(r.value))}),a(3,"div",122)(4,"h6",112),g(5,"i",123),c(6," Motif du rejet "),s(),a(7,"div",124)(8,"label",86),c(9,"Laissez le motif du rejet"),s(),a(10,"textarea",125),P("ngModelChange",function(r){f(e);let o=u(3);return A(o.responseUA.motif,r)||(o.responseUA.motif=r),_(r)}),s()(),a(11,"div",126)(12,"button",127),g(13,"i",123),c(14),S(15,AR,3,0,"div",25),s()()()(),vt()}if(i&2){let e=C(2),n=u(3);d(10),D("ngModel",n.responseUA.motif),d(2),p("disabled",n.loading||e.invalid),d(2),H(" ",n.getText()," "),d(),p("ngIf",n.loading)}}function OR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function VR(i,t){if(i&1){let e=x();bt(0),a(1,"form",70,4),v("ngSubmit",function(){f(e);let r=C(2),o=u(3);return _(o.stepAction(r.value))}),a(3,"div",119)(4,"h6",112),g(5,"i",128),c(6," Mise en attente "),s(),a(7,"div",124)(8,"label",86),c(9,"Laissez le motif de mise en attente"),s(),a(10,"textarea",129),P("ngModelChange",function(r){f(e);let o=u(3);return A(o.responseUA.motif,r)||(o.responseUA.motif=r),_(r)}),s()(),a(11,"div",126)(12,"button",130),g(13,"i",128),c(14),S(15,OR,3,0,"div",25),s()()()(),vt()}if(i&2){let e=C(2),n=u(3);d(10),D("ngModel",n.responseUA.motif),d(2),p("disabled",n.loading||e.invalid),d(2),H(" ",n.getText()," "),d(),p("ngIf",n.loading)}}function RR(i,t){if(i&1){let e=x();a(0,"div",13)(1,"div",41),S(2,gR,18,10,"div",42),a(3,"div")(4,"h4",43),g(5,"i",44),c(6),s(),a(7,"div",45)(8,"label",46),c(9,"D\xE9cision"),s(),a(10,"select",47),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.responseUA.hasPermission,r)||(o.responseUA.hasPermission=r),_(r)}),v("change",function(r){f(e);let o=u(2);return _(o.btnChange(r))}),S(11,bR,2,1,"option",48),a(12,"option",49),c(13,"Favorable"),s(),a(14,"option",49),c(15,"D\xE9favorable"),s()()(),S(16,DR,31,12,"ng-container",11)(17,PR,16,4,"ng-container",11)(18,VR,16,4,"ng-container",11),s()()()}if(i&2){let e=u(2);d(2),p("ngIf",e.responseUaCode),d(4),H(" ",e.isSigner()?"D\xE9cision finale":"Mon Avis"," "),d(4),D("ngModel",e.responseUA.hasPermission),d(),p("ngIf",!e.isSigner()),d(),p("value",1),d(2),p("value",0),d(2),p("ngIf",e.responseUA.hasPermission==1),d(),p("ngIf",e.responseUA.hasPermission==0),d(),p("ngIf",e.responseUA.hasPermission==2)}}function FR(i,t){if(i&1&&(a(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),S(4,oR,4,2,"button",16)(5,aR,3,0,"button",17)(6,lR,4,2,"button",16)(7,cR,3,0,"button",18)(8,dR,3,1,"button",19),s()(),S(9,mR,10,2,"div",20),s(),a(10,"div",21),S(11,RR,19,9,"div",22),s()()),i&2){let e=u();d(4),p("ngIf",e.isTreated&&!e.isSigner()),d(),p("ngIf",e.isTreated&&(e.myPrestation==null?null:e.myPrestation.need_validation)&&(e.responseUA==null?null:e.responseUA.hasPermission)&&(e.selected_data==null?null:e.selected_data.status)!=5&&e.hasPermission("validation")),d(),p("ngIf",(e.myPrestation==null?null:e.myPrestation.need_validation)&&(e.selected_data==null?null:e.selected_data.status)==5),d(),p("ngIf",e.hasPermission("autorisation")&&!(e.selected_data!=null&&e.selected_data.isAutorized)&&e.isTreated&&!(e.myPrestation!=null&&e.myPrestation.need_validation)),d(),p("ngIf",e.hasPermission("autorisation")&&(e.selected_data==null?null:e.selected_data.isAutorized)&&e.isTreated&&!(e.myPrestation!=null&&e.myPrestation.need_validation)),d(),p("ngIf",(e.selected_data==null?null:e.selected_data.filename)!=null),d(2),p("ngIf",e.responseUA)}}function NR(i,t){i&1&&(a(0,"div",131)(1,"div",132)(2,"span",27),c(3,"Chargement..."),s()(),a(4,"p",133),c(5,"Chargement des donn\xE9es..."),s()())}function LR(i,t){i&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function BR(i,t){if(i&1){let e=x();a(0,"form",70,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div",134)(3,"h4",135),g(4,"i",32),c(5," Signer ce document "),s(),a(6,"button",136),v("click",function(){let r=f(e).$implicit;return _(r.dismiss())}),s()(),a(7,"div",137)(8,"div",71)(9,"label",46),g(10,"i",138),c(11," Saisissez votre mot de passe de d\xE9livrance "),s(),g(12,"input",139),s()(),a(13,"div",140)(14,"button",67),v("click",function(){let r=f(e).$implicit;return _(r.dismiss())}),c(15," Annuler "),s(),a(16,"button",141),g(17,"i",32),c(18," Signer "),S(19,LR,3,0,"div",25),s()()()}if(i&2){let e=C(1),n=u();d(16),p("disabled",e.invalid||n.loading),d(3),p("ngIf",n.loading)}}var Vs=class i{constructor(t,e,n,r,o,l,m,h,b,y,w,k){this.activatedRoute=t;this.locService=e;this.requeteService=n;this.router=r;this.modalService=l;this.responseService=m;this.toastrService=h;this.affService=b;this._sanitizationService=y;this.uaService=w;this.prestationService=k;o.backdrop="static",o.keyboard=!1}pdfView;selected_data;user;selected_file;prestation;reload=!0;code;desc="";permissions=[];responseUA={hasPermission:null,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};isTreated=!1;loading=!1;fileUploaded;fileUploaded2;doc_path;btnShow="";transit=!1;currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];showPreview2=!1;showResponseFilePreview=!1;pdfSrc="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf";editorConfig={editable:!0,spellcheck:!0,height:"500px",minHeight:"",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]};myPrestation;uas=[];contractFiles=[];storeResponseActionState=!1;genActionState=!1;transUpActionState=!1;needActionState=!1;rejetActionState=!1;selectedData={filename:"sample.pdf",status:1,isAutorized:!1};responseData={hasPermission:1,reason:"Demande conforme aux exigences",observation:"Tous les documents requis sont pr\xE9sents et valides.",note:"note-service.pdf"};currentDecision={hasPermission:-1};actionButtonsConfig={isTreated:!0,isSigner:!1,loading:!1,hasValidationPermission:!0,hasAuthorizationPermission:!0,needValidation:!0,isAuthorized:!1,status:1};showDecisionForm=!0;prestationName;responseUATreated={hasPermission:null,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};responseUaCode;ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation)?.prestation,this.responseUaCode=this.activatedRoute.snapshot.paramMap.get("isTreated"),console.log(this.myPrestation)}),this.getName(this.prestation),this.get(),this.getMyCollab()}getPrestation(){}showResponseFile(t){}get(){this.requeteService.get(this.code,this.prestation,this.myPrestation?.code).subscribe(t=>{if(this.selected_data=t.data,this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.getDetailsFiles(),this.selected_data.reponses.length!=0&&this.selected_data.reponses.length>0)if(this.responseUaCode==null){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user?.agent?.unite_admin?.id);e&&(console.log(e,"test ici"),this.isTreated=!0,this.responseUA=e,this.responseUA.hasPermission==1&&this.showFile2())}else{this.responseUATreated=this.selected_data.reponses.find(r=>r.unite_admin_id==this.responseUaCode),this.responseUA.motif=this.responseUATreated.motif;var e=this.selected_data.reponses.find(r=>r.unite_admin_id==this.user?.agent?.unite_admin?.id);e?(this.isTreated=!0,this.responseUA=e,this.responseUA.hasPermission==1&&this.showFile2()):this.responseUATreated.hasPermission==1&&this.showFile2()}this.prepareDesc(this.selected_data),this.genActionState&&(this.showFile2(),this.genActionState=!1),this.needActionState=!1,this.rejetActionState=!1},t=>{})}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}storeResponse(t){this.loading=!0,this.responseUA.unite_admin_id=this.user?.agent?.unite_admin?.id,this.responseUA.requete_id=this.selected_data.id;var e=new FormData;e.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&e.append("file",this.fileUploaded),this.fileUploaded2!=null&&e.append("filename",this.fileUploaded2),e.append("requete_id",JSON.stringify(this.selected_data.id)),this.prestation=="autorisation-de-stage"&&(e.append("structure",t.structure),e.append("service",t.service),e.append("date_start",t.date_start),e.append("date_end",t.date_end)),this.prestation=="attestation-de-presence-au-poste"&&(e.append("status",t.status),e.append("sex",t.sex),e.append("corporate",t.corporate),e.append("category",t.category),e.append("scale",t.scale),e.append("level",t.level),e.append("birthday",t.birthday),e.append("birthplace",t.birthplace)),e.append("prestation",this.prestation),this.requeteService.storeResponse(e).subscribe(n=>{this.genActionState?this.deliveryrDoc():this.needActionState?this.needCorrection():this.rejetActionState?this.decline():this.transUpActionState?this.transUp():(this.toastrService.success("Avis","Votre avis a \xE9t\xE9 sauvegard\xE9"),this.get(),this.pdfView.nativeElement.scrollIntoView(),this.loading=!1)},n=>{this.toastrService.error("Veuillez contactee l'administrateur")})}upload(t){t.target.files.length>0&&(this.fileUploaded=t.target.files[0])}upload2(t,e,n){if(t.target.files.length>0){this.fileUploaded2=t.target.files[0];let r=new FormData;r.append("file",this.fileUploaded2),r.append("code",this.selected_data.code),r.append("index",e),r.append("name",e),this.requeteService.addContratFile(r).subscribe(o=>{this.contractFiles[e].has_contract=!0,this.contractFiles[e].file.file=o.data})}}openContract(t){window.open(F.toFile("docs/responses/"+t),"_blank")}back(){this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}open(t){this.modalService.open(t)}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.reload=!1,se.confirmBox("Voulez vous vraiment mettre en attente pour compl\xE9ment d'information cet enregistrement ?").then(e=>{e.isConfirmed&&this.responseService.correction({requete_id:this.selected_data.id,commentaire:this.responseUA.motif}).subscribe(n=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation+"/"+this.code]),this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 suspendu avec succ\xE8s`)},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})})}decline(t){se.confirmBox("Voulez vous vraiment rejeter cette demande ?").then(e=>{this.toastrService.info("Annulation en cours"),this.reload=!1,e.isConfirmed&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:this.responseUA.motif}).subscribe(n=>{this.loading=!1,this.selected_data=null,this.toastrService.info("Demandes rejet\xE9es"),this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success(`La demande de code ${this.selected_data.code} a \xE9t\xE9 rejet\xE9e avec succ\xE8s`)},n=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}btnChange(t){this.responseUaCode!=null&&t.target.value==1&&(this.responseUA.reason=this.responseUATreated.reason),console.log(this.btnShow)}tansUpStart(t){se.confirmBox("Voulez vous vraiment transmettre cette demande ?").then(e=>{e.isConfirmed&&(this.transit=!0)})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.loading=!0,this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user?.agent?.unite_admin?.id,sens:-1}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation+"/"+this.myPrestation?.code]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e","Veuillez contactee l'administrateur")})}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.selected_data.content!=null?this.desc=this.selected_data.content:this.desc=n.desc(e))}}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(this.selected_data.filename),this.showPreview2=!0}deliveryrDoc(){this.loading=!0;var t=new FormData;t.append("content",this.desc),t.append("currentDescId",this.currentDescId),this.fileUploaded&&t.append("file",this.fileUploaded),t.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(t).subscribe(e=>{var n=this.selected_data.reponses.find(o=>o.unite_admin_id==this.user?.agent?.unite_admin?.id);n>=0&&(this.selected_data.reponses[n]=e),this.toastrService.success("Avis","Votre avis a \xE9t\xE9 sauvegard\xE9 et le document mis \xE0 jour"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.get(),this.pdfView.nativeElement.scrollIntoView()},e=>{this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}back2(){this.showPreview2=!1,this.showResponseFilePreview=!1}delivered(){this.toastrService.success("Autorisation en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-signature/"+this.prestation+"/"+this.myPrestation?.code]),this.toastrService.success(`L'attestaion issue de la demande ${this.selected_data.code} a \xE9t\xE9 envoy\xE9ee avec succ\xE8s`)},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")})}authorized(t){this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")})}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}getDecision(t){switch(t){case 0:return"D\xE9favorable";case 1:return"Favorable";case 2:return"Mise en attente";default:return""}}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}isSigner(){return this.myPrestation?.signer==this.user?.agent?.unite_admin?.id}getDetailsFiles(){this.selected_data.details&&(this.contractFiles=JSON.parse(this.selected_data.details).list)}stepAction(t){console.log(t),this.loading=!0,this.toastrService.info("Op\xE9ration en cours","Info"),this.responseUA.hasPermission==1&&!this.isTreated?(this.myPrestation?.content_type==0&&this.selected_data.content!=this.desc?this.genActionState=!0:this.myPrestation?.content_type==2&&this.selected_data.file==null&&this.myPrestation?.from_pns&&(this.genActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==1&&this.isTreated?(this.myPrestation?.content_type==0&&this.selected_data.content!=this.desc?this.genActionState=!0:this.myPrestation?.content_type==2&&this.selected_data.file==null&&this.myPrestation?.from_pns&&(this.genActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==2?(this.hasPermission("suspension")&&(this.needActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==0&&(this.hasPermission("rejet")?this.rejetActionState=!0:this.transUpActionState=!0,this.storeResponse(t)),this.loading=!1}getText(){return this.responseUA.hasPermission==1&&!this.isSigner()&&!this.isTreated?"Enregistrer mon avis":this.responseUA.hasPermission==1&&!this.isSigner()&&this.isTreated?"Modifier mon avis":(this.responseUA.hasPermission==1||this.responseUA.hasPermission==0||this.responseUA.hasPermission==2)&&this.isSigner()?"Confirmer ma d\xE9cision finale":this.responseUA.hasPermission==2&&!this.isSigner()&&this.hasPermission("suspension")?"Mettre en attente la demande":this.responseUA.hasPermission==2&&!this.isSigner()&&!this.hasPermission("suspension")?"Soumettre mon avis":this.responseUA.hasPermission==0&&!this.isSigner()&&this.hasPermission("rejet")?"Rejeter la demande":this.responseUA.hasPermission==0&&!this.isSigner()&&!this.hasPermission("rejet")?"Soumettre mon avis":"Soumettre"}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(ft),E(He),E(Je),E(de),E(It),E(ne),E(Mt),E(ht),E(tn),E(en))};static \u0275cmp=j({type:i,selectors:[["ngx-eservice-traitement-edit"]],viewQuery:function(e,n){if(e&1&&at(nR,5),e&2){let r;Re(r=Fe())&&(n.pdfView=r.first)}},standalone:!0,features:[U],decls:10,vars:2,consts:[["dialogAffectation",""],["pdfView",""],["addResponse","ngForm"],["addRejet","ngForm"],["addSusp","ngForm"],["addInstruction","ngForm"],[1,"container","mb-4"],[1,"d-flex","justify-content-end"],[1,"btn","btn-dark",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"container-fluid"],[4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"d-flex","flex-wrap","justify-content-center","gap-3","align-items-center"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","card-body p-0",4,"ngIf"],[1,"container","mt-4"],["class","card shadow-sm",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-send","me-2"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"visually-hidden"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","me-2"],[1,"bi","bi-check-square","me-2"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-pen","me-2"],[1,"btn","btn-success",3,"click","disabled"],[1,"bi","bi-file-earmark-check","me-2"],[1,"card-body","p-0"],[1,"pdf-viewer"],["type","application/pdf","width","100%","height","800px",3,"data"],[1,"text-center","p-4"],[1,"bi","bi-file-earmark-pdf","text-danger",2,"font-size","3rem"],["target","_blank",1,"btn","btn-primary","btn-sm","mt-2",3,"href"],[1,"card-body"],["class","mb-5",4,"ngIf"],[1,"text-primary","mb-4"],[1,"bi","bi-clipboard-check","me-2"],[1,"form-group","mb-4"],[1,"form-label","fw-semibold"],["name","hasPermission",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngIf"],[3,"value"],[1,"mb-5"],[1,"bi","bi-person-check","me-2"],[1,"row","g-4"],[1,"col-md-6"],[1,"info-card"],[1,"fw-bold","text-secondary","mb-2"],[1,"fs-5"],[1,"me-2"],["class","col-12",4,"ngIf"],[1,"d-flex","gap-3","mt-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","card mt-4",4,"ngIf"],[1,"col-12"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-file-earmark-text","me-2"],[1,"card","mt-4"],[1,"card-header","text-center","bg-light"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-lg","me-2"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],[1,"form-group"],["rows","3","name","reason","placeholder","Saisissez votre note...",1,"form-control",3,"ngModelChange","ngModel"],["rows","5","name","observation","placeholder","Saisissez votre observation d\xE9taill\xE9e...",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-4",4,"ngIf"],[1,"form-group","mt-4"],[1,"bi","bi-paperclip","me-2"],["type","file",1,"form-control",3,"change"],["class","form-group text-center mt-4",4,"ngIf"],["class","alert alert-info text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"mt-4"],[1,"text-info","mb-3"],[1,"bi","bi-info-circle","me-2"],[1,"row","g-3"],[1,"form-label"],["type","text","required","","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["required","","name","status",1,"form-control",3,"ngModelChange","ngModel"],["value","Fontionnaire"],["value","ACE"],["type","date","name","birthday",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","birthplace",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["required","","name","sex",1,"form-control",3,"ngModelChange","ngModel"],["value","Monsieur"],["value","Madame"],["type","text","name","corporate",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","function",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","category",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","scale",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","level",1,"form-control",3,"ngModelChange","ngModel"],[1,"bg-info","p-2","text-white","rounded","mb-3"],[1,"bi","bi-file-earmark-contract","me-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"card"],[1,"card-title"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-file-earmark","me-2"],[1,"alert","alert-info"],[1,"alert-heading"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"form-group","text-center","mt-4"],["rows","10","name","desc","placeholder","Saisissez le contenu du document...",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-info","text-center","mt-4"],[1,"text-info"],[1,"mb-0"],[1,"alert","alert-warning"],[1,"bi","bi-upload","me-2"],["type","file","accept","application/pdf",1,"form-control","mt-2",3,"change"],[1,"alert","alert-danger"],[1,"bi","bi-x-circle","me-2"],[1,"form-group","mt-3"],["name","commentaire","rows","4","required","","placeholder","Expliquez les raisons du rejet...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"bi","bi-pause-circle","me-2"],["name","commentaire","rows","4","required","","placeholder","Expliquez les raisons de la mise en attente...",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"mt-3","text-muted"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"bi","bi-key","me-2"],["name","password","type","password","required","","ngModel","","placeholder","Mot de passe s\xE9curis\xE9",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){if(e&1){let r=x();a(0,"div",6)(1,"div",7)(2,"button",8),v("click",function(){return f(r),_(n.back())}),g(3,"i",9),c(4," Retourner aux d\xE9tails de la demande "),s()()(),a(5,"div",10),S(6,FR,12,7,"div",11)(7,NR,6,0,"div",12),s(),S(8,BR,20,2,"ng-template",null,0,V)}e&2&&(d(6),p("ngIf",n.selectedData),d(),p("ngIf",!n.selectedData))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,ae,ue,Ce,le,he,ge,be,ve,ye,dd],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#083056;border-color:#083056}.btn-warning[_ngcontent-%COMP%]{background-color:var(--warning-color);border-color:var(--warning-color);color:var(--dark-color)}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e6bc3d;border-color:#e6bc3d;color:var(--dark-color)}.btn-success[_ngcontent-%COMP%]{background-color:var(--success-color);border-color:var(--success-color)}.btn-success[_ngcontent-%COMP%]:hover{background-color:#1a7538;border-color:#1a7538}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);border-color:var(--danger-color)}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#d40000;border-color:#d40000}.text-primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.bg-primary[_ngcontent-%COMP%]{background-color:var(--primary-color)!important}.bg-info[_ngcontent-%COMP%]{background-color:var(--info-color)!important}.text-info[_ngcontent-%COMP%]{color:var(--info-color)!important}.alert-info[_ngcontent-%COMP%]{background-color:#0dcaf01a;border-color:var(--info-color);color:var(--dark-color)}.alert-warning[_ngcontent-%COMP%]{background-color:#fcd3431a;border-color:var(--warning-color);color:var(--dark-color)}.alert-danger[_ngcontent-%COMP%]{background-color:#eb00001a;border-color:var(--danger-color);color:var(--dark-color)}.pdf-viewer[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.375rem;overflow:hidden}.info-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:.375rem;padding:1rem;transition:all .2s ease}.info-card[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.card[_ngcontent-%COMP%]{border-radius:.5rem;box-shadow:0 .125rem .25rem #00000013;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.125);background-color:#00000008}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--dark-color);margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]{border-radius:.375rem;border:1px solid #ced4da;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .2rem #0a376440}.form-select[_ngcontent-%COMP%]{border-radius:.375rem;border:1px solid #ced4da;transition:all .2s ease}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .2rem #0a376440}.btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;transition:all .2s ease;display:inline-flex;align-items:center}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.1rem}.alert[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;border-left-width:4px}.alert-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.125)}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125)}fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}legend[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:1rem;border-radius:.375rem;display:inline-flex;align-items:center;padding:.5rem 1rem}.spinner-border[_ngcontent-%COMP%]{border-width:.2em}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15em}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.pdf-viewer[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{height:400px!important}.row.g-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%], .row.g-3[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.pdf-viewer[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{height:300px!important}}.info-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.4,0,.2,1)}dt[_ngcontent-%COMP%]{font-weight:600;color:var(--secondary-color)}dd[_ngcontent-%COMP%]{color:var(--dark-color);margin-bottom:0}.bi[_ngcontent-%COMP%]{font-size:1rem;vertical-align:-.125em}.gap-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.75rem;margin-bottom:.75rem}.gap-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}.text-success[_ngcontent-%COMP%]{color:var(--success-color)!important}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)!important}.text-warning[_ngcontent-%COMP%]{color:var(--warning-color)!important}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.alert-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.py-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}"]})};function jR(i,t){if(i&1){let e=x();a(0,"button",8),v("click",function(){f(e);let r=u();return _(r.showFile2())}),c(1,"Visualiser le document"),s()}}function zR(i,t){i&1&&g(0,"i",28)}function HR(i,t){if(i&1&&(a(0,"li")(1,"strong",26),c(2),s(),S(3,zR,1,0,"i",27),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function UR(i,t){if(i&1){let e=x();a(0,"div",18)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,HR,4,2,"li",19),s(),a(5,"div",20)(6,"label",21),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",22),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",23),c(10,"Lettre d'acception"),s(),a(11,"option",24),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",25),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function WR(i,t){if(i&1){let e=x();a(0,"div",29)(1,"angular-editor",30),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.desc,r)||(o.desc=r),_(r)}),s()()}if(i&2){let e=u(2);d(),p("placeholder","Enter text here..."),D("ngModel",e.desc),p("config",e.editorConfig)}}function qR(i,t){i&1&&(a(0,"p",31),c(1,"Pas de contenu \xE0 \xE9diter pour cette prestation, Vous pouvez prod\xE9der \xE0 la g\xE9n\xE9ration du document"),s())}function GR(i,t){if(i&1&&(a(0,"button",32),c(1,"G\xE9n\xE9rer le document "),g(2,"app-loading",33),s()),i&2){u();let e=C(4),n=u();p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function $R(i,t){if(i&1){let e=x();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"form",12,1),v("ngSubmit",function(){f(e);let r=C(4),o=u();return _(o.deliveryrDoc(r.value))}),a(5,"div")(6,"div",13),S(7,UR,15,1,"div",14)(8,WR,2,3,"div",15)(9,qR,2,0,"p",16),s(),a(10,"div"),S(11,GR,3,2,"button",17),s()()()()()()}if(i&2){let e=u();d(7),p("ngIf",e.prestation=="autorisation-de-stage"),d(),p("ngIf",e.myPrestation.content_type==0&&e.isTreated),d(),p("ngIf",e.myPrestation.content_type==2&&e.isTreated),d(2),p("ngIf",e.isTreated)}}function YR(i,t){if(i&1){let e=x();a(0,"button",39),v("click",function(){f(e);let r=u(2),o=C(7);return _(r.open(o))}),c(1,"Signer l'attestation"),s()}}function QR(i,t){if(i&1){let e=x();a(0,"button",39),v("click",function(){f(e);let r=u(2);return _(r.delivered())}),c(1,"D\xE9livrer l'attestation"),s()}}function KR(i,t){if(i&1){let e=x();a(0,"div",34)(1,"div")(2,"div")(3,"div",35)(4,"button",36),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),S(6,YR,2,0,"button",37)(7,QR,2,0,"button",37),s()(),a(8,"div"),g(9,"object",38),s()()()}if(i&2){let e=u();d(6),p("ngIf",e.hasPermission("autorisation")&&!e.selected_data.isAutorized&&e.isSigner()),d(),p("ngIf",e.hasPermission("autorisation")&&e.selected_data.isAutorized&&e.isSigner()),d(2),p("data",e.pdfSrc,ut)}}function JR(i,t){if(i&1){let e=x();a(0,"form",12,2),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div",40)(3,"h4",41),c(4,"Signer ce document"),s(),a(5,"button",42),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",43),s()(),a(7,"div",44)(8,"div",20)(9,"label",21),c(10,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(11,"input",45),s()(),a(12,"div",46)(13,"button",32),c(14,"Signer "),g(15,"app-loading",33),s()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}var md=class i{constructor(t,e,n,r,o,l,m,h,b,y){this.activatedRoute=t;this.locService=e;this.requeteService=n;this._sanitizationService=r;this.router=o;this.toastrService=l;this.affService=m;this.responseService=h;this.modalService=y;b.backdrop="static",b.keyboard=!1}selected_data;currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;user;selected_file;prestation;code;permissions=[];desc="";doc_path;showPreview2=!1;pdfSrc;prestationName;myPrestation;isTreated=!1;editorConfig={editable:!0,spellcheck:!0,height:"500px",minHeight:"",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]};ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation}),this.selected_data=this.locService.get("selected_data"),this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.prepareDesc(this.selected_data),this.getName(this.prestation),this.get()}get(){this.requeteService.get(this.code,this.prestation).subscribe(t=>{if(this.selected_data=t.data,this.selected_data.reponses.length!=0&&this.selected_data.reponses.length>0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e?this.isTreated=!0:(this.user.roles[0].name="Directeur")&&(this.isTreated=!0)}},t=>{})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(n=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}prepareDesc(t){if(this.selected_data?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}back(){this.showPreview2=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.success("Autorisation en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success(`L'attestaion issue de la demande ${this.selected_data.code} a \xE9t\xE9 envoy\xE9ee avec succ\xE8s`)},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}isSigner(){return this.myPrestation.signer2.id==this.user.agent.unite_admin.id}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(ft),E(ht),E(He),E(ne),E(Mt),E(It),E(Je),E(de))};static \u0275cmp=j({type:i,selectors:[["ngx-eservice-traitement-generator"]],standalone:!0,features:[U],decls:8,vars:3,consts:[["dialogAffectation",""],["addAttestation","ngForm"],["addInstruction","ngForm"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-sm","btn-dark","mx-1",3,"click"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","container p-3",4,"ngIf"],["class","container",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"container","p-3"],[1,"card"],[1,"card-body"],[3,"ngSubmit"],[1,"p-3"],["class","",4,"ngIf"],["class","form-group text-center",4,"ngIf"],["class","h4 text-center text-info p-5",4,"ngIf"],["type","submit","class","btn btn-outline-primary",3,"disabled",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-group"],["for",""],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[1,"form-group","text-center"],["name","desc",3,"ngModelChange","placeholder","ngModel","config"],[1,"h4","text-center","text-info","p-5"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["class","btn btn-outline-success mb-3 ",3,"click",4,"ngIf"],["type","application/pdf","width","100%","height","600px",3,"data"],[1,"btn","btn-outline-success","mb-3",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],["name","password","type","password","required","","ngModel","",1,"form-control"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"div",3)(1,"button",4),v("click",function(){return f(r),_(n.back2())}),c(2,"Retour"),s(),S(3,jR,2,0,"button",5),s(),S(4,$R,12,4,"div",6)(5,KR,10,3,"div",7)(6,JR,16,2,"ng-template",null,0,V)}e&2&&(d(3),p("ngIf",n.selected_data!=null&&n.selected_data.filename!=null),d(),p("ngIf",!n.showPreview2),d(),p("ngIf",n.showPreview2))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,ae,ue,Ce,le,he,ge,we,be,ve,ye,dd,ey]})};var ZR=["pdfView"];function XR(i,t){i&1&&(a(0,"div")(1,"button",20),g(2,"i",21),c(3," Cr\xE9er un rendez-vous "),s()())}function e5(i,t){if(i&1){let e=x();a(0,"button",22),v("click",function(){f(e);let r=u(),o=C(18);return _(r.open(o))}),g(1,"i",23),c(2),s()}if(i&2){let e=u();d(2),H(" ",e.isTreated&&!e.isMyTreated?"Retourner pour correction":"Affecter"," ")}}function t5(i,t){if(i&1){let e=x();a(0,"button",24),v("click",function(){f(e);let r=u();return _(r.open2())}),g(1,"i",25),c(2," Traiter la demande "),s()}}function i5(i,t){if(i&1){let e=x();a(0,"button",26),v("click",function(){f(e);let r=u();return _(r.open2())}),g(1,"i",25),c(2),s()}if(i&2){let e=u();d(2),H(" ",e.isMyTreated?"Modifier mon avis":"Voir la r\xE9ponse du collaborateur"," ")}}function n5(i,t){if(i&1){let e=x();a(0,"button",27),v("click",function(){f(e);let r=u();return _(r.transUp())}),g(1,"i",28),c(2," Transmettre au sup\xE9rieur "),s()}}function r5(i,t){if(i&1){let e=x();a(0,"button",29),v("click",function(){f(e);let r=u();return _(r.validate())}),g(1,"i",28),c(2," Valider provisoirement "),s()}}function o5(i,t){if(i&1){let e=x();a(0,"button",30),v("click",function(){f(e);let r=u();return _(r.sendReachedAgreement())}),g(1,"i",31),c(2," Suspendre pour accord "),s()}}function a5(i,t){if(i&1&&(a(0,"div",43)(1,"div",44),g(2,"i",45),a(3,"div")(4,"p",46)(5,"strong"),c(6,"Instruction :"),s(),c(7),s(),a(8,"p",47)(9,"strong"),c(10,"Pour au plus tard, le"),s(),c(11),s()()()()),i&2){let e=u(2);d(7),H(" ",e.selected_data==null||e.selected_data.affectation==null?null:e.selected_data.affectation.instruction,""),d(4),H(" ",e.selected_data.affectation==null?null:e.selected_data.affectation.delay,"")}}function s5(i,t){if(i&1&&(a(0,"div",51)(1,"div",52)(2,"dt",53),g(3,"i",48),c(4),s(),a(5,"dd",54),c(6),s()()()),i&2){let e=t.$implicit;d(4),H(" ",e.key," "),d(2),O(e.value)}}function l5(i,t){if(i&1&&(a(0,"fieldset",36)(1,"legend",37),g(2,"i",48),c(3),s(),a(4,"div",49),S(5,s5,7,2,"div",50),$(6,"keyvalue"),s()()),i&2){let e=t.$implicit;d(3),H(" ",e.title," "),d(2),p("ngForOf",Xs(6,2,e.content))}}function c5(i,t){if(i&1){let e=x();a(0,"div",55)(1,"div",56)(2,"div",57)(3,"dt",58),g(4,"i",59),c(5),s(),a(6,"dd",60)(7,"button",61),v("click",function(){let r=f(e).$implicit,o=u(2);return _(o.showFile(r))}),g(8,"i",62),c(9," Voir fichier "),s()()()()()}if(i&2){let e=t.$implicit;d(5),H(" ",e.name," ")}}function d5(i,t){if(i&1){let e=x();a(0,"button",75),v("click",function(){f(e);let r=u().$implicit,o=u(2);return _(o.showResponseFile(r.note))}),g(1,"i",76),c(2," Voir la note de service "),s()}}function m5(i,t){if(i&1){let e=x();a(0,"button",75),v("click",function(){f(e);let r=u().$implicit,o=u(2);return _(o.showResponseFile(r.preview_file))}),g(1,"i",76),c(2," Voir le prototype livrable "),s()}}function u5(i,t){if(i&1&&(a(0,"div",63)(1,"div",64)(2,"div",65)(3,"div",66)(4,"span",67),c(5),s(),a(6,"h5",68),c(7),s()(),a(8,"div",69)(9,"h6",46)(10,"strong",70),c(11,"Accord :"),s(),a(12,"span",71),c(13),s()(),a(14,"div",69)(15,"strong",70),c(16,"Argumentaire :"),s(),a(17,"p",72),c(18),s()(),a(19,"div",69)(20,"strong",70),c(21,"Observation :"),s(),a(22,"p",72),c(23),s()()(),a(24,"div",73),S(25,d5,3,0,"button",74)(26,m5,3,0,"button",74),s()()()()),i&2){let e=t.$implicit,n=u(2);d(4),p("ngClass",n.getDecisionClass(e.hasPermission)),d(),H(" ",n.getDecisionIcon(e.hasPermission)," "),d(2),O(e.unite_admin.libelle),d(5),p("ngClass",n.getDecisionClass(e.hasPermission)),d(),H(" ",n.getDecision(e.hasPermission)," "),d(5),O(e.reason),d(5),O(e.observation),d(2),p("ngIf",e.note!=null),d(),p("ngIf",e.preview_file!=null)}}function p5(i,t){if(i&1&&(a(0,"div",32)(1,"div",33),c(2,"D\xE9tails de la demande"),s(),S(3,a5,12,2,"div",34)(4,l5,7,4,"fieldset",35),a(5,"fieldset",36)(6,"legend",37),g(7,"i",38),c(8," Pi\xE8ces jointes "),s(),a(9,"div",39),S(10,c5,10,1,"div",40),s()(),a(11,"fieldset")(12,"legend",37),g(13,"i",41),c(14," Historique des avis "),s(),a(15,"div",39),S(16,u5,27,9,"div",42),s()()()),i&2){let e=u();d(3),p("ngIf",(e.selected_data==null||e.selected_data.affectation==null?null:e.selected_data.affectation.instruction)!=null),d(),p("ngForOf",e.stepContents),d(6),p("ngForOf",e.selected_data==null?null:e.selected_data.files),d(6),p("ngForOf",e.selected_data.reponses)}}function h5(i,t){i&1&&g(0,"div")}function f5(i,t){if(i&1&&(bt(0),S(1,h5,1,0,"div",10),vt()),i&2){let e=u();d(),p("ngIf",!e.showPreview2&&!e.showPreview)}}function _5(i,t){i&1&&(a(0,"div",77),g(1,"img",78),s())}function g5(i,t){if(i&1&&(a(0,"option",94),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function b5(i,t){if(i&1){let e=x();a(0,"form",79,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.transDown(r.value))}),a(2,"div",80)(3,"h4",81),c(4),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",83),s()(),a(7,"div",84)(8,"div")(9,"div",85)(10,"label",86),c(11,"Choisir un collaborateur"),s(),a(12,"select",87),S(13,g5,2,2,"option",88),s()(),a(14,"div",85)(15,"label",86),c(16,"Laissez une instruction"),s(),g(17,"textarea",89),s(),a(18,"div",85)(19,"label",86),c(20,"Pour au plus tard, le "),s(),g(21,"input",90),s()()(),a(22,"div",91)(23,"button",92),c(24,"Sauvegarder "),g(25,"app-loading",93),s()()()}if(i&2){let e=C(1),n=u();d(4),H(" ",n.isTreated&&!n.isMyTreated?"Retour pour correction":"Affecter la demande"," "),d(9),p("ngForOf",n.uas),d(10),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function v5(i,t){if(i&1){let e=x();a(0,"div",95)(1,"div")(2,"div")(3,"div",96)(4,"button",97),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),g(7,"object",98),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function y5(i,t){if(i&1){let e=x();a(0,"form",79,6),v("ngSubmit",function(){f(e);let r=u();return _(r.storeAmend())}),a(2,"div",80)(3,"h4",81),c(4,"Observation sur pi\xE8ce analys\xE9e"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"observation"),s(),a(11,"textarea",99),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),g(15,"app-loading",93),s()()()}if(i&2){let e=C(1),n=u();d(11),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function x5(i,t){if(i&1){let e=x();a(0,"form",79,7),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.decline(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Rejet de la demande"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Laissez le motif"),s(),g(11,"textarea",100),s()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),g(15,"app-loading",93),s()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function w5(i,t){if(i&1){let e=x();a(0,"form",79,8),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.needCorrection(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Suspension de la demande"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Laissez le motif"),s(),g(11,"textarea",100),s()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),g(15,"app-loading",93),s()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function C5(i,t){if(i&1){let e=x();a(0,"button",102),v("click",function(){f(e);let r=u(2),o=C(28);return _(r.open(o))}),c(1,"Signer l'attestation / D\xE9livrer mon visa"),s()}if(i&2){let e=u(2);p("disabled",e.loading)}}function S5(i,t){if(i&1){let e=x();a(0,"button",102),v("click",function(){f(e);let r=u(2);return _(r.delivered())}),c(1,"D\xE9livrer l'attestation / D\xE9livrer le document final"),s()}if(i&2){let e=u(2);p("disabled",e.loading)}}function E5(i,t){if(i&1){let e=x();a(0,"div",95)(1,"div")(2,"div")(3,"div",96)(4,"button",97),v("click",function(){f(e);let r=u();return _(r.back3())}),c(5,"Fermer le visualiseur"),s(),S(6,C5,2,1,"button",101)(7,S5,2,1,"button",101),s()(),a(8,"div"),g(9,"object",98),s()()()}if(i&2){let e=u();d(6),p("ngIf",e.hasPermission("autorisation")&&!(e.selected_data!=null&&e.selected_data.isAutorized)&&e.isSigner()&&(e.selected_data==null?null:e.selected_data.status)!=7),d(),p("ngIf",e.hasPermission("autorisation")&&(e.selected_data==null?null:e.selected_data.isAutorized)&&e.isSigner()&&(e.selected_data==null?null:e.selected_data.status)!=7),d(2),p("data",e.pdfSrc,ut)}}function k5(i,t){if(i&1){let e=x();a(0,"form",79,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Signer ce document"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(11,"input",103),s()(),a(12,"div",91)(13,"button",92),c(14,"Signer "),g(15,"app-loading",93),s()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}var ud=class i{constructor(t,e,n,r,o,l,m,h,b,y,w,k){this.activatedRoute=t;this.locService=e;this.requeteService=n;this._sanitizationService=r;this.router=o;this._location=l;this.toastrService=m;this.uaService=h;this.affService=b;this.responseService=y;this.modalService=k;w.backdrop="static",w.keyboard=!1}pdfView;selected_data;user;selected_file;myPrestation;code;fileUploaded;prestationName;permissions=[];doc_path;showPreview2=!1;showPreview=!1;showResponseFilePreview=!1;pdfSrc;activeobsPanel=!1;observation;stepContents=[];currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;uas=[];responseUA={hasPermission:!0,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};isTreated=!1;isMyTreated=!1;prestation="autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.fileUploaded=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,console.log(this.myPrestation),this.getName(this.prestation)}),this.locService.remove("curreent_response"),this.get(),this.getMyCollab()}getName(t){let e=We.find(n=>n.code==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}get(){this.requeteService.get(this.code,this.prestation,this.myPrestation.code).subscribe(t=>{this.modalService.dismissAll(),this.selected_data=t.data,this.stepContents=t.data?.step_contents,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin.ua_parent_code==this.user.agent?.unite_admin?.id),console.log("orceeeeeeeeeee",this.responseUA,this.user.agent?.unite_admin?.id)))},t=>{})}showFile(t){var e=t.url;window.open(e,"_blank")}showFileContract(t){window.open(t,"_blank")}showResponseFile(t){this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showResponseFilePreview=!0,this.showPreview=!0}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}open2(){this.locService.set("selected_data",this.selected_data),this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}open3(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){if(this.user.roles[0].name!="Directeur"){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.router.navigate(["admin/eservice/espace-traitement-generation-doc/"+this.selected_data.code+"/"+this.prestation])}transDown(t){let e=Ni(new Date,"yyyy-MM-dd","en_US"),n=Ni(t.delay,"yyyy-MM-dd","en_US"),r=new Date(t.delay).getDay();if(n<e){this.toastrService.error("Veuillez choisir une date ult\xE9rieure ");return}if(r===6||r===0){this.toastrService.error("Veuillez choisir une date de jour ouvr\xE9 ");return}this.modalService.dismissAll(),se.confirmBox("Voulez vous vraiment affecter/retourner cet enregistrement ?").then(o=>{o.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent?.unite_admin?.id,unite_admin_down_id:t.ua_down_id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(l=>{this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s`),this.router.navigate(["/admin/eservice/espace-traitement/"+this.prestation])},l=>{this.toastrService.error("Veuillez contactee l'administrateur")}))})}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},e=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.selected_data=null},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}se.confirmBox("Voulez vous vraiment transmettre cet enregistrement ?").then(e=>{e.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent?.unite_admin?.id,sens:-1}).subscribe(n=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},n=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}decline(t){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},e=>{this.loading=!1}))}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeAmend(){this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,this.locService.set("curreent_response",this.responseUA.toString()),this.activeobsPanel=!0}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent?.unite_admin?.id);e&&(this.responseUA=e)}}back(){this.showPreview=!1,this.showResponseFilePreview=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.info("Documen en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.selected_data=null,this.loading=!1}))}back3(){this.showPreview2=!1}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t.data,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(n=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contacter l'administrateur")}))}isSigner(){return this.myPrestation?.signer2?.id==this.user.agent?.unite_admin?.id}getDecision(t){return t?"Favorable":"D\xE9favorable"}getDecisionClass(t){return t?"text-success":"text-danger"}getDecisionIcon(t){return t?"\u2713":"\u2717"}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(ft),E(ht),E(He),E(tl),E(ne),E(tn),E(Mt),E(It),E(Je),E(de))};static \u0275cmp=j({type:i,selectors:[["ngx-eservice-traitement-show"]],viewQuery:function(e,n){if(e&1&&at(ZR,5),e&2){let r;Re(r=Fe())&&(n.pdfView=r.first)}},standalone:!0,features:[ct([Je,de]),U],decls:29,vars:12,consts:[["dialogAffectation",""],["contentTemplateAmendement",""],["dialogRejet",""],["dialogSuspension",""],["dialogSign",""],["addInstruction","ngForm"],["addAmend","ngForm"],["addRejet","ngForm"],["addSusp","ngForm"],[1,"d-flex","justify-content-between","mb-5","flex-wrap","gap-2"],[4,"ngIf"],["class","btn btn-primary","data-bs-toggle","tooltip","data-bs-placement","top","title","Affecter cette demande",3,"click",4,"ngIf"],["class","btn btn-warning","data-bs-toggle","tooltip","data-bs-placement","top","title","Traiter la demande",3,"click",4,"ngIf"],["class","btn btn-warning","data-bs-toggle","tooltip","data-bs-placement","top","title","Editer un projet de r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Transmettre au sup\xE9rieur",3,"click",4,"ngIf"],["class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-info","data-bs-toggle","tooltip","data-bs-placement","top","title","Suspendre pour accord \xE0 l'amiable",3,"click",4,"ngIf"],["class","card card-body",4,"ngIf"],["class","text-center",4,"ngIf"],["class","container",4,"ngIf"],["type","button",1,"btn","btn-dark","text-white"],[1,"bi","bi-calendar","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Affecter cette demande",1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-down-right","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Traiter la demande",1,"btn","btn-warning",3,"click"],[1,"bi","bi-pencil","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Editer un projet de r\xE9ponse",1,"btn","btn-warning",3,"click"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Transmettre au sup\xE9rieur",1,"btn","btn-success",3,"click"],[1,"bi","bi-arrow-up-right","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",1,"btn","btn-success",3,"click"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Suspendre pour accord \xE0 l'amiable",1,"btn","btn-info",3,"click"],[1,"bi","bi-info-circle","me-2"],[1,"card","card-body"],[1,"h3","mb-4"],["class","alert alert-info border-start border-info border-4",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"bg-info","p-2","text-white","rounded","mb-3"],[1,"bi","bi-paperclip","me-2"],[1,"row","g-3"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"bi","bi-clock-history","me-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"alert","alert-info","border-start","border-info","border-4"],[1,"d-flex","align-items-start"],[1,"bi","bi-info-circle","me-3","mt-1"],[1,"mb-2"],[1,"mb-0"],[1,"bi","bi-building","me-2"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"info-item"],[1,"dt","fw-semibold","text-muted","mb-1"],[1,"dd","text-dark"],[1,"col-md-3"],[1,"card","h-100","border"],[1,"card-body","p-3"],[1,"dt","fw-semibold","text-muted","mb-2"],[1,"bi","bi-file-earmark-text","me-2"],[1,"dd"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"bi","bi-eye","me-1"],[1,"col-12"],[1,"card","border","shadow-sm"],[1,"card-body","p-4"],[1,"d-flex","align-items-center","mb-3"],[1,"badge","me-3","fs-6",3,"ngClass"],[1,"text-primary","mb-0"],[1,"mb-3"],[1,"text-secondary","me-1"],[3,"ngClass"],[1,"mb-0","mt-1"],[1,"d-flex","gap-2","flex-wrap"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-file-earmark-text","me-1"],[1,"text-center"],["src","assets/spinner.gif","alt","","height","50"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for",""],["name","ua_down_id","id","","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","instruction","rows","3","required","","ngModel","","maxlength","200",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],["class","btn btn-success mb-3 ",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success","mb-3",3,"click","disabled"],["name","password","type","password","required","","ngModel","",1,"form-control"]],template:function(e,n){e&1&&(a(0,"div",9),S(1,XR,4,0,"div",10),a(2,"div"),S(3,e5,3,1,"button",11),s(),a(4,"div"),S(5,t5,3,0,"button",12),s(),a(6,"div"),S(7,i5,3,1,"button",13),s(),a(8,"div"),S(9,n5,3,0,"button",14),s(),a(10,"div"),S(11,r5,3,0,"button",15),s(),a(12,"div"),S(13,o5,3,0,"button",16),s()(),S(14,p5,17,4,"div",17)(15,f5,2,1,"ng-container",10)(16,_5,2,0,"div",18)(17,b5,26,4,"ng-template",null,0,V)(19,v5,8,1,"div",19)(20,y5,16,3,"ng-template",null,1,V)(22,x5,16,2,"ng-template",null,2,V)(24,w5,16,2,"ng-template",null,3,V)(26,E5,10,3,"div",19)(27,k5,16,2,"ng-template",null,4,V)),e&2&&(d(),p("ngIf",n.myPrestation.need_meeting&&(n.selected_data==null?null:n.selected_data.status)==5||n.myPrestation.need_meeting&&!n.myPrestation.from_pns),d(2),p("ngIf",(!n.isTreated||!n.isMyTreated)&&(n.selected_data==null?null:n.selected_data.status)!=7&&n.uas.length!=0&&(n.selected_data==null?null:n.selected_data.status)!=6),d(2),p("ngIf",n.hasPermission("modification")&&!n.isTreated&&(n.selected_data==null?null:n.selected_data.status)!=7),d(2),p("ngIf",(n.selected_data==null?null:n.selected_data.status)!=7&&(n.selected_data==null?null:n.selected_data.status)!=4&&n.hasPermission("modification")&&n.isTreated),d(2),p("ngIf",(n.selected_data==null?null:n.selected_data.status)!=7&&n.isMyTreated&&!n.isSigner()&&(n.selected_data==null?null:n.selected_data.status)!=9),d(2),p("ngIf",n.isTreated&&n.myPrestation.need_validation&&(n.responseUA==null?null:n.responseUA.hasPermission)&&(n.selected_data==null?null:n.selected_data.status)!=5),d(2),p("ngIf",n.hasPermission("suspension")&&n.prestation=="autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel"&&(n.selected_data==null?null:n.selected_data.status)!=7),d(),p("ngIf",n.selected_data),d(),p("ngIf",n.selected_data!=null),d(),p("ngIf",n.selected_data==null),d(3),p("ngIf",n.showPreview),d(7),p("ngIf",n.showPreview2))},dependencies:[J,ln,me,X,Mh,ie,pe,Ee,ke,oe,Ne,ae,ue,Ce,qu,le,he,ge,we,be,ve,ye,Ti],styles:[".info-item[_ngcontent-%COMP%]{padding:.75rem;border-radius:.375rem;background-color:#f8f9fa;border:1px solid #e9ecef;transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-1px)}.dt[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-bottom:.25rem}.dd[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:0;word-break:break-word}fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}legend[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:1rem;border-radius:.375rem;display:inline-flex;align-items:center}.card[_ngcontent-%COMP%]{border-radius:.5rem;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1rem #00000026!important}.badge[_ngcontent-%COMP%]{padding:.5rem;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;font-weight:700}.text-success[_ngcontent-%COMP%]{color:var(--success-color)!important}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)!important}@media (max-width: 768px){.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%]{margin-bottom:1rem}}.btn[_ngcontent-%COMP%]{transition:all .2s ease;border-radius:.375rem}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.gap-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.5rem;margin-bottom:.5rem}.gap-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.75rem;margin-bottom:.75rem}.gap-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}"]})};var T5=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function M5(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function I5(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function D5(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,M5,2,0,"button",66)(11,I5,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function A5(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function P5(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function O5(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function V5(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,D5,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,A5,3,0,"td",55)(15,P5,3,0,"td",55)(16,O5,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function R5(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function F5(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function N5(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function L5(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function B5(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function j5(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,B5,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function z5(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function H5(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function U5(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function W5(i,t){i&1&&g(0,"i",116)}function q5(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,W5,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function G5(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,q5,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function $5(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,G5,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Y5(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function Q5(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function K5(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function J5(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Z5(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function X5(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function eF(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function tF(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var Rs=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationFinished(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-finish"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes finalis\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,V5,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,R5,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,F5,8,1,"div",49)(51,N5,3,0,"ng-template",null,0,V)(53,L5,7,0,"ng-template",null,1,V)(55,j5,17,5,"ng-template",null,2,V)(57,z5,16,2,"ng-template",null,3,V)(59,H5,12,2,"ng-template",null,4,V)(61,U5,12,2,"ng-template",null,5,V)(63,$5,15,3,"ng-template",null,6,V)(65,Y5,59,0,"ng-template",null,7,V)(67,Q5,10,2,"div",49)(68,K5,12,3,"ng-template",null,8,V)(70,J5,12,2,"ng-template",null,9,V)(72,Z5,6,0,"ng-template",null,10,V)(74,X5,12,2,"ng-template",null,0,V)(76,eF,12,2,"ng-template",null,11,V)(78,tF,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,T5,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var iF=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function nF(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function rF(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function oF(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,nF,2,0,"button",66)(11,rF,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function aF(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function sF(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function lF(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function cF(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,oF,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,aF,3,0,"td",55)(15,sF,3,0,"td",55)(16,lF,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function dF(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function mF(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function uF(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function pF(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function hF(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function fF(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,hF,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function _F(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function gF(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function bF(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function vF(i,t){i&1&&g(0,"i",116)}function yF(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,vF,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function xF(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,yF,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function wF(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,xF,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function CF(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function SF(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function EF(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function kF(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function TF(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function MF(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function IF(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function DF(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var Fs=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];isTreated=!1;isMyTreated=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationToReject(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:this.responseUA=this.selected_data.reponses.find(n=>n.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log(this.selected_data,this.user.agent.unite_admin.id))}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-reject"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes \xE0 signer"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,cF,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,dF,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,mF,8,1,"div",49)(51,uF,3,0,"ng-template",null,0,V)(53,pF,7,0,"ng-template",null,1,V)(55,fF,17,5,"ng-template",null,2,V)(57,_F,16,2,"ng-template",null,3,V)(59,gF,12,2,"ng-template",null,4,V)(61,bF,12,2,"ng-template",null,5,V)(63,wF,15,3,"ng-template",null,6,V)(65,CF,59,0,"ng-template",null,7,V)(67,SF,10,2,"div",49)(68,EF,12,3,"ng-template",null,8,V)(70,kF,12,2,"ng-template",null,9,V)(72,TF,6,0,"ng-template",null,10,V)(74,MF,12,2,"ng-template",null,0,V)(76,IF,12,2,"ng-template",null,11,V)(78,DF,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,iF,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var AF=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function PF(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function OF(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function VF(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,PF,2,0,"button",66)(11,OF,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function RF(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function FF(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function NF(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function LF(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,VF,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,RF,3,0,"td",55)(15,FF,3,0,"td",55)(16,NF,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function BF(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function jF(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function zF(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function HF(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function UF(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function WF(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,UF,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function qF(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function GF(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function $F(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function YF(i,t){i&1&&g(0,"i",116)}function QF(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,YF,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function KF(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,QF,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function JF(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,KF,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function ZF(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function XF(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function eN(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function tN(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function iN(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function nN(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function rN(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function oN(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var Ns=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationRejected(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-rejected"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes rejet\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,LF,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,BF,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,jF,8,1,"div",49)(51,zF,3,0,"ng-template",null,0,V)(53,HF,7,0,"ng-template",null,1,V)(55,WF,17,5,"ng-template",null,2,V)(57,qF,16,2,"ng-template",null,3,V)(59,GF,12,2,"ng-template",null,4,V)(61,$F,12,2,"ng-template",null,5,V)(63,JF,15,3,"ng-template",null,6,V)(65,ZF,59,0,"ng-template",null,7,V)(67,XF,10,2,"div",49)(68,eN,12,3,"ng-template",null,8,V)(70,tN,12,2,"ng-template",null,9,V)(72,iN,6,0,"ng-template",null,10,V)(74,nN,12,2,"ng-template",null,0,V)(76,rN,12,2,"ng-template",null,11,V)(78,oN,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,AF,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var aN=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function sN(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function lN(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function cN(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(48);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(73);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,sN,2,0,"button",66)(11,lN,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function dN(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function mN(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function uN(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function pN(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,cN,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,dN,3,0,"td",55)(15,mN,3,0,"td",55)(16,uN,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function hN(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function fN(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function _N(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function gN(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function bN(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function vN(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,bN,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function yN(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function xN(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function wN(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function CN(i,t){i&1&&g(0,"i",116)}function SN(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,CN,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function EN(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,SN,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function kN(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,EN,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function TN(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function MN(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(65);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function IN(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function DN(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function AN(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function PN(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function ON(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function VN(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var Ls=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationCorrect(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-retour-correction"]],standalone:!0,features:[U],decls:76,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes corrig\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(48);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Livrable disponible (Oui/Non)"),s()()(),a(39,"tbody"),S(40,pN,17,15,"tr",45),$(41,"paginate"),$(42,"sampleSearch"),S(43,hN,9,0,"tr",46),s()()(),a(44,"div",47)(45,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(46,fN,8,1,"div",49)(47,_N,3,0,"ng-template",null,0,V)(49,gN,7,0,"ng-template",null,1,V)(51,vN,17,5,"ng-template",null,2,V)(53,yN,16,2,"ng-template",null,3,V)(55,xN,12,2,"ng-template",null,4,V)(57,wN,12,2,"ng-template",null,5,V)(59,kN,15,3,"ng-template",null,6,V)(61,TN,59,0,"ng-template",null,7,V)(63,MN,10,2,"div",49)(64,IN,12,3,"ng-template",null,8,V)(66,DN,12,2,"ng-template",null,9,V)(68,AN,6,0,"ng-template",null,10,V)(70,PN,12,2,"ng-template",null,0,V)(72,ON,12,2,"ng-template",null,11,V)(74,VN,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(14),p("ngForOf",Y(42,19,Y(41,16,n.data,Ve(22,aN,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var Bs=class i{constructor(t,e,n,r,o,l,m,h,b,y,w){this.activatedRoute=t;this.locService=e;this.requeteService=n;this._sanitizationService=r;this.router=o;this.toastrService=l;this.uaService=m;this.affService=h;this.responseService=b;this.modalService=w;y.backdrop="static",y.keyboard=!1}selected_data;user;selected_file;prestation;code;fileUploaded;prestationName;isTreated=!1;isMyTreated=!1;permissions=[];doc_path;showPreview2=!1;showPreview=!1;showResponseFilePreview=!1;pdfSrc;activeobsPanel=!1;observation;responseUA={hasPermission:null,reason:"",observation:"",unite_admin_id:"",requete_id:""};currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;uas=[];myPrestation;ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.fileUploaded=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.getName(this.prestation)}),this.locService.remove("curreent_response"),this.get(),this.getMyCollab()}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}get(){this.requeteService.get(this.code,this.prestation).subscribe(t=>{this.modalService.dismissAll(),this.selected_data=t.data,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log("orceeeeeeeeeee",this.responseUA,this.user.agent.unite_admin.id))),this.showFile2()},t=>{})}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}showResponseFile(t){var e=F.toFile("docs/responses/"+t);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showResponseFilePreview=!0,this.showPreview=!0}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}open2(){this.locService.set("selected_data",this.selected_data),this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}open3(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){if(this.user.roles[0].name!="Directeur"){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.router.navigate(["admin/eservice/espace-traitement-generation-doc/"+this.selected_data.code+"/"+this.prestation])}transDown(t){let e=Ni(new Date,"yyyy-MM-dd","en_US"),n=Ni(t.delay,"yyyy-MM-dd","en_US"),r=new Date(t.delay).getDay();if(n<e){this.toastrService.error("Veuillez choisir une date ult\xE9rieure ");return}if(r===6||r===0){this.toastrService.error("Veuillez choisir une date de jour ouvr\xE9 ");return}this.modalService.dismissAll(),se.confirmBox("Voulez vous vraiment affecter/retourner cet enregistrement ?").then(o=>{o.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,unite_admin_down_id:t.ua_down_id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(l=>{this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s`),this.router.navigate(["/admin/eservice/espace-traitement/"+this.prestation])},l=>{this.toastrService.error("Veuillez contactee l'administrateur")}))})}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},e=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.selected_data=null},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}se.confirmBox("Voulez vous vraiment transmettre cet enregistrement ?").then(e=>{e.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(n=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},n=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}decline(t){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},e=>{this.loading=!1}))}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeAmend(){this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,this.locService.set("curreent_response",this.responseUA.toString()),this.activeobsPanel=!0}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}back(){this.showPreview=!1,this.showResponseFilePreview=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.info("Documen en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.selected_data=null,this.loading=!1}))}back3(){this.showPreview2=!1}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(n=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contacter l'administrateur")}))}isSigner(){return this.myPrestation.signer2.id==this.user.agent.unite_admin.id}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(ft),E(ht),E(He),E(ne),E(tn),E(Mt),E(It),E(Je),E(de))};static \u0275cmp=j({type:i,selectors:[["app-espace-signature-show"]],standalone:!0,features:[ct([Je,de]),U],decls:0,vars:0,template:function(e,n){},dependencies:[J,ie,ge,be,ve,ye]})};var RN=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function FN(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function NN(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function LN(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,FN,2,0,"button",66)(11,NN,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function BN(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function jN(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function zN(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function HN(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,LN,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,BN,3,0,"td",55)(15,jN,3,0,"td",55)(16,zN,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function UN(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function WN(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function qN(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function GN(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function $N(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function YN(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,$N,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function QN(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function KN(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function JN(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function ZN(i,t){i&1&&g(0,"i",116)}function XN(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,ZN,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function e6(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,XN,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function t6(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,e6,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function i6(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function n6(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function r6(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function o6(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function a6(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function s6(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function l6(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function c6(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var js=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];isTreated=!1;isMyTreated=!1;code;myPrestation;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationToSign(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:this.responseUA=this.selected_data.reponses.find(n=>n.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log(this.selected_data,this.user.agent.unite_admin.id))}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-signature"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes \xE0 signer"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,HN,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,UN,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,WN,8,1,"div",49)(51,qN,3,0,"ng-template",null,0,V)(53,GN,7,0,"ng-template",null,1,V)(55,YN,17,5,"ng-template",null,2,V)(57,QN,16,2,"ng-template",null,3,V)(59,KN,12,2,"ng-template",null,4,V)(61,JN,12,2,"ng-template",null,5,V)(63,t6,15,3,"ng-template",null,6,V)(65,i6,59,0,"ng-template",null,7,V)(67,n6,10,2,"div",49)(68,r6,12,3,"ng-template",null,8,V)(70,o6,12,2,"ng-template",null,9,V)(72,a6,6,0,"ng-template",null,10,V)(74,s6,12,2,"ng-template",null,0,V)(76,l6,12,2,"ng-template",null,11,V)(78,c6,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,RN,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var d6=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function m6(i,t){if(i&1){let e=x();a(0,"button",70),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",71),s()}}function u6(i,t){if(i&1){let e=x();a(0,"button",72),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",73),s()}}function p6(i,t){if(i&1){let e=x();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=u(2),o=C(52);return _(r.add(o))}),g(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=u(2),o=C(77);return _(r.edit(o))}),g(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",65),s(),S(10,m6,2,0,"button",66)(11,u6,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",69),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function h6(i,t){i&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function f6(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function _6(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function g6(i,t){if(i&1){let e=x();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,p6,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,h6,3,0,"td",55)(15,f6,3,0,"td",55)(16,_6,2,1,"td",55),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function b6(i,t){if(i&1){let e=x();a(0,"tr",76)(1,"td",77)(2,"div",78),g(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function v6(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),g(7,"object",86),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function y6(i,t){if(i&1){let e=x();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function x6(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function w6(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function C6(i,t){if(i&1){let e=x();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,w6,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),g(16,"app-loading",97),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function S6(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),g(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),g(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),g(15,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function E6(i,t){if(i&1){let e=x();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function k6(i,t){if(i&1){let e=x();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),g(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function T6(i,t){i&1&&g(0,"i",116)}function M6(i,t){if(i&1&&(a(0,"li")(1,"strong",114),c(2),s(),S(3,T6,1,0,"i",115),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function I6(i,t){if(i&1){let e=x();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,M6,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function D6(i,t){if(i&1){let e=x();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),S(9,I6,15,1,"div",107),g(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),g(14,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function A6(i,t){if(i&1){let e=x();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),g(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),g(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),g(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),g(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function P6(i,t){if(i&1){let e=x();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=u(),o=C(69);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",86),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function O6(i,t){if(i&1){let e=x();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function V6(i,t){if(i&1){let e=x();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function R6(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}function F6(i,t){if(i&1){let e=x();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function N6(i,t){if(i&1){let e=x();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",138),s()(),g(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),g(11,"app-loading",97),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function L6(i,t){if(i&1){let e=x();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",135),g(5,"div",136),s()}}var zs=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationSigned(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}store(t){}update(t){}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-signed"]],standalone:!0,features:[U],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",20),c(1,"Liste des demandes sign\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=C(52);return _(n.add(l))}),g(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),g(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,g6,17,15,"tr",45),$(45,"paginate"),$(46,"sampleSearch"),S(47,b6,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,v6,8,1,"div",49)(51,y6,3,0,"ng-template",null,0,V)(53,x6,7,0,"ng-template",null,1,V)(55,C6,17,5,"ng-template",null,2,V)(57,S6,16,2,"ng-template",null,3,V)(59,E6,12,2,"ng-template",null,4,V)(61,k6,12,2,"ng-template",null,5,V)(63,D6,15,3,"ng-template",null,6,V)(65,A6,59,0,"ng-template",null,7,V)(67,P6,10,2,"div",49)(68,O6,12,3,"ng-template",null,8,V)(70,V6,12,2,"ng-template",null,9,V)(72,R6,6,0,"ng-template",null,10,V)(74,F6,12,2,"ng-template",null,0,V)(76,N6,12,2,"ng-template",null,11,V)(78,L6,6,0,"ng-template",null,10,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,19,Y(45,16,n.data,Ve(22,d6,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var B6=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function j6(i,t){if(i&1){let e=x();a(0,"button",55),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",56),s()}}function z6(i,t){if(i&1){let e=x();a(0,"button",57),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",58),s()}}function H6(i,t){if(i&1){let e=x();a(0,"div",41)(1,"div",42)(2,"button",43),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.add(o))}),g(3,"i",44),s(),a(4,"button",45),v("click",function(){f(e);let r=u(2);return _(r.show())}),g(5,"i",46),s(),a(6,"button",47),v("click",function(){f(e);let r=u(2),o=C(56);return _(r.edit(o))}),g(7,"i",48),s(),a(8,"button",49),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",50),s(),S(10,j6,2,0,"button",51)(11,z6,2,0,"button",52),a(12,"button",53),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",54),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function U6(i,t){i&1&&(a(0,"td")(1,"span",59),c(2,"oui"),s()())}function W6(i,t){i&1&&(a(0,"td")(1,"span",60),c(2,"non"),s()())}function q6(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function G6(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,H6,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,U6,3,0,"td",40)(15,W6,3,0,"td",40)(16,q6,2,1,"td",40),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function $6(i,t){if(i&1){let e=x();a(0,"tr",61)(1,"td",62)(2,"div",63),g(3,"i",64),a(4,"p",65),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",66),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",67),c(8," R\xE9initialiser la recherche "),s()()()()}}function Y6(i,t){if(i&1&&(a(0,"li")(1,"p",75),c(2),s()()),i&2){let e=t.$implicit;d(2),O(e.libelle)}}function Q6(i,t){if(i&1){let e=x();a(0,"div",68)(1,"h4",69),c(2,"D\xE9tails des parcours"),s(),a(3,"button",70),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(4,"i",71),s()(),a(5,"div",72)(6,"ol"),S(7,Y6,3,1,"li",73),s()(),g(8,"div",74)}if(i&2){let e=u();d(7),p("ngForOf",e.selected_data.parcours)}}function K6(i,t){if(i&1){let e=x();a(0,"div",76)(1,"div")(2,"div")(3,"div",77)(4,"button",78),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),g(7,"object",79),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function J6(i,t){if(i&1){let e=x();a(0,"form",80,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",68)(3,"h4",69),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",70),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",71),s()(),g(7,"div",72),a(8,"div",74)(9,"button",81),c(10,"Sauvegarder "),g(11,"app-loading",82),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Z6(i,t){if(i&1){let e=x();a(0,"form",80,4),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",68)(3,"h4",69),c(4,"Modification d'un agent"),s(),a(5,"button",70),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",71),s()(),g(7,"div",72),a(8,"div",74)(9,"button",81),c(10,"Sauvegarder "),g(11,"app-loading",82),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function X6(i,t){if(i&1){let e=x();a(0,"div",68)(1,"h4",69),c(2,"D\xE9tails des informations"),s(),a(3,"button",83),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",72),g(5,"div",84),s()}}var Hs=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];search_text="";remoteSearchData=[];is_active=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationVisa(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}store(t){}update(t){}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-validation-visa"]],standalone:!0,features:[U],decls:59,vars:25,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"lorem"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",5),c(1,"Liste de validation avec visa"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=C(51);return _(n.add(l))}),g(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),g(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Code demande"),s(),a(35,"th",29),c(36,"Date Enreg."),s(),a(37,"th",29),c(38,"Email"),s(),a(39,"th",29),c(40,"Contact"),s(),a(41,"th",29),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,G6,17,15,"tr",30),$(45,"paginate"),$(46,"sampleSearch"),S(47,$6,9,0,"tr",31),s()()(),a(48,"div",32)(49,"pagination-controls",33),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,Q6,9,1,"ng-template",null,0,V)(52,K6,8,1,"div",34)(53,J6,12,2,"ng-template",null,0,V)(55,Z6,12,2,"ng-template",null,1,V)(57,X6,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,18,Y(45,15,n.data,Ve(21,B6,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(3),p("ngIf",n.showPreview2))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var e9=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function t9(i,t){if(i&1){let e=x();a(0,"button",71),v("click",function(){f(e);let r=u(4);return _(r.setStatus(1))}),g(1,"i",72),s()}}function i9(i,t){if(i&1){let e=x();a(0,"button",73),v("click",function(){f(e);let r=u(4);return _(r.setStatus(0))}),g(1,"i",74),s()}}function n9(i,t){if(i&1){let e=x();a(0,"div",57)(1,"div",58)(2,"button",59),v("click",function(){f(e);let r=u(3),o=C(5);return _(r.add(o))}),g(3,"i",60),s(),a(4,"button",61),v("click",function(){f(e);let r=u(3);return _(r.show())}),g(5,"i",62),s(),a(6,"button",63),v("click",function(){f(e);let r=u(3),o=C(30);return _(r.edit(o))}),g(7,"i",64),s(),a(8,"button",65),v("click",function(){f(e);let r=u(3);return _(r.delete())}),g(9,"i",66),s(),S(10,t9,2,0,"button",67)(11,i9,2,0,"button",68),a(12,"button",69),v("click",function(){f(e);let r=u(3);return _(r.selectedId=null)}),g(13,"i",70),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function r9(i,t){i&1&&(a(0,"td")(1,"span",75),c(2,"oui"),s()())}function o9(i,t){i&1&&(a(0,"td")(1,"span",76),c(2,"non"),s()())}function a9(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function s9(i,t){if(i&1){let e=x();a(0,"tr",51)(1,"td",52)(2,"div",53)(3,"input",54),v("click",function(){let r=f(e).$implicit,o=u(2);return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,n9,14,2,"div",55),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,r9,3,0,"td",56)(15,o9,3,0,"td",56)(16,a9,2,1,"td",56),s()}if(i&2){let e=t.$implicit,n=u(2);d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function l9(i,t){if(i&1){let e=x();a(0,"tr",77)(1,"td",78)(2,"div",79),g(3,"i",80),a(4,"p",81),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",82),v("click",function(){f(e);let r=u(2);return _(r.resetSearch())}),g(7,"i",83),c(8," R\xE9initialiser la recherche "),s()()()()}}function c9(i,t){if(i&1){let e=x();a(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"button",28),v("click",function(){f(e);let r=u(),o=C(5);return _(r.add(o))}),g(6,"i",29),c(7," Ajouter "),s(),a(8,"div",30)(9,"div",31)(10,"select",32),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedFilter,r)||(o.selectedFilter=r),_(r)}),a(11,"option",33),c(12,"Filtrer Par"),s(),a(13,"option",34),c(14,"R\xF4le"),s(),a(15,"option",35),c(16,"Statut"),s()(),a(17,"input",36),P("ngModelChange",function(r){f(e);let o=u();return A(o.search_text,r)||(o.search_text=r),_(r)}),v("ngModelChange",function(){f(e);let r=u();return _(r.onSearchChange())}),s(),a(18,"button",37),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(19,"i",38),s()()()()(),a(20,"div",39)(21,"div",40)(22,"p",41),g(23,"i",42),c(24),s()(),a(25,"div",43)(26,"table",44)(27,"thead")(28,"tr")(29,"th",45),c(30,"#"),s(),a(31,"th",46),c(32,"Code demande"),s(),a(33,"th",46),c(34,"Date Enreg."),s(),a(35,"th",46),c(36,"Email"),s(),a(37,"th",46),c(38,"Contact"),s(),a(39,"th",46),c(40,"Livrable disponible (Oui/Non)"),s()()(),a(41,"tbody"),S(42,s9,17,15,"tr",47),$(43,"paginate"),$(44,"sampleSearch"),S(45,l9,9,0,"tr",48),s()()(),a(46,"div",49)(47,"pagination-controls",50),v("pageChange",function(r){f(e);let o=u();return _(o.getPage(r))}),s()()()()()()}if(i&2){let e=u();d(10),D("ngModel",e.selectedFilter),d(7),D("ngModel",e.search_text),d(7),H(" ",e.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(44,17,Y(43,14,e.data,Ve(20,e9,e.pg.pageSize,e.pg.p,e.pg.total)),e.search_text)),d(3),p("ngIf",e.search_text!==""&&e.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page")}}function d9(i,t){if(i&1){let e=x();a(0,"div",84)(1,"div")(2,"div")(3,"div",85)(4,"button",86),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),g(7,"object",87),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function m9(i,t){if(i&1){let e=x();a(0,"button",88),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(1,"span",89),c(2,"\xD7"),s()()}}function u9(i,t){if(i&1){let e=x();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",90),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(4,"span",89),c(5,"\xD7"),s()()(),g(6,"div"),s()}}function p9(i,t){if(i&1){let e=x();a(0,"div"),g(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),g(4,"hr"),a(5,"div",23)(6,"div",99)(7,"div",93)(8,"label",94),c(9,"Direction"),s(),a(10,"input",100),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),_(r)}),s()()(),a(11,"div",99)(12,"div",93)(13,"label",94),c(14,"Date d\xE9but de stage"),s(),a(15,"input",101),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),_(r)}),s()()(),a(16,"div",99)(17,"div",93)(18,"label",94),c(19,"Date fin de stage"),s(),a(20,"input",102),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),_(r)}),s()()()()()}if(i&2){let e=u(2);d(10),D("ngModel",e.selected_data.ads.structure),d(5),D("ngModel",e.selected_data.ads.date_start),d(5),D("ngModel",e.selected_data.ads.date_end)}}function h9(i,t){if(i&1){let e=x();a(0,"form",91,12),v("ngSubmit",function(){let r=f(e).windowRef,o=C(1),l=u();return _(l.storeResponse(r,o.value))}),a(2,"div",92)(3,"div",93)(4,"label",94),c(5,"Argumentaire"),s(),a(6,"textarea",95),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.reason,r)||(o.responseUA.reason=r),_(r)}),s()(),a(7,"div",93)(8,"label",94),c(9,"observation"),s(),a(10,"textarea",96),P("ngModelChange",function(r){f(e);let o=u();return A(o.responseUA.observation,r)||(o.responseUA.observation=r),_(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),S(13,p9,21,3,"div",56),a(14,"button",97),c(15,"Sauvegarder "),g(16,"app-loading",98),s()()}if(i&2){let e=C(1),n=u();d(6),D("ngModel",n.responseUA.reason),d(4),D("ngModel",n.responseUA.observation),d(3),p("ngIf",n.selected_data!=null&&n.responseUA.hasPermission==!0&&n.prestation=="autorisation-de-stage"),d(),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function f9(i,t){if(i&1){let e=x();a(0,"form",91,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez une instruction"),s(),g(7,"textarea",103),s(),a(8,"div",93)(9,"label",94),c(10,"Pour au plus tard, le "),s(),g(11,"input",104),s()(),a(12,"div")(13,"button",97),c(14,"Sauvegarder "),g(15,"app-loading",98),s()()()()}if(i&2){let e=C(1),n=u();d(13),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function _9(i,t){if(i&1){let e=x();a(0,"form",91,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez le motif"),s(),g(7,"textarea",105),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function g9(i,t){if(i&1){let e=x();a(0,"form",91,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez le motif"),s(),g(7,"textarea",105),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function b9(i,t){i&1&&g(0,"i",117)}function v9(i,t){if(i&1&&(a(0,"li")(1,"strong",115),c(2),s(),S(3,b9,1,0,"i",116),s()),i&2){let e=t.$implicit;d(2),O(e==null?null:e.name),d(),p("ngIf",(e==null?null:e.content)!=null)}}function y9(i,t){if(i&1){let e=x();a(0,"div",109)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),S(4,v9,4,2,"li",110),s(),a(5,"div",93)(6,"label",94),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",111),v("change",function(r){f(e);let o=u(2);return _(o.changeDesc(r))}),a(9,"option",112),c(10,"Lettre d'acception"),s(),a(11,"option",113),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",114),c(14,"Autorisation de stage"),s()()()()}if(i&2){let e=u(2);d(4),p("ngForOf",e.docs)}}function x9(i,t){if(i&1){let e=x();a(0,"form",91,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.deliveryrDoc(o.value,r))}),a(2,"div",106)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",90),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",89),c(7,"\xD7"),s()()(),a(8,"div",107),S(9,y9,15,1,"div",108),g(10,"div",93),s(),a(11,"div")(12,"button",97),c(13,"Sauvegarder "),g(14,"app-loading",98),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("ngIf",n.prestation=="autorisation-de-stage"),d(3),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function w9(i,t){if(i&1){let e=x();a(0,"form")(1,"div",118)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",90),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(5,"span",89),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",119),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",23)(11,"div",99)(12,"div",93)(13,"label",94),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),g(15,"input",120),s()(),a(16,"div",99)(17,"div",93)(18,"label",94),c(19,"Date de cessation des fonctions"),s(),g(20,"input",120),s()(),a(21,"div",99)(22,"div",121)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",122),g(26,"input",123),a(27,"label",124),c(28,"Oui"),s()(),a(29,"div",122),g(30,"input",125),a(31,"label",126),c(32,"Non"),s()()()(),a(33,"div",99)(34,"div",93)(35,"label",94),c(36,"Dernier salaire net"),s(),g(37,"input",127),s()(),a(38,"div",99)(39,"div",93)(40,"label",94),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),g(42,"input",127),s()(),a(43,"div",99)(44,"div",93)(45,"label",94),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",128)(48,"option",33),c(49,"Moins de 11"),s(),a(50,"option",33),c(51,"Entre 11 et 49"),s(),a(52,"option",33),c(53,"Moins 50 et 499"),s(),a(54,"option",33),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",129),c(58,"Calculer "),s()()()()}}function C9(i,t){if(i&1){let e=x();a(0,"div",84)(1,"div")(2,"div")(3,"div",85)(4,"button",86),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Retour"),s(),a(6,"button",130),v("click",function(){f(e);let r=u(),o=C(22);return _(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),g(9,"object",87),s()()()}if(i&2){let e=u();d(6),p("disabled",!e.activeobsPanel),d(3),p("data",e.pdfSrc,ut)}}function S9(i,t){if(i&1){let e=x();a(0,"div",131)(1,"form",91,17),v("ngSubmit",function(){let r=f(e).windowRef,o=u();return _(o.storeAmend(r))}),a(3,"div",92)(4,"div",93)(5,"label",94),c(6,"observation"),s(),a(7,"textarea",96),P("ngModelChange",function(r){f(e);let o=u();return A(o.observation,r)||(o.observation=r),_(r)}),s()()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()()}if(i&2){let e=C(2),n=u();d(7),D("ngModel",n.observation),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function E9(i,t){if(i&1){let e=x();a(0,"form",91,13),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),g(7,"textarea",132),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function k9(i,t){if(i&1){let e=x();a(0,"div",133)(1,"h4",134),c(2,"D\xE9tails des informations"),s(),a(3,"button",135),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",136),g(5,"div",137),s()}}function T9(i,t){if(i&1){let e=x();a(0,"form",91,18),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",133)(3,"h4",134),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",138),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",139),s()(),g(7,"div",136),a(8,"div",140)(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function M9(i,t){if(i&1){let e=x();a(0,"form",91,19),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",133)(3,"h4",134),c(4,"Modification d'un agent"),s(),a(5,"button",138),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",139),s()(),g(7,"div",136),a(8,"div",140)(9,"button",97),c(10,"Sauvegarder "),g(11,"app-loading",98),s()()()}if(i&2){let e=C(1),n=u();d(9),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function I9(i,t){if(i&1){let e=x();a(0,"div",133)(1,"h4",134),c(2,"D\xE9tails des informations"),s(),a(3,"button",135),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",136),g(5,"div",137),s()}}var Us=class i{constructor(t,e,n,r,o,l,m,h,b){this.activatedRoute=t;this.locService=e;this.affService=n;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=m;this.modalService=h;this._sanitizationService=b}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;is_active=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationTreated(this.prestation,this.myPrestation.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(n=>n.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var n=new FormData;n.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(n.append("file",this.fileUploaded),n.append("requete_id",JSON.stringify(this.selected_data.id))),n.append("structure",e.structure),n.append("service",e.service),n.append("date_start",e.date_start),n.append("date_end",e.date_end),n.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(n).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var n=new FormData;n.append("content",t.contenu),n.append("currentDescId",this.currentDescId),n.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(n).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var n=new Date(t.delay),r=new Date;n<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},n=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=F.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=We.find(n=>n.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let n=We.find(r=>r.slug==this.prestation);console.log(this.selected_data,n),n&&(this.desc=n.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(n=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(n=>{this.loading=!1,this.all(),this.selected_data=null},n=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=We.find(n=>n.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}store(t){}update(t){}showFileContract(t){var e=F.toFile("storage/"+this.selected_data.code+"/"+t.file64);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),console.log(e,this.pdfSrc),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}showResponseFile(t){var e=F.toFile("docs/responses/"+t);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showResponseFilePreview=!0,this.showPreview=!0}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(Ge),E(te),E(Mt),E(ft),E(ne),E(He),E(It),E(de),E(ht))};static \u0275cmp=j({type:i,selectors:[["app-espace-validation"]],standalone:!0,features:[U],decls:33,vars:3,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,n){e&1&&(a(0,"h2",20),c(1,"Liste de validation"),s(),S(2,c9,48,24,"div",21)(3,d9,8,1,"div",22)(4,m9,3,0,"ng-template",null,0,V)(6,u9,7,0,"ng-template",null,1,V)(8,h9,17,5,"ng-template",null,2,V)(10,f9,16,2,"ng-template",null,3,V)(12,_9,12,2,"ng-template",null,4,V)(14,g9,12,2,"ng-template",null,5,V)(16,x9,15,3,"ng-template",null,6,V)(18,w9,59,0,"ng-template",null,7,V)(20,C9,10,2,"div",22)(21,S9,12,3,"ng-template",null,8,V)(23,E9,12,2,"ng-template",null,9,V)(25,k9,6,0,"ng-template",null,10,V)(27,T9,12,2,"ng-template",null,0,V)(29,M9,12,2,"ng-template",null,11,V)(31,I9,6,0,"ng-template",null,10,V)),e&2&&(d(2),p("ngIf",!n.showPreview2),d(),p("ngIf",n.showPreview2),d(17),p("ngIf",n.showPreview))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var D9=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function A9(i,t){if(i&1){let e=x();a(0,"button",34),v("click",function(){f(e);let r=u(),o=C(72);return _(r.add(o))}),c(1,"Ajouter"),s()}}function P9(i,t){if(i&1){let e=x();a(0,"button",50),v("click",function(){f(e);let r=u(3),o=C(76);return _(r.show(o))}),g(1,"i",51),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function O9(i,t){if(i&1){let e=x();a(0,"button",52),v("click",function(){f(e);let r=u(3),o=C(74);return _(r.edit(o))}),g(1,"i",53),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function V9(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.delete())}),g(1,"i",55),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function R9(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",57),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function F9(i,t){if(i&1){let e=x();a(0,"button",58),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",59),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function N9(i,t){if(i&1){let e=x();a(0,"div",41)(1,"button",42),v("click",function(){f(e);let r=u(2),o=C(72);return _(r.add(o))}),g(2,"i",43),s(),S(3,P9,2,1,"button",44)(4,O9,2,1,"button",45)(5,V9,2,1,"button",46)(6,R9,2,1,"button",47)(7,F9,2,1,"button",48),a(8,"button",49),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),s()()}if(i&2){let e=u(2);d(),p("disabled",e.loading),d(2),p("ngIf",e.buttonsPermission.show),d(),p("ngIf",e.buttonsPermission.edit),d(),p("ngIf",e.buttonsPermission.delete),d(),p("ngIf",e.is_active!=null&&!e.is_active),d(),p("ngIf",e.is_active!=null&&e.is_active)}}function L9(i,t){i&1&&(a(0,"span",60),c(1,"Actif"),s())}function B9(i,t){i&1&&(a(0,"span",61),c(1,"Bloqu\xE9"),s())}function j9(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,N9,9,6,"div",38),s(),g(5,"td")(6,"td")(7,"td"),a(8,"td"),S(9,L9,2,0,"span",39)(10,B9,2,0,"span",40),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(5),p("ngIf",e.is_active),d(),p("ngIf",!e.is_active)}}function z9(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",62)(2,"p",63),c(3,"Recherche avanc\xE9e en cours..."),s(),a(4,"button",64),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),c(5," R\xE9initialiser la recherche "),s()()()}}function H9(i,t){if(i&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s()()),i&2){let e=u();d(2),O(e.data.totale),d(2),O(e.data.treated),d(2),O(e.data.noTreated),d(2),O(e.data.finished)}}function U9(i,t){i&1&&(a(0,"tr"),g(1,"img",65),s())}function W9(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",70),s()}}function q9(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",70),s()}}function G9(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",70),s()}}var Ws=class i{constructor(t,e,n,r){this.dashService=t;this.route=e;this.modalService=n;this.toastrService=r}data;slug;selected_data;loading=!1;is_active=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;search_text="";remoteSearchData=[];ngOnInit(){this.slug=this.route.snapshot.paramMap.get("slug"),this.all(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.dashService.show(this.slug).subscribe(t=>{this.loading2=!1,this.data=t.data,console.log(this.data)},t=>{this.loading2=!1})}loadStat(t){this.loading2=!0,console.log(t),this.dashService.update(t,this.slug).subscribe(e=>{this.loading2=!1,this.data=e.data,console.log(this.data)},e=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}store(t,e){this.loading=!0,this.dashService.store(t).subscribe(n=>{this.loading=!1,e.close(),this.all()},n=>{this.loading=!1})}update(t,e){this.loading=!0,this.dashService.update(t,this.selected_data.id).subscribe(n=>{this.loading=!1,e.close(),this.all()},n=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.dashService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.dashService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading2=!0,this.dashService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading2=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading2=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(In),E(Ge),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-statistiques"]],standalone:!0,features:[U],decls:77,vars:30,consts:[["formStat","ngForm"],["addContent",""],["editContent",""],["showContent",""],[1,"row"],[1,"col-lg-12","mb-3"],[1,"card","p-1"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center","d-flex"],[1,"input-group"],["id","inputGroupSelect04","aria-label","Example select with button addon",1,"form-select"],["value",""],["type","text","name","search_text","placeholder","Rechercher..",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-rotate-left"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"card","card-body"],[3,"ngSubmit"],[1,"d-flex","justify-content-between","flex-sm-column"],[1,"d-flex","justify-content-center"],[1,"form-group"],["for",""],["type","date","ngModel","","name","date_start","id","",1,"form-control-sm"],["type","date","ngModel","","name","date_end","id","",1,"form-control-sm"],["type","submit",1,"btn","btn-sm","btn-info",3,"disabled"],["scope","col"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","p-1 rounded text-white  bg-success",4,"ngIf"],["class","p-1 rounded text-white bg-danger",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[1,"p-1","rounded","text-white","bg-success"],[1,"p-1","rounded","text-white","bg-danger"],["colspan","5",1,"text-center"],[1,"text-muted"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["src","assets/spinner.gif",2,"width","180px","height","150px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),S(4,A9,2,0,"button",8),a(5,"div",9)(6,"div",10)(7,"select",11)(8,"option",12),c(9,"Filtrer Par"),s()(),a(10,"input",13),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(11,"button",14),v("click",function(){return f(r),_(n.resetSearch())}),g(12,"i",15),s()()()(),a(13,"div",16)(14,"p"),c(15),s(),a(16,"div",17)(17,"table",18)(18,"thead",19)(19,"tr")(20,"th",20),c(21,"#"),s(),a(22,"th"),c(23,"Identit\xE9"),s(),a(24,"th"),c(25,"email"),s(),a(26,"th"),c(27,"R\xF4le"),s(),a(28,"th"),c(29,"status"),s()()(),a(30,"tbody"),S(31,j9,11,7,"tr",21),$(32,"paginate"),$(33,"sampleSearch"),S(34,z9,6,0,"tr",22),$(35,"sampleSearch"),s()()(),a(36,"pagination-controls",23),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()(),a(37,"div",24)(38,"div")(39,"form",25,0),v("ngSubmit",function(){f(r);let l=C(40);return _(n.loadStat(l.value))}),a(41,"div",26)(42,"span"),c(43,"Statitistique Globale"),s(),a(44,"div",27)(45,"div",28)(46,"label",29),c(47,"DU"),s(),g(48,"input",30),s(),a(49,"div",28)(50,"label",29),c(51,"AU"),s(),g(52,"input",31),s(),a(53,"div",19)(54,"button",32),c(55," Rechercher"),s()()()()()(),a(56,"div")(57,"table",18)(58,"thead")(59,"tr")(60,"th",33),c(61,"Demandes Totales"),s(),a(62,"th",33),c(63,"Demandes Trait\xE9es"),s(),a(64,"th",33),c(65,"Demandes Non Trait\xE9es"),s(),a(66,"th",33),c(67,"Demandes finalis\xE9es"),s()()(),a(68,"tbody"),S(69,H9,9,4,"tr",22)(70,U9,2,0,"tr",22),s()()()(),S(71,W9,6,0,"ng-template",null,1,V)(73,q9,6,0,"ng-template",null,2,V)(75,G9,6,0,"ng-template",null,3,V)}e&2&&(d(4),p("ngIf",n.buttonsPermission.add),d(6),D("ngModel",n.search_text),d(5),H("",n.isPaginate?n.pg.total:n.data.length," \xE9l\xE9ment(s)"),d(16),p("ngForOf",Y(33,20,Y(32,17,n.data,Ve(26,D9,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&Y(35,23,n.data,n.search_text).length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(18),p("disabled",n.loading2),d(15),p("ngIf",n.data!=null),d(),p("ngIf",n.loading2))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Le,ae,ue,le,he,ge,Ae,be,ve,Be,je,ye,Tr]})};var pd=class i{constructor(t){this.http=t}url=F.toApiUrl("files");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}getFromPrestationName(t){return this.http.get(`${this.url}/by-prestation/${t}`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};function Y9(i,t){if(i&1){let e=x();a(0,"button",21),v("click",function(){f(e);let r=u(),o=C(31);return _(r.edit(o))}),g(1,"i",22),s()}}function Q9(i,t){if(i&1){let e=x();a(0,"button",23),v("click",function(){f(e);let r=u();return _(r.delete())}),g(1,"i",24),s()}}function K9(i,t){if(i&1&&(a(0,"option",25),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function J9(i,t){if(i&1){let e=x();a(0,"tr")(1,"th")(2,"input",26),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),s()(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit;d(4),O(e==null?null:e.name),d(2),O(e==null?null:e.slug)}}function Z9(i,t){i&1&&(a(0,"tr")(1,"td",27),c(2,"Aucun \xE9l\xE9ment trouv\xE9"),s()())}function X9(i,t){i&1&&(a(0,"tr"),g(1,"img",28),s())}function eL(i,t){if(i&1&&(a(0,"p",40)(1,"ngb-alert",41),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function tL(i,t){if(i&1&&(a(0,"option",25),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function iL(i,t){i&1&&(a(0,"small",44),c(1,"Le libell\xE9 est requis."),s())}function nL(i,t){if(i&1&&(a(0,"span",42),S(1,iL,2,0,"small",43),s()),i&2){u();let e=C(20);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function rL(i,t){if(i&1){let e=x();a(0,"form",29,3),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.store(o.value,r))}),a(2,"div")(3,"div"),c(4,"Enregistrement de Fichier requis pour la prestation "),a(5,"button",30),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",31),c(7,"\xD7"),s()()(),a(8,"div"),S(9,eL,3,2,"p",32),a(10,"div",33)(11,"label",34),c(12,"Prestation"),s(),a(13,"select",35,4),S(15,tL,2,2,"option",15),s()(),a(16,"div",33)(17,"label",34),c(18,"Libell\xE9"),s(),g(19,"input",36,5),S(21,nL,2,1,"span",37),s()(),a(22,"div")(23,"button",38),c(24,"Sauvegarder "),g(25,"app-loading",39),s()()()()}if(i&2){let e=C(1),n=C(20),r=u();d(9),p("ngIf",r.error!=""),d(6),p("ngForOf",r.data2),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function oL(i,t){if(i&1&&(a(0,"p",40)(1,"ngb-alert",41),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function aL(i,t){if(i&1&&(a(0,"option",25),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function sL(i,t){i&1&&(a(0,"small",44),c(1,"Le libell\xE9 est requis."),s())}function lL(i,t){if(i&1&&(a(0,"span",42),S(1,sL,2,0,"small",43),s()),i&2){u();let e=C(20);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function cL(i,t){i&1&&(a(0,"small",44),c(1,"Le slug est requis."),s())}function dL(i,t){if(i&1&&(a(0,"span",42),S(1,cL,2,0,"small",43),s()),i&2){u();let e=C(26);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function mL(i,t){if(i&1){let e=x();a(0,"form",29,6),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.update(o.value,r))}),a(2,"div")(3,"div"),c(4,"Modification de Fichier requis pour la prestation "),a(5,"button",30),v("click",function(){let r=f(e).dialogRef;return _(r.close())}),a(6,"span",31),c(7,"\xD7"),s()()(),a(8,"div"),S(9,oL,3,2,"p",32),a(10,"div",33)(11,"label",34),c(12,"Prestation"),s(),a(13,"select",45,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.prestation_id,r)||(o.selected_data.prestation_id=r),_(r)}),S(15,aL,2,2,"option",15),s()(),a(16,"div",33)(17,"label",34),c(18,"Libell\xE9"),s(),a(19,"input",46,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s(),S(21,lL,2,1,"span",37),s(),a(22,"div",33)(23,"label",34),c(24,"Slug"),s(),a(25,"input",47,7),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.slug,r)||(o.selected_data.slug=r),_(r)}),s(),S(27,dL,2,1,"span",37),s()(),a(28,"div")(29,"button",38),c(30,"Sauvegarder "),g(31,"app-loading",39),s()()()()}if(i&2){let e=C(1),n=C(20),r=C(26),o=u();d(9),p("ngIf",o.error!=""),d(4),D("ngModel",o.selected_data.prestation_id),d(2),p("ngForOf",o.data2),d(4),D("ngModel",o.selected_data.name),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(4),D("ngModel",o.selected_data.slug),d(2),p("ngIf",r.invalid&&(n.dirty||r.touched)),d(2),p("disabled",e.invalid||o.loading),d(2),p("isVisible",o.loading)}}function uL(i,t){if(i&1){let e=x();a(0,"div",48)(1,"h4",49),c(2,"D\xE9tails des informations"),s(),a(3,"button",50),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",51),g(5,"div",52),s()}}var hd=class i{constructor(t,e,n,r,o){this.fileService=t;this.prestationService=e;this.toastrService=n;this.modalService=r;this.locService=o}error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selected_data;user;data=[];data2=[];data3=[];permissions=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;ngOnInit(){this.all(),this.getPrestations(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.fileService.getAll().subscribe(t=>{this.data=t,this.data3=this.data,this.loading2=!1},t=>{this.loading2=!1})}getPrestations(){this.prestationService.getAll().subscribe(t=>{this.data2=t},t=>{})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t,e){this.loading=!0,this.fileService.store(t).subscribe(n=>{this.loading=!1,e.close(),this.all()},n=>{this.loading=!1})}update(t,e){this.loading=!0,this.fileService.update(t,this.selected_data.id).subscribe(n=>{this.loading=!1,e.close(),this.all()},n=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.fileService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.fileService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.fileService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}sortBy(t){this.data3=this.data.filter(e=>e.prestation_id==t.target.value)}static \u0275fac=function(e){return new(e||i)(E(pd),E(en),E(ne),E(de),E(te))};static \u0275cmp=j({type:i,selectors:[["ngx-files"]],standalone:!0,features:[U],decls:34,vars:6,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["editForm","ngForm"],["slug","ngModel"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"buttons-row"],["class","btn btn-sm btn-warning mx-1","nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1","nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"click",4,"ngIf"],["type","text",1,"form-control-sm",3,"change"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary","float-right",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-warning","mx-1",3,"click"],["icon","edit-2-outline"],["nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-danger","mx-1",3,"click"],["icon","trash-2-outline"],[3,"value"],["name","flexRadioDefault","type","radio",1,"form-check-input",3,"click"],["colspan","3",1,"text-center"],["src","assets/spinner.gif",2,"width","180px","height","150px"],[3,"ngSubmit"],[1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","slug",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"div")(1,"div"),c(2," Gestion des fichiers requis par prestation "),s(),a(3,"div")(4,"div",8)(5,"div",9)(6,"div",10),S(7,Y9,2,0,"button",11)(8,Q9,2,0,"button",12),a(9,"select",13),v("change",function(l){return f(r),_(n.sortBy(l))}),a(10,"option",14),c(11,"Filtrer par prestation"),s(),S(12,K9,2,2,"option",15),s(),a(13,"button",16),v("click",function(){f(r);let l=C(29);return _(n.add(l))}),c(14,"Ajouter un nouveau fichier requis "),s()()()(),a(15,"table",17)(16,"thead")(17,"tr")(18,"th",18),c(19,"#"),s(),a(20,"th",18),c(21,"Libell\xE9"),s(),a(22,"th",18),c(23,"slug"),s()()(),a(24,"tbody"),S(25,J9,7,2,"tr",19)(26,Z9,3,0,"tr",20)(27,X9,2,0,"tr",20),s()()()(),S(28,rL,26,5,"ng-template",null,0,V)(30,mL,32,9,"ng-template",null,1,V)(32,uL,6,0,"ng-template",null,2,V)}e&2&&(d(7),p("ngIf",n.hasPermission("modification")),d(),p("ngIf",n.hasPermission("suppression")),d(4),p("ngForOf",n.data2),d(13),p("ngForOf",n.data3),d(),p("ngIf",n.data.length==0&&!n.loading2),d(),p("ngIf",n.loading2))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,ae,ue,Ce,le,he,ge,kr,we,be,ve,ye]})};var pL=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function hL(i,t){if(i&1){let e=x();a(0,"button",53),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",54),s()}}function fL(i,t){if(i&1){let e=x();a(0,"button",55),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",56),s()}}function _L(i,t){if(i&1){let e=x();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.add(o))}),g(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=u(2),o=C(58);return _(r.show(o))}),g(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=u(2),o=C(56);return _(r.edit(o))}),g(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",48),s(),S(10,hL,2,0,"button",49)(11,fL,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",52),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function gL(i,t){i&1&&(a(0,"td")(1,"span",57),c(2,"oui"),s()())}function bL(i,t){i&1&&(a(0,"td")(1,"span",58),c(2,"non"),s()())}function vL(i,t){if(i&1&&(a(0,"td"),c(1),s()),i&2){let e=u().$implicit;d(),O(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function yL(i,t){if(i&1){let e=x();a(0,"tr",33)(1,"td",34)(2,"div",35)(3,"input",36),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,_L,14,2,"div",37),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),$(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),S(14,gL,3,0,"td",38)(15,bL,3,0,"td",38)(16,vL,2,1,"td",38),s()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.code),d(2),O(Y(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),d(3),O(e==null?null:e.email),d(2),O(e==null?null:e.phone),d(),p("ngIf",(e==null?null:e.filename)!=null),d(),p("ngIf",(e==null?null:e.filename)==null),d(),p("ngIf",n.showLastLevel)}}function xL(i,t){if(i&1){let e=x();a(0,"tr",59)(1,"td",60)(2,"div",61),g(3,"i",62),a(4,"p",63),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",64),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",65),c(8," R\xE9initialiser la recherche "),s()()()()}}function wL(i,t){if(i&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),$(7,"date"),s(),a(8,"td"),c(9),s()()),i&2){let e=t.$implicit,n=t.index;d(2),O(n+1),d(2),O(e.libelle),d(2),O(Y(7,5,e.created_at,"dd-MM-yyyy hh:mm:ss")),d(3),mi("",e.user==null||e.user.agent==null?null:e.user.agent.firstname," ",e.user==null||e.user.agent==null?null:e.user.agent.lastname,"")}}function CL(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des parcours"),s(),a(3,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(4,"i",69),s()(),a(5,"div",70)(6,"table",71)(7,"thead")(8,"th"),c(9,"#"),s(),a(10,"th"),c(11,"Libell\xE9"),s(),a(12,"th"),c(13,"Date et heure"),s(),a(14,"th"),c(15," Auteur"),s()(),a(16,"tbody"),S(17,wL,10,8,"tr",72),s()()(),g(18,"div",73)}if(i&2){let e=u();d(17),p("ngForOf",e.selected_data.parcours)}}function SL(i,t){if(i&1){let e=x();a(0,"div",74)(1,"div")(2,"div")(3,"div",75)(4,"button",76),v("click",function(){f(e);let r=u();return _(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),g(7,"object",77),s()()()}if(i&2){let e=u();d(7),p("data",e.pdfSrc,ut)}}function EL(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",79),s()}}function kL(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",79),s()}}function TL(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",79),s()}}var qs=class i{constructor(t,e,n,r,o,l,m,h){this.activatedRoute=t;this.requeteService=e;this.route=n;this._sanitizationService=r;this.locService=o;this.modalService=m;this.toastrService=h;l.backdrop="static",l.keyboard=!1}isDtInitialized=!1;user;data=[];slug;selected_data;loading=!1;loading2=!1;prestation;prestationName;doc_path="";doc_prefix="";error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;showPreview2=!1;showPreview=!1;pdfSrc;selectedId=null;showLastLevel=!1;selectedFilter="";ngAfterViewInit(){}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.data=[],this.selected_data=null,this.slug=this.route.snapshot.paramMap.get("slug"),this.prestation=this.slug,this.all()}),this.user=this.locService.get(W.userName),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.requeteService.getByPrestationAll(this.slug).subscribe(t=>{this.loading2=!1,this.data=t.data},t=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading2=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading2=!1,this.all()},e=>{this.loading2=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading2=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading2=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading2=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=F.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;console.log(e),this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}ngOnDestroy(){}back(){this.all(),this.showPreview2=!1,this.selected_data=null}static \u0275fac=function(e){return new(e||i)(E(Ge),E(ft),E(Ge),E(ht),E(te),E(Je),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-historique"]],standalone:!0,features:[U],decls:59,vars:25,consts:[["addContent",""],["editContent",""],["showContent",""],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",3),c(1,"Parcours des demandes"),s(),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9),v("click",function(){f(r);let l=C(51);return _(n.add(l))}),g(8,"i",10),c(9," Ajouter "),s(),a(10,"div",11)(11,"div",12)(12,"select",13),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",14),c(14,"Filtrer Par"),s(),a(15,"option",15),c(16,"R\xF4le"),s(),a(17,"option",16),c(18,"Statut"),s()(),a(19,"input",17),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",18),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",19),s()()()()(),a(22,"div",20)(23,"div",21)(24,"p",22),g(25,"i",23),c(26),s()(),a(27,"div",24)(28,"table",25)(29,"thead")(30,"tr")(31,"th",26),c(32,"#"),s(),a(33,"th",27),c(34,"Code demande"),s(),a(35,"th",27),c(36,"Date Enreg."),s(),a(37,"th",27),c(38,"Email"),s(),a(39,"th",27),c(40,"phone"),s(),a(41,"th",27),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),S(44,yL,17,15,"tr",28),$(45,"paginate"),$(46,"sampleSearch"),S(47,xL,9,0,"tr",29),s()()(),a(48,"div",30)(49,"pagination-controls",31),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,CL,19,1,"ng-template",null,0,V)(52,SL,8,1,"div",32)(53,EL,6,0,"ng-template",null,0,V)(55,kL,6,0,"ng-template",null,1,V)(57,TL,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,18,Y(45,15,n.data,Ve(21,pL,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),d(3),p("ngIf",n.showPreview2))},dependencies:[J,me,X,kt,ie,Ee,ke,oe,Ne,Le,ae,le,ge,Ae,be,ve,Be,je,ye]})};var Ir=class i{constructor(t){this.http=t}url=F.toApiUrl("officers");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var ua=class i{constructor(t){this.http=t}url=F.toApiUrl("fonction-agent");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var ML=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function IL(i,t){if(i&1){let e=x();a(0,"button",53),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",54),s()}}function DL(i,t){if(i&1){let e=x();a(0,"button",55),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",56),s()}}function AL(i,t){if(i&1){let e=x();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=u(2),o=C(49);return _(r.add(o))}),g(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=u(2),o=C(53);return _(r.show(o))}),g(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.edit(o))}),g(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",48),s(),S(10,IL,2,0,"button",49)(11,DL,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",52),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function PL(i,t){if(i&1){let e=x();a(0,"tr",34)(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,AL,14,2,"div",38),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.numero_matricule),d(2),mi("",e==null?null:e.lastname," ",e==null?null:e.firstname,""),d(2),O(e==null||e.fonction_agent==null?null:e.fonction_agent.libelle),d(2),O(e==null||e.unite_admin==null?null:e.unite_admin.libelle)}}function OL(i,t){if(i&1){let e=x();a(0,"tr",57)(1,"td",58)(2,"div",59),g(3,"i",60),a(4,"p",61),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",62),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",63),c(8," R\xE9initialiser la recherche "),s()()()()}}function VL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function RL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function FL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function NL(i,t){if(i&1){let e=x();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",68),s()(),a(7,"div",69)(8,"div",70)(9,"label",71),c(10,"Matricule "),a(11,"span",72),c(12,"(*)"),s()(),g(13,"input",73),s(),a(14,"div",70)(15,"label",71),c(16,"Nom "),a(17,"span",72),c(18,"(*)"),s()(),g(19,"input",74),s(),a(20,"div",70)(21,"label",71),c(22,"Pr\xE9noms "),a(23,"span",72),c(24,"(*)"),s()(),g(25,"input",75),s(),a(26,"div",70)(27,"label",71),c(28,"Fonction "),a(29,"span",72),c(30,"(*)"),s()(),a(31,"ng-select",76),S(32,VL,2,2,"ng-option",77),s()(),a(33,"div",70)(34,"label",71),c(35,"Entit\xE9 administrative "),a(36,"span",72),c(37,"(*)"),s()(),a(38,"ng-select",78),v("change",function(r){f(e);let o=u();return _(o.loadUas(r))}),S(39,RL,2,2,"ng-option",77),s()(),a(40,"div",70)(41,"label",71),c(42,"Unit\xE9 administrative "),a(43,"span",72),c(44,"(*)"),s()(),a(45,"ng-select",79),S(46,FL,2,2,"ng-option",77),s()()(),a(47,"div",80)(48,"button",81),c(49,"Sauvegarder "),g(50,"app-loading",82),s()()()}if(i&2){let e=C(1),n=u();d(32),p("ngForOf",n.data3),d(7),p("ngForOf",n.data2),d(7),p("ngForOf",n.uas),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function LL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function BL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit,n=u().dismiss;p("value",n.id),d(),O(e.name)}}function jL(i,t){if(i&1&&(a(0,"ng-option",83),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function zL(i,t){if(i&1){let e=x();a(0,"form",64,4),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Modification d'un agent"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",68),s()(),a(7,"div",69)(8,"div",70)(9,"label",71),c(10,"Matricule "),a(11,"span",72),c(12,"(*)"),s()(),a(13,"input",84),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.numero_matricule,r)||(o.selected_data.numero_matricule=r),_(r)}),s()(),a(14,"div",70)(15,"label",71),c(16,"Nom "),a(17,"span",72),c(18,"(*)"),s()(),a(19,"input",85),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.lastname,r)||(o.selected_data.lastname=r),_(r)}),s()(),a(20,"div",70)(21,"label",71),c(22,"Pr\xE9noms "),a(23,"span",72),c(24,"(*)"),s()(),a(25,"input",86),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.firstname,r)||(o.selected_data.firstname=r),_(r)}),s()(),a(26,"div",70)(27,"label",71),c(28,"Fonction "),a(29,"span",72),c(30,"(*)"),s()(),a(31,"ng-select",87),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.fonction_agent_id,r)||(o.selected_data.fonction_agent_id=r),_(r)}),S(32,LL,2,2,"ng-option",77),s()(),a(33,"div",70)(34,"label",71),c(35,"Entit\xE9 administrative "),a(36,"span",72),c(37,"(*)"),s()(),a(38,"ng-select",88),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),_(r)}),S(39,BL,2,2,"ng-option",77),s()(),a(40,"div",70)(41,"label",71),c(42,"Unit\xE9 administrative "),a(43,"span",72),c(44,"(*)"),s()(),a(45,"ng-select",89),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.unite_admin_id,r)||(o.selected_data.unite_admin_id=r),_(r)}),S(46,jL,2,2,"ng-option",77),s()()(),a(47,"div",80)(48,"button",81),c(49,"Sauvegarder "),g(50,"app-loading",82),s()()()}if(i&2){let e=C(1),n=u();d(13),D("ngModel",n.selected_data.numero_matricule),d(6),D("ngModel",n.selected_data.lastname),d(6),D("ngModel",n.selected_data.firstname),d(6),D("ngModel",n.selected_data.fonction_agent_id),d(),p("ngForOf",n.data3),d(6),D("ngModel",n.selected_data.entite_admin_id),d(),p("ngForOf",n.data2),d(6),D("ngModel",n.selected_data.unite_admin_id),d(),p("ngForOf",n.uas),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function HL(i,t){if(i&1){let e=x();a(0,"div",65)(1,"h4",66),c(2,"D\xE9tails des informations"),s(),a(3,"button",90),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",91),s()}}var fd=class i{constructor(t,e,n,r,o,l,m){this.offcerService=t;this.entityAdminService=e;this.fonctionAgentService=n;this.locService=r;this.modalService=l;this.toastrService=m;o.backdrop="static",o.keyboard=!1}isDtInitialized=!1;selected_data;user;data=[];data2=[];data3=[];uas=[];permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.getFonctionAgent(),this.getEntityAdmin(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.offcerService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}loadUas(t){this.uas=this.data2.find(e=>e.id==t)?.uas,console.log(this.uas,t)}getEntityAdmin(){this.entityAdminService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}getFonctionAgent(){this.fonctionAgentService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}checked(t){this.selected_data=t,this.uas=this.data2.find(e=>e.id==t.entite_admin_id)?.uas}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.offcerService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,this.offcerService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.offcerService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.offcerService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.offcerService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(Ir),E(An),E(ua),E(te),E(Je),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-officer"]],standalone:!0,features:[U],decls:54,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","numero_matricule","ngModel","",1,"form-control"],["type","text","name","lastname","ngModel","",1,"form-control"],["type","text","name","firstname","ngModel","",1,"form-control"],["name","fonction_agent_id","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["name","entite_admin_id","ngModel","",3,"change"],["name","unite_admin_id","ngModel",""],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["type","text","name","numero_matricule",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","firstname",1,"form-control",3,"ngModelChange","ngModel"],["name","fonction_agent_id",3,"ngModelChange","ngModel"],["name","entite_admin_id",3,"ngModelChange","ngModel"],["name","unite_admin_id",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",5),c(1,"Liste des agents"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=C(49);return _(n.add(l))}),g(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),g(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Matricule"),s(),a(35,"th",29),c(36,"Identit\xE9"),s(),a(37,"th",29),c(38,"Fonction"),s(),a(39,"th",29),c(40,"Unit\xE9 administrative"),s()()(),a(41,"tbody"),S(42,PL,13,10,"tr",30),$(43,"paginate"),$(44,"sampleSearch"),S(45,OL,9,0,"tr",31),s()()(),a(46,"div",32)(47,"pagination-controls",33),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(48,NL,51,5,"ng-template",null,0,V)(50,zL,51,11,"ng-template",null,1,V)(52,HL,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(16),p("ngForOf",Y(44,17,Y(43,14,n.data,Ve(20,ML,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,le,he,ge,we,Ae,be,Xi,Hi,ve,Be,je,ye]})};var ni={showError(i,t){let e="";if(console.log(t.error),t.error.errorsList!=null){e=`<h4><b>${t.error.message}</b></><ul>`;for(let n in t.error.errorsList)Object.prototype.hasOwnProperty.call(t.error.errorsList,n)&&t.error.errorsList[n].forEach(o=>{e+=`<li> ${o}</li> `});e+="</ul>",se.simpleAlertWithHtml("error",i,e)}else e=t.error.message,se.simpleAlert("error",i,e)}};var iy=[{name:"Tableau de bord admin",link:"/admin/dashboard",tag:"tdb-admin"},{name:"Gestion des ann\xE9es acad\xE9miques",link:"/admin/configurations/academic-year",tag:"g-ay"},{name:"Gestion des param\xE8tres d'\xE9cole",link:"/admin/configurations/school",tag:"g-school-setting"},{name:"Gestion des param\xE8tres g\xE9n\xE9raux",link:"/admin/configurations/settings",tag:"g-general-settings"},{name:"Gestion des cycles",link:"/admin/configurations/cycles",tag:"g-cycles"},{name:"Gestion des salles",link:"/admin/configurations/rooms",tag:"g-rooms"},{name:"Gestion des p\xE9riodes",link:"/admin/configurations/periods",tag:"g-periods"},{name:"Gestion des s\xE9ries de classe",link:"/admin/configurations/levels",tag:"g-levels"},{name:"Gestion des classes",link:"/admin/configurations/classrooms",tag:"g-classrooms"},{name:"Gestion des documents pour inscription",link:"/admin/configurations/documents",tag:"g-documents"},{name:"Organisation des documents par classe ",link:"/admin/configurations/inscription-files",tag:"g-ins-files"},{name:"Gestion des inscriptions par classe",link:"/admin/configurations/inscription-validations",tag:"g-ins-validation"},{name:"Gestion des mati\xE8res",link:"/admin/configurations/courses",tag:"g-courses"},{name:"Gestion du personnel",link:"/admin/configurations/personals",tag:"g-personals"},{name:"Attricution des mati\xE8res au professeurs",link:"/admin/professors/courses",tag:"g-prof-courses"},{name:"Gestion des professeurs",link:"/admin/professors/list",tag:"g-prof-list"},{name:"Assignation de mati\xE8res au professeur par classe",link:"/admin/professors/classrooms",tag:"g-prof-classrooms"},{name:"Organisation des emplois",link:"/admin/timetable",tag:"g-prof-timetable"},{name:"Gestion des bulletins",link:"/admin/bulletins",tag:"g-bulletins"},{name:"Gestion des inscriptions",link:"/admin/inscription",tag:"g-inscription"},{name:"Gestion des utilisateurs",link:"/admin/users",tag:"g-users"},{name:"Gestion des r\xF4les",link:"/admin/roles",tag:"g-roles"},{name:"Gestion des permissions",link:"/admin/permissions",tag:"g-permissions"},{name:"profiles",link:"/admin/profiles",tag:"g-profiles"},{name:"Gestion des notes",link:"/admin/note-index",tag:"g-note-index"},{name:"Gestion des compositions",link:"/admin/composition-index",tag:"g-composition-index"},{name:"Suivi des compositions",link:"/admin/composition-by-classrooms",tag:"g-composition-by-classrooms"},{name:"Tableau de bord Apprenant",link:"/child-module/accueil",tag:"tdb-child"},{name:"Gestion du compte apprenant",link:"/child-module/student-account",tag:"g-student-account"},{name:"Consultation des ressources apprenant",link:"/child-module/student-docs",tag:"g-student-docs"},{name:"Consultation du cahier de texte apprenant",link:"/child-module/textbooks",tag:"g-student-textbooks"},{name:"Consultation de notes apprenant",link:"/child-module/notes",tag:"g-student-notes"},{name:"Consultation donn\xE9e de classe",link:"/child-module/classroom-infos",tag:"g-student-classroom-infos"},{name:"Inbox apprenant",link:"/child-module/inbox",tag:"g-student-inbox"},{name:"Consultation de l'agenda apprenant",link:"/child-module/agenda",tag:"g-student-agenda"},{name:"Consultation des fora",link:"/child-module/educational-fora",tag:"g-student-educational-fora"},{name:"Tableau de bord professeur",link:"/professor-module/accueil",tag:"tdb-professor"},{name:"Consultation d'emploi du temps",link:"/professor-module/timetables",tag:"g-professor-timetables"},{name:"Consultation des listes apprenant par classe",link:"/professor-module/claasroom-students-list",tag:"g-professor-claasroom-students-list"},{name:"Consultation des listes professors par classe",link:"/professor-module/claasroom-professors-list",tag:"g-professor-claasroom-professors-list"},{name:"Consultation de la liste du personel | vue enseigant",link:"/professor-module/professors-personal-list",tag:"g-professors-personal-list"},{name:"Consultation des appr\xE9ciation",link:"/professor-module/professors-appreciation",tag:"g-professors-appreciation"},{name:"Gestion de compte | vue enseignant",link:"/professor-module/professors-account",tag:"g-professor-professors-account"},{name:"Gestion des ressources | vue enseigant",link:"/professor-module/educational-resources",tag:"g-professor-educational-resources"},{name:"Gestion de fora \xE9diucatifs | vue enseignant",link:"/professor-module/educational-forum",tag:"g-educational-forum"},{name:"Gestion du cahier de texte",link:"/professor-module/textbook",tag:"g-professor-textbook"},{name:"Gestion des devoirs de maison",link:"/professor-module/tasklists",tag:"g-professor-tasklists"},{name:"Consultation des devoirs de maison",link:"/professor-module/tasklists-student-view",tag:"g-professor-tasklists-student-view"},{name:"Saisie de note",link:"/professor-module/note-create",tag:"g-professor-note-create"},{name:"Consultation de note",link:"/professor-module/",tag:"g-professor-note-index"}];var _d=class i{constructor(t){this.http=t}url=F.toApiUrl("permissions/");getAll(){return this.http.get(`${this.url}`,F.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,F.addAction("add"))}update(t,e){return e._method="patch",this.http.post(`${this.url}${t}/`,e,F.addAction("edit"))}delete(t){return this.http.delete(`${this.url}${t}`,F.addAction("delete"))}get(t){return this.http.get(`${this.url}`,F.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var WL=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function qL(i,t){if(i&1){let e=x();a(0,"button",20),v("click",function(){f(e);let r=u(),o=C(29);return _(r.add(o))}),c(1,"Ajouter"),s()}}function GL(i,t){if(i&1){let e=x();a(0,"button",34),v("click",function(){f(e);let r=u(3),o=C(33);return _(r.show(o))}),g(1,"i",35),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function $L(i,t){if(i&1){let e=x();a(0,"button",36),v("click",function(){f(e);let r=u(3),o=C(31);return _(r.edit(o))}),g(1,"i",37),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function YL(i,t){if(i&1){let e=x();a(0,"button",38),v("click",function(){f(e);let r=u(3);return _(r.delete())}),g(1,"i",39),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function QL(i,t){if(i&1){let e=x();a(0,"button",40),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",41),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function KL(i,t){if(i&1){let e=x();a(0,"button",42),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",43),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function JL(i,t){if(i&1){let e=x();a(0,"div",25)(1,"button",26),v("click",function(){f(e);let r=u(2),o=C(29);return _(r.add(o))}),g(2,"i",27),s(),S(3,GL,2,1,"button",28)(4,$L,2,1,"button",29)(5,YL,2,1,"button",30)(6,QL,2,1,"button",31)(7,KL,2,1,"button",32),a(8,"button",33),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),s()()}if(i&2){let e=u(2);d(),p("disabled",e.loading),d(2),p("ngIf",e.buttonsPermission.add),d(),p("ngIf",e.buttonsPermission.edit),d(),p("ngIf",e.buttonsPermission.delete),d(),p("ngIf",e.is_active!=null&&!e.is_active),d(),p("ngIf",e.is_active!=null&&e.is_active)}}function ZL(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",21)(2,"div",22)(3,"input",23),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,JL,9,6,"div",24),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e.name)}}function XL(i,t){if(i&1&&(a(0,"ng-option",59),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),mi("",e.name," | ",e.space,"")}}function e7(i,t){if(i&1&&(a(0,"ng-option",59),c(1),s()),i&2){let e=t.$implicit;p("value",e),d(),O(e)}}function t7(i,t){if(i&1){let e=x();a(0,"form",44,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.create(r.value))}),a(2,"div",45)(3,"h6",46),c(4,"Cr\xE9er une permission"),s(),a(5,"button",47),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),c(10,"Fonctionnalit\xE9 du syst\xE8me "),a(11,"span",52),c(12,"(*)"),s()(),a(13,"ng-select",53),S(14,XL,2,3,"ng-option",54),s()(),a(15,"div",50)(16,"label",51),c(17,"Action permises "),a(18,"span",52),c(19,"(*)"),s()(),a(20,"ng-select",55),P("ngModelChange",function(r){f(e);let o=u();return A(o.actions2,r)||(o.actions2=r),_(r)}),S(21,e7,2,2,"ng-option",54),s()()()(),a(22,"div",56)(23,"button",57),c(24,"Sauvegarder "),g(25,"app-loading",58),s()()()}if(i&2){let e=C(1),n=u();d(14),p("ngForOf",n.features),d(6),D("ngModel",n.actions2),p("multiple",!0),d(),p("ngForOf",n.actions),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function i7(i,t){if(i&1&&(a(0,"ng-option",59),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),mi("",e.name," | ",e.space,"")}}function n7(i,t){if(i&1&&(a(0,"ng-option",59),c(1),s()),i&2){let e=t.$implicit;p("value",e),d(),O(e)}}function r7(i,t){if(i&1){let e=x();a(0,"form",44,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",45)(3,"h6",46),c(4,"Modifiier une permission"),s(),a(5,"button",47),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),c(10,"Fonctionnalit\xE9 du syst\xE8me "),a(11,"span",52),c(12,"(*)"),s()(),a(13,"ng-select",60),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.feature_id,r)||(o.selected_data.feature_id=r),_(r)}),S(14,i7,2,3,"ng-option",54),s()(),a(15,"div",50)(16,"label",51),c(17,"Action "),a(18,"span",52),c(19,"(*)"),s()(),a(20,"ng-select",61),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.action,r)||(o.selected_data.action=r),_(r)}),S(21,n7,2,2,"ng-option",54),s()()()(),a(22,"div",56)(23,"button",57),c(24,"Sauvegarder "),g(25,"app-loading",58),s()()()}if(i&2){let e=C(1),n=u();d(13),D("ngModel",n.selected_data.feature_id),d(),p("ngForOf",n.features),d(6),D("ngModel",n.selected_data.action),d(),p("ngForOf",n.actions),d(2),p("disabled",e.invalid),d(2),p("isVisible",n.loading)}}function o7(i,t){if(i&1){let e=x();a(0,"div",62)(1,"h4",63),c(2,"D\xE9tails"),s(),a(3,"button",47),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(4,"div",48)(5,"dl",64)(6,"dt"),c(7,"Nom"),s(),a(8,"dd"),c(9),s()()()}if(i&2){let e=u();d(9),O(e.selected_data.name)}}var gd=class i{constructor(t,e,n,r,o){this.cdRef=t;this.permissionService=e;this.toastrService=n;this.modalService=r;this.localService=o}selectedId=null;is_active=null;buttonsPermission;actionTemplate;selected_data;loading=!1;feature;search_text="";title="frontend";data=[];features=[];actions;actions2=["list","add","show","edit","delete","status"];actionChosen;tag="admin-permissions";pg={pageSize:10,p:0,total:0};ngOnInit(){this.features=iy,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.init()}init(){this.getAll()}getAll(){this.permissionService.getAll().subscribe(t=>{this.data=t.data,this.pg.total=t.data.length,this.modalService.dismissAll(),this.selectedId=null},t=>{ni.showError("Gestion des permissions",t)})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){if(!this.verifyIfElementChecked())return;this.feature=JSON.parse(this.selected_data.menu);let e=JSON.parse(this.selected_data.actions);this.actionChosen=this.actions;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.actionChosen[n]=!0);console.log(this.actionChosen),this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t}create(t){this.loading=!0,this.permissionService.store(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,ni.showError("Gestion des permissions",e)})}getPage(t){this.pg.p=t}update(t){this.loading=!0,this.permissionService.update(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,ni.showError("Gestion des permissions",e)})}delete(){se.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.permissionService.delete(this.selected_data.id).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{ni.showError("Gestion des permissions",n)})})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.permissionService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}getJson(t){return JSON.parse(t)}static \u0275fac=function(e){return new(e||i)(E(Pt),E(_d),E(ne),E(de),E(te))};static \u0275cmp=j({type:i,selectors:[["app-permission"]],standalone:!0,features:[U],decls:34,vars:23,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],[1,"text-center","mb-3"],[1,"row"],[1,"p-1","mb-3","card"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center"],["name","","id","",1,"form-control","me-2"],["value",""],[1,""],["type","text","name","search_text","placeholder","Rechercher..",1,"input-search",3,"ngModelChange","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[2,"width","10px"],[4,"ngFor","ngForOf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","feature_id","ngModel","","required",""],[3,"value",4,"ngFor","ngForOf"],["name","actions","required","",3,"ngModelChange","ngModel","multiple"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["name","feature_id",3,"ngModelChange","ngModel"],["name","action",3,"ngModelChange","ngModel"],[1,"modal-header","bg-primary","text-white","text-center"],[1,"modal-title"],[1,"mb-3"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",4),c(1,"Liste des permissions"),s(),a(2,"div",5)(3,"div",6)(4,"div",7),S(5,qL,2,0,"button",8),a(6,"div",9)(7,"select",10)(8,"option",11),c(9,"Filtrer"),s()()(),a(10,"div",12)(11,"input",13),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),s()()(),a(12,"div",14)(13,"p"),c(14),s(),a(15,"div",15)(16,"table",16)(17,"thead",12)(18,"tr")(19,"th",17),c(20,"#"),s(),a(21,"th"),c(22,"Libell\xE9"),s()()(),a(23,"tbody"),S(24,ZL,7,6,"tr",18),$(25,"sampleSearch"),$(26,"paginate"),s()()(),a(27,"pagination-controls",19),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()(),S(28,t7,26,6,"ng-template",null,0,V)(30,r7,26,6,"ng-template",null,1,V)(32,o7,10,1,"ng-template",null,2,V)}e&2&&(d(5),p("ngIf",n.buttonsPermission.add),d(6),D("ngModel",n.search_text),d(3),H("",n.data.length," \xE9l\xE9ment(s)"),d(10),p("ngForOf",Y(26,16,Y(25,13,n.data,n.search_text),Ve(19,WL,n.pg.pageSize,n.pg.p,n.pg.total))),d(3),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Le,ae,ue,Ce,le,he,ge,we,Ae,be,Xi,Hi,ve,Be,je,ye,Tr]})};var a7=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function s7(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",55),s()}}function l7(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",57),s()}}function c7(i,t){if(i&1){let e=x();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=u(2),o=C(43);return _(r.add(o))}),g(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.show(o))}),g(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.edit(o))}),g(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",49),s(),S(10,s7,2,0,"button",50)(11,l7,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",53),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function d7(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,c7,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.libelle)}}function m7(i,t){if(i&1){let e=x();a(0,"tr",58)(1,"td",59)(2,"div",60),g(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function u7(i,t){i&1&&(a(0,"small",79),c(1,"Le libell\xE9 est requis."),s())}function p7(i,t){if(i&1&&(a(0,"span",77),S(1,u7,2,0,"small",78),s()),i&2){u();let e=C(11);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function h7(i,t){if(i&1){let e=x();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,'Enregistrement d"une nouvelle fonction'),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",69)(7,"div",70)(8,"label",71),c(9,"Libell\xE9"),s(),g(10,"input",72,4),S(12,p7,2,1,"span",73),s()(),a(13,"div",74)(14,"button",75),c(15,"Sauvegarder "),g(16,"app-loading",76),s()()()}if(i&2){let e=C(1),n=C(11),r=u();d(12),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function f7(i,t){i&1&&(a(0,"small",79),c(1,"Le libell\xE9 est requis."),s())}function _7(i,t){if(i&1&&(a(0,"span",77),S(1,f7,2,0,"small",78),s()),i&2){u();let e=C(11);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function g7(i,t){if(i&1){let e=x();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,'Modification d"une nouvelle fonction'),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",69)(7,"div",70)(8,"label",71),c(9,"Libell\xE9"),s(),a(10,"input",80,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.libelle,r)||(o.selected_data.libelle=r),_(r)}),s(),S(12,_7,2,1,"span",73),s()(),a(13,"div",74)(14,"button",75),c(15,"Sauvegarder "),g(16,"app-loading",76),s()()()}if(i&2){let e=C(1),n=C(11),r=u();d(10),D("ngModel",r.selected_data.libelle),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function b7(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",81),s()}}var bd=class i{constructor(t,e,n,r,o){this.fonctionAgentService=t;this.locService=e;this.modalService=r;this.toastrService=o;n.backdrop="static",n.keyboard=!1}selected_data;user;data=[];permissions=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.fonctionAgentService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.fonctionAgentService.store(t).subscribe(e=>{this.loading=!1,this.all(),this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}update(t){this.loading=!0,this.fonctionAgentService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.all(),this.toastrService.success("Enregistrement effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.fonctionAgentService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all(),this.toastrService.success("Suppression de type entit\xE9")},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.fonctionAgentService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.fonctionAgentService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(ua),E(te),E(Je),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-post"]],standalone:!0,features:[U],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des fonctions agents"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(43);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),S(36,d7,7,6,"tr",31),$(37,"paginate"),$(38,"sampleSearch"),S(39,m7,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(42,h7,17,3,"ng-template",null,0,V)(44,g7,17,4,"ng-template",null,1,V)(46,b7,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(10),p("ngForOf",Y(38,17,Y(37,14,n.data,Ve(20,a7,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var v7=i=>({"ng-toggle-focused":i});function y7(i,t){if(i&1&&(a(0,"span",7),c(1),s()),i&2){let e=u(2);p("ngStyle",e.labelLeftStyle),d(),H(" ",e.labelChecked," ")}}function x7(i,t){if(i&1&&(a(0,"span",8),c(1),s()),i&2){let e=u(2);p("ngStyle",e.labelRightStyle),d(),H(" ",e.labelUnchecked," ")}}function w7(i,t){if(i&1&&(bt(0),S(1,y7,2,2,"span",5)(2,x7,2,2,"span",6),vt()),i&2){let e=u();d(),p("ngIf",e.toggled),d(),p("ngIf",!e.toggled)}}var Yp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ny="#0099CC",C7="#e0e0e0",S7="",E7="",so="#fff",k7="#dbdbdb",T7="silver",M7=0,lo=(()=>{class i{constructor(e,n){this.config=e,this._elementRef=n,this.value=this.config.value||!0,this.name=this.config.name||"",this.disabled=this.config.disabled||!1,this.height=this.config.height||25,this.width=this.config.width||45,this.margin=this.config.margin||2,this.fontSize=this.config.fontSize||void 0,this.speed=this.config.speed||300,this.color=this.config.color,this.switchColor=this.config.switchColor,this.labels=this.config.labels||!0,this.fontColor=this.config.fontColor||void 0,this.values=this.config.values||{checked:!0,unchecked:!1},this.textAlign=this.config.textAlign||{checked:"left",unchecked:"right"},this.id="",this.ariaLabel=null,this.ariaLabelledby=null,this.cssColors=!1,this.change=new Te,this.valueChange=new Te,this.onChange=r=>{},this.onTouch=()=>{},this._uniqueId="ng-toggle-"+ ++M7,this.id=this.id||this._uniqueId,this.ariaLabel=this.ariaLabel||this.name||this.id}ngOnInit(){this.setToogle()}onInput(e){this.value=e,this.onTouch(),this.onChange(this.value)}writeValue(e){this.value=e,this.setToogle()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}setToogle(){let e=this.value,n=Object.values(this.values).findIndex(r=>r==e);n>-1&&(this.toggled=Object.keys(this.values)[n]=="checked")}ngOnChanges(e){for(let n in e){let r=e[n];n=="value"&&this.writeValue(r.currentValue)}}get coreStyle(){return{width:Pn(this.width),height:Pn(this.height),transition:`all ${this.speed}ms`,backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:Pn(Math.round(this.height/2))}}get buttonRadius(){let e=this.height-this.margin*2;return e>0?e:0}get distance(){return Pn(this.width-this.height+this.margin)}get buttonStyle(){let e=`all ${this.speed}ms`,n=Pn(this.margin),r=this.toggled?ry(this.distance,n):ry(n,n),o=this.switchColor?this.switchColorCurrent:null;return o=this.disabled?this.switchColorDisabled:o,{width:Pn(this.buttonRadius),height:Pn(this.buttonRadius),transition:e,transform:r,background:o}}get labelStyle(){return{lineHeight:Pn(this.height),fontSize:this.fontSize?Pn(this.fontSize):null,color:this.fontColor?this.fontColorCurrent:null,width:Pn(this.width-this.buttonRadius-this.margin)}}get labelLeftStyle(){return _t(Ie({},this.labelStyle),{textAlign:this.textAlign.checked||this.textAlign})}get labelRightStyle(){return _t(Ie({},this.labelStyle),{textAlign:this.textAlign.unchecked||this.textAlign})}get colorChecked(){let{color:e}=this;return vd(e)?pn(e,"checked",ny):e||ny}get colorUnchecked(){return pn(this.color,"unchecked",C7)}get colorDisabled(){return pn(this.color,"disabled",k7)}get colorCurrent(){return this.toggled?this.colorChecked:this.colorUnchecked}get labelChecked(){return pn(this.labels,"checked",S7)}get labelUnchecked(){return pn(this.labels,"unchecked",E7)}get switchColorChecked(){return pn(this.switchColor,"checked",so)}get switchColorUnchecked(){return pn(this.switchColor,"unchecked",so)}get switchColorDisabled(){return pn(this.switchColor,"disabled",T7)}get switchColorCurrent(){return vd(this.switchColor)?this.toggled?this.switchColorChecked:this.switchColorUnchecked:this.switchColor||so}get fontColorChecked(){return pn(this.fontColor,"checked",so)}get fontColorUnchecked(){return pn(this.fontColor,"unchecked",so)}get fontColorDisabled(){return pn(this.fontColor,"disabled",so)}get fontColorCurrent(){return vd(this.fontColor)?this.disabled?this.fontColorDisabled:this.toggled?this.fontColorChecked:this.fontColorUnchecked:this.fontColor||so}get label(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:`${this._uniqueId}-label`}toggle(e){let n=!this.toggled;this.toggled=n,this.value=this.getValue(n),this.onTouch(),this.onChange(this.value),this.valueChange.emit(this.value)}getValue(e){return e===!0?this.values.checked:this.values.unchecked}onFocus(e){!this.focused&&e.relatedTarget&&(this.focused=!0)}onFocusout(e){this._elementRef.nativeElement.contains(e.relatedTarget)||(this.focused=!1,this.onTouch())}static{this.\u0275fac=function(n){return new(n||i)(E(Yp),E(De))}}static{this.\u0275cmp=j({type:i,selectors:[["ng-toggle"]],inputs:{value:"value",name:"name",disabled:"disabled",height:"height",width:"width",margin:"margin",fontSize:"fontSize",speed:"speed",color:"color",switchColor:"switchColor",labels:"labels",fontColor:"fontColor",values:"values",textAlign:"textAlign",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"]},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[ct([{provide:wi,useExisting:Ut(()=>i),multi:!0}]),jt,U],decls:5,vars:16,consts:[[1,"ng-toggle-switch",3,"for"],["type","checkbox","role","checkbox",1,"ng-toggle-switch-input",3,"change","focusin","focusout","checked","disabled"],[1,"ng-toggle-switch-core",3,"ngClass","ngStyle"],[1,"ng-toggle-switch-button",3,"ngStyle"],[4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-left",3,"ngStyle",4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-right",3,"ngStyle",4,"ngIf"],[1,"ng-toggle-switch-label","ng-toggle-left",3,"ngStyle"],[1,"ng-toggle-switch-label","ng-toggle-right",3,"ngStyle"]],template:function(n,r){n&1&&(a(0,"label",0)(1,"input",1),v("change",function(l){return r.toggle(l)})("focusin",function(l){return r.onFocus(l)})("focusout",function(l){return r.onFocusout(l)}),s(),a(2,"div",2),g(3,"div",3),s(),S(4,w7,3,2,"ng-container",4),s()),n&2&&(p("for",r.id),Ze("id",r.label),d(),p("checked",r.value)("disabled",r.disabled),Ze("id",r.id)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r.label)("aria-describedby",r.ariaDescribedby)("aria-checked",r.toggled),d(),p("ngClass",ki(14,v7,r.focused))("ngStyle",r.coreStyle),d(),p("ngStyle",r.buttonStyle),d(),p("ngIf",r.labels))},dependencies:[J,ln,X,Th],styles:["label[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.ng-toggle-switch[_ngcontent-%COMP%]{display:inline-block;position:relative;vertical-align:middle;-webkit-user-select:none;user-select:none;font-size:10px;cursor:pointer}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:1px;height:1px}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label[_ngcontent-%COMP%]{position:absolute;top:0;font-weight:600;color:#fff;z-index:1;padding:0 10px;box-sizing:border-box}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-left[_ngcontent-%COMP%]{left:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-right[_ngcontent-%COMP%]{right:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;-webkit-user-select:none;user-select:none}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]   .ng-toggle-switch-button[_ngcontent-%COMP%]{display:block;position:absolute;overflow:hidden;top:0;left:0;border-radius:100%;background-color:#fff;z-index:2}.ng-toggle-switch.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.ng-toggle-focused[_ngcontent-%COMP%]{box-shadow:0 0 4px 3px #999}"]})}}return i})(),vd=i=>typeof i=="object",I7=(i,t)=>vd(i)&&i.hasOwnProperty(t),pn=(i,t,e)=>I7(i,t)?i[t]:e,Pn=i=>`${i}px`,ry=(i,t)=>`translate(${i}, ${t})`,oy=(()=>{class i{static forRoot(e={}){return{ngModule:i,providers:[{provide:Yp,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=_e({type:i})}static{this.\u0275inj=fe({providers:[Yp],imports:[lo]})}}return i})();var A7=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e}),Qp=()=>({unchecked:"#939da2",checked:"#0C574E"}),Kp=()=>({checked:!0,unchecked:!1});function P7(i,t){if(i&1){let e=x();a(0,"button",60),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",61),s()}}function O7(i,t){if(i&1){let e=x();a(0,"button",62),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",63),s()}}function V7(i,t){if(i&1){let e=x();a(0,"div",46)(1,"div",47)(2,"button",48),v("click",function(){f(e);let r=u(2),o=C(61);return _(r.add(o))}),g(3,"i",49),s(),a(4,"button",50),v("click",function(){f(e);let r=u(2),o=C(67);return _(r.show(o))}),g(5,"i",51),s(),a(6,"button",52),v("click",function(){f(e);let r=u(2),o=C(63);return _(r.edit(o))}),g(7,"i",53),s(),a(8,"button",54),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",55),s(),S(10,P7,2,0,"button",56)(11,O7,2,0,"button",57),a(12,"button",58),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",59),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function R7(i,t){if(i&1&&(a(0,"li"),c(1),s()),i&2){let e=t.$implicit;d(),O(e==null||e.unite_admin==null?null:e.unite_admin.libelle)}}function F7(i,t){if(i&1){let e=x();a(0,"tr",39)(1,"td",40)(2,"div",41)(3,"input",42),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,V7,14,2,"div",43),s(),a(5,"td"),c(6),s(),a(7,"td"),g(8,"p",44),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s(),a(13,"td"),c(14),s(),a(15,"td")(16,"b"),c(17,"Point d'entr\xE9e central"),s(),g(18,"br"),c(19),g(20,"br"),a(21,"b"),c(22,"Point d'entr\xE9e Secondaire"),s(),g(23,"br")(24,"br"),a(25,"ul"),S(26,R7,2,1,"li",45),s()(),a(27,"td"),c(28),s(),a(29,"td"),c(30),s(),a(31,"td"),c(32),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.name),d(2),p("innerHTML",e==null?null:e.desc,ho),d(2),O(n.getContentType(e==null?null:e.content_type)),d(2),O(e==null||e.unite_admin==null?null:e.unite_admin.libelle),d(2),O(e==null||e.signer2==null?null:e.signer2.libelle),d(5),H(" ",e==null||e.start_point2==null?null:e.start_point2.libelle," "),d(7),p("ngForOf",e==null?null:e.start_points),d(2),O(e!=null&&e.need_meeting?"oui":"non"),d(2),O(e!=null&&e.need_validation?"oui":"non"),d(2),H("",e==null?null:e.delay," jr(s)")}}function N7(i,t){if(i&1){let e=x();a(0,"tr",64)(1,"td",65)(2,"div",66),g(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function L7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function B7(i,t){if(i&1&&(a(0,"div",77)(1,"label",78),c(2,"Entit\xE9 Admin"),s(),a(3,"select",106,5),S(5,L7,2,2,"option",82),s()()),i&2){let e=u(2);d(5),p("ngForOf",e.data3)}}function j7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function z7(i,t){i&1&&(a(0,"small",110),c(1,"Le libell\xE9 est requis."),s())}function H7(i,t){if(i&1&&(a(0,"span",108),S(1,z7,2,0,"small",109),s()),i&2){u();let e=C(23);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function U7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function W7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function q7(i,t){if(i&1&&(a(0,"ng-option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function G7(i,t){if(i&1){let e=x();a(0,"form",71,4),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de prestation"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Code de la prestation"),s(),g(11,"input",79),s(),S(12,B7,6,1,"div",80),a(13,"div",77)(14,"label",78),c(15,"Structure"),s(),a(16,"select",81,5),S(18,j7,2,2,"option",82),s()(),a(19,"div",77)(20,"label",78),c(21,"Libell\xE9"),s(),g(22,"input",83,6),S(24,H7,2,1,"span",84),s(),a(25,"div",77)(26,"label",85),c(27,"Laissez une description de la prestation"),s(),g(28,"textarea",86),s(),a(29,"div",77)(30,"label",78),c(31,"Signataire"),s(),a(32,"select",87,5),S(34,U7,2,2,"option",82),s()(),a(35,"div",77)(36,"label",78),c(37,"Point d'entr\xE9e"),s(),a(38,"select",88,5),S(40,W7,2,2,"option",82),s()(),a(41,"div",77)(42,"label",78),c(43,"Type de contenu"),s(),a(44,"select",89,5)(46,"option",90),c(47,"A \xE9diter"),s(),a(48,"option",91),c(49,"A Charger"),s(),a(50,"option",92),c(51,"Pas de contenu"),s()()(),a(52,"div",77)(53,"label",78),c(54,"N\xE9cessit\xE9 de rendez vous pour cette prestation ?"),s(),a(55,"select",93,5)(57,"option",91),c(58,"OUI"),s(),a(59,"option",90),c(60,"NON"),s()()(),a(61,"div",77)(62,"label",78),c(63,"Besoin de validation pour chargement de pi\xE8ce finale"),s(),a(64,"select",94,5)(66,"option",91),c(67,"OUI"),s(),a(68,"option",90),c(69,"NON"),s()()(),a(70,"div",77)(71,"label",78),c(72,"D\xE9livrance automatique"),s(),a(73,"select",95,5)(75,"option",91),c(76,"OUI"),s(),a(77,"option",90),c(78,"NON"),s()()(),a(79,"div",96)(80,"label",85),c(81,"Unit\xE9 signataire "),a(82,"span",97),c(83,"(*)"),s()(),a(84,"ng-select",98),S(85,q7,2,2,"ng-option",82),s()(),a(86,"div",77)(87,"label",78),c(88,"G\xE9n\xE9ration de librable n\xE9cessaire"),s(),a(89,"select",99,5)(91,"option",91),c(92,"OUI"),s(),a(93,"option",90),c(94,"NON"),s()()(),a(95,"div",77)(96,"label",78),c(97,"D\xE9lai avant mise en abandon"),s(),g(98,"input",100,6),s(),a(100,"div",101)(101,"span"),c(102,"Formulaire sur le portail national ?"),s(),g(103,"ng-toggle",102),s()(),a(104,"div",103)(105,"button",104),c(106,"Sauvegarder "),g(107,"app-loading",105),s()()()}if(i&2){let e=C(1),n=C(23),r=u();d(12),p("ngIf",r.roles=="Admin national"),d(6),p("ngForOf",r.data2),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(10),p("ngForOf",r.data2),d(6),p("ngForOf",r.data4),d(45),p("ngForOf",r.data2),d(18),p("color",ri(10,Qp))("values",ri(11,Kp)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function $7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function Y7(i,t){if(i&1){let e=x();a(0,"div",77)(1,"label",78),c(2,"Entit\xE9 Admin"),s(),a(3,"select",126,5),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),_(r)}),S(5,$7,2,2,"option",82),s()()}if(i&2){let e=u(2);d(3),D("ngModel",e.selected_data.entite_admin_id),d(2),p("ngForOf",e.data3)}}function Q7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function K7(i,t){i&1&&(a(0,"small",110),c(1,"Le libell\xE9 est requis."),s())}function J7(i,t){if(i&1&&(a(0,"span",108),S(1,K7,2,0,"small",109),s()),i&2){u();let e=C(23);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function Z7(i,t){if(i&1&&(a(0,"ng-option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function X7(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function e8(i,t){if(i&1){let e=x();a(0,"div",77)(1,"label",78),c(2,"Point d'entr\xE9e"),s(),a(3,"select",127,5),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.start_point2.id,r)||(o.selected_data.start_point2.id=r),_(r)}),S(5,X7,2,2,"option",82),s()()}if(i&2){let e=u(2);d(3),D("ngModel",e.selected_data.start_point2.id),d(2),p("ngForOf",e.data4)}}function t8(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function i8(i,t){if(i&1&&(a(0,"div",77)(1,"label",78),c(2,"Point d'entr\xE9e"),s(),a(3,"select",88,5),S(5,t8,2,2,"option",82),s()()),i&2){let e=u(2);d(5),p("ngForOf",e.data4)}}function n8(i,t){if(i&1){let e=x();a(0,"form",71,7),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification de prestation"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Code de la prestation"),s(),a(11,"input",111),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.code,r)||(o.selected_data.code=r),_(r)}),s()(),S(12,Y7,6,2,"div",80),a(13,"div",77)(14,"label",78),c(15,"Structure"),s(),a(16,"select",112,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.unite_admin_id,r)||(o.selected_data.unite_admin_id=r),_(r)}),S(18,Q7,2,2,"option",82),s()(),a(19,"div",77)(20,"label",78),c(21,"Libell\xE9"),s(),a(22,"input",113,6),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s(),S(24,J7,2,1,"span",84),s(),a(25,"div",77)(26,"label",85),c(27,"Laissez une description de la prestation"),s(),a(28,"textarea",114),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.desc,r)||(o.selected_data.desc=r),_(r)}),s()(),a(29,"div",96)(30,"label",85),c(31,"Unit\xE9 signataire "),a(32,"span",97),c(33,"(*)"),s()(),a(34,"ng-select",115),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.signer2.id,r)||(o.selected_data.signer2.id=r),_(r)}),S(35,Z7,2,2,"ng-option",82),s()(),S(36,e8,6,2,"div",80)(37,i8,6,1,"div",80),a(38,"div",77)(39,"label",78),c(40,"Type de contenu"),s(),a(41,"select",116,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.content_type,r)||(o.selected_data.content_type=r),_(r)}),a(43,"option",90),c(44,"A \xE9diter"),s(),a(45,"option",91),c(46,"A Charger"),s(),a(47,"option",92),c(48,"Pas de contenu"),s()()(),a(49,"div",77)(50,"label",78),c(51,"N\xE9cessit\xE9 de rendez vous pour cette prestation ?"),s(),a(52,"select",117,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.need_meeting,r)||(o.selected_data.need_meeting=r),_(r)}),a(54,"option",91),c(55,"OUI"),s(),a(56,"option",90),c(57,"NON"),s()()(),a(58,"div",77)(59,"label",78),c(60,"Besoin de validation pour chargement de pi\xE8ce finale"),s(),a(61,"select",118,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.need_validation,r)||(o.selected_data.need_validation=r),_(r)}),a(63,"option",91),c(64,"OUI"),s(),a(65,"option",90),c(66,"NON"),s()()(),a(67,"div",77)(68,"label",78),c(69,"D\xE9livrance automatique"),s(),a(70,"select",119,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.is_automatic_delivered,r)||(o.selected_data.is_automatic_delivered=r),_(r)}),a(72,"option",91),c(73,"OUI"),s(),a(74,"option",90),c(75,"NON"),s()()(),a(76,"div",77)(77,"label",78),c(78,"Unit\xE9 signataire"),s(),a(79,"select",120,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.signer,r)||(o.selected_data.signer=r),_(r)}),a(81,"option",91),c(82,"OUI"),s(),a(83,"option",90),c(84,"NON"),s()()(),a(85,"div",77)(86,"label",78),c(87,"G\xE9n\xE9ration de librable n\xE9cessaire"),s(),a(88,"select",121,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.needOut,r)||(o.selected_data.needOut=r),_(r)}),a(90,"option",91),c(91,"OUI"),s(),a(92,"option",90),c(93,"NON"),s()()(),a(94,"div",77)(95,"label",78),c(96,"D\xE9lai avant mise en abandon"),s(),a(97,"input",122,6),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.delay,r)||(o.selected_data.delay=r),_(r)}),s()(),a(99,"div",123)(100,"span"),c(101,"Prestation \xE0 d\xE9livrance auto"),s(),a(102,"ng-toggle",124),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.is_automatic_delivered,r)||(o.selected_data.is_automatic_delivered=r),_(r)}),s()(),a(103,"div",101)(104,"span"),c(105,"Formulaire sur le portail national ?"),s(),a(106,"ng-toggle",125),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.from_pns,r)||(o.selected_data.from_pns=r),_(r)}),s()()(),a(107,"div",103)(108,"button",104),c(109,"Sauvegarder "),g(110,"app-loading",105),s()()()}if(i&2){let e=C(1),n=C(23),r=u();d(11),D("ngModel",r.selected_data.code),d(),p("ngIf",r.roles=="Admin national"),d(4),D("ngModel",r.selected_data.unite_admin_id),d(2),p("ngForOf",r.data4),d(4),D("ngModel",r.selected_data.name),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(4),D("ngModel",r.selected_data.desc),d(6),D("ngModel",r.selected_data.signer2.id),d(),p("ngForOf",r.data2),d(),p("ngIf",r.selected_data.start_point!=null),d(),p("ngIf",r.selected_data.start_point==null),d(4),D("ngModel",r.selected_data.content_type),d(11),D("ngModel",r.selected_data.need_meeting),d(9),D("ngModel",r.selected_data.need_validation),d(9),D("ngModel",r.selected_data.is_automatic_delivered),d(9),D("ngModel",r.selected_data.signer),d(9),D("ngModel",r.selected_data.needOut),d(9),D("ngModel",r.selected_data.delay),d(5),D("ngModel",r.selected_data.is_automatic_delivered),p("color",ri(26,Qp))("values",ri(27,Kp)),d(4),D("ngModel",r.selected_data.from_pns),p("color",ri(28,Qp))("values",ri(29,Kp)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function r8(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function o8(i,t){if(i&1&&(a(0,"option",107),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function a8(i,t){if(i&1){let e=x();a(0,"form",71,8),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.addSP(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Ajout des points d'entr\xE9e"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Prestation"),s(),a(11,"select",128,5),S(13,r8,2,2,"option",82),s()(),a(14,"div",77)(15,"label",78),c(16,"Unit\xE9 administrative"),s(),a(17,"select",81,5),S(19,o8,2,2,"option",82),s()()(),a(20,"div",103)(21,"button",104),c(22,"Sauvegarder "),g(23,"app-loading",105),s()()()}if(i&2){let e=C(1),n=u();d(13),p("ngForOf",n.data),d(6),p("ngForOf",n.data4),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function s8(i,t){if(i&1){let e=x();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",129),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",76),g(5,"div",130),s()}}var yd=class i{constructor(t,e,n,r,o,l,m){this.unityAdminService=t;this.prestationService=e;this.locService=n;this.entityService=r;this.modalService=l;this.toastrService=m;o.backdrop="static",o.keyboard=!1}isDtInitialized=!1;selected_data;user;roles;data=[];permissions=[];data2=[];data3=[];data4=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;exampleData=[];options;value=[];selectedFilter="";ngOnInit(){this.roles=this.locService.get(W.role),this.all(),this.getUnityAdmins(),this.getEntities(),this.getUnityAdminsAll(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.options={width:"500",multiple:!0,tags:!0}}all(){this.loading2=!0,this.prestationService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}getUnityAdmins(){this.unityAdminService.getPrincipal().subscribe(t=>{this.data2=t.data},t=>{})}getUnityAdminsAll(){this.unityAdminService.getAll().subscribe(t=>{this.data4=t.data,this.data4.forEach(e=>{this.exampleData.push({id:e.id,text:e.libelle})})},t=>{})}checked(t){this.selected_data=t}getEntities(){this.entityService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}open(t){this.modalService.open(t)}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.prestationService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Enregistrement effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.prestationService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.prestationService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all(),this.toastrService.success("Suppression effectu\xE9e avec succ\xE8s")},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.prestationService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.prestationService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}getContentType(t){switch(t){case 0:return"A \xE9diter";case 1:return"A Charger";case 2:return"Pas de contenu";default:return"A \xE9diter"}}addSP(t){this.loading=!0,this.prestationService.saveStartPoint(t).subscribe(e=>{this.modalService.dismissAll(),this.all(),this.loading=!1},e=>{this.loading=!1})}static \u0275fac=function(e){return new(e||i)(E(tn),E(en),E(te),E(An),E(Je),E(de),E(ne))};static \u0275cmp=j({type:i,selectors:[["ngx-prestation"]],standalone:!0,features:[U],decls:68,vars:24,consts:[["addContent",""],["editContent",""],["dialogSP",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["editForm","ngForm"],["addSPForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","code","ngModel","",1,"form-control"],["class","form-group",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","unite_admin_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["for",""],["name","desc","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","signer","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","start_point","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","content_type","ngModel","",1,"form-control"],["value","0"],["value","1"],["value","2"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_meeting","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_validation","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","is_automatic_delivered","ngModel","",1,"form-control"],[1,"form-group","col-12","mb-3"],[1,"text-danger","ml-2"],["name","signer","ngModel",""],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","needOut","ngModel","",1,"form-control"],["type","number","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","delay","ngModel","","min","1","max","30",1,"form-control"],[1,"d-flex","justify-content-between"],["name","from_pns","ngModel","",3,"color","values"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id","ngModel","",1,"form-control"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","code",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","unite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["name","desc",1,"form-control",3,"ngModelChange","ngModel"],["name","signer","name","signer",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","content_type",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_meeting",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_validation",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","is_automatic_delivered",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","signer",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","needOut",1,"form-control",3,"ngModelChange","ngModel"],["type","number","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","delay","min","1","max","30",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["name","is_automatic_delivered",3,"ngModelChange","ngModel","color","values"],["name","from_pns",3,"ngModelChange","ngModel","color","values"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","start_point",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id","ngModel","",1,"form-control"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",9),c(1,"Liste des agents"),s(),a(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14)(7,"button",15),v("click",function(){f(r);let l=C(61);return _(n.add(l))}),g(8,"i",16),c(9," Ajouter "),s(),a(10,"button",17),v("click",function(){f(r);let l=C(65);return _(n.open(l))}),c(11,"Ajouter de nouveaux points d'entr\xE9es"),s(),a(12,"div",18)(13,"div",19)(14,"select",20),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(15,"option",21),c(16,"Filtrer Par"),s(),a(17,"option",22),c(18,"R\xF4le"),s(),a(19,"option",23),c(20,"Statut"),s()(),a(21,"input",24),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(22,"button",25),v("click",function(){return f(r),_(n.resetSearch())}),g(23,"i",26),s()()()()(),a(24,"div",27)(25,"div",28)(26,"p",29),g(27,"i",30),c(28),s()(),a(29,"div",31)(30,"table",32)(31,"thead")(32,"tr")(33,"th",33),c(34,"#"),s(),a(35,"th",34),c(36,"Libell\xE9"),s(),a(37,"th",34),c(38,"Description"),s(),a(39,"th",34),c(40,"type de contenu"),s(),a(41,"th",34),c(42,"Structure"),s(),a(43,"th",34),c(44,"Signataire"),s(),a(45,"th",34),c(46,"Point d'entr\xE9e"),s(),a(47,"th",34),c(48,"N\xE9ceesit\xE9 de rencontre"),s(),a(49,"th",34),c(50,"Besoin de validation"),s(),a(51,"th",34),c(52,"Mise en abandon"),s()()(),a(53,"tbody"),S(54,F7,33,15,"tr",35),$(55,"paginate"),$(56,"sampleSearch"),S(57,N7,9,0,"tr",36),s()()(),a(58,"div",37)(59,"pagination-controls",38),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(60,G7,108,12,"ng-template",null,0,V)(62,n8,111,30,"ng-template",null,1,V)(64,a8,24,4,"ng-template",null,2,V)(66,s8,6,0,"ng-template",null,3,V)}e&2&&(d(14),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(26),p("ngForOf",Y(56,17,Y(55,14,n.data,Ve(20,A7,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,ju,Ne,Le,ae,ue,Ce,Wu,Uu,le,he,ge,we,Ae,be,Xi,Hi,ve,Be,je,ye,lo]})};var xd=class i{constructor(t){this.http=t}url=F.toApiUrl("profiles");getAll(){return this.http.get(this.url,F.addAction("list"))}store(t){return this.http.post(this.url,t,F.addAction("add"))}copyStore(t){return this.http.post(this.url+"-copy",t,F.addAction("add"))}show(t){return this.http.get(`${this.url}/${t}`,F.addAction("show"))}update(t,e){return this.http.patch(`${this.url}/${e}`,t,F.addAction("edit"))}delete(t){return this.http.delete(`${this.url}/${t}`,F.addAction("delete"))}state(t){return this.http.get(`${this.url}/${t}/status`,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var ay="primary",Gs=class i{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new i(t)}},wd=(()=>{class i{constructor(){this.spinnerObservable=new hn(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(xi(n=>n&&n.name===e))}show(e=ay,n){return new Promise((r,o)=>{setTimeout(()=>{n&&Object.keys(n).length?(n.name=e,this.spinnerObservable.next(new Gs(_t(Ie({},n),{show:!0}))),r(!0)):(this.spinnerObservable.next(new Gs({name:e,show:!0})),r(!0))},10)})}hide(e=ay,n=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new Gs({name:e,show:!1})),r(!0)},n)})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),lae=new gt("NGX_SPINNER_CONFIG");function c8(i,t){if(i&1){let e=x();a(0,"button",14),v("click",function(){f(e);let r=u().$implicit,o=u(),l=C(6);return _(o.open(l,r))}),c(1,"Ajouter un droit "),s()}}function d8(i,t){if(i&1){let e=x();a(0,"div",15)(1,"div",16),g(2,"i",17),c(3),s(),a(4,"div",18)(5,"span",19),v("click",function(){let r=f(e).$implicit,o=u().$implicit,l=u();return _(l.revoke(o.id,r.id))}),a(6,"u"),c(7,"Retirer"),s()()(),g(8,"hr",20),s()}if(i&2){let e=t.$implicit;d(3),H(" ",e.name," ")}}function m8(i,t){if(i&1){let e=x();a(0,"div",5)(1,"div",6)(2,"h5"),c(3),s(),a(4,"div",7)(5,"label",8)(6,"strong"),c(7,"Rechercher:"),s()(),a(8,"input",9),P("ngModelChange",function(r){f(e);let o=u();return A(o.search_text,r)||(o.search_text=r),_(r)}),s()(),a(9,"button",10),v("click",function(){let r=f(e).$implicit,o=u(),l=C(8);return _(o.open(l,r))}),c(10,"Copier vers "),s(),S(11,c8,2,0,"button",11),s(),a(12,"div",12),S(13,d8,9,1,"div",13),$(14,"sampleSearch"),s()()}if(i&2){let e=t.$implicit,n=u();d(3),H(" ",e.name,""),d(5),D("ngModel",n.search_text),d(3),p("ngIf",n.buttonsPermission.add),d(2),p("ngForOf",Y(14,4,e.permissions,n.search_text))}}function u8(i,t){if(i&1&&(a(0,"ng-option",31),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function p8(i,t){if(i&1){let e=x();a(0,"form",21,2),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.store(o.value,r))}),a(2,"div",22)(3,"h6",23),c(4," Ajout de droit"),s(),a(5,"button",24),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",25)(7,"div",26)(8,"label",8),c(9,"Permission"),s(),a(10,"ng-select",27),S(11,u8,2,2,"ng-option",28),s()(),a(12,"div")(13,"button",29),c(14,"Sauvegarder "),g(15,"app-loading",30),s()()()()}if(i&2){let e=C(1),n=u();d(10),p("multiple",!0),d(),p("ngForOf",n.permissions),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function h8(i,t){if(i&1&&(a(0,"ng-option",31),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function f8(i,t){if(i&1){let e=x();a(0,"form",21,2),v("ngSubmit",function(){let r=f(e).dialogRef,o=C(1),l=u();return _(l.copyStore(o.value,r))}),a(2,"div",22)(3,"h6",23),c(4," Copie de droit vers "),s(),a(5,"button",24),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",25)(7,"div",26)(8,"label",8),c(9,"R\xF4le"),s(),a(10,"ng-select",32),S(11,h8,2,2,"ng-option",28),s()(),a(12,"div")(13,"button",29),c(14,"Sauvegarder "),g(15,"app-loading",30),s()()()()}if(i&2){let e=C(1),n=u();d(11),p("ngForOf",n.data),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}var $s=class i{constructor(t,e,n,r,o,l){this.locService=t;this.profileService=e;this.toastrService=n;this.dialogService=r;this.modalService=o;this.spinnerService=l}selected_data;selectedId=null;is_active=null;buttonsPermission;data=[];user;actions;features=[];permissions=[];permissionsChosen=[];loading=!1;loading2=!1;tag="admin-profiles";search_text="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0]?.permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.permissionsChosen=[],this.loading2=!0,this.spinnerService.show(),this.profileService.getAll().subscribe(t=>{this.data=t.data?.roles,this.permissions=t.data?.permissions,this.loading2=!1,this.spinnerService.hide(),this.selectedId=null},t=>{this.spinnerService.hide(),this.loading2=!1})}getJson(t){return JSON.parse(t)}checked(t){this.selected_data=t}open(t,e){this.selected_data=e,this.dialogService.open(t,{size:"lg"})}store(t,e){this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),this.loading=!0,t.id=this.selected_data.id,this.profileService.store(t).subscribe(n=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Profil","Ajout de droit")},n=>{this.loading=!1,ni.showError("Gestion des profils",n)})}copyStore(t,e){this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),t.id=this.selected_data.id,this.loading=!0,this.profileService.copyStore(t).subscribe(n=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Profil","Ajout de droit")},n=>{this.loading=!1,ni.showError("Gestion des profils",n)})}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}revoke(t,e){this.loading=!0,confirm("Voulez vous retirer ce droit ?")&&(this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),this.profileService.update({id:e},t).subscribe(n=>{this.loading=!1,this.all(),this.toastrService.success("Profil","Retrait de droit")},n=>{this.loading=!1,ni.showError("Gestion des profils",n)}))}getActions(t){console.log(t),this.actions=JSON.parse(this.permissions.find(e=>e.id==t)?.actions??""),console.log(this.actions)}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.profileService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}static \u0275fac=function(e){return new(e||i)(E(te),E(xd),E(ne),E(de),E(de),E(wd))};static \u0275cmp=j({type:i,selectors:[["ngx-profile"]],standalone:!0,features:[U],decls:9,vars:1,consts:[["addContent",""],["dialog2",""],["addForm","ngForm"],[1,"text-center","mb-3"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header","d-flex","flex-column","flex-md-row","justify-content-md-between"],[1,"form-group"],["for",""],["type","text","name","search_text",3,"ngModelChange","ngModel"],[1,"btn","btn-warning","btn-sm","mb-1",3,"click"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"card-body",2,"height","50vh","overflow-y","scroll","overflow-x","hidden"],["class","row",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row"],[1,"col-12","col-md-11"],["icon","arrowhead-right-outline"],[1,"col-12","col-md-1"],[1,"float-right","text-danger","hand",3,"click"],[1,"col-12"],[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-3"],["name","permissions","ngModel","",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["name","role_id","ngModel",""]],template:function(e,n){e&1&&(a(0,"h2",3),c(1,"R\xF4les & Permissions"),s(),a(2,"div")(3,"div"),S(4,m8,15,7,"div",4),s()(),S(5,p8,16,4,"ng-template",null,0,V)(7,f8,16,3,"ng-template",null,1,V)),e&2&&(d(4),p("ngForOf",n.data))},dependencies:[J,me,X,ie,pe,oe,ae,ue,le,he,ge,we,Ae,ve,be,Xi,Hi],styles:[".hand[_ngcontent-%COMP%]{cursor:pointer}"]})};var pa=class i{constructor(t){this.http=t}url=F.toApiUrl("roles/");getAll(){return this.http.get(`${this.url}`,F.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,F.addAction("add"))}update(t,e){return this.http.put(`${this.url}${t}/`,e,F.addAction("list"))}delete(t){return this.http.delete(`${this.url}${t}`,F.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,F.addAction("show"))}copy(t){return this.http.post(`${F.toApiUrl("roles-windows-copy")}`,t,F.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var _8=["contentAdd"],g8=["contentEdit"],b8=["contentShow"],v8=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function y8(i,t){if(i&1){let e=x();a(0,"button",22),v("click",function(){f(e);let r=u(),o=C(29);return _(r.add(o))}),c(1,"Ajouter"),s()}}function x8(i,t){if(i&1){let e=x();a(0,"button",36),v("click",function(){f(e);let r=u(3),o=C(37);return _(r.show(o))}),g(1,"i",37),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function w8(i,t){if(i&1){let e=x();a(0,"button",38),v("click",function(){f(e);let r=u(3),o=C(33);return _(r.edit(o))}),g(1,"i",39),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function C8(i,t){if(i&1){let e=x();a(0,"button",40),v("click",function(){f(e);let r=u(3);return _(r.delete())}),g(1,"i",41),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function S8(i,t){if(i&1){let e=x();a(0,"button",42),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",43),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function E8(i,t){if(i&1){let e=x();a(0,"button",44),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",45),s()}if(i&2){let e=u(3);p("disabled",e.loading)}}function k8(i,t){if(i&1){let e=x();a(0,"div",27)(1,"button",28),v("click",function(){f(e);let r=u(2),o=C(29);return _(r.add(o))}),g(2,"i",29),s(),S(3,x8,2,1,"button",30)(4,w8,2,1,"button",31)(5,C8,2,1,"button",32)(6,S8,2,1,"button",33)(7,E8,2,1,"button",34),a(8,"button",35),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),s()()}if(i&2){let e=u(2);d(),p("disabled",e.loading),d(2),p("ngIf",e.buttonsPermission.show),d(),p("ngIf",e.buttonsPermission.edit),d(),p("ngIf",e.buttonsPermission.delete),d(),p("ngIf",e.is_active!=null&&!e.is_active),d(),p("ngIf",e.is_active!=null&&e.is_active)}}function T8(i,t){if(i&1){let e=x();a(0,"tr")(1,"td",23)(2,"div",24)(3,"input",25),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,k8,9,6,"div",26),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e.name)}}function M8(i,t){if(i&1){let e=x();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.create(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Cr\xE9er un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",52)(9,"label",53),c(10,"Libell\xE9"),s(),g(11,"input",54),s()(),a(12,"div",55)(13,"div",56)(14,"label",57),c(15," Fixer ce r\xF4le ? "),s(),g(16,"input",58),s()()(),a(17,"div",59)(18,"button",60),c(19,"Sauvegarder "),g(20,"app-loading",61),s()()()}if(i&2){let e=C(1),n=u();d(18),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function I8(i,t){if(i&1&&(a(0,"ng-option",66),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function D8(i,t){if(i&1&&(a(0,"ng-option",66),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function A8(i,t){if(i&1){let e=x();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.copy(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Copier un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",62)(9,"label",53),c(10,"Ancien r\xF4le"),s(),a(11,"ng-select",63),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.id,r)||(o.selected_data.id=r),_(r)}),S(12,I8,2,2,"ng-option",64),s()(),a(13,"div",62)(14,"label",53),c(15,"Ancien r\xF4le"),s(),a(16,"ng-select",65),S(17,D8,2,2,"ng-option",64),s()()()(),a(18,"div",59)(19,"button",60),c(20,"Faire la copie "),g(21,"app-loading",61),s()()()}if(i&2){let e=C(1),n=u();d(11),D("ngModel",n.selected_data.id),d(),p("ngForOf",n.data),d(5),p("ngForOf",n.data),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function P8(i,t){if(i&1){let e=x();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Modifiier un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",52)(9,"label",53),c(10,"Libell\xE9"),s(),a(11,"input",67),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s()()()(),a(12,"div",59)(13,"button",60),c(14,"Sauvegarder "),g(15,"app-loading",61),s()()()}if(i&2){let e=C(1),n=u();d(11),D("ngModel",n.selected_data.name),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function O8(i,t){if(i&1&&(a(0,"li",76),c(1),s()),i&2){let e=u().$implicit;d(),O(e.title)}}function V8(i,t){if(i&1&&(a(0,"li")(1,"a",79),g(2,"i",80),c(3),s()()),i&2){let e=u().$implicit;d(),p("routerLink",e.route),d(2),H("",e.name," ")}}function R8(i,t){if(i&1&&(a(0,"li")(1,"a",85),g(2,"i",86),c(3),s()()),i&2){let e=u().$implicit;d(),sn("routerLink",e==null?null:e.route),d(2),H("",e==null?null:e.name," ")}}function F8(i,t){if(i&1&&(bt(0),S(1,R8,4,2,"li",77),vt()),i&2){let e=t.$implicit;d(),p("ngIf",e.status)}}function N8(i,t){if(i&1&&(a(0,"li",14)(1,"a",81),g(2,"i",82),c(3),g(4,"i",83),s(),a(5,"ul",84),S(6,F8,2,1,"ng-container",20),s()()),i&2){let e=u(),n=e.$implicit,r=e.index,o=u().index;d(),bh("aria-controls","collapseExample",r,""),Jd("href","#collapseExample",o,"",r,"",fo),d(2),H("",n.name," "),d(2),Jd("id","collapseExample",o,"",r,""),d(),p("ngForOf",n.children)}}function L8(i,t){if(i&1&&(bt(0),S(1,V8,4,2,"li",77)(2,N8,7,10,"li",78),vt()),i&2){let e=t.$implicit;d(),p("ngIf",!e.isTitle&&!e.hasChildren&&e.status),d(),p("ngIf",!e.isTitle&&e.hasChildren&&e.status)}}function B8(i,t){if(i&1&&(bt(0),S(1,O8,2,1,"li",75)(2,L8,3,2,"ng-container",20),vt()),i&2){let e=t.$implicit;d(),p("ngIf",e.status),d(),p("ngForOf",e.elements)}}function j8(i,t){if(i&1){let e=x();a(0,"div",68)(1,"h4",69),c(2,"Visualiseur de menu"),s(),a(3,"button",70),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",71)(5,"div",72)(6,"div",73)(7,"ul",74),S(8,B8,3,2,"ng-container",20),s()()()()}if(i&2){let e=u();d(8),p("ngForOf",e.menu)}}function z8(i,t){if(i&1){let e=x();a(0,"div",47)(1,"h4",48),c(2,"D\xE9tails des informations"),s(),a(3,"button",49),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),g(4,"div",50)}}var Cd=class i{constructor(t,e,n,r,o,l){this.cdRef=t;this.roleService=e;this.router=n;this.toastrService=r;this.modalService=o;this.offcanvasService=l}contentAdd;contentEdit;contentShow;menu=[];selectedId=null;is_active=null;buttonsPermission;actionTemplate;selected_data;loading=!1;tag="admin-roles";title="frontend";search_text="";data=[];pg={pageSize:10,p:0,total:0};ngOnInit(){this.init(),this.buttonsPermission={show:!1,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){this.actionTemplate={add:{type:0,path:this.contentAdd},edit:{type:0,path:this.contentEdit},show:{type:0,path:this.contentShow}},this.cdRef.detectChanges()}init(){this.getAll()}getAll(){this.roleService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll(),this.selectedId=null},t=>{ni.showError("Gestion des r\xF4les",t)})}add(t){this.modalService.open(t,{size:"lg"})}openMenu(t){this.verifyIfElementChecked()&&this.selected_data.windows&&(this.menu=this.selected_data.windows,this.offcanvasService.open(t,{position:"end"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t}create(t){console.log(t),this.loading=!0,t.canOverwrite==""&&(t.canOverwrite=!1),t.guard_name="api",this.roleService.store(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,ni.showError("Gestion des r\xF4les",e)})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}copy(t){this.loading=!0,t.old_id=this.selected_data.id,this.roleService.copy(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,ni.showError("Gestion des r\xF4les",e)})}update(t){console.log(t),this.loading=!0,t.canOverwrite==""&&(t.canOverwrite=!1),t.guard_name="api",this.roleService.update(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,ni.showError("Gestion des r\xF4les",e)})}delete(){se.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.roleService.delete(this.selected_data.id).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{ni.showError("Gestion des r\xF4les",n)})})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.roleService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}getPage(t){this.pg.p=t}goToWindows(){this.router.navigate(["/admin/profiles/"+this.selected_data.id])}static \u0275fac=function(e){return new(e||i)(E(Pt),E(pa),E(He),E(ne),E(de),E(V1))};static \u0275cmp=j({type:i,selectors:[["app-role"]],viewQuery:function(e,n){if(e&1&&(at(_8,5),at(g8,5),at(b8,5)),e&2){let r;Re(r=Fe())&&(n.contentAdd=r.first),Re(r=Fe())&&(n.contentEdit=r.first),Re(r=Fe())&&(n.contentShow=r.first)}},standalone:!0,features:[U],decls:38,vars:23,consts:[["addContent",""],["contentCopy",""],["editContent",""],["contentMenu",""],["showContent",""],["addForm","ngForm"],[1,"text-center","mb-3"],[1,"row"],[1,"card","p-1","mb-3","card"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center"],["name","","id","",1,"form-control","me-2"],["value",""],[1,""],["type","text","name","search_text","placeholder","Rechercher..",1,"input-search",3,"ngModelChange","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[2,"width","10px"],[4,"ngFor","ngForOf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-group"],["for",""],["type","text","name","name","ngModel","",1,"form-control"],[1,"container"],[1,"form-check"],["for","flexCheckChecked",1,"form-check-label","me-5"],["type","checkbox","name","canOverwrite","ngModel","","id","flexCheckChecked",1,"form-check-input"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[1,"form-group","col-12"],["name","old_id","required","","disabled","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","new_id","ngModel","","required",""],[3,"value"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"offcanvas-header"],[1,"offcanvas-title"],["id","closePDFBtn","type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"scrollbar-sidebar","ag-bg-red",2,"overflow","scroll","height","90vh"],[1,"app-sidebar__inner"],[1,"vertical-nav-menu"],["class","app-sidebar__heading g-text-yellow",4,"ngIf"],[1,"app-sidebar__heading","g-text-yellow"],[4,"ngIf"],["class","",4,"ngIf"],["routerLinkActive","mm-active",1,"text-white",3,"routerLink"],[1,"metismenu-icon","pe-7s-graph2"],["data-bs-toggle","collapse","role","button","aria-expanded","false",1,"text-white",3,"href"],[1,"metismenu-icon","pe-7s-rocket"],[1,"metismenu-state-icon","pe-7s-angle-down","caret-left"],[1,"collapse",3,"id"],["routerLinkActive","mm-active",1,"",2,"color","aliceblue",3,"routerLink"],[1,"metismenu-icon"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des r\xF4les"),s(),a(2,"div",7)(3,"div",8)(4,"div",9),S(5,y8,2,0,"button",10),a(6,"div",11)(7,"select",12)(8,"option",13),c(9,"Filtrer"),s()()(),a(10,"div",14)(11,"input",15),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),s()()(),a(12,"div",16)(13,"p"),c(14),s(),a(15,"div",17)(16,"table",18)(17,"thead",14)(18,"tr")(19,"th",19),c(20,"#"),s(),a(21,"th"),c(22,"Libell\xE9"),s()()(),a(23,"tbody"),S(24,T8,7,6,"tr",20),$(25,"sampleSearch"),$(26,"paginate"),s()()(),a(27,"pagination-controls",21),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()(),S(28,M8,21,2,"ng-template",null,0,V)(30,A8,22,5,"ng-template",null,1,V)(32,P8,16,3,"ng-template",null,2,V)(34,j8,9,1,"ng-template",null,3,V)(36,z8,5,0,"ng-template",null,4,V)}e&2&&(d(5),p("ngIf",n.buttonsPermission.add),d(6),D("ngModel",n.search_text),d(3),H("",n.data.length," \xE9l\xE9ment(s)"),d(10),p("ngForOf",Y(26,16,Y(25,13,n.data,n.search_text),Ve(19,v8,n.pg.pageSize,n.pg.p,n.pg.total))),d(3),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,ms,Le,ae,ue,Ce,le,he,ge,we,Ae,be,Xi,Hi,ve,Be,je,Ti,$i,il,ye,Tr],styles:[".vertical-nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.mm-active[_ngcontent-%COMP%], .vertical-nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c14f44!important}"]})};function H8(i,t){if(i&1&&(a(0,"p",23)(1,"ngb-alert",24),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function U8(i,t){if(i&1){let e=x();a(0,"form",15,1),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),S(2,H8,3,2,"p",16),a(3,"div",17)(4,"label",18),c(5,"Matricule"),s(),a(6,"input",19,2),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.numero_matricule,r)||(o.selected_data.numero_matricule=r),_(r)}),s()(),a(8,"div",17)(9,"label",18),c(10,"Nom"),s(),a(11,"input",20,3),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.lastname,r)||(o.selected_data.lastname=r),_(r)}),s()(),a(13,"div",17)(14,"label",18),c(15,"Pr\xE9noms"),s(),a(16,"input",21,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.firstname,r)||(o.selected_data.firstname=r),_(r)}),s()(),a(18,"button",22),c(19,"Sauvegarder "),s()()}if(i&2){let e=C(1),n=u();d(2),p("ngIf",n.error!=""),d(4),D("ngModel",n.selected_data.numero_matricule),d(5),D("ngModel",n.selected_data.lastname),d(5),D("ngModel",n.selected_data.firstname),d(2),p("disabled",e.invalid||n.loading)}}function W8(i,t){if(i&1){let e=x();a(0,"form",15,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.changePassword(r.value,r))}),a(2,"div",17)(3,"label",18),c(4,"Votre mot de passe"),s(),g(5,"input",25),s(),a(6,"div",17)(7,"label",18),c(8,"Nouveau"),s(),g(9,"input",26),s(),a(10,"div",17)(11,"label",18),c(12,"Confirmer"),s(),g(13,"input",27),s(),a(14,"button",22),c(15,"Sauvegarder "),s()()}if(i&2){let e=C(1),n=u();d(14),p("disabled",e.invalid||n.loading)}}function q8(i,t){if(i&1){let e=x();a(0,"div",28)(1,"button",29),v("click",function(){f(e);let r=u();return _(r.generateCode())}),c(2,"Envoyer le lien de g\xE9n\xE9ration du code de signature "),g(3,"app-loading",30),s()(),a(4,"div",31)(5,"form",15,6),v("ngSubmit",function(){f(e);let r=C(6),o=u();return _(o.changeCode(r.value,r))}),a(7,"div",17)(8,"label",18),c(9,"Saisissez le code"),s(),g(10,"input",26),s(),a(11,"div",17)(12,"label",18),c(13,"Retapez le code"),s(),g(14,"input",27),s(),a(15,"button",22),c(16,"Sauvegarder "),s()()()}if(i&2){let e=C(6),n=u();d(),p("disabled",n.loading),d(2),p("isVisible",n.loading),d(12),p("disabled",e.invalid||n.loading)}}var Ys=class i{constructor(t,e,n,r,o,l,m){this.localService=t;this.offcerService=e;this.authService=n;this.toastrService=r;this.router=o;this.auth=l;this.router2=m}role="";error="";user;loading=!1;selected_data={numero_matricule:""};fileUploaded;token;active=1;buttonsPermission;ngOnInit(){this.user=this.localService.get(W.userName),this.role=this.user?.roles[0].name,this.selected_data=this.user?.agent,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}update(t){this.loading=!0,this.offcerService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}upload(t){this.fileUploaded=t.target.files[0]}changePassword(t,e){this.loading=!0;var n=new FormData;n.append("old_password",t.old_password),n.append("new_password",t.password),n.append("confirm_password",t.c_password),this.authService.changePassword(n).subscribe(r=>{this.loading=!1,this.toastrService.success("Modification effectu\xE9e avec succ\xE8s"),e.resetForm(),this.auth.logout().subscribe(o=>{console.log(o),o&&(localStorage.removeItem(W.token),localStorage.removeItem(W.user),localStorage.removeItem(W.role),this.router2.navigate(["/admin"]))},o=>{console.log(o)})},r=>{this.loading=!1})}generateCode(){this.authService.sendLink().subscribe(t=>{this.loading=!1,this.toastrService.success("Veuillez consultez votre bo\xEFte mail!")},t=>{this.loading=!1})}changeCode(t,e){t.c_password!=t.password&&this.toastrService.error("Code non identique"),this.loading=!0;var n=new FormData;n.append("password",t.password),n.append("c_password",t.c_password),n.append("token",this.token),this.authService.changeCode(n).subscribe(r=>{this.loading=!1,e.reset(),this.active=1,this.toastrService.success("Code de signature modifi\xE9 avec succ\xE8s")},r=>{this.loading=!1})}static \u0275fac=function(e){return new(e||i)(E(te),E(Ir),E(Xt),E(ne),E(Ge),E(Xt),E(He))};static \u0275cmp=j({type:i,selectors:[["ngx-settings"]],standalone:!0,features:[U],decls:17,vars:5,consts:[["nav","ngbNav"],["editForm","ngForm"],["numero_matricule","ngModel"],["lastname","ngModel"],["firstname","ngModel"],["passwordForm","ngForm"],["codeForm","ngForm"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink","",1,"text-dark"],["ngbNavContent",""],["ngbNavLink",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngSubmit"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","numero_matricule",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","firstname",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","old_password","ngModel","",1,"form-control"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","password","ngModel","",1,"form-control"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","c_password","ngModel","",1,"form-control"],[1,"text-center","p-5"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],[3,"isVisible"],[1,""]],template:function(e,n){if(e&1){let r=x();a(0,"div",7)(1,"div",8)(2,"nav",9,0),P("activeIdChange",function(l){return f(r),A(n.active,l)||(n.active=l),_(l)}),bt(4,10),a(5,"a",11),c(6,"Information personnelle"),s(),S(7,U8,20,5,"ng-template",12),vt(),bt(8,10),a(9,"a",11),c(10,"Changement de mot de passe"),s(),S(11,W8,16,1,"ng-template",12),vt(),bt(12,10),a(13,"a",13),c(14,"Mon code de signature"),s(),S(15,q8,17,3,"ng-template",12),vt(),s(),g(16,"div",14),s()()}if(e&2){let r=C(3);d(2),D("activeId",n.active),d(2),p("ngbNavItem",1),d(4),p("ngbNavItem",2),d(4),p("ngbNavItem",3),d(4),p("ngbNavOutlet",r)}},dependencies:[J,X,ie,pe,oe,ae,ue,Ce,le,he,ge,kr,Op,Jc,Kc,w1,Zc,C1,we,be,ve,ye]})};var G8=(i,t)=>({labels:i,datasets:t});function $8(i,t){if(i&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s()()),i&2){let e=t.$implicit;d(2),O(e.name),d(2),O(e.total),d(2),O(e.treated),d(2),O(e.rejected),d(2),O(e.signed),d(2),O(e.finished)}}function Y8(i,t){if(i&1&&(a(0,"div",11),g(1,"canvas",12),s()),i&2){let e=u();d(),p("type","line")("data",On(3,G8,e.chartLabels,e.chartData))("options",e.chartOptions)}}function Q8(i,t){if(i&1){let e=x();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",16),g(5,"div",17),s()}}function K8(i,t){if(i&1){let e=x();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",16),g(5,"div",17),s()}}function J8(i,t){if(i&1){let e=x();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",16),g(5,"div",17),s()}}var Sd=class i{constructor(t,e,n,r){this.locService=t;this.toastrService=e;this.modalService=n;this.dashService=r}user;userprestations=[];data;chartData=[];chartLabels=[];chartOptions={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!0}}};pg={pageSize:10,p:1,total:0};loading=!1;is_active=!1;isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;selected_data;buttonsPermission;ngOnInit(){this.user=this.locService.get(W.userName),this.dashService.getAll().subscribe(t=>{this.data=t.data.data,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.data.forEach(e=>{this.chartData.push({label:e.name,data:e.stats_by_month,pointHitRadius:15,pointHoverRadius:8})}),this.chartLabels=t.data?.months})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.dashService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.dashService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}getPage(t){this.isPaginate?this.pg.p=t:this.pg.p=t}export(){let t=F.toApiUrl("dash/stats/download/"+this.user.id);window.open(t,"_blank")}update(t,e){this.loading=!0,this.dashService.update(t,this.selected_data.id).subscribe(n=>{this.loading=!1,e.close()},n=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.dashService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1},t=>{this.loading=!1})}static \u0275fac=function(e){return new(e||i)(E(te),E(ne),E(de),E(In))};static \u0275cmp=j({type:i,selectors:[["app-statiistique"]],standalone:!0,features:[U],decls:31,vars:2,consts:[["addContent",""],["editContent",""],["showContent",""],[1,"card"],[1,"card-header","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body"],[1,"table","table-bordred","mb-3","table-sm"],[4,"ngFor","ngForOf"],[1,""],["class","chart-wrapper text-center",4,"ngIf"],[1,"chart-wrapper","text-center"],["baseChart","",3,"type","data","options"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){return f(r),_(n.export())}),c(3,"Exporter en PDF"),s()(),a(4,"div",6)(5,"table",7)(6,"thead")(7,"th"),c(8,"Libell\xE9"),s(),a(9,"th"),c(10,"Totales"),s(),a(11,"th"),c(12,"Trait\xE9es"),s(),a(13,"th"),c(14,"Rejet\xE9es"),s(),a(15,"th"),c(16,"D\xE9livr\xE9es"),s(),a(17,"th"),c(18,"Finalis\xE9es"),s()(),a(19,"tbody"),S(20,$8,13,6,"tr",8),s()(),a(21,"div",9)(22,"h4"),c(23,"Graphe d'\xE9volution des demandes au cours des mois"),s(),S(24,Y8,2,6,"div",10),s()()(),S(25,Q8,6,0,"ng-template",null,0,V)(27,K8,6,0,"ng-template",null,1,V)(29,J8,6,0,"ng-template",null,2,V)}e&2&&(d(20),p("ngForOf",n.data),d(4),p("ngIf",n.data!=null))},dependencies:[J,me,X,ie,ge,be,ve,ye,ic],styles:[".chart-wrapper[_ngcontent-%COMP%]{width:800px;height:400px}"]})};function Z8(i,t){if(i&1){let e=x();a(0,"button",23),v("click",function(){f(e);let r=u(2);return _(r.setStatus(0))}),c(1,"Fermer ce ticket"),s()}if(i&2){let e=u(2);p("disabled",e.loading2)}}function X8(i,t){if(i&1){let e=x();a(0,"button",24),v("click",function(){f(e);let r=u(2);return _(r.setStatus(1))}),c(1,"R\xE9ouvrir ce ticket"),s()}if(i&2){let e=u(2);p("disabled",e.loading2)}}function eB(i,t){if(i&1&&(a(0,"div",20),S(1,Z8,2,1,"button",21)(2,X8,2,1,"button",22),s()),i&2){let e=u();d(),p("ngIf",e.data==null?null:e.data.is_open),d(),p("ngIf",!(e.data!=null&&e.data.is_open))}}function tB(i,t){i&1&&(a(0,"span",25),c(1," Ouvert"),s())}function iB(i,t){i&1&&(a(0,"span",26),c(1," Ferm\xE9"),s())}function nB(i,t){if(i&1&&(a(0,"div",6)(1,"dl")(2,"dt")(3,"b"),c(4,"Contenu :"),s()(),a(5,"dd"),c(6),s()(),a(7,"dl")(8,"dt")(9,"b"),c(10,"Date:"),s()(),a(11,"dd"),c(12),$(13,"date"),s()()()),i&2){let e=t.$implicit;d(6),O(e.content),d(6),O(Y(13,2,e.created_at,"dd-MM-yyyy"))}}function rB(i,t){if(i&1){let e=x();a(0,"div",27)(1,"h4",28),c(2,"D\xE9tails des informations"),s(),a(3,"button",29),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",30),g(5,"div",31),s()}}var Ed=class i{constructor(t,e,n,r,o,l){this.billingService=t;this.toastrService=e;this.modalService=r;this.locService=o;this.route=l;n.backdrop="static",n.keyboard=!1}selected_data;data;typeBillings=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];token;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),this.token!=null&&this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.show(this.token).subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}sendContact(t){this.billingService.storeResponse({content:t.value.content,billing_id:this.data.id}).subscribe(e=>{this.data=e.data,t.resetForm(),this.all()},e=>{})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}setStatus(t){this.loading2=!0,this.billingService.setStatus(this.data.id,t).subscribe(e=>{this.loading2=!1,this.all()},e=>{this.loading2=!1})}static \u0275fac=function(e){return new(e||i)(E(Mr),E(ne),E(Je),E(de),E(te),E(Ge))};static \u0275cmp=j({type:i,selectors:[["app-support-details"]],standalone:!0,features:[U],decls:50,vars:12,consts:[["contactForm","ngForm"],["showContent",""],[1,"container"],["class","d-flex justify-content-end mb-3",4,"ngIf"],[1,"row"],[1,"col-12","col-md-9"],[1,"shadow","p-3","mb-5","bg-white","rounded"],[1,"d-flex","justify-content-end"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[1,"mb-3"],["class","shadow p-3 mb-5 bg-white rounded",4,"ngFor","ngForOf"],[1,"card","card-body","mt-5"],[3,"ngSubmit"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["name","content","placeholder","Envoyez une r\xE9ponse*","required","","ngModel","",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"fa","fa","fa-send","text-yellow","ml-3"],[1,"col-12","col-md-3"],[1,"d-flex","justify-content-end","mb-3"],["class","btn btn-sm bg-danger text-white",3,"disabled","click",4,"ngIf"],["class","btn btn-sm bg-success text-white",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","bg-danger","text-white",3,"click","disabled"],[1,"btn","btn-sm","bg-success","text-white",3,"click","disabled"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"div",2),S(1,eB,3,2,"div",3),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),S(6,tB,2,0,"span",8)(7,iB,2,0,"span",9),s(),a(8,"dl")(9,"dt")(10,"b"),c(11,"Type de sujet :"),s()(),a(12,"dd"),c(13),s()(),a(14,"dl")(15,"dt")(16,"b"),c(17,"Objet :"),s()(),a(18,"dd"),c(19),s()(),a(20,"dl")(21,"dt")(22,"b"),c(23,"Contenu :"),s()(),a(24,"dd"),c(25),s()(),a(26,"dl")(27,"dt")(28,"b"),c(29,"Date:"),s()(),a(30,"dd"),c(31),$(32,"date"),s()()(),a(33,"h4",10)(34,"b"),c(35,"Liste des r\xE9ponses"),s()(),S(36,nB,14,5,"div",11),a(37,"div",12)(38,"form",13,0),v("ngSubmit",function(){f(r);let l=C(39);return _(n.sendContact(l))}),a(40,"div",4)(41,"div",14),g(42,"textarea",15),s(),a(43,"div",16)(44,"button",17),c(45,"Envoyer ma r\xE9ponse"),g(46,"i",18),s()()()()()(),g(47,"div",19),s()(),S(48,rB,6,0,"ng-template",null,1,V)}if(e&2){let r=C(39);d(),p("ngIf",n.user.id==(n.data==null?null:n.data.user_id)),d(5),p("ngIf",n.data==null?null:n.data.is_open),d(),p("ngIf",!(n.data!=null&&n.data.is_open)),d(6),O(n.data.type==null?null:n.data.type.name),d(6),O(n.data.object),d(6),O(n.data.content),d(6),O(Y(32,9,n.data.created_at,"dd-MM-yyyy")),d(5),p("ngForOf",n.data.responses),d(8),p("disabled",r.invalid)}},dependencies:[J,me,X,kt,ie,pe,oe,ae,ue,Ce,le,he,ge,be,ve,ye]})};var ha=class i{constructor(t){this.http=t}url=F.toApiUrl("type-billings");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var oB=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function aB(i,t){if(i&1){let e=x();a(0,"button",58),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",59),s()}}function sB(i,t){if(i&1){let e=x();a(0,"button",60),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",61),s()}}function lB(i,t){if(i&1){let e=x();a(0,"div",44)(1,"div",45)(2,"button",46),v("click",function(){f(e);let r=u(2),o=C(49);return _(r.add(o))}),g(3,"i",47),s(),a(4,"button",48),v("click",function(){f(e);let r=u(2),o=C(53);return _(r.show(o))}),g(5,"i",49),s(),a(6,"button",50),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.edit(o))}),g(7,"i",51),s(),a(8,"button",52),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",53),s(),S(10,aB,2,0,"button",54)(11,sB,2,0,"button",55),a(12,"button",56),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",57),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function cB(i,t){i&1&&(a(0,"span",62),c(1," Ouvert"),s())}function dB(i,t){i&1&&(a(0,"span",63),c(1," Ferm\xE9"),s())}function mB(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,lB,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),S(10,cB,2,0,"span",40)(11,dB,2,0,"span",41),s(),a(12,"td")(13,"a",42),c(14," ouvrir "),g(15,"i",43),s()()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null||e.type==null?null:e.type.name),d(2),O(e==null?null:e.object),d(2),p("ngIf",e==null?null:e.is_open),d(),p("ngIf",!(e!=null&&e.is_open)),d(2),Oe("routerLink","/admin/support/details/",e.token,"")}}function uB(i,t){if(i&1){let e=x();a(0,"tr",64)(1,"td",65)(2,"div",66),g(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function pB(i,t){if(i&1&&(a(0,"option",86),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function hB(i,t){if(i&1){let e=x();a(0,"form",71,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Type de sujet"),s(),a(11,"select",79,4),S(13,pB,2,2,"option",80),s()(),a(14,"div",77)(15,"label",78),c(16,"Objet"),s(),g(17,"input",81),s(),a(18,"div",77)(19,"label",78),c(20,"Content"),s(),g(21,"textarea",82),s()(),a(22,"div",83)(23,"button",84),c(24,"Sauvegarder "),g(25,"app-loading",85),s()()()}if(i&2){let e=C(1),n=u();d(13),p("ngForOf",n.typeBillings),d(10),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function fB(i,t){i&1&&(a(0,"small",91),c(1,"Le libell\xE9 est requis."),s())}function _B(i,t){if(i&1&&(a(0,"span",89),S(1,fB,2,0,"small",90),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function gB(i,t){if(i&1){let e=x();a(0,"form",71,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),a(11,"input",87,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s(),S(13,_B,2,1,"span",88),s()(),a(14,"div",83)(15,"button",84),c(16,"Sauvegarder "),g(17,"app-loading",85),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(11),D("ngModel",r.selected_data.name),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function bB(i,t){if(i&1){let e=x();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",92),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",76),g(5,"div",93),s()}}var kd=class i{constructor(t,e,n,r,o,l){this.typeBilling=t;this.toastrService=e;this.billingService=n;this.modalService=o;this.locService=l;r.backdrop="static",r.keyboard=!1}selected_data;data=[];typeBillings=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.selectedId=null,this.getTypeBillings(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeBillings(){this.loading2=!0,this.typeBilling.getAll().subscribe(t=>{this.typeBillings=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.billingService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.billingService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.billingService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.billingService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(ha),E(ne),E(Mr),E(Je),E(de),E(te))};static \u0275cmp=j({type:i,selectors:[["app-support"]],standalone:!0,features:[U],decls:54,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["required","","name","type_billing_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","object","ngModel","",1,"form-control"],["required","","name","content","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des tickets"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(49);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Type de sujet"),s(),a(35,"th",30),c(36,"Objet"),s(),a(37,"th",30),c(38,"Statut"),s(),a(39,"th",30),c(40,"Consulter"),s()()(),a(41,"tbody"),S(42,mB,16,11,"tr",31),$(43,"paginate"),$(44,"sampleSearch"),S(45,uB,9,0,"tr",32),s()()(),a(46,"div",33)(47,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(48,hB,26,3,"ng-template",null,0,V)(50,gB,18,4,"ng-template",null,1,V)(52,bB,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(16),p("ngForOf",Y(44,17,Y(43,14,n.data,Ve(20,oB,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye,Ti,$i]})};var vB=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function yB(i,t){if(i&1){let e=x();a(0,"button",54),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",55),s()}}function xB(i,t){if(i&1){let e=x();a(0,"button",56),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",57),s()}}function wB(i,t){if(i&1){let e=x();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=u(2),o=C(43);return _(r.add(o))}),g(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.show(o))}),g(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.edit(o))}),g(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",49),s(),S(10,yB,2,0,"button",50)(11,xB,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",53),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function CB(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,wB,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.name)}}function SB(i,t){if(i&1){let e=x();a(0,"tr",58)(1,"td",59)(2,"div",60),g(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function EB(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function kB(i,t){if(i&1&&(a(0,"span",78),S(1,EB,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function TB(i,t){if(i&1){let e=x();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),g(11,"input",73,4),S(13,kB,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(13),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function MB(i,t){i&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function IB(i,t){if(i&1&&(a(0,"span",78),S(1,MB,2,0,"small",79),s()),i&2){u();let e=C(12);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function DB(i,t){if(i&1){let e=x();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.name,r)||(o.selected_data.name=r),_(r)}),s(),S(13,IB,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),g(17,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(12),r=u();d(11),D("ngModel",r.selected_data.name),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function AB(i,t){if(i&1){let e=x();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",70),g(5,"div",83),s()}}var Td=class i{constructor(t,e,n,r,o){this.typeBilling=t;this.toastrService=e;this.modalService=r;this.locService=o;n.backdrop="static",n.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.typeBilling.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.typeBilling.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.typeBilling.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.typeBilling.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.typeBilling.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.typeBilling.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}static \u0275fac=function(e){return new(e||i)(E(ha),E(ne),E(Je),E(de),E(te))};static \u0275cmp=j({type:i,selectors:[["app-type-billing"]],standalone:!0,features:[U],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",6),c(1,"Liste des types supports"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=C(43);return _(n.add(l))}),g(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),g(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),S(36,CB,7,6,"tr",31),$(37,"paginate"),$(38,"sampleSearch"),S(39,SB,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(42,TB,18,3,"ng-template",null,0,V)(44,DB,18,4,"ng-template",null,1,V)(46,AB,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(10),p("ngForOf",Y(38,17,Y(37,14,n.data,Ve(20,vB,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye]})};var fa=class i{constructor(t){this.http=t}url=F.toApiUrl("type-unity-admin");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var PB=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e});function OB(i,t){if(i&1){let e=x();a(0,"button",53),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",54),s()}}function VB(i,t){if(i&1){let e=x();a(0,"button",55),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",56),s()}}function RB(i,t){if(i&1){let e=x();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=u(2),o=C(43);return _(r.add(o))}),g(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.show(o))}),g(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=u(2),o=C(45);return _(r.edit(o))}),g(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",48),s(),S(10,OB,2,0,"button",49)(11,VB,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",52),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function FB(i,t){if(i&1){let e=x();a(0,"tr",34)(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,RB,14,2,"div",38),s(),a(5,"td"),c(6),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.libelle)}}function NB(i,t){if(i&1){let e=x();a(0,"tr",57)(1,"td",58)(2,"div",59),g(3,"i",60),a(4,"p",61),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",62),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",63),c(8," R\xE9initialiser la recherche "),s()()()()}}function LB(i,t){if(i&1&&(a(0,"p",78)(1,"ngb-alert",79),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function BB(i,t){i&1&&(a(0,"small",82),c(1,"Le libell\xE9 est requis."),s())}function jB(i,t){if(i&1&&(a(0,"span",80),S(1,BB,2,0,"small",81),s()),i&2){u();let e=C(13);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function zB(i,t){if(i&1){let e=x();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement des type unit\xE9 admin"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",68),s()(),a(7,"div",69),S(8,LB,3,2,"p",70),a(9,"div",71)(10,"label",72),c(11,"Libell\xE9"),s(),g(12,"input",73,4),S(14,jB,2,1,"span",74),s()(),a(15,"div",75)(16,"button",76),c(17,"Sauvegarder "),g(18,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(13),r=u();d(8),p("ngIf",r.error!=""),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function HB(i,t){if(i&1&&(a(0,"p",78)(1,"ngb-alert",79),c(2),s()()),i&2){let e=u(2);d(),p("dismissible",!1),d(),O(e.error)}}function UB(i,t){i&1&&(a(0,"small",82),c(1,"Le libell\xE9 est requis."),s())}function WB(i,t){if(i&1&&(a(0,"span",80),S(1,UB,2,0,"small",81),s()),i&2){u();let e=C(13);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function qB(i,t){if(i&1){let e=x();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement des type unit\xE9 admin"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",68),s()(),a(7,"div",69),S(8,HB,3,2,"p",70),a(9,"div",71)(10,"label",72),c(11,"Libell\xE9"),s(),g(12,"input",73,4),S(14,WB,2,1,"span",74),s()(),a(15,"div",75)(16,"button",76),c(17,"Sauvegarder "),g(18,"app-loading",77),s()()()}if(i&2){let e=C(1),n=C(13),r=u();d(8),p("ngIf",r.error!=""),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(2),p("disabled",e.invalid||r.loading),d(2),p("isVisible",r.loading)}}function GB(i,t){if(i&1){let e=x();a(0,"div",65)(1,"h4",66),c(2,"D\xE9tails des informations"),s(),a(3,"button",83),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",69),g(5,"div",84),s()}}var Md=class i{constructor(t,e,n,r,o){this.unityAdminTypeService=t;this.toastrService=e;this.locService=n;this.modalService=o;r.backdrop="static",r.keyboard=!1}selected_data;user;data=[];permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];ua_department=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.unityAdminTypeService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.unityAdminTypeService.store(t).subscribe(e=>{this.loading=!1,this.all(),this.modalService.dismissAll()},e=>{this.loading=!1})}update(t,e){this.loading=!0,this.unityAdminTypeService.update(t,this.selected_data.id).subscribe(n=>{this.loading=!1,e.close(),this.all()},n=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.unityAdminTypeService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.unityAdminTypeService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.unityAdminTypeService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||i)(E(fa),E(ne),E(te),E(Je),E(de))};static \u0275cmp=j({type:i,selectors:[["ngx-unity-admin-type"]],standalone:!0,features:[U],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",5),c(1,"Liste des type des unit\xE9s administrative"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=C(43);return _(n.add(l))}),g(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),g(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),S(36,FB,7,6,"tr",30),$(37,"paginate"),$(38,"sampleSearch"),S(39,NB,9,0,"tr",31),s()()(),a(40,"div",32)(41,"pagination-controls",33),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(42,zB,19,4,"ng-template",null,0,V)(44,qB,19,4,"ng-template",null,1,V)(46,GB,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(10),p("ngForOf",Y(38,17,Y(37,14,n.data,Ve(20,PB,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,kr,we,Ae,be,ve,Be,je,ye]})};var $B=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e}),my=()=>({unchecked:"#939da2",checked:"#0C574E"}),uy=()=>({checked:!0,unchecked:!1});function YB(i,t){if(i&1){let e=x();a(0,"button",59),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",60),s()}}function QB(i,t){if(i&1){let e=x();a(0,"button",61),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",62),s()}}function KB(i,t){if(i&1){let e=x();a(0,"div",45)(1,"div",46)(2,"button",47),v("click",function(){f(e);let r=u(2),o=C(47);return _(r.add(o))}),g(3,"i",48),s(),a(4,"button",49),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.show(o))}),g(5,"i",50),s(),a(6,"button",51),v("click",function(){f(e);let r=u(2),o=C(49);return _(r.edit(o))}),g(7,"i",52),s(),a(8,"button",53),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",54),s(),S(10,YB,2,0,"button",55)(11,QB,2,0,"button",56),a(12,"button",57),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(13,"i",58),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function JB(i,t){i&1&&(a(0,"span"),c(1," Unit\xE9 administrative non d\xE9partementale "),s())}function ZB(i,t){if(i&1&&(a(0,"span"),c(1),s()),i&2){let e=u().$implicit;d(),H(" ",e==null||e.department==null?null:e.department.name," ")}}function XB(i,t){if(i&1){let e=x();a(0,"tr",39)(1,"td",40)(2,"div",41)(3,"input",42),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,KB,14,2,"div",43),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),S(10,JB,2,0,"span",44)(11,ZB,2,1,"span",44),s()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(2),O(e==null?null:e.libelle),d(2),O(e==null||e.parent==null?null:e.parent.libelle),d(2),p("ngIf",e.department_id==null),d(),p("ngIf",e.department_id)}}function ej(i,t){if(i&1){let e=x();a(0,"tr",63)(1,"td",64)(2,"div",65),g(3,"i",66),a(4,"p",67),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",68),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",69),c(8," R\xE9initialiser la recherche "),s()()()()}}function tj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function ij(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function nj(i,t){i&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function rj(i,t){if(i&1&&(a(0,"span",92),S(1,nj,2,0,"small",93),s()),i&2){u();let e=C(23);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function oj(i,t){i&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function aj(i,t){if(i&1&&(a(0,"span",92),S(1,oj,2,0,"small",93),s()),i&2){u();let e=C(29);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function sj(i,t){i&1&&(a(0,"small",94),c(1,"Le email est requis."),s())}function lj(i,t){if(i&1&&(a(0,"span",92),S(1,sj,2,0,"small",93),s()),i&2){u();let e=C(35);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function cj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function dj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function mj(i,t){if(i&1&&(a(0,"div",75)(1,"label",76),c(2,"Choix du d\xE9partement"),s(),a(3,"select",95),S(4,dj,2,2,"option",78),s()()),i&2){let e=u(2);d(4),p("ngForOf",e.departments)}}function uj(i,t){if(i&1){let e=x();a(0,"form",70,3),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",71),c(3," Enregistrement d'une unit\xE9 administrative "),a(4,"button",72),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(5,"i",73),s()(),a(6,"div",74)(7,"div",75)(8,"label",76),c(9,"Type"),s(),a(10,"select",77,4),S(12,tj,2,2,"option",78),s()(),a(13,"div",75)(14,"label",76),c(15,"Entit\xE9"),s(),a(16,"select",79,4),S(18,ij,2,2,"option",78),s()(),a(19,"div",75)(20,"label",76),c(21,"Libell\xE9"),s(),g(22,"input",80,5),S(24,rj,2,1,"span",81),s(),a(25,"div",75)(26,"label",76),c(27,"Sigle"),s(),g(28,"input",82,6),S(30,aj,2,1,"span",81),s(),a(31,"div",75)(32,"label",76),c(33,"Email de la structure"),s(),g(34,"input",83,7),S(36,lj,2,1,"span",81),s(),a(37,"div",75)(38,"label",76),c(39,"Unit\xE9 admin sous-tutelle de"),s(),a(40,"select",84,8),S(42,cj,2,2,"option",78),s()(),a(43,"div",85)(44,"span"),c(45,"Est ce une unit\xE9 administrative d\xE9partementale ?"),s(),a(46,"ng-toggle",86),P("ngModelChange",function(r){f(e);let o=u();return A(o.ua_department,r)||(o.ua_department=r),_(r)}),v("change",function(r){f(e);let o=u();return _(o.changed(r))}),s()(),S(47,mj,5,1,"div",87),s(),a(48,"div",88)(49,"button",89),c(50,"Sauvegarder "),g(51,"app-loading",90),s()()()}if(i&2){let e=C(1),n=C(23),r=C(29),o=C(35),l=u();d(12),p("ngForOf",l.data2),d(6),p("ngForOf",l.data3),d(6),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(6),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(6),p("ngIf",o.invalid&&(o.dirty||o.touched)),d(6),p("ngForOf",l.data),d(4),D("ngModel",l.ua_department),p("color",ri(12,my))("values",ri(13,uy)),d(),p("ngIf",l.ua_department),d(2),p("disabled",e.invalid||l.loading),d(2),p("isVisible",l.loading)}}function pj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function hj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function fj(i,t){i&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function _j(i,t){if(i&1&&(a(0,"span",92),S(1,fj,2,0,"small",93),s()),i&2){u();let e=C(24);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function gj(i,t){i&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function bj(i,t){if(i&1&&(a(0,"span",92),S(1,gj,2,0,"small",93),s()),i&2){u();let e=C(30);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function vj(i,t){i&1&&(a(0,"small",94),c(1,"Le email est requis."),s())}function yj(i,t){if(i&1&&(a(0,"span",92),S(1,vj,2,0,"small",93),s()),i&2){u();let e=C(36);d(),p("ngIf",e.errors==null?null:e.errors.required)}}function xj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.libelle)}}function wj(i,t){if(i&1&&(a(0,"option",91),c(1),s()),i&2){let e=t.$implicit;p("value",e.id),d(),O(e.name)}}function Cj(i,t){if(i&1){let e=x();a(0,"div",75)(1,"label",76),c(2,"Choix du d\xE9partement"),s(),a(3,"select",103),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.department_id,r)||(o.selected_data.department_id=r),_(r)}),S(4,wj,2,2,"option",78),s()()}if(i&2){let e=u(2);d(3),D("ngModel",e.selected_data.department_id),d(),p("ngForOf",e.departments)}}function Sj(i,t){if(i&1){let e=x();a(0,"form",70,9),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",71)(3,"h4",96),c(4,"Modification d'une unit\xE9 administrative"),s(),a(5,"button",72),v("click",function(){let r=f(e).dismiss;return _(r("Cross click"))}),g(6,"i",73),s()(),a(7,"div",74)(8,"div",75)(9,"label",76),c(10,"Type"),s(),a(11,"select",97,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.type_unite_admin_id,r)||(o.selected_data.type_unite_admin_id=r),_(r)}),S(13,pj,2,2,"option",78),s()(),a(14,"div",75)(15,"label",76),c(16,"Entit\xE9"),s(),a(17,"select",98,4),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),_(r)}),S(19,hj,2,2,"option",78),s()(),a(20,"div",75)(21,"label",76),c(22,"Libell\xE9"),s(),a(23,"input",99,5),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.libelle,r)||(o.selected_data.libelle=r),_(r)}),s(),S(25,_j,2,1,"span",81),s(),a(26,"div",75)(27,"label",76),c(28,"Sigle"),s(),a(29,"input",100,6),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.sigle,r)||(o.selected_data.sigle=r),_(r)}),s(),S(31,bj,2,1,"span",81),s(),a(32,"div",75)(33,"label",76),c(34,"Email de la structure"),s(),a(35,"input",101,7),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.email,r)||(o.selected_data.email=r),_(r)}),s(),S(37,yj,2,1,"span",81),s(),a(38,"div",75)(39,"label",76),c(40,"Unit\xE9 admin sous-tutelle de"),s(),a(41,"select",102,8),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.ua_parent_code,r)||(o.selected_data.ua_parent_code=r),_(r)}),S(43,xj,2,2,"option",78),s()(),a(44,"div",85)(45,"span"),c(46,"Est ce une unit\xE9 administrative d\xE9partementale ?"),s(),a(47,"ng-toggle",86),P("ngModelChange",function(r){f(e);let o=u();return A(o.ua_department,r)||(o.ua_department=r),_(r)}),v("change",function(r){f(e);let o=u();return _(o.changed(r))}),s()(),S(48,Cj,5,2,"div",87),s(),a(49,"div",88)(50,"button",89),c(51,"Sauvegarder "),g(52,"app-loading",90),s()()()}if(i&2){let e=C(1),n=C(24),r=C(30),o=C(36),l=u();d(11),D("ngModel",l.selected_data.type_unite_admin_id),d(2),p("ngForOf",l.data2),d(4),D("ngModel",l.selected_data.entite_admin_id),d(2),p("ngForOf",l.data3),d(4),D("ngModel",l.selected_data.libelle),d(2),p("ngIf",n.invalid&&(n.dirty||n.touched)),d(4),D("ngModel",l.selected_data.sigle),d(2),p("ngIf",r.invalid&&(r.dirty||r.touched)),d(4),D("ngModel",l.selected_data.email),d(2),p("ngIf",o.invalid&&(o.dirty||o.touched)),d(4),D("ngModel",l.selected_data.ua_parent_code),d(2),p("ngForOf",l.data),d(4),D("ngModel",l.ua_department),p("color",ri(18,my))("values",ri(19,uy)),d(),p("ngIf",l.ua_department),d(2),p("disabled",e.invalid||l.loading),d(2),p("isVisible",l.loading)}}function Ej(i,t){if(i&1){let e=x();a(0,"div",71)(1,"h4",96),c(2,"D\xE9tails des informations"),s(),a(3,"button",104),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",74),g(5,"div",105),s()}}var Id=class i{constructor(t,e,n,r,o,l,m,h){this.unityAdminService=t;this.unityAdminTypeService=e;this.entityService=n;this.locService=r;this.departmentService=o;this.toastrService=l;this.modalService=h;m.backdrop="static",m.keyboard=!1}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];departments=[];loading=!1;loading2=!1;user;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];ua_department=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";permissions=[];ngOnInit(){this.all(),this.getEntities(),this.getTypeUnityAdmin(),this.user=this.locService.get(W.userName),this.permissions=this.user.roles[0].permissions,this.getDepartments(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.unityAdminService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}getDepartments(){this.loading2=!0,this.departmentService.getAll().subscribe(t=>{this.departments=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeUnityAdmin(){this.unityAdminTypeService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}getEntities(){this.entityService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}checked(t){this.selected_data=t,this.selected_data.department_id!=null&&(this.ua_department=!0)}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,delete t.ua_department,this.unityAdminService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,delete t.ua_department,this.unityAdminService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.unityAdminService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.unityAdminService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.unityAdminService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(n=>n.name==t);return!!e}changed(t){}static \u0275fac=function(e){return new(e||i)(E(tn),E(fa),E(An),E(te),E(da),E(ne),E(Je),E(de))};static \u0275cmp=j({type:i,selectors:[["ngx-unity-admin"]],standalone:!0,features:[U],decls:52,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["sigle","ngModel"],["mail","ngModel"],["ua_parent_code","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_unite_admin_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","email","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","ua_parent_code","ngModel","",1,"form-control"],[1,"d-flex","justify-content-between","mb-3"],["name","ua_department",3,"ngModelChange","change","ngModel","color","values"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","department_id","ngModel","",1,"form-control"],["id","modal-basic-title",1,"modal-title"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_unite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","ua_parent_code",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","department_id",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",10),c(1,"Liste des unit\xE9s administrative"),s(),a(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15)(7,"button",16),v("click",function(){f(r);let l=C(47);return _(n.add(l))}),g(8,"i",17),c(9," Ajouter "),s(),a(10,"div",18)(11,"div",19)(12,"select",20),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",21),c(14,"Filtrer Par"),s(),a(15,"option",22),c(16,"R\xF4le"),s(),a(17,"option",23),c(18,"Statut"),s()(),a(19,"input",24),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",25),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",26),s()()()()(),a(22,"div",27)(23,"div",28)(24,"p",29),g(25,"i",30),c(26),s()(),a(27,"div",31)(28,"table",32)(29,"thead")(30,"tr")(31,"th",33),c(32,"#"),s(),a(33,"th",34),c(34,"Libell\xE9"),s(),a(35,"th",34),c(36,"Unit\xE9 parent"),s(),a(37,"th",34),c(38,"Direction d\xE9partementale"),s()()(),a(39,"tbody"),S(40,XB,12,9,"tr",35),$(41,"paginate"),$(42,"sampleSearch"),S(43,ej,9,0,"tr",36),s()()(),a(44,"div",37)(45,"pagination-controls",38),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(46,uj,52,14,"ng-template",null,0,V)(48,Sj,53,20,"ng-template",null,1,V)(50,Ej,6,0,"ng-template",null,2,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(14),p("ngForOf",Y(42,17,Y(41,14,n.data,Ve(20,$B,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,ie,pe,Ee,ke,oe,Ne,Le,ae,ue,Ce,le,he,ge,we,Ae,be,ve,Be,je,ye,lo]})};var py=[{label:"Nombre utilisateurs",minLabel:"Nb. utilisateurs",key:"ALL-USERS"},{label:"Nombre Enseigants",minLabel:"Nb. Enseigants",key:"ALL-PROFESSORS"},{label:"Nombre Enseigants Maternelle",minLabel:"Nb. Enseigants Mat.",key:"PROFESSORS-MATERNELLE"},{label:"Nombre Enseigants Primaire",minLabel:"Nb. Enseigants Prim.",key:"PROFESSORS-PRIMAIRE"},{label:"Nombre Enseigants Coll\xE8ge&Lyc\xE9e",minLabel:"Nb. Enseigants Coll\xE8ge&Lyc\xE9e.",key:"PROFESSORS-CL"},{label:"Nombre de parent d'el\xE8ve",minLabel:"Nb. Parent d'\xE9l\xE8ve",key:"ALL-PARENTS"},{label:"Nombre Apprenants",minLabel:"Nb. Apprenants",key:"ALL-STUDENTS"},{label:"Nombre Apprenants Cycles(s)",minLabel:"Nb. Apprenants Cycle(s)",key:"APPRENANTS-GROUP"},{label:"Evolution des inscriptions",minLabel:"Ev. Ins. ",key:"GRAPH-INS"},{label:"Nombre de pr\xE9occupations",minLabel:"Nb. Pr\xE9occupations. ",key:"INQUERY"},{label:"Nombre de contr\xF4le de soins",minLabel:"Nb. contr\xF4les de soins. ",key:"HEALTH-CONTROL"}];var Dd=class i{constructor(t){this.http=t}url=F.toApiUrl("users");getAll(t=!1,e,n){return t?this.http.get(`${this.url}?per_page=${e}&page=${n}`,F.addAction("list")):this.http.get(`${this.url}`,F.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,F.addAction("list"))}resetPassword(t){return this.http.post(`${F.toApiUrl("reset-password/")}`,t,F.addAction("status"))}update(t,e){return this.http.put(`${this.url}/${t}`,e,F.addAction("edit"))}delete(t){return this.http.delete(`${this.url}/${t}`,F.addAction("delete"))}get(t){return this.http.get(`${this.url}`,F.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,F.addAction("status"))}search(t){return this.http.post(`${this.url}-search`,t,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Tj=["other_content1"],Mj=["other_content2"],Ij=["other_content3"],Dj=(i,t,e)=>({id:"ngxP1",itemsPerPage:i,currentPage:t,totalItems:e}),Jp=()=>({unchecked:"#939da2",checked:"#0C574E"}),Zp=()=>({checked:!0,unchecked:!1});function Aj(i,t){if(i&1){let e=x();a(0,"button",64),v("click",function(){f(e);let r=u(3);return _(r.setStatus(1))}),g(1,"i",65),s()}}function Pj(i,t){if(i&1){let e=x();a(0,"button",66),v("click",function(){f(e);let r=u(3);return _(r.setStatus(0))}),g(1,"i",67),s()}}function Oj(i,t){if(i&1){let e=x();a(0,"div",48)(1,"div",49)(2,"button",50),v("click",function(){f(e);let r=u(2),o=C(51);return _(r.add(o))}),g(3,"i",51),s(),a(4,"button",52),v("click",function(){f(e);let r=u(2),o=C(57);return _(r.show(o))}),g(5,"i",53),s(),a(6,"button",54),v("click",function(){f(e);let r=u(2),o=C(53);return _(r.edit(o))}),g(7,"i",55),s(),a(8,"button",56),v("click",function(){f(e);let r=u(2);return _(r.delete())}),g(9,"i",57),s(),S(10,Aj,2,0,"button",58)(11,Pj,2,0,"button",59),a(12,"button",60),v("click",function(){f(e);let r=u(2),o=C(55);return _(r.resetPassword(o))}),g(13,"i",61),s(),a(14,"button",62),v("click",function(){f(e);let r=u(2);return _(r.selectedId=null)}),g(15,"i",63),s()()()}if(i&2){let e=u().$implicit;d(10),p("ngIf",!e.is_active),d(),p("ngIf",e.is_active)}}function Vj(i,t){i&1&&(a(0,"span"),c(1,", "),s())}function Rj(i,t){if(i&1&&(a(0,"span",68),c(1),S(2,Vj,2,0,"span",69),s()),i&2){let e=t.$implicit,n=t.last;d(),H(" ",e.name,""),d(),p("ngIf",!n)}}function Fj(i,t){if(i&1){let e=x();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=u();return _(o.checked(r))}),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedId,r)||(o.selectedId=r),_(r)}),s()(),S(4,Oj,16,2,"div",39),s(),a(5,"td")(6,"div",40)(7,"div",41),c(8),s(),a(9,"div",42)(10,"div",43),c(11),s(),a(12,"small",44),c(13),s()()()(),a(14,"td")(15,"span",45),c(16),s()(),a(17,"td")(18,"span",45),c(19),s()(),a(20,"td")(21,"div",46),S(22,Rj,3,2,"span",47),s()(),a(23,"td")(24,"span"),c(25),s()()()}if(i&2){let e=t.$implicit,n=u();d(3),Oe("id","radio-",e.id,""),p("value",e.id),D("ngModel",n.selectedId),d(),p("ngIf",n.selectedId===e.id),d(4),H(" ",n.getInitials((e.agent==null?null:e.agent.lastname)||"U",(e.agent==null?null:e.agent.firstname)||"")," "),d(3),mi(" ",(e.agent==null?null:e.agent.lastname)||"Non d\xE9fini"," ",e.agent==null?null:e.agent.firstname," "),d(2),H("ID: ",e.id,""),d(3),O(e.email),d(3),O(e.agent==null||e.agent.unite_admin==null?null:e.agent.unite_admin.sigle),d(3),p("ngForOf",e.roles),d(2),Ft("status-badge "+(e.is_active?"badge-active":"badge-inactive")),d(),H(" ",e.is_active?"Actif":"Bloqu\xE9"," ")}}function Nj(i,t){if(i&1){let e=x();a(0,"tr",70)(1,"td",71)(2,"div",72),g(3,"i",73),a(4,"p",74),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",75),v("click",function(){f(e);let r=u();return _(r.resetSearch())}),g(7,"i",76),c(8," R\xE9initialiser la recherche "),s()()()()}}function Lj(i,t){if(i&1&&(a(0,"ng-option",100),c(1),s()),i&2){let e=t.$implicit;p("value",e==null?null:e.id),d(),mi("",e==null?null:e.lastname," ",e==null?null:e.firstname,"")}}function Bj(i,t){if(i&1&&(a(0,"div",97)(1,"label",98),c(2,"Agent"),s(),a(3,"ng-select",99,5),S(5,Lj,2,3,"ng-option",90),s()()),i&2){let e=u(2);d(5),p("ngForOf",e.data2)}}function jj(i,t){if(i&1&&(a(0,"ng-option",100),c(1),s()),i&2){let e=t.$implicit;p("value",e.name),d(),O(e.name)}}function zj(i,t){if(i&1){let e=x();a(0,"div",104)(1,"input",105),P("ngModelChange",function(r){let o=f(e).$implicit;return A(o.state,r)||(o.state=r),_(r)}),s(),a(2,"label",106),c(3),s()()}if(i&2){let e=t.$implicit;d(),D("ngModel",e.state),d(2),H(" ",e.name," ")}}function Hj(i,t){if(i&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),S(7,zj,4,2,"div",103),s()()()),i&2){let e=u(2);d(7),p("ngForOf",e.prestations)}}function Uj(i,t){if(i&1){let e=x();a(0,"form",77,4),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.store(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"Enregistrer un compte utilisateur"),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),g(13,"input",86),s(),a(14,"div",83)(15,"label",84),c(16,"Contact "),a(17,"span",85),c(18,"(*)"),s()(),g(19,"input",87),s(),S(20,Bj,6,1,"div",88),a(21,"div",83)(22,"label",84),c(23,"R\xF4le "),a(24,"span",85),c(25,"(*)"),s()(),a(26,"ng-select",89),S(27,jj,2,2,"ng-option",90),s()(),a(28,"div",91)(29,"p"),c(30,"Acteur m\xE9tier :"),s(),g(31,"ng-toggle",92),s(),S(32,Hj,8,1,"div",93),s()(),a(33,"div",94)(34,"button",95),c(35,"Cr\xE9er le compte "),g(36,"app-loading",96),s()()()}if(i&2){let e=C(1),n=u();d(20),p("ngIf",n.role!="Admin national"),d(6),p("multiple",!0),d(),p("ngForOf",n.roles),d(4),p("color",ri(8,Jp))("values",ri(9,Zp)),d(),p("ngIf",n.role!="Admin national"),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Wj(i,t){if(i&1&&(a(0,"ng-option",100),c(1),s()),i&2){let e=t.$implicit;p("value",e==null?null:e.id),d(),mi("",e==null?null:e.lastname," ",e==null?null:e.firstname,"")}}function qj(i,t){if(i&1){let e=x();a(0,"div",97)(1,"label",98),c(2,"Agent"),s(),a(3,"ng-select",110,5),P("ngModelChange",function(r){f(e);let o=u(2);return A(o.selected_data.agent_id,r)||(o.selected_data.agent_id=r),_(r)}),S(5,Wj,2,3,"ng-option",90),s()()}if(i&2){let e=u(2);d(3),D("ngModel",e.selected_data.agent_id),d(2),p("ngForOf",e.data2)}}function Gj(i,t){if(i&1&&(a(0,"ng-option",100),c(1),s()),i&2){let e=t.$implicit;p("value",e.name),d(),O(e.name)}}function $j(i,t){if(i&1){let e=x();a(0,"div",104)(1,"input",105),P("ngModelChange",function(r){let o=f(e).$implicit;return A(o.state,r)||(o.state=r),_(r)}),s(),a(2,"label",106),c(3),s()()}if(i&2){let e=t.$implicit;d(),D("ngModel",e.state),d(2),H(" ",e.name," ")}}function Yj(i,t){if(i&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),S(7,$j,4,2,"div",103),s()()()),i&2){let e=u(2);d(7),p("ngForOf",e.prestations)}}function Qj(i,t){if(i&1){let e=x();a(0,"form",77,6),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.update(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"Modifier un utilisateur"),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),a(13,"input",107),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.email,r)||(o.selected_data.email=r),_(r)}),s()(),a(14,"div",83)(15,"label",84),c(16,"Contact "),a(17,"span",85),c(18,"(*)"),s()(),a(19,"input",108),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.phone,r)||(o.selected_data.phone=r),_(r)}),s()(),S(20,qj,6,2,"div",88),a(21,"div",83)(22,"label",84),c(23,"r\xF4le "),a(24,"span",85),c(25,"(*)"),s()(),a(26,"ng-select",109),P("ngModelChange",function(r){f(e);let o=u();return A(o.selectedRoles,r)||(o.selectedRoles=r),_(r)}),S(27,Gj,2,2,"ng-option",90),s()(),a(28,"div",91)(29,"p"),c(30,"Acteur m\xE9tier :"),s(),g(31,"ng-toggle",92),s(),S(32,Yj,8,1,"div",93),s()(),a(33,"div",94)(34,"button",95),c(35,"Sauvegarder "),g(36,"app-loading",96),s()()()}if(i&2){let e=C(1),n=u();d(13),D("ngModel",n.selected_data.email),d(6),D("ngModel",n.selected_data.phone),d(),p("ngIf",n.role!="Admin national"),d(6),p("multiple",!0),D("ngModel",n.selectedRoles),d(),p("ngForOf",n.roles),d(4),p("color",ri(11,Jp))("values",ri(12,Zp)),d(),p("ngIf",n.role!="Admin national"),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Kj(i,t){if(i&1){let e=x();a(0,"div",104)(1,"input",114),P("ngModelChange",function(r){let o=f(e).$implicit;return A(o.state,r)||(o.state=r),_(r)}),s(),a(2,"label",106),c(3),s()()}if(i&2){let e=t.$implicit,n=t.index;d(),Oe("name","state",n,""),p("checked",e.state),D("ngModel",e.state),d(2),H(" ",e.name," ")}}function Jj(i,t){if(i&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),S(7,Kj,4,5,"div",103),s()()()),i&2){let e=u(2);d(7),p("ngForOf",e.prestations)}}function Zj(i,t){if(i&1){let e=x();a(0,"form",77,6),v("ngSubmit",function(){f(e);let r=C(1),o=u();return _(o.resetPassword(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"R\xE9initialiser le mot de passe "),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),a(13,"input",107),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.email,r)||(o.selected_data.email=r),_(r)}),s()(),a(14,"div",83)(15,"label",84),c(16,"Mot de passe "),a(17,"span",85),c(18,"(*)"),s()(),g(19,"input",111),s(),a(20,"div",83)(21,"label",84),c(22,"Confirmer le mot de passe "),a(23,"span",85),c(24,"(*)"),s()(),g(25,"input",112),s(),a(26,"div",91)(27,"p"),c(28,"Acteur m\xE9tier :"),s(),a(29,"ng-toggle",113),P("ngModelChange",function(r){f(e);let o=u();return A(o.selected_data.is_trade,r)||(o.selected_data.is_trade=r),_(r)}),s()(),S(30,Jj,8,1,"div",93),s()(),a(31,"div",94)(32,"button",95),c(33,"R\xE9initialiser "),g(34,"app-loading",96),s()()()}if(i&2){let e=C(1),n=u();d(13),D("ngModel",n.selected_data.email),d(16),D("ngModel",n.selected_data.is_trade),p("color",ri(7,Jp))("values",ri(8,Zp)),d(),p("ngIf",n.role!="Admin national"),d(2),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function Xj(i,t){if(i&1){let e=x();a(0,"div",78)(1,"h4",79),c(2,"D\xE9tails des informations"),s(),a(3,"button",80),v("click",function(){let r=f(e).$implicit;return _(r.dismiss("Cross click"))}),s()(),a(4,"div",81)(5,"div",115)(6,"table",116)(7,"tbody")(8,"tr")(9,"td",117),c(10,"Nom"),s(),a(11,"td"),c(12),s()(),a(13,"tr")(14,"td",117),c(15,"Pr\xE9noms"),s(),a(16,"td"),c(17),s()(),a(18,"tr")(19,"td",117),c(20,"Email"),s(),a(21,"td"),c(22),s()(),a(23,"tr")(24,"td",117),c(25,"Contact"),s(),a(26,"td"),c(27),s()(),a(28,"tr")(29,"td",117),c(30,"Date de naissance"),s(),a(31,"td"),c(32),$(33,"date"),s()(),a(34,"tr")(35,"td",117),c(36,"Lieu de naissance"),s(),a(37,"td"),c(38),s()(),a(39,"tr")(40,"td",117),c(41,"r\xF4le"),s(),a(42,"td"),c(43),s()()()()()()}if(i&2){let e=u();d(12),H("",e.selected_data.lastname," "),d(5),H("",e.selected_data.firstname," "),d(5),H("",e.selected_data.email," "),d(5),H("",e.selected_data.phone," "),d(5),H("",Y(33,7,e.selected_data.birthdate,"dd-MM-yyyy")," "),d(6),H("",e.selected_data.birthplace," "),d(5),H("",e.selected_data.roles[0].name," ")}}var Qs=class i{constructor(t,e,n,r,o,l,m,h){this.userService=t;this.roleService=e;this.toastrService=n;this.officerService=o;this.prestationService=l;this.lsService=m;this.modalService=h;r.backdrop="static",r.keyboard=!1}other_content1;other_content2;other_content3;selectedId=null;buttonsPermission;search_text="";remoteSearchData=[];structures=[];roles=[];selectedRoles=[];data=[];data2=[];dashTags=py;selected_data;modalOption;isDtInitialized=!1;is_active=null;loading=!1;loading2=!1;role_name="";role;user;pg={pageSize:10,p:1,total:0};isPaginate=!0;tag="admin-users";selectedFilter="";prestations=[];data4=[];ngAfterViewInit(){Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(e=>{new bootstrap.Tooltip(e)})}ngOnInit(){this.user=this.lsService.get(W.userName),this.role=this.user.roles[0].name,this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getRoles(),this.getPrestation(),this.getOfficers()}getOfficers(){this.officerService.getAll().subscribe(t=>{this.data2=t.data,console.log(t)},t=>{})}getPrestation(){this.loading2=!0,this.prestationService.getAll().subscribe(t=>{this.data4=t.data,this.prestations=t.data,this.prestations.forEach(e=>e.state=!1),this.loading2=!1},t=>{this.loading2=!1})}getRoles(){this.roleService.getAll().subscribe(t=>{this.roles=t.data},t=>{ni.showError("Gestion des utilisateurs",t)})}getAll(){this.selectedId=null,this.userService.getAll(this.isPaginate,this.pg.pageSize,this.pg.p).subscribe(t=>{this.isPaginate=t.isPaginate,this.isPaginate?(this.data=t.data.data,this.pg.p=t.data.current_page,this.pg.total=t.data.total):(this.data=t.data,this.pg.p=1,this.pg.total=t.data.length),this.selectedId=null,this.modalService.dismissAll()},t=>{ni.showError("Gestion des utilisateurs",t)})}store(t){this.loading=!0,t.is_signer==""&&(t.is_signer=!1);var e=[];this.prestations.forEach(n=>{n.state==!0&&e.push(n.id)}),t.choices=e,this.userService.store(t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),se.simpleAlert("error","Gestion des utilisateurs",n.error.message)})}resetPassword(t){this.loading=!0,t.id=this.selected_data.id,this.userService.resetPassword(t).subscribe(e=>{this.loading=!1,this.toastrService.success(e.message),this.getAll()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}update(t){this.loading=!0,t.is_signer==""&&(t.is_signer=!1);var e=[];this.prestations.forEach(n=>{n.state==!0&&e.push(n.id)}),t.choices=e,this.userService.update(this.selected_data.id,t).subscribe(n=>{this.loading=!1,this.toastrService.success(n.message),this.getAll()},n=>{this.loading=!1,console.log(n),se.simpleAlert("error","Gestion des utilisateurs",n.error.message)})}delete(){if(!this.verifyIfElementChecked())return;se.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.userService.delete(this.selected_data.id).subscribe(n=>{this.toastrService.success(n.message),this.getAll()},n=>{console.log(n),se.simpleAlert("error","Gestion des utilisateurs",n.error.message)})})}checked(t){this.selectedRoles=[],this.selected_data=t,this.selected_data?.roles?.forEach(e=>this.selectedRoles.push(e.name)),this.is_active=t.is_active,this.prestations.forEach(e=>{let n=this.selected_data?.user_prestations?.some(r=>r.prestation_id===e.id);e.state=!!n})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}getInitials(t,e){let n=t?t.charAt(0):"",r=e?e.charAt(0):"";return(n+r).toUpperCase()}dismiss(){this.modalService.dismissAll()}add(t){this.selected_data!=null&&this.selected_data?.userprestation.forEach(e=>{var n=this.prestations.find(r=>r.id==e.prestation_id);n!=null&&(this.prestations[this.prestations.findIndex(r=>r.id==e.prestation_id)].state=!0)}),this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.userService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),se.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.userService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.getAll()}getPage(t){this.isPaginate?(this.pg.p=t,this.getAll()):this.pg.p=t}hasRole(t){return!1}filterByRole(t){this.data.filter(e=>(console.log(t.target.value),!1))}static \u0275fac=function(e){return new(e||i)(E(Dd),E(pa),E(ne),E(Je),E(Ir),E(en),E(te),E(de))};static \u0275cmp=j({type:i,selectors:[["app-user"]],viewQuery:function(e,n){if(e&1&&(at(Tj,5),at(Mj,5),at(Ij,5)),e&2){let r;Re(r=Fe())&&(n.other_content1=r.first),Re(r=Fe())&&(n.other_content2=r.first),Re(r=Fe())&&(n.other_content3=r.first)}},standalone:!0,features:[U],decls:58,vars:24,consts:[["addContent",""],["editContent",""],["resetContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-id","text-muted"],[1,"email-text"],[1,"roles-list"],["class","role-badge",4,"ngFor","ngForOf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","R\xE9initialiser le mot de passe",1,"btn","btn-action","btn-reset",3,"click"],[1,"bi","bi-arrow-counterclockwise"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"role-badge"],[4,"ngIf"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-group","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","email","ngModel","",1,"form-control"],["type","text","name","phone","ngModel","",1,"form-control"],["class","form-group",4,"ngIf"],["name","roles","ngModel","",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],["ngModel","","name","is_trade",3,"color","values"],["class","",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","agent_id","ngModel","",1,"form-control"],[3,"value"],[1,""],[1,"container"],["class","col-6 form-check",4,"ngFor","ngForOf"],[1,"col-6","form-check"],["type","checkbox","name","state",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"form-check-label"],["type","text","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["name","roles",3,"ngModelChange","multiple","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","agent_id",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","8","ngModel","",1,"form-control"],["type","password","name","password_confirmation","minlength","8","ngModel","",1,"form-control"],["name","is_trade",3,"ngModelChange","ngModel","color","values"],["type","checkbox",1,"form-check-input",3,"ngModelChange","checked","name","ngModel"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(e,n){if(e&1){let r=x();a(0,"h2",7),c(1,"Liste des utilisateurs"),s(),a(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"button",13),v("click",function(){f(r);let l=C(51);return _(n.add(l))}),g(8,"i",14),c(9," Ajouter "),s(),a(10,"div",15)(11,"div",16)(12,"select",17),P("ngModelChange",function(l){return f(r),A(n.selectedFilter,l)||(n.selectedFilter=l),_(l)}),a(13,"option",18),c(14,"Filtrer Par"),s(),a(15,"option",19),c(16,"R\xF4le"),s(),a(17,"option",20),c(18,"Statut"),s()(),a(19,"input",21),P("ngModelChange",function(l){return f(r),A(n.search_text,l)||(n.search_text=l),_(l)}),v("ngModelChange",function(){return f(r),_(n.onSearchChange())}),s(),a(20,"button",22),v("click",function(){return f(r),_(n.resetSearch())}),g(21,"i",23),s()()()()(),a(22,"div",24)(23,"div",25)(24,"p",26),g(25,"i",27),c(26),s()(),a(27,"div",28)(28,"table",29)(29,"thead")(30,"tr")(31,"th",30),c(32,"#"),s(),a(33,"th"),c(34,"Identit\xE9"),s(),a(35,"th"),c(36,"Email"),s(),a(37,"th"),c(38,"Unit\xE9 Admin"),s(),a(39,"th"),c(40,"R\xF4le"),s(),a(41,"th"),c(42,"Statut"),s()()(),a(43,"tbody"),S(44,Fj,26,15,"tr",31),$(45,"paginate"),$(46,"sampleSearch"),S(47,Nj,9,0,"tr",32),s()()(),a(48,"div",33)(49,"pagination-controls",34),v("pageChange",function(l){return f(r),_(n.getPage(l))}),s()()()()()(),S(50,Uj,37,10,"ng-template",null,0,V)(52,Qj,37,13,"ng-template",null,1,V)(54,Zj,35,9,"ng-template",null,2,V)(56,Xj,44,10,"ng-template",null,3,V)}e&2&&(d(12),D("ngModel",n.selectedFilter),d(7),D("ngModel",n.search_text),d(7),H(" ",n.data.length," \xE9l\xE9ment(s) "),d(18),p("ngForOf",Y(46,17,Y(45,14,n.data,Ve(20,Dj,n.pg.pageSize,n.pg.p,n.pg.total)),n.search_text)),d(3),p("ngIf",n.search_text!==""&&n.data.length===0),d(2),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[J,me,X,kt,ie,pe,Ee,ke,oe,ms,Ne,Le,ae,ue,Ce,hs,le,he,ge,we,Ae,be,Xi,Hi,ve,Be,je,ye,oy,lo]})};var hy=[{path:"admin",component:ed,canActivate:[qn],children:[{path:"dashboard",component:Ds},{path:"dashboard",component:Ds},{path:"settings",component:Ys},{path:"departments",component:ad},{path:"settings/:token",component:Ys},{path:"agenda",component:ao},{path:"agenda/:slug",component:ao},{path:"agenda/:code/:slug",component:ao},{path:"agenda/:code/:slug/:codeP",component:ao},{path:"users",component:Qs},{path:"profiles",component:$s},{path:"entity-type",component:sd},{path:"entities",component:cd},{path:"unity-admin-type",component:Md},{path:"files",component:hd},{path:"type-billings",component:Td},{path:"billings",component:od},{path:"supports",component:kd},{path:"support/details/:token",component:Ed},{path:"officers",component:fd},{path:"posts",component:bd},{path:"unity-admins",component:Id},{path:"prestations",component:yd},{path:"eservice/espace-traitement/:slug",component:Ps},{path:"eservice/espace-traitement/:slug/:code",component:Ps},{path:"eservice/espace-traitement-retour-correction/:slug",component:Ls},{path:"eservice/espace-traitement-retour-correction/:slug/:code",component:Ls},{path:"eservice/espace-validation-visa/:slug",component:Hs},{path:"eservice/espace-validation-visa/:slug/:code",component:Hs},{path:"eservice/espace-signature/:slug",component:js},{path:"eservice/espace-signature/:slug/:code",component:js},{path:"eservice/espace-signed/:slug",component:zs},{path:"eservice/espace-signed/:slug/:code",component:zs},{path:"eservice/espace-reject/:slug",component:Fs},{path:"eservice/espace-reject/:slug/:code",component:Fs},{path:"eservice/espace-rejected/:slug",component:Ns},{path:"eservice/espace-rejected/:slug/:code",component:Ns},{path:"eservice/finished/:slug",component:Rs},{path:"eservice/finished/:slug/:code",component:Rs},{path:"eservice/espace-validation/:slug",component:Us},{path:"eservice/espace-validation/:slug/:code",component:Us},{path:"eservice/espace-traitement-show/:code/:slug",component:ud},{path:"eservice/espace-signature-traitement-show/:code/:slug",component:Bs},{path:"eservice/espace-signature-traitement-show/:code/:slug/:codeP",component:Bs},{path:"eservice/espace-traitement-edit/:code/:slug",component:Vs},{path:"eservice/espace-traitement-edit/:code/:slug/:isTreated",component:Vs},{path:"eservice/espace-traitement-generation-doc/:code/:slug",component:md},{path:"eservice/correction/:slug",component:Is},{path:"eservice/correction/:slug/:code",component:Is},{path:"eservice/historique/:slug",component:qs},{path:"eservice/historique/:slug/:code",component:qs},{path:"eservice/statistiques/:slug",component:Ws},{path:"eservice/statistiques/:slug/:code",component:Ws},{path:"eservice/statistiques",component:Sd},{path:"users",component:Qs},{path:"roles",component:Cd},{path:"permissions",component:gd},{path:"profils",component:$s}]}];var Ad=class i{constructor(t,e,n,r,o){this.authService=t;this.router=e;this.route=n;this.toastr=r;this.lsService=o}loading;ngOnInit(){}changeFirstPassword(t){if(t.password!=t.confirm_password){this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xE9");return}this.loading=!0,this.authService.changeFirstPassword(t).subscribe(e=>{this.loading=!1,this.logout(),this.toastr.success("Changement de mot passe r\xE9ussi","Premi\xE8re connexion")},e=>{this.loading=!1,this.toastr.error("Changement de mot passe \xE9chou\xE9","Premi\xE8re connexion")})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(W.tokenName),this.lsService.remove(W.refreshTokenName),this.lsService.remove(W.expireIn),this.router.navigate(["/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Premi\xE8re Connexion")})}static \u0275fac=function(e){return new(e||i)(E(Xt),E(He),E(Ge),E(ne),E(te))};static \u0275cmp=j({type:i,selectors:[["app-account-activation"]],standalone:!0,features:[U],decls:25,vars:2,consts:[["fpForm","ngForm"],[1,"d-flex","justify-content-center","ag-bg-black",2,"height","100vh"],[1,"col-12","col-md-4","mx-auto","align-self-center"],[1,"p-3","text-center"],["src","assets/images/logo-horizontal-blanc@4x.png","alt","",1,"img-fluid",2,"height","60px"],[1,"card"],[1,"card-body"],[1,"",3,"ngSubmit"],[1,"text-center","mb-3"],["src","assets/template2/images/logo.png","alt","",1,"img-fluid",2,"height","80px"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","minlength","8","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","confirm_password","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","minlength","8","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center"],[1,"ml-auto"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"isVisible"]],template:function(e,n){if(e&1){let r=x();a(0,"div",1)(1,"div",2)(2,"div",3),g(3,"img",4),s(),a(4,"div",5)(5,"div",6)(6,"form",7,0),v("ngSubmit",function(){f(r);let l=C(7);return _(n.changeFirstPassword(l.value))}),a(8,"div",8),g(9,"img",9),s(),a(10,"div",10)(11,"div",11)(12,"div",12)(13,"label",13),c(14,"Nouveau mot de passe"),s(),g(15,"input",14),s(),a(16,"div",12)(17,"label",15),c(18,"Confirmer mot de passe"),s(),g(19,"input",16),s()()(),a(20,"div",17)(21,"div",18)(22,"button",19),c(23,"Changer mon mot de passe "),g(24,"app-loading",20),s()()()()()()()()}if(e&2){let r=C(7);d(22),p("disabled",r.invalid||n.loading),d(2),p("isVisible",n.loading)}},dependencies:[we,ie,pe,oe,ae,ue,Ce,hs,le,he]})};function ez(i,t){if(i&1){let e=x();a(0,"div")(1,"form",7,0),v("ngSubmit",function(){f(e);let r=C(2),o=u();return _(o.sendMail(r.value))}),a(3,"div",8),g(4,"img",9),s(),a(5,"h6")(6,"div",10),c(7,"Mot de passe oubli\xE9?"),s(),a(8,"span"),c(9,"Renseignez votre email pour d\xE9finir un nouveau mot de passe ."),s()(),a(10,"div",11)(11,"div",12)(12,"div",13)(13,"label",14),c(14,"Email"),s(),g(15,"input",15),s()()(),a(16,"div",16)(17,"h6",17)(18,"a",18),c(19,"Je dispose d\xE9j\xE0 d'un compte"),s()(),a(20,"div",19)(21,"button",20),c(22,"R\xE9cup\xE9rer "),g(23,"app-loading",21),s()()()()()}if(i&2){let e=C(2),n=u();d(21),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}function tz(i,t){i&1&&(a(0,"div")(1,"div",22),g(2,"img",23),s(),a(3,"p",24),c(4,"Un mail de r\xE9cup\xE9ration de votre mot de passe vous a \xE9t\xE9 transf\xE9r\xE9 ! Veuillez consulter votre bo\xEEte mail. "),g(5,"br"),c(6," Merci"),s(),a(7,"h6",17)(8,"a",18),c(9,"Retour \xE0 la page de connexion"),s()()())}var Pd=class i{constructor(t,e,n){this.authService=t;this.router=e;this.toastr=n}loading;mailSent=!1;ngOnInit(){}sendMail(t){this.loading=!0,this.authService.sendMail(t).subscribe(e=>{this.loading=!1,this.mailSent=!0},e=>{this.loading=!1,this.toastr.success("Connexion \xE9chou\xE9","Connexion")})}static \u0275fac=function(e){return new(e||i)(E(Xt),E(He),E(ne))};static \u0275cmp=j({type:i,selectors:[["app-forget-password"]],standalone:!0,features:[U],decls:7,vars:2,consts:[["fpForm","ngForm"],[1,"",2,"min-height","100vh","width","100%"],[1,"container","d-flex","flex-column","justify-content-start","h-100"],[1,"col-12","col-md-5","mx-auto","align-self-center"],[1,"card"],[1,"card-body"],[4,"ngIf"],[1,"",3,"ngSubmit"],[1,"text-center","mb-3"],["src","assets/template2/images/logo.png","alt","",1,"img-fluid",2,"height","80px"],[1,"mb-3","text-center","fw-bold"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],["routerLink","//login",1,"text-primary"],[1,"ml-auto"],["type","submit",1,"btn","btn-primary","btn-sm","ag-",3,"disabled"],[3,"isVisible"],[1,"text-center"],["src","assets/template2/images/success.png","alt",""],[1,"text-primary","mb-3"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),S(5,ez,24,2,"div",6)(6,tz,10,0,"div",6),s()()()()()),e&2&&(d(5),p("ngIf",!n.mailSent),d(),p("ngIf",n.mailSent))},dependencies:[we,ie,pe,oe,ae,ue,Ce,le,he,Ti,$i,J,X]})};function iz(i,t){i&1&&(a(0,"small"),c(1,"L'adresse email est requise"),s())}function nz(i,t){i&1&&(a(0,"small"),c(1,"Veuillez saisir une adresse email valide"),s())}function rz(i,t){if(i&1&&(a(0,"div",27),S(1,iz,2,0,"small",28)(2,nz,2,0,"small",28),s()),i&2){let e=u();d(),p("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),d(),p("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email)}}function oz(i,t){i&1&&(Ri(),a(0,"svg",9),g(1,"path",29)(2,"circle",30),s())}function az(i,t){i&1&&(Ri(),a(0,"svg",9),g(1,"path",31)(2,"line",32),s())}function sz(i,t){i&1&&(a(0,"small"),c(1,"Le mot de passe est requis"),s())}function lz(i,t){i&1&&(a(0,"small"),c(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),s())}function cz(i,t){if(i&1&&(a(0,"div",27),S(1,sz,2,0,"small",28)(2,lz,2,0,"small",28),s()),i&2){let e=u();d(),p("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.required),d(),p("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.minlength)}}function dz(i,t){i&1&&g(0,"span",33)}var Od=class i{constructor(t,e,n,r,o){this.authService=t;this.lsService=e;this.router=n;this.toastr=r;this.fb=o;this.loginForm=this.fb.group({email:["",[Xr.required,Xr.email]],password:["",[Xr.required,Xr.minLength(6)]],device:["web",[]]})}loginForm;showPassword=!1;isLoading=!1;loading=!1;ngOnInit(){}togglePasswordVisibility(){this.showPassword=!this.showPassword}get email(){return this.loginForm?.get("email")}get password(){return this.loginForm?.get("password")}login(){this.loading=!0,this.authService.login(this.loginForm?.value).subscribe(t=>{this.lsService.set(W.tokenName,t.data?.access_token),this.lsService.set(W.refreshTokenName,t.data?.refresh_token),this.lsService.set(W.expireIn,t.data?.expire_in),this.lsService.set(W.features,t.data?.features),this.authService.me().subscribe(e=>{this.loading=!1,this.lsService.set(W.userName,e.data);let n=nc.redirectLogin(this.lsService);this.router.navigate([n]),this.toastr.success("Connexion r\xE9ussie","Connexion")},e=>{this.loading=!1,this.toastr.error(e.error?.message,"Connexion")})},t=>{this.loading=!1,this.toastr.error(t.error?.message,"Connexion")})}static \u0275fac=function(e){return new(e||i)(E(Xt),E(te),E(He),E(ne),E(Lb))};static \u0275cmp=j({type:i,selectors:[["app-login"]],standalone:!0,features:[U],decls:39,vars:13,consts:[[1,"login-card","p-4","p-md-5","fade-in-up"],[1,"text-center","mb-4"],[1,"h4","fw-bold","text-dark","mb-3"],[1,"mx-auto",2,"width","60px","height","4px","background","linear-gradient(90deg, var(--primary-color), var(--secondary-color))","border-radius","2px"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"form-label","fw-medium","text-dark"],[1,"input-group"],[1,"input-group-text"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","id","email","placeholder","exemple@gouv.bj","formControlName","email",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],["for","password",1,"form-label","fw-medium","text-dark"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["cx","12","cy","16","r","1"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-control",3,"type"],["type","button",1,"password-toggle","position-absolute","end-0","top-50","translate-middle-y","me-3",2,"z-index","10","border","none","background","none",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"d-grid","mb-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[1,"text-center"],[1,"mb-0","text-muted"],["routerLink","/forget-password",1,"forgot-password","ms-1"],[1,"invalid-feedback","d-block"],[4,"ngIf"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),c(3,"CONNEXION"),s(),g(4,"div",3),s(),a(5,"form",4),v("ngSubmit",function(){return n.login()}),a(6,"div",5)(7,"label",6),c(8,"Adresse email"),s(),a(9,"div",7)(10,"span",8),Ri(),a(11,"svg",9),g(12,"path",10)(13,"polyline",11),s()(),er(),g(14,"input",12),s(),S(15,rz,3,2,"div",13),s(),a(16,"div",5)(17,"label",14),c(18,"Mot de passe"),s(),a(19,"div",7)(20,"span",8),Ri(),a(21,"svg",9),g(22,"rect",15)(23,"circle",16)(24,"path",17),s()(),er(),g(25,"input",18),a(26,"button",19),v("click",function(){return n.togglePasswordVisibility()}),S(27,oz,3,0,"svg",20)(28,az,3,0,"svg",20),s()(),S(29,cz,3,2,"div",13),s(),a(30,"div",21)(31,"button",22),S(32,dz,1,0,"span",23),c(33),s()(),a(34,"div",24)(35,"p",25),c(36," Avez-vous oubli\xE9 votre mot de passe ? "),a(37,"a",26),c(38," Cliquez ici "),s()()()()()),e&2&&(d(5),p("formGroup",n.loginForm),d(9),$e("is-invalid",(n.email==null?null:n.email.invalid)&&(n.email==null?null:n.email.touched)),d(),p("ngIf",(n.email==null?null:n.email.invalid)&&(n.email==null?null:n.email.touched)),d(10),$e("is-invalid",(n.password==null?null:n.password.invalid)&&(n.password==null?null:n.password.touched)),p("type",n.showPassword?"text":"password"),d(2),p("ngIf",!n.showPassword),d(),p("ngIf",n.showPassword),d(),p("ngIf",(n.password==null?null:n.password.invalid)&&(n.password==null?null:n.password.touched)),d(2),p("disabled",n.loginForm.invalid||n.isLoading),d(),p("ngIf",n.isLoading),d(),H(" ",n.isLoading?"Connexion...":"Se connecter"," "))},dependencies:[J,X,ie,pe,oe,ae,ue,Ti,$i,Cc,zu,Hu],styles:[".login-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:20px;box-shadow:0 20px 40px #0000004d;position:relative;z-index:10;max-width:450px;width:100%}"]})};var Vd=class i{constructor(t,e,n,r){this.authService=t;this.router=e;this.route=n;this.toastr=r}loading;token;ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),this.token==null&&this.router.navigate(["/admin/login"])}recoverPassword(t){if(t.password!=t.password_confirmation){this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xE9");return}this.loading=!0,this.authService.recoverPassword(this.token,t).subscribe(e=>{this.loading=!1,this.router.navigate(["/admin/login"]),this.toastr.success("Changement de mot passe r\xE9ussi","Mot de passe oubli\xE9")},e=>{this.loading=!1,this.toastr.error("Changement de mot passe \xE9chou\xE9","Mot de passe oubli\xE9")})}static \u0275fac=function(e){return new(e||i)(E(Xt),E(He),E(Ge),E(ne))};static \u0275cmp=j({type:i,selectors:[["app-recovery-password"]],standalone:!0,features:[U],decls:25,vars:2,consts:[["fpForm","ngForm"],[1,"",2,"min-height","100vh","width","100%"],[1,"container","d-flex","flex-column","justify-content-start","h-100"],[1,"col-12","col-md-5","mx-auto","align-self-center"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"",3,"ngSubmit"],[1,"form-row"],[1,"mb-3","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","password_confirmation","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","btn-lg","mb-3",3,"disabled"],[3,"isVisible"],[1,"mb-0"],["routerLink","/admin/login",1,"text-primary"]],template:function(e,n){if(e&1){let r=x();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h3",6),c(6,"Saisir un nouveau mot de passe"),s(),a(7,"form",7,0),v("ngSubmit",function(){f(r);let l=C(8);return _(n.recoverPassword(l.value))}),a(9,"div",8)(10,"div",9)(11,"label",10),c(12,"Nouveau mot de passe"),s(),g(13,"input",11),s(),a(14,"div",9)(15,"label",12),c(16,"Confirmer mot de passe"),s(),g(17,"input",13),s()(),a(18,"div",14)(19,"button",15),c(20,"Changer mon mot de passe "),g(21,"app-loading",16),s(),a(22,"h6",17)(23,"a",18),c(24,"Je dispose d\xE9j\xE0 d'un compte"),s()()()()()()()()()}if(e&2){let r=C(8);d(19),p("disabled",r.invalid||n.loading),d(2),p("isVisible",n.loading)}},dependencies:[we,ie,pe,oe,ae,ue,Ce,le,he]})};var Rd=class i{constructor(t){this.http=t}get(t){return this.http.post(`${F.toApiUrl("get-file")}`,t,F.addAction("list"))}get2(t){return this.http.post(`${F.toApiUrl("get-file2")}`,t,F.addAction("list"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Fd=class i{constructor(t){this.http=t}url=F.toApiUrl("user-settings/");getAll(){return this.http.get(`${this.url}`,F.addAction("list"))}getByState(t){return this.http.get(`${F.toApiUrl("user-settings-by-state")}/${t}`,F.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,F.addAction("add"))}update(t,e){return e._method="patch",this.http.post(`${this.url}${t}`,e,F.addAction("edit"))}delete(t){return this.http.delete(`${this.url}${t}`,F.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,F.addAction("show"))}setState(t,e){return this.http.get(`${F.toApiUrl("user-settings-set-state")}/${t}/state/${e}`,F.addAction("status"))}static \u0275fac=function(e){return new(e||i)(B(Ue))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};function pz(i,t){i&1&&(a(0,"li",11)(1,"a",30)(2,"span",13),c(3,"Signature"),s()()())}function hz(i,t){if(i&1){let e=x();a(0,"div",31)(1,"form",18,1),v("ngSubmit",function(){f(e);let r=C(2),o=u();return _(o.storeSign(r.value))}),a(3,"div",32),g(4,"img",33),s(),a(5,"div",34)(6,"label",35),c(7,"Charger la signature num\xE9ris\xE9e"),s(),a(8,"input",36),v("change",function(r){f(e);let o=u();return _(o.loadImg(r))}),s()(),a(9,"button",28),c(10,"Charger ma signature "),g(11,"app-loading",23),s()()()}if(i&2){let e=C(2),n=u();d(4),p("src",n.fileSrc,fo),d(5),p("disabled",e.invalid||n.loading),d(2),p("isVisible",n.loading)}}var Nd=class i{constructor(t,e,n,r,o,l,m){this.spinnerService=t;this.fileService=e;this.authService=n;this.usService=r;this.lsService=o;this.router=l;this.toastr=m}fileSrc="https://placehold.co/200x200";loading=!1;fileInput;user;tag="admin-user-account";ngOnInit(){this.user=this.lsService.get(W.userName),(this.user?.user_setting!=null||this.user?.user_setting!=null)&&this.getFile("local","director",this.user?.user_setting?.signature)}getFile(t,e,n){this.spinnerService.show(),this.fileService.get({folder:e,disk:t,filename:n}).subscribe(r=>{this.spinnerService.hide(),this.fileSrc=r[0]},r=>{this.spinnerService.hide(),ni.showError("Profil utilisateur connect\xE9",r)})}update(t){this.loading=!0,this.authService.update(t).subscribe(e=>{this.loading=!1,this.lsService.set(W.userName,e.data),this.user=e.data,this.toastr.success("Sauvegarde des informations du compte","Mon compte")},e=>{this.loading=!1,this.toastr.success("Sauvegarde des informations \xE9chou\xE9e","Mon compte")})}changePassword(t){this.loading=!0,this.authService.changePassword(t).subscribe(e=>{this.loading=!1,this.toastr.success(e.message,"Mon compte"),this.logout()},e=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")})}readFile(){var t=new FileReader;t.readAsDataURL(this.fileInput),t.onload=e=>{this.fileSrc=e.target?.result}}loadImg(t){t.target.files.length!=0&&(this.fileInput=t.target.files[0],this.readFile())}storeSign(t){let e=new FormData;this.fileInput!=null&&e.append("signature",this.fileInput),this.user?.userSetting!=null||this.user?.userSetting!=null?(this.loading=!0,this.usService.update(this.user?.id,e).subscribe(n=>{this.loading=!1,this.toastr.success(n.message,"Mon compte")},n=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")})):(this.loading=!0,this.usService.store(e).subscribe(n=>{this.loading=!1,this.toastr.success(n.message,"Mon compte")},n=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")}))}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(W.tokenName),this.lsService.remove(W.refreshTokenName),this.lsService.remove(W.expireIn),this.router.navigate(["/admin/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Connexion")})}static \u0275fac=function(e){return new(e||i)(E(wd),E(Rd),E(Xt),E(Fd),E(te),E(He),E(ne))};static \u0275cmp=j({type:i,selectors:[["app-user-profil"]],standalone:!0,features:[U],decls:51,vars:7,consts:[["userForm","ngForm"],["mpForm","ngForm"],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"pe-7s-phone","icon-gradient","bg-premium-dark"],[1,"page-title-subheading"],[1,"mb-3","card"],[1,"card-body"],[1,"tabs-animated-shadow","nav-justified","tabs-animated","nav"],[1,"nav-item"],["role","tab","id","tab-c1-0","data-toggle","tab","href","#tab-animated1-0","aria-selected","true",1,"nav-link","active"],[1,"nav-text"],["role","tab","id","tab-c1-1","data-toggle","tab","href","#tab-animated1-1","aria-selected","false",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"tab-content"],["id","tab-animated1-0","role","tabpanel",1,"tab-pane","active"],[1,"",3,"ngSubmit"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"mt-1","btn","btn-warning",3,"disabled"],[3,"isVisible"],["id","tab-animated1-1","role","tabpanel",1,"tab-pane"],["name","old_password","id","exampleEmail","placeholder","Ancien mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","new_password","id","exampleEmail","placeholder","Nouveau mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","confirm_password","id","exampleEmail","placeholder","Confirmer mot de passe","type","password","required","","ngModel","",1,"form-control"],["type","submit",1,"mt-1","btn","btn-success",3,"disabled"],["class","tab-pane","id","tab-animated1-2","role","tabpanel",4,"ngIf"],["role","tab","id","tab-c1-2","data-toggle","tab","href","#tab-animated1-2","aria-selected","false",1,"nav-link"],["id","tab-animated1-2","role","tabpanel",1,"tab-pane"],[1,"text-center","mb-1"],["alt","...",1,"img-thumbnail",2,"height","200px","width","200px",3,"src"],[1,"text-center","form-group","mb-3"],["for",""],["type","file","accept","image/*",1,"form-control",3,"change"]],template:function(e,n){if(e&1){let r=x();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),g(4,"i",6),s(),a(5,"div"),c(6,"Mon compte "),a(7,"div",7),c(8,"Information personnelle & mot de passe"),s()()()()(),a(9,"div",8)(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12)(14,"span",13),c(15,"Information personnelle"),s()()(),a(16,"li",11)(17,"a",14)(18,"span",13),c(19,"Mot de passe"),s()()(),S(20,pz,4,0,"li",15),s(),a(21,"div",16)(22,"div",17)(23,"form",18,0),v("ngSubmit",function(){f(r);let l=C(24);return _(n.update(l.value))}),a(25,"div",19)(26,"label",20),c(27,"Email"),s(),a(28,"input",21),P("ngModelChange",function(l){return f(r),A(n.user.email,l)||(n.user.email=l),_(l)}),s()(),a(29,"button",22),c(30,"Sauvegarder mes informations "),g(31,"app-loading",23),s()()(),a(32,"div",24)(33,"form",18,1),v("ngSubmit",function(){f(r);let l=C(34);return _(n.changePassword(l.value))}),a(35,"div",19)(36,"label",20),c(37,"Ancien mot de passe"),s(),g(38,"input",25),s(),a(39,"div",19)(40,"label",20),c(41,"Nouveau mot de passe"),s(),g(42,"input",26),s(),a(43,"div",19)(44,"label",20),c(45,"Confirmer moot de passe"),s(),g(46,"input",27),s(),a(47,"button",28),c(48,"Changer le mot de passe "),g(49,"app-loading",23),s()()(),S(50,hz,12,3,"div",29),s()()()}if(e&2){let r=C(24),o=C(34);d(20),p("ngIf",n.user.is_signer),d(8),D("ngModel",n.user.email),d(),p("disabled",r.invalid||n.loading),d(2),p("isVisible",n.loading),d(16),p("disabled",o.invalid||n.loading),d(2),p("isVisible",n.loading),d(),p("ngIf",n.user.is_signer)}},dependencies:[we,J,X,ie,pe,oe,ae,ue,Ce,le,he]})};var Ld=class i{tag="admin-user-settinngs";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=j({type:i,selectors:[["app-user-setting"]],decls:2,vars:0,template:function(e,n){e&1&&(a(0,"p"),c(1,"user-setting works!"),s())}})};var Bd=class i{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=j({type:i,selectors:[["app-not-found-component"]],standalone:!0,features:[U],decls:15,vars:0,consts:[[1,"app-container","app-theme-white","body-tabs-shadow"],[1,"app-container"],[1,"h-100"],[1,"h-100","no-gutters","row"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center","col-12"],[1,"mx-auto","app-login-box","col-12","text-center"],[1,"app-logo"],[1,"mb-"],[1,"mb-3","h1","fw-bold"],[1,"mb-0"],["routerLink","/",1,"text-primary"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),g(6,"div",6),a(7,"h4",7)(8,"div",8),c(9,"Page non trouv\xE9e "),s(),a(10,"span"),c(11,"La page \xE0 laquelle vous essayez d'acc\xE9der n'existe pas !"),s()(),a(12,"h6",9)(13,"a",10),c(14,"Retourner"),s()()()()()()()())}})};var jd=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=j({type:i,selectors:[["app-layout"]],standalone:!0,features:[U],decls:21,vars:0,consts:[[1,"login-container","d-flex","align-items-center","justify-content-center"],[1,"login-overlay"],[1,"decorative-elements"],[1,"decorative-circle",2,"top","10%","left","10%","width","120px","height","120px"],[1,"decorative-circle",2,"bottom","15%","right","15%","width","80px","height","80px"],[1,"decorative-square",2,"top","50%","left","5%","width","60px","height","60px"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6"],[1,"text-center","mb-5","fade-in-up"],[1,"logo-container","pulse-animation"],["width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","2"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"main-title"],[1,"subtitle"],[1,"footer-text"]],template:function(e,n){e&1&&(a(0,"div",0),g(1,"div",1),a(2,"div",2),g(3,"div",3)(4,"div",4)(5,"div",5),s(),a(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),Ri(),a(11,"svg",11),g(12,"path",12)(13,"circle",13),s()(),er(),a(14,"h1",14),c(15,"Espace de traitement des"),s(),a(16,"h2",15),c(17,"e-services"),s()(),g(18,"router-outlet"),a(19,"div",16),c(20," \xA9 2025 Gouvernement du B\xE9nin - Tous droits r\xE9serv\xE9s "),s()()()()())},dependencies:[yo],styles:[".login-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}[_nghost-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-control[_ngcontent-%COMP%]:hover{border-color:#0a37644d;background:#fff}.invalid-feedback[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};var fy=[{path:"",redirectTo:"/login",pathMatch:"full"},...hy,{path:"",component:jd,canActivate:[es],children:[{path:"activate-account",component:Ad,canActivate:[rc]},{path:"login",component:Od,canActivate:[es]},{path:"forget-password",component:Pd},{path:"recovery-password/:token",component:Vd}]},{path:"user-account",canActivate:[qn],component:Nd},{path:"user-settinngs",canActivate:[qn],component:Ld},{path:"404",component:Bd},{path:"**",redirectTo:"/404"}];var fz="@",_z=(()=>{class i{constructor(e,n,r,o,l){this.doc=e,this.delegate=n,this.zone=r,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=ce(fh,{optional:!0}),this.loadingSchedulerFn=ce(gz,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-C7RW4IEJ.mjs").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new Rr(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new Xp(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let m=l.createRenderer(e,n);o.use(m),this.scheduler?.notify(10)}).catch(l=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){$d()}}static{this.\u0275prov=q({token:i,factory:i.\u0275fac})}}return i})(),Xp=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(fz)}},gz=new gt("");function _y(i="animations"){return gh("NgAsyncAnimations"),Sa([{provide:_h,useFactory:(t,e,n)=>new _z(t,e,n,i),deps:[it,Vh,ot]},{provide:Fr,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var zd=class i{constructor(t,e,n,r){this.authService=t;this.router=e;this.lsService=n;this.modalService=r}intercept(t,e){let n=this.authService.getJWTToken();return t=t.clone({url:t.url,setHeaders:{Authorization:`Bearer ${n}`,Accept:"application/json"}}),e.handle(t).pipe(sh(r=>{if(r instanceof Dh)if(r.error instanceof ErrorEvent)console.log("Error Event");else switch(console.log(`error status : ${r.status} ${JSON.stringify(r.error)}`),r.status){case 401:this.lsService.remove(W.tokenName),this.lsService.remove(W.refreshTokenName),this.lsService.remove(W.expireIn),this.lsService.remove(W.userName),this.lsService.remove(W.exercice),this.modalService.dismissAll(),this.router.navigate(["//login"]);break;case 403:break;case 0:case 400:case 405:case 406:case 409:case 500:break}else console.error("Une erreur non identifi\xE9e s'est produit.");return ih(r)}))}static \u0275fac=function(e){return new(e||i)(B(Xt),B(He),B(te),B(de))};static \u0275prov=q({token:i,factory:i.\u0275fac})};function bz(i){let t=i,e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===0||e===1?1:r===0&&e!==0&&e%1e6===0&&n===0||!(r>=0&&r<=5)?4:5}var gy=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",bz];kh(gy);var by={providers:[Sh({eventCoalescing:!0}),Lh(fy),Fh(),Ph(Oh()),_y(),B1(),kg(Eg()),{provide:el,useValue:"fr"},qn,{provide:Ah,useClass:zd,multi:!0}]};var vz={providers:[Nh()]},vy=Eh(by,vz);var yz=()=>Rh(nl,vy),Xde=yz;export{Xde as a};
