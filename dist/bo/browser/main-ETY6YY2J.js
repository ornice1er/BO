import{$ as bp,$a as ma,$b as Ue,$c as jt,A as fp,Aa as bi,Ab as Qi,Ac as F_,B as o_,Ba as ln,Bb as at,Bc as $c,C as Ii,Ca as Rt,Cb as Qt,Cc as Ot,D as a_,Da as Lc,Db as Sp,Dc as N_,E as Mo,Ea as Ss,Eb as Xn,Ec as L_,F as ii,Fa as Pe,Fb as A_,Fc as Bn,G as s_,Ga as Ze,Gb as P_,Gc as Ao,H as vs,Ha as Bc,Hb as O_,Hc as Sn,I as ys,Ia as Ne,Ib as a,Ic as Po,J as zr,Ja as g_,Jb as s,Jc as B_,K as Ur,Ka as Es,Kb as b,Kc as ga,L as xs,La as __,Lb as kt,Lc as j_,M as gp,Ma as cn,Mb as Tt,Mc as z_,N as yn,Na as Do,Nb as ha,Nc as Ye,O as l_,Oa as ks,Ob as S,Oc as U_,P as Io,Pa as xp,Pb as fa,Pc as Ds,Q as c_,Qa as ca,Qb as Ep,Qc as H_,R as _r,Ra as da,Rb as v,Rc as W_,S as Hr,Sa as b_,Sb as p,Sc as yr,T as _p,Ta as v_,Tb as hi,Tc as mn,U as d_,Ua as y_,Ub as fi,Uc as q_,V as u_,Va as x_,Vb as Ln,Vc as Gc,W as la,Wa as w_,Wb as We,Wc as jn,X as br,Xa as C_,Xb as kp,Xc as _e,Y as Vi,Ya as S_,Yb as Kt,Yc as ae,Z as dt,Za as Nn,Zb as gt,Zc as $_,_ as ai,_a as ua,_b as ze,_c as qr,a as X,aa as Pt,ab as xt,ac as E,ad as G_,b as tt,ba as ni,bb as E_,bc as c,bd as Y_,c as i_,ca as W,cb as k_,cc as L,cd as oe,d as Tk,da as be,db as T_,dc as K,dd as Q_,e as Mk,ea as m_,eb as Ts,ec as Di,ed as Oo,f as dp,fa as Le,fb as u,fc as V,fd as As,g as Eo,ga as vp,gb as T,gc as F,gd as K_,h as n_,ha as z,hb as Ms,hc as N,hd as Yc,i as Vn,ia as q,ib as St,ic as vt,j as up,ja as yp,jb as M_,jc as J,k as mp,ka as p_,kb as pa,kc as xi,kd as Ro,l as Re,la as ws,lb as jc,lc as Ki,ld as xr,m as ci,ma as G,mb as Ui,mc as vr,n as pp,na as ve,nb as Jn,nc as qe,nd as pn,o as hp,oa as De,ob as zc,oc as R_,od as Zn,p as Kn,pa as Cs,pb as dn,pc as ee,pd as wr,q as Si,qa as Fn,qb as Wt,qc as Uc,r as je,ra as h_,rb as Cn,rc as re,s as ko,sa as xn,sb as I_,sc as B,t as Fc,ta as wn,tb as wp,tc as Hc,u as r_,ua as f_,ub as k,uc as Wc,v as mt,va as Lt,vb as Cp,vc as Tp,w as To,wa as f,wb as un,wc as Is,x as Yi,xa as g,xb as lt,xc as Hi,y as bs,ya as sn,yb as D_,yc as V_,z as Nc,za as Wr,zb as h,zc as qc}from"./chunk-RETZ2UY5.js";var LC=Tk((cr,Af)=>{"use strict";(function(n,t){typeof cr=="object"&&typeof Af<"u"?Af.exports=t():typeof define=="function"&&define.amd?define(t):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=t())})(cr,function(){"use strict";function n(y,C,M){if(typeof y=="function"?y===C:y.has(C))return arguments.length<3?C:M;throw new TypeError("Private element is not present on this object")}function t(y,C){if(C.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(y,C){return y.get(n(y,C))}function i(y,C,M){t(y,C),C.set(y,M)}function r(y,C,M){return y.set(n(y,C),M),M}let o=100,l={},d=()=>{l.previousActiveElement instanceof HTMLElement?(l.previousActiveElement.focus(),l.previousActiveElement=null):document.body&&document.body.focus()},m=y=>new Promise(C=>{if(!y)return C();let M=window.scrollX,R=window.scrollY;l.restoreFocusTimeout=setTimeout(()=>{d(),C()},o),window.scrollTo(M,R)}),_="swal2-",w=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((y,C)=>(y[C]=_+C,y),{}),D=["success","warning","info","question","error"].reduce((y,C)=>(y[C]=_+C,y),{}),P="SweetAlert2:",A=y=>y.charAt(0).toUpperCase()+y.slice(1),O=y=>{console.warn(`${P} ${typeof y=="object"?y.join(" "):y}`)},U=y=>{console.error(`${P} ${y}`)},H=[],Y=y=>{H.includes(y)||(H.push(y),O(y))},ie=(y,C=null)=>{Y(`"${y}" is deprecated and will be removed in the next major release.${C?` Use "${C}" instead.`:""}`)},Q=y=>typeof y=="function"?y():y,ne=y=>y&&typeof y.toPromise=="function",ge=y=>ne(y)?y.toPromise():Promise.resolve(y),le=y=>y&&Promise.resolve(y)===y,ye=()=>document.body.querySelector(`.${w.container}`),ot=y=>{let C=ye();return C?C.querySelector(y):null},Ge=y=>ot(`.${y}`),Ie=()=>Ge(w.popup),ei=()=>Ge(w.icon),ji=()=>Ge(w["icon-content"]),Dt=()=>Ge(w.title),Bt=()=>Ge(w["html-container"]),ti=()=>Ge(w.image),zi=()=>Ge(w["progress-steps"]),ui=()=>Ge(w["validation-message"]),Mi=()=>ot(`.${w.actions} .${w.confirm}`),On=()=>ot(`.${w.actions} .${w.cancel}`),qi=()=>ot(`.${w.actions} .${w.deny}`),xo=()=>Ge(w["input-label"]),$i=()=>ot(`.${w.loader}`),Rn=()=>Ge(w.actions),Yn=()=>Ge(w.footer),Cc=()=>Ge(w["timer-progress-bar"]),Gm=()=>Ge(w.close),XS=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ym=()=>{let y=Ie();if(!y)return[];let C=y.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),M=Array.from(C).sort((Se,wt)=>{let Nt=parseInt(Se.getAttribute("tabindex")||"0"),oi=parseInt(wt.getAttribute("tabindex")||"0");return Nt>oi?1:Nt<oi?-1:0}),R=y.querySelectorAll(XS),$=Array.from(R).filter(Se=>Se.getAttribute("tabindex")!=="-1");return[...new Set(M.concat($))].filter(Se=>Gi(Se))},Qm=()=>gr(document.body,w.shown)&&!gr(document.body,w["toast-shown"])&&!gr(document.body,w["no-backdrop"]),Sc=()=>{let y=Ie();return y?gr(y,w.toast):!1},ZS=()=>{let y=Ie();return y?y.hasAttribute("data-loading"):!1},on=(y,C)=>{if(y.textContent="",C){let R=new DOMParser().parseFromString(C,"text/html"),$=R.querySelector("head");$&&Array.from($.childNodes).forEach(wt=>{y.appendChild(wt)});let Se=R.querySelector("body");Se&&Array.from(Se.childNodes).forEach(wt=>{wt instanceof HTMLVideoElement||wt instanceof HTMLAudioElement?y.appendChild(wt.cloneNode(!0)):y.appendChild(wt)})}},gr=(y,C)=>{if(!C)return!1;let M=C.split(/\s+/);for(let R=0;R<M.length;R++)if(!y.classList.contains(M[R]))return!1;return!0},e2=(y,C)=>{Array.from(y.classList).forEach(M=>{!Object.values(w).includes(M)&&!Object.values(D).includes(M)&&!Object.values(C.showClass||{}).includes(M)&&y.classList.remove(M)})},an=(y,C,M)=>{if(e2(y,C),!C.customClass)return;let R=C.customClass[M];if(R){if(typeof R!="string"&&!R.forEach){O(`Invalid type of customClass.${M}! Expected string or iterable object, got "${typeof R}"`);return}At(y,R)}},Ec=(y,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return y.querySelector(`.${w.popup} > .${w[C]}`);case"checkbox":return y.querySelector(`.${w.popup} > .${w.checkbox} input`);case"radio":return y.querySelector(`.${w.popup} > .${w.radio} input:checked`)||y.querySelector(`.${w.popup} > .${w.radio} input:first-child`);case"range":return y.querySelector(`.${w.popup} > .${w.range} input`);default:return y.querySelector(`.${w.popup} > .${w.input}`)}},ag=y=>{if(y.focus(),y.type!=="file"){let C=y.value;y.value="",y.value=C}},sg=(y,C,M)=>{!y||!C||(typeof C=="string"&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(R=>{Array.isArray(y)?y.forEach($=>{M?$.classList.add(R):$.classList.remove(R)}):M?y.classList.add(R):y.classList.remove(R)}))},At=(y,C)=>{sg(y,C,!0)},vn=(y,C)=>{sg(y,C,!1)},Br=(y,C)=>{let M=Array.from(y.children);for(let R=0;R<M.length;R++){let $=M[R];if($ instanceof HTMLElement&&gr($,C))return $}},wo=(y,C,M)=>{M===`${parseInt(M)}`&&(M=parseInt(M)),M||parseInt(M)===0?y.style.setProperty(C,typeof M=="number"?`${M}px`:M):y.style.removeProperty(C)},Ci=(y,C="flex")=>{y&&(y.style.display=C)},Ri=y=>{y&&(y.style.display="none")},Km=(y,C="block")=>{y&&new MutationObserver(()=>{fs(y,y.innerHTML,C)}).observe(y,{childList:!0,subtree:!0})},lg=(y,C,M,R)=>{let $=y.querySelector(C);$&&$.style.setProperty(M,R)},fs=(y,C,M="flex")=>{C?Ci(y,M):Ri(y)},Gi=y=>!!(y&&(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),t2=()=>!Gi(Mi())&&!Gi(qi())&&!Gi(On()),Jm=y=>y.scrollHeight>y.clientHeight,i2=(y,C)=>{let M=y;for(;M&&M!==C;){if(Jm(M))return!0;M=M.parentElement}return!1},cg=y=>{let C=window.getComputedStyle(y),M=parseFloat(C.getPropertyValue("animation-duration")||"0"),R=parseFloat(C.getPropertyValue("transition-duration")||"0");return M>0||R>0},Xm=(y,C=!1)=>{let M=Cc();M&&Gi(M)&&(C&&(M.style.transition="none",M.style.width="100%"),setTimeout(()=>{M.style.transition=`width ${y/1e3}s linear`,M.style.width="0%"},10))},n2=()=>{let y=Cc();if(!y)return;let C=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";let M=parseInt(window.getComputedStyle(y).width),R=C/M*100;y.style.width=`${R}%`},r2=()=>typeof window>"u"||typeof document>"u",o2=`
 <div aria-labelledby="${w.title}" aria-describedby="${w["html-container"]}" class="${w.popup}" tabindex="-1">
   <button type="button" class="${w.close}"></button>
   <ul class="${w["progress-steps"]}"></ul>
   <div class="${w.icon}"></div>
   <img class="${w.image}" />
   <h2 class="${w.title}" id="${w.title}"></h2>
   <div class="${w["html-container"]}" id="${w["html-container"]}"></div>
   <input class="${w.input}" id="${w.input}" />
   <input type="file" class="${w.file}" />
   <div class="${w.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${w.select}" id="${w.select}"></select>
   <div class="${w.radio}"></div>
   <label class="${w.checkbox}">
     <input type="checkbox" id="${w.checkbox}" />
     <span class="${w.label}"></span>
   </label>
   <textarea class="${w.textarea}" id="${w.textarea}"></textarea>
   <div class="${w["validation-message"]}" id="${w["validation-message"]}"></div>
   <div class="${w.actions}">
     <div class="${w.loader}"></div>
     <button type="button" class="${w.confirm}"></button>
     <button type="button" class="${w.deny}"></button>
     <button type="button" class="${w.cancel}"></button>
   </div>
   <div class="${w.footer}"></div>
   <div class="${w["timer-progress-bar-container"]}">
     <div class="${w["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),a2=()=>{let y=ye();return y?(y.remove(),vn([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]]),!0):!1},Co=()=>{l.currentInstance.resetValidationMessage()},s2=()=>{let y=Ie(),C=Br(y,w.input),M=Br(y,w.file),R=y.querySelector(`.${w.range} input`),$=y.querySelector(`.${w.range} output`),Se=Br(y,w.select),wt=y.querySelector(`.${w.checkbox} input`),Nt=Br(y,w.textarea);C.oninput=Co,M.onchange=Co,Se.onchange=Co,wt.onchange=Co,Nt.oninput=Co,R.oninput=()=>{Co(),$.value=R.value},R.onchange=()=>{Co(),$.value=R.value}},l2=y=>typeof y=="string"?document.querySelector(y):y,c2=y=>{let C=Ie();C.setAttribute("role",y.toast?"alert":"dialog"),C.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||C.setAttribute("aria-modal","true")},d2=y=>{window.getComputedStyle(y).direction==="rtl"&&At(ye(),w.rtl)},u2=y=>{let C=a2();if(r2()){U("SweetAlert2 requires document to initialize");return}let M=document.createElement("div");M.className=w.container,C&&At(M,w["no-transition"]),on(M,o2),M.dataset.swal2Theme=y.theme;let R=l2(y.target);R.appendChild(M),y.topLayer&&(M.setAttribute("popover",""),M.showPopover()),c2(y),d2(R),s2()},Zm=(y,C)=>{y instanceof HTMLElement?C.appendChild(y):typeof y=="object"?m2(y,C):y&&on(C,y)},m2=(y,C)=>{y.jquery?p2(C,y):on(C,y.toString())},p2=(y,C)=>{if(y.textContent="",0 in C)for(let M=0;M in C;M++)y.appendChild(C[M].cloneNode(!0));else y.appendChild(C.cloneNode(!0))},h2=(y,C)=>{let M=Rn(),R=$i();!M||!R||(!C.showConfirmButton&&!C.showDenyButton&&!C.showCancelButton?Ri(M):Ci(M),an(M,C,"actions"),f2(M,R,C),on(R,C.loaderHtml||""),an(R,C,"loader"))};function f2(y,C,M){let R=Mi(),$=qi(),Se=On();!R||!$||!Se||(tp(R,"confirm",M),tp($,"deny",M),tp(Se,"cancel",M),g2(R,$,Se,M),M.reverseButtons&&(M.toast?(y.insertBefore(Se,R),y.insertBefore($,R)):(y.insertBefore(Se,C),y.insertBefore($,C),y.insertBefore(R,C))))}function g2(y,C,M,R){if(!R.buttonsStyling){vn([y,C,M],w.styled);return}At([y,C,M],w.styled),R.confirmButtonColor&&y.style.setProperty("--swal2-confirm-button-background-color",R.confirmButtonColor),R.denyButtonColor&&C.style.setProperty("--swal2-deny-button-background-color",R.denyButtonColor),R.cancelButtonColor&&M.style.setProperty("--swal2-cancel-button-background-color",R.cancelButtonColor),ep(y),ep(C),ep(M)}function ep(y){let C=window.getComputedStyle(y);if(C.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;let M=C.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");y.style.setProperty("--swal2-action-button-focus-box-shadow",C.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${M}`))}function tp(y,C,M){let R=A(C);fs(y,M[`show${R}Button`],"inline-block"),on(y,M[`${C}ButtonText`]||""),y.setAttribute("aria-label",M[`${C}ButtonAriaLabel`]||""),y.className=w[C],an(y,M,`${C}Button`)}let _2=(y,C)=>{let M=Gm();M&&(on(M,C.closeButtonHtml||""),an(M,C,"closeButton"),fs(M,C.showCloseButton),M.setAttribute("aria-label",C.closeButtonAriaLabel||""))},b2=(y,C)=>{let M=ye();M&&(v2(M,C.backdrop),y2(M,C.position),x2(M,C.grow),an(M,C,"container"))};function v2(y,C){typeof C=="string"?y.style.background=C:C||At([document.documentElement,document.body],w["no-backdrop"])}function y2(y,C){C&&(C in w?At(y,w[C]):(O('The "position" parameter is not valid, defaulting to "center"'),At(y,w.center)))}function x2(y,C){C&&At(y,w[`grow-${C}`])}var Yt={innerParams:new WeakMap,domCache:new WeakMap};let w2=["input","file","range","select","radio","checkbox","textarea"],C2=(y,C)=>{let M=Ie();if(!M)return;let R=Yt.innerParams.get(y),$=!R||C.input!==R.input;w2.forEach(Se=>{let wt=Br(M,w[Se]);wt&&(k2(Se,C.inputAttributes),wt.className=w[Se],$&&Ri(wt))}),C.input&&($&&S2(C),T2(C))},S2=y=>{if(!y.input)return;if(!mi[y.input]){U(`Unexpected type of input! Expected ${Object.keys(mi).join(" | ")}, got "${y.input}"`);return}let C=dg(y.input);if(!C)return;let M=mi[y.input](C,y);Ci(C),y.inputAutoFocus&&setTimeout(()=>{ag(M)})},E2=y=>{for(let C=0;C<y.attributes.length;C++){let M=y.attributes[C].name;["id","type","value","style"].includes(M)||y.removeAttribute(M)}},k2=(y,C)=>{let M=Ie();if(!M)return;let R=Ec(M,y);if(R){E2(R);for(let $ in C)R.setAttribute($,C[$])}},T2=y=>{if(!y.input)return;let C=dg(y.input);C&&an(C,y,"input")},ip=(y,C)=>{!y.placeholder&&C.inputPlaceholder&&(y.placeholder=C.inputPlaceholder)},gs=(y,C,M)=>{if(M.inputLabel){let R=document.createElement("label"),$=w["input-label"];R.setAttribute("for",y.id),R.className=$,typeof M.customClass=="object"&&At(R,M.customClass.inputLabel),R.innerText=M.inputLabel,C.insertAdjacentElement("beforebegin",R)}},dg=y=>{let C=Ie();if(C)return Br(C,w[y]||w.input)},kc=(y,C)=>{["string","number"].includes(typeof C)?y.value=`${C}`:le(C)||O(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},mi={};mi.text=mi.email=mi.password=mi.number=mi.tel=mi.url=mi.search=mi.date=mi["datetime-local"]=mi.time=mi.week=mi.month=(y,C)=>(kc(y,C.inputValue),gs(y,y,C),ip(y,C),y.type=C.input,y),mi.file=(y,C)=>(gs(y,y,C),ip(y,C),y),mi.range=(y,C)=>{let M=y.querySelector("input"),R=y.querySelector("output");return kc(M,C.inputValue),M.type=C.input,kc(R,C.inputValue),gs(M,y,C),y},mi.select=(y,C)=>{if(y.textContent="",C.inputPlaceholder){let M=document.createElement("option");on(M,C.inputPlaceholder),M.value="",M.disabled=!0,M.selected=!0,y.appendChild(M)}return gs(y,y,C),y},mi.radio=y=>(y.textContent="",y),mi.checkbox=(y,C)=>{let M=Ec(Ie(),"checkbox");M.value="1",M.checked=!!C.inputValue;let R=y.querySelector("span");return on(R,C.inputPlaceholder||C.inputLabel),M},mi.textarea=(y,C)=>{kc(y,C.inputValue),ip(y,C),gs(y,y,C);let M=R=>parseInt(window.getComputedStyle(R).marginLeft)+parseInt(window.getComputedStyle(R).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let R=parseInt(window.getComputedStyle(Ie()).width),$=()=>{if(!document.body.contains(y))return;let Se=y.offsetWidth+M(y);Se>R?Ie().style.width=`${Se}px`:wo(Ie(),"width",C.width)};new MutationObserver($).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};let M2=(y,C)=>{let M=Bt();M&&(Km(M),an(M,C,"htmlContainer"),C.html?(Zm(C.html,M),Ci(M,"block")):C.text?(M.textContent=C.text,Ci(M,"block")):Ri(M),C2(y,C))},I2=(y,C)=>{let M=Yn();M&&(Km(M),fs(M,C.footer,"block"),C.footer&&Zm(C.footer,M),an(M,C,"footer"))},D2=(y,C)=>{let M=Yt.innerParams.get(y),R=ei();if(!R)return;if(M&&C.icon===M.icon){pg(R,C),ug(R,C);return}if(!C.icon&&!C.iconHtml){Ri(R);return}if(C.icon&&Object.keys(D).indexOf(C.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),Ri(R);return}Ci(R),pg(R,C),ug(R,C),At(R,C.showClass&&C.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",mg)},ug=(y,C)=>{for(let[M,R]of Object.entries(D))C.icon!==M&&vn(y,R);At(y,C.icon&&D[C.icon]),O2(y,C),mg(),an(y,C,"icon")},mg=()=>{let y=Ie();if(!y)return;let C=window.getComputedStyle(y).getPropertyValue("background-color"),M=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let R=0;R<M.length;R++)M[R].style.backgroundColor=C},A2=y=>`
  ${y.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${y.animation?'<div class="swal2-success-fix"></div>':""}
  ${y.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,P2=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,pg=(y,C)=>{if(!C.icon&&!C.iconHtml)return;let M=y.innerHTML,R="";C.iconHtml?R=hg(C.iconHtml):C.icon==="success"?(R=A2(C),M=M.replace(/ style=".*?"/g,"")):C.icon==="error"?R=P2:C.icon&&(R=hg({question:"?",warning:"!",info:"i"}[C.icon])),M.trim()!==R.trim()&&on(y,R)},O2=(y,C)=>{if(C.iconColor){y.style.color=C.iconColor,y.style.borderColor=C.iconColor;for(let M of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lg(y,M,"background-color",C.iconColor);lg(y,".swal2-success-ring","border-color",C.iconColor)}},hg=y=>`<div class="${w["icon-content"]}">${y}</div>`,R2=(y,C)=>{let M=ti();if(M){if(!C.imageUrl){Ri(M);return}Ci(M,""),M.setAttribute("src",C.imageUrl),M.setAttribute("alt",C.imageAlt||""),wo(M,"width",C.imageWidth),wo(M,"height",C.imageHeight),M.className=w.image,an(M,C,"image")}},np=!1,fg=0,gg=0,_g=0,bg=0,V2=y=>{y.addEventListener("mousedown",Tc),document.body.addEventListener("mousemove",Mc),y.addEventListener("mouseup",Ic),y.addEventListener("touchstart",Tc),document.body.addEventListener("touchmove",Mc),y.addEventListener("touchend",Ic)},F2=y=>{y.removeEventListener("mousedown",Tc),document.body.removeEventListener("mousemove",Mc),y.removeEventListener("mouseup",Ic),y.removeEventListener("touchstart",Tc),document.body.removeEventListener("touchmove",Mc),y.removeEventListener("touchend",Ic)},Tc=y=>{let C=Ie();if(y.target===C||ei().contains(y.target)){np=!0;let M=vg(y);fg=M.clientX,gg=M.clientY,_g=parseInt(C.style.insetInlineStart)||0,bg=parseInt(C.style.insetBlockStart)||0,At(C,"swal2-dragging")}},Mc=y=>{let C=Ie();if(np){let{clientX:M,clientY:R}=vg(y);C.style.insetInlineStart=`${_g+(M-fg)}px`,C.style.insetBlockStart=`${bg+(R-gg)}px`}},Ic=()=>{let y=Ie();np=!1,vn(y,"swal2-dragging")},vg=y=>{let C=0,M=0;return y.type.startsWith("mouse")?(C=y.clientX,M=y.clientY):y.type.startsWith("touch")&&(C=y.touches[0].clientX,M=y.touches[0].clientY),{clientX:C,clientY:M}},N2=(y,C)=>{let M=ye(),R=Ie();if(!(!M||!R)){if(C.toast){wo(M,"width",C.width),R.style.width="100%";let $=$i();$&&R.insertBefore($,ei())}else wo(R,"width",C.width);wo(R,"padding",C.padding),C.color&&(R.style.color=C.color),C.background&&(R.style.background=C.background),Ri(ui()),L2(R,C),C.draggable&&!C.toast?(At(R,w.draggable),V2(R)):(vn(R,w.draggable),F2(R))}},L2=(y,C)=>{let M=C.showClass||{};y.className=`${w.popup} ${Gi(y)?M.popup:""}`,C.toast?(At([document.documentElement,document.body],w["toast-shown"]),At(y,w.toast)):At(y,w.modal),an(y,C,"popup"),typeof C.customClass=="string"&&At(y,C.customClass),C.icon&&At(y,w[`icon-${C.icon}`])},B2=(y,C)=>{let M=zi();if(!M)return;let{progressSteps:R,currentProgressStep:$}=C;if(!R||R.length===0||$===void 0){Ri(M);return}Ci(M),M.textContent="",$>=R.length&&O("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),R.forEach((Se,wt)=>{let Nt=j2(Se);if(M.appendChild(Nt),wt===$&&At(Nt,w["active-progress-step"]),wt!==R.length-1){let oi=z2(C);M.appendChild(oi)}})},j2=y=>{let C=document.createElement("li");return At(C,w["progress-step"]),on(C,y),C},z2=y=>{let C=document.createElement("li");return At(C,w["progress-step-line"]),y.progressStepsDistance&&wo(C,"width",y.progressStepsDistance),C},U2=(y,C)=>{let M=Dt();M&&(Km(M),fs(M,C.title||C.titleText,"block"),C.title&&Zm(C.title,M),C.titleText&&(M.innerText=C.titleText),an(M,C,"title"))},yg=(y,C)=>{N2(y,C),b2(y,C),B2(y,C),D2(y,C),R2(y,C),U2(y,C),_2(y,C),M2(y,C),h2(y,C),I2(y,C);let M=Ie();typeof C.didRender=="function"&&M&&C.didRender(M),l.eventEmitter.emit("didRender",M)},H2=()=>Gi(Ie()),xg=()=>{var y;return(y=Mi())===null||y===void 0?void 0:y.click()},W2=()=>{var y;return(y=qi())===null||y===void 0?void 0:y.click()},q2=()=>{var y;return(y=On())===null||y===void 0?void 0:y.click()},ia=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),wg=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},$2=(y,C,M)=>{wg(y),C.toast||(y.keydownHandler=R=>Y2(C,R,M),y.keydownTarget=C.keydownListenerCapture?window:Ie(),y.keydownListenerCapture=C.keydownListenerCapture,y.keydownTarget.addEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!0)},rp=(y,C)=>{var M;let R=Ym();if(R.length){y=y+C,y===-2&&(y=R.length-1),y===R.length?y=0:y===-1&&(y=R.length-1),R[y].focus();return}(M=Ie())===null||M===void 0||M.focus()},Cg=["ArrowRight","ArrowDown"],G2=["ArrowLeft","ArrowUp"],Y2=(y,C,M)=>{y&&(C.isComposing||C.keyCode===229||(y.stopKeydownPropagation&&C.stopPropagation(),C.key==="Enter"?Q2(C,y):C.key==="Tab"?K2(C):[...Cg,...G2].includes(C.key)?J2(C.key):C.key==="Escape"&&X2(C,y,M)))},Q2=(y,C)=>{if(!Q(C.allowEnterKey))return;let M=Ec(Ie(),C.input);if(y.target&&M&&y.target instanceof HTMLElement&&y.target.outerHTML===M.outerHTML){if(["textarea","file"].includes(C.input))return;xg(),y.preventDefault()}},K2=y=>{let C=y.target,M=Ym(),R=-1;for(let $=0;$<M.length;$++)if(C===M[$]){R=$;break}y.shiftKey?rp(R,-1):rp(R,1),y.stopPropagation(),y.preventDefault()},J2=y=>{let C=Rn(),M=Mi(),R=qi(),$=On();if(!C||!M||!R||!$)return;let Se=[M,R,$];if(document.activeElement instanceof HTMLElement&&!Se.includes(document.activeElement))return;let wt=Cg.includes(y)?"nextElementSibling":"previousElementSibling",Nt=document.activeElement;if(Nt){for(let oi=0;oi<C.children.length;oi++){if(Nt=Nt[wt],!Nt)return;if(Nt instanceof HTMLButtonElement&&Gi(Nt))break}Nt instanceof HTMLButtonElement&&Nt.focus()}},X2=(y,C,M)=>{y.preventDefault(),Q(C.allowEscapeKey)&&M(ia.esc)};var na={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Z2=()=>{let y=ye();Array.from(document.body.children).forEach(M=>{M.contains(y)||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")||""),M.setAttribute("aria-hidden","true"))})},Sg=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")||""),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Eg=typeof window<"u"&&!!window.GestureEvent,eE=()=>{if(Eg&&!gr(document.body,w.iosfix)){let y=document.body.scrollTop;document.body.style.top=`${y*-1}px`,At(document.body,w.iosfix),tE()}},tE=()=>{let y=ye();if(!y)return;let C;y.ontouchstart=M=>{C=iE(M)},y.ontouchmove=M=>{C&&(M.preventDefault(),M.stopPropagation())}},iE=y=>{let C=y.target,M=ye(),R=Bt();return!M||!R||nE(y)||rE(y)?!1:C===M||!Jm(M)&&C instanceof HTMLElement&&!i2(C,R)&&C.tagName!=="INPUT"&&C.tagName!=="TEXTAREA"&&!(Jm(R)&&R.contains(C))},nE=y=>y.touches&&y.touches.length&&y.touches[0].touchType==="stylus",rE=y=>y.touches&&y.touches.length>1,oE=()=>{if(gr(document.body,w.iosfix)){let y=parseInt(document.body.style.top,10);vn(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=y*-1}},aE=()=>{let y=document.createElement("div");y.className=w["scrollbar-measure"],document.body.appendChild(y);let C=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),C},ra=null,sE=y=>{ra===null&&(document.body.scrollHeight>window.innerHeight||y==="scroll")&&(ra=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ra+aE()}px`)},lE=()=>{ra!==null&&(document.body.style.paddingRight=`${ra}px`,ra=null)};function kg(y,C,M,R){Sc()?Mg(y,R):(m(M).then(()=>Mg(y,R)),wg(l)),Eg?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Qm()&&(lE(),oE(),Sg()),cE()}function cE(){vn([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"]])}function jr(y){y=uE(y);let C=na.swalPromiseResolve.get(this),M=dE(this);this.isAwaitingPromise?y.isDismissed||(_s(this),C(y)):M&&C(y)}let dE=y=>{let C=Ie();if(!C)return!1;let M=Yt.innerParams.get(y);if(!M||gr(C,M.hideClass.popup))return!1;vn(C,M.showClass.popup),At(C,M.hideClass.popup);let R=ye();return vn(R,M.showClass.backdrop),At(R,M.hideClass.backdrop),mE(y,C,M),!0};function Tg(y){let C=na.swalPromiseReject.get(this);_s(this),C&&C(y)}let _s=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,Yt.innerParams.get(y)||y._destroy())},uE=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),mE=(y,C,M)=>{var R;let $=ye(),Se=cg(C);typeof M.willClose=="function"&&M.willClose(C),(R=l.eventEmitter)===null||R===void 0||R.emit("willClose",C),Se?pE(y,C,$,M.returnFocus,M.didClose):kg(y,$,M.returnFocus,M.didClose)},pE=(y,C,M,R,$)=>{l.swalCloseEventFinishedCallback=kg.bind(null,y,M,R,$);let Se=function(wt){if(wt.target===C){var Nt;(Nt=l.swalCloseEventFinishedCallback)===null||Nt===void 0||Nt.call(l),delete l.swalCloseEventFinishedCallback,C.removeEventListener("animationend",Se),C.removeEventListener("transitionend",Se)}};C.addEventListener("animationend",Se),C.addEventListener("transitionend",Se)},Mg=(y,C)=>{setTimeout(()=>{var M;typeof C=="function"&&C.bind(y.params)(),(M=l.eventEmitter)===null||M===void 0||M.emit("didClose"),y._destroy&&y._destroy()})},oa=y=>{let C=Ie();if(C||new Vc,C=Ie(),!C)return;let M=$i();Sc()?Ri(ei()):hE(C,y),Ci(M),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},hE=(y,C)=>{let M=Rn(),R=$i();!M||!R||(!C&&Gi(Mi())&&(C=Mi()),Ci(M),C&&(Ri(C),R.setAttribute("data-button-to-replace",C.className),M.insertBefore(R,C)),At([y,M],w.loading))},fE=(y,C)=>{C.input==="select"||C.input==="radio"?yE(y,C):["text","email","number","tel","textarea"].some(M=>M===C.input)&&(ne(C.inputValue)||le(C.inputValue))&&(oa(Mi()),xE(y,C))},gE=(y,C)=>{let M=y.getInput();if(!M)return null;switch(C.input){case"checkbox":return _E(M);case"radio":return bE(M);case"file":return vE(M);default:return C.inputAutoTrim?M.value.trim():M.value}},_E=y=>y.checked?1:0,bE=y=>y.checked?y.value:null,vE=y=>y.files&&y.files.length?y.getAttribute("multiple")!==null?y.files:y.files[0]:null,yE=(y,C)=>{let M=Ie();if(!M)return;let R=$=>{C.input==="select"?wE(M,Dc($),C):C.input==="radio"&&CE(M,Dc($),C)};ne(C.inputOptions)||le(C.inputOptions)?(oa(Mi()),ge(C.inputOptions).then($=>{y.hideLoading(),R($)})):typeof C.inputOptions=="object"?R(C.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof C.inputOptions}`)},xE=(y,C)=>{let M=y.getInput();M&&(Ri(M),ge(C.inputValue).then(R=>{M.value=C.input==="number"?`${parseFloat(R)||0}`:`${R}`,Ci(M),M.focus(),y.hideLoading()}).catch(R=>{U(`Error in inputValue promise: ${R}`),M.value="",Ci(M),M.focus(),y.hideLoading()}))};function wE(y,C,M){let R=Br(y,w.select);if(!R)return;let $=(Se,wt,Nt)=>{let oi=document.createElement("option");oi.value=Nt,on(oi,wt),oi.selected=Ig(Nt,M.inputValue),Se.appendChild(oi)};C.forEach(Se=>{let wt=Se[0],Nt=Se[1];if(Array.isArray(Nt)){let oi=document.createElement("optgroup");oi.label=wt,oi.disabled=!1,R.appendChild(oi),Nt.forEach(sa=>$(oi,sa[1],sa[0]))}else $(R,Nt,wt)}),R.focus()}function CE(y,C,M){let R=Br(y,w.radio);if(!R)return;C.forEach(Se=>{let wt=Se[0],Nt=Se[1],oi=document.createElement("input"),sa=document.createElement("label");oi.type="radio",oi.name=w.radio,oi.value=wt,Ig(wt,M.inputValue)&&(oi.checked=!0);let cp=document.createElement("span");on(cp,Nt),cp.className=w.label,sa.appendChild(oi),sa.appendChild(cp),R.appendChild(sa)});let $=R.querySelectorAll("input");$.length&&$[0].focus()}let Dc=y=>{let C=[];return y instanceof Map?y.forEach((M,R)=>{let $=M;typeof $=="object"&&($=Dc($)),C.push([R,$])}):Object.keys(y).forEach(M=>{let R=y[M];typeof R=="object"&&(R=Dc(R)),C.push([M,R])}),C},Ig=(y,C)=>!!C&&C.toString()===y.toString(),SE=y=>{let C=Yt.innerParams.get(y);y.disableButtons(),C.input?Dg(y,"confirm"):ap(y,!0)},EE=y=>{let C=Yt.innerParams.get(y);y.disableButtons(),C.returnInputValueOnDeny?Dg(y,"deny"):op(y,!1)},kE=(y,C)=>{y.disableButtons(),C(ia.cancel)},Dg=(y,C)=>{let M=Yt.innerParams.get(y);if(!M.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${A(C)}`);return}let R=y.getInput(),$=gE(y,M);M.inputValidator?TE(y,$,C):R&&!R.checkValidity()?(y.enableButtons(),y.showValidationMessage(M.validationMessage||R.validationMessage)):C==="deny"?op(y,$):ap(y,$)},TE=(y,C,M)=>{let R=Yt.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>ge(R.inputValidator(C,R.validationMessage))).then(Se=>{y.enableButtons(),y.enableInput(),Se?y.showValidationMessage(Se):M==="deny"?op(y,C):ap(y,C)})},op=(y,C)=>{let M=Yt.innerParams.get(y||void 0);M.showLoaderOnDeny&&oa(qi()),M.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>ge(M.preDeny(C,M.validationMessage))).then($=>{$===!1?(y.hideLoading(),_s(y)):y.close({isDenied:!0,value:typeof $>"u"?C:$})}).catch($=>Pg(y||void 0,$))):y.close({isDenied:!0,value:C})},Ag=(y,C)=>{y.close({isConfirmed:!0,value:C})},Pg=(y,C)=>{y.rejectPromise(C)},ap=(y,C)=>{let M=Yt.innerParams.get(y||void 0);M.showLoaderOnConfirm&&oa(),M.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>ge(M.preConfirm(C,M.validationMessage))).then($=>{Gi(ui())||$===!1?(y.hideLoading(),_s(y)):Ag(y,typeof $>"u"?C:$)}).catch($=>Pg(y||void 0,$))):Ag(y,C)};function Ac(){let y=Yt.innerParams.get(this);if(!y)return;let C=Yt.domCache.get(this);Ri(C.loader),Sc()?y.icon&&Ci(ei()):ME(C),vn([C.popup,C.actions],w.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}let ME=y=>{let C=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));C.length?Ci(C[0],"inline-block"):t2()&&Ri(y.actions)};function Og(){let y=Yt.innerParams.get(this),C=Yt.domCache.get(this);return C?Ec(C.popup,y.input):null}function Rg(y,C,M){let R=Yt.domCache.get(y);C.forEach($=>{R[$].disabled=M})}function Vg(y,C){let M=Ie();if(!(!M||!y))if(y.type==="radio"){let R=M.querySelectorAll(`[name="${w.radio}"]`);for(let $=0;$<R.length;$++)R[$].disabled=C}else y.disabled=C}function Fg(){Rg(this,["confirmButton","denyButton","cancelButton"],!1)}function Ng(){Rg(this,["confirmButton","denyButton","cancelButton"],!0)}function Lg(){Vg(this.getInput(),!1)}function Bg(){Vg(this.getInput(),!0)}function jg(y){let C=Yt.domCache.get(this),M=Yt.innerParams.get(this);on(C.validationMessage,y),C.validationMessage.className=w["validation-message"],M.customClass&&M.customClass.validationMessage&&At(C.validationMessage,M.customClass.validationMessage),Ci(C.validationMessage);let R=this.getInput();R&&(R.setAttribute("aria-invalid","true"),R.setAttribute("aria-describedby",w["validation-message"]),ag(R),At(R,w.inputerror))}function zg(){let y=Yt.domCache.get(this);y.validationMessage&&Ri(y.validationMessage);let C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),vn(C,w.inputerror))}let aa={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},IE=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],DE={allowEnterKey:void 0},AE=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ug=y=>Object.prototype.hasOwnProperty.call(aa,y),Hg=y=>IE.indexOf(y)!==-1,Wg=y=>DE[y],PE=y=>{Ug(y)||O(`Unknown parameter "${y}"`)},OE=y=>{AE.includes(y)&&O(`The parameter "${y}" is incompatible with toasts`)},RE=y=>{let C=Wg(y);C&&ie(y,C)},qg=y=>{y.backdrop===!1&&y.allowOutsideClick&&O('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),y.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(y.theme)&&O(`Invalid theme "${y.theme}"`);for(let C in y)PE(C),y.toast&&OE(C),RE(C)};function $g(y){let C=ye(),M=Ie(),R=Yt.innerParams.get(this);if(!M||gr(M,R.hideClass.popup)){O("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let $=VE(y),Se=Object.assign({},R,$);qg(Se),C.dataset.swal2Theme=Se.theme,yg(this,Se),Yt.innerParams.set(this,Se),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}let VE=y=>{let C={};return Object.keys(y).forEach(M=>{Hg(M)?C[M]=y[M]:O(`Invalid parameter to update: ${M}`)}),C};function Gg(){let y=Yt.domCache.get(this),C=Yt.innerParams.get(this);if(!C){Yg(this);return}y.popup&&l.swalCloseEventFinishedCallback&&(l.swalCloseEventFinishedCallback(),delete l.swalCloseEventFinishedCallback),typeof C.didDestroy=="function"&&C.didDestroy(),l.eventEmitter.emit("didDestroy"),FE(this)}let FE=y=>{Yg(y),delete y.params,delete l.keydownHandler,delete l.keydownTarget,delete l.currentInstance},Yg=y=>{y.isAwaitingPromise?(sp(Yt,y),y.isAwaitingPromise=!0):(sp(na,y),sp(Yt,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},sp=(y,C)=>{for(let M in y)y[M].delete(C)};var NE=Object.freeze({__proto__:null,_destroy:Gg,close:jr,closeModal:jr,closePopup:jr,closeToast:jr,disableButtons:Ng,disableInput:Bg,disableLoading:Ac,enableButtons:Fg,enableInput:Lg,getInput:Og,handleAwaitingPromise:_s,hideLoading:Ac,rejectPromise:Tg,resetValidationMessage:zg,showValidationMessage:jg,update:$g});let LE=(y,C,M)=>{y.toast?BE(y,C,M):(zE(C),UE(C),HE(y,C,M))},BE=(y,C,M)=>{C.popup.onclick=()=>{y&&(jE(y)||y.timer||y.input)||M(ia.close)}},jE=y=>!!(y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton),Pc=!1,zE=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(C){y.container.onmouseup=()=>{},C.target===y.container&&(Pc=!0)}}},UE=y=>{y.container.onmousedown=C=>{C.target===y.container&&C.preventDefault(),y.popup.onmouseup=function(M){y.popup.onmouseup=()=>{},(M.target===y.popup||M.target instanceof HTMLElement&&y.popup.contains(M.target))&&(Pc=!0)}}},HE=(y,C,M)=>{C.container.onclick=R=>{if(Pc){Pc=!1;return}R.target===C.container&&Q(y.allowOutsideClick)&&M(ia.backdrop)}},WE=y=>typeof y=="object"&&y.jquery,Qg=y=>y instanceof Element||WE(y),qE=y=>{let C={};return typeof y[0]=="object"&&!Qg(y[0])?Object.assign(C,y[0]):["title","html","icon"].forEach((M,R)=>{let $=y[R];typeof $=="string"||Qg($)?C[M]=$:$!==void 0&&U(`Unexpected type of ${M}! Expected "string" or "Element", got ${typeof $}`)}),C};function $E(...y){return new this(...y)}function GE(y){class C extends this{_main(R,$){return super._main(R,Object.assign({},y,$))}}return C}let YE=()=>l.timeout&&l.timeout.getTimerLeft(),Kg=()=>{if(l.timeout)return n2(),l.timeout.stop()},Jg=()=>{if(l.timeout){let y=l.timeout.start();return Xm(y),y}},QE=()=>{let y=l.timeout;return y&&(y.running?Kg():Jg())},KE=y=>{if(l.timeout){let C=l.timeout.increase(y);return Xm(C,!0),C}},JE=()=>!!(l.timeout&&l.timeout.isRunning()),Xg=!1,lp={};function XE(y="data-swal-template"){lp[y]=this,Xg||(document.body.addEventListener("click",ZE),Xg=!0)}let ZE=y=>{for(let C=y.target;C&&C!==document;C=C.parentNode)for(let M in lp){let R=C.getAttribute(M);if(R){lp[M].fire({template:R});return}}};class ek{constructor(){this.events={}}_getHandlersByEventName(C){return typeof this.events[C]>"u"&&(this.events[C]=[]),this.events[C]}on(C,M){let R=this._getHandlersByEventName(C);R.includes(M)||R.push(M)}once(C,M){let R=(...$)=>{this.removeListener(C,R),M.apply(this,$)};this.on(C,R)}emit(C,...M){this._getHandlersByEventName(C).forEach(R=>{try{R.apply(this,M)}catch($){console.error($)}})}removeListener(C,M){let R=this._getHandlersByEventName(C),$=R.indexOf(M);$>-1&&R.splice($,1)}removeAllListeners(C){this.events[C]!==void 0&&(this.events[C].length=0)}reset(){this.events={}}}l.eventEmitter=new ek;var tk=Object.freeze({__proto__:null,argsToParams:qE,bindClickHandler:XE,clickCancel:q2,clickConfirm:xg,clickDeny:W2,enableLoading:oa,fire:$E,getActions:Rn,getCancelButton:On,getCloseButton:Gm,getConfirmButton:Mi,getContainer:ye,getDenyButton:qi,getFocusableElements:Ym,getFooter:Yn,getHtmlContainer:Bt,getIcon:ei,getIconContent:ji,getImage:ti,getInputLabel:xo,getLoader:$i,getPopup:Ie,getProgressSteps:zi,getTimerLeft:YE,getTimerProgressBar:Cc,getTitle:Dt,getValidationMessage:ui,increaseTimer:KE,isDeprecatedParameter:Wg,isLoading:ZS,isTimerRunning:JE,isUpdatableParameter:Hg,isValidParameter:Ug,isVisible:H2,mixin:GE,off:(y,C)=>{if(!y){l.eventEmitter.reset();return}C?l.eventEmitter.removeListener(y,C):l.eventEmitter.removeAllListeners(y)},on:(y,C)=>{l.eventEmitter.on(y,C)},once:(y,C)=>{l.eventEmitter.once(y,C)},resumeTimer:Jg,showLoading:oa,stopTimer:Kg,toggleTimer:QE});class ik{constructor(C,M){this.callback=C,this.remaining=M,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(C){let M=this.running;return M&&this.stop(),this.remaining+=C,M&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Zg=["swal-title","swal-html","swal-footer"],nk=y=>{let C=typeof y.template=="string"?document.querySelector(y.template):y.template;if(!C)return{};let M=C.content;return uk(M),Object.assign(rk(M),ok(M),ak(M),sk(M),lk(M),ck(M),dk(M,Zg))},rk=y=>{let C={};return Array.from(y.querySelectorAll("swal-param")).forEach(R=>{So(R,["name","value"]);let $=R.getAttribute("name"),Se=R.getAttribute("value");!$||!Se||(typeof aa[$]=="boolean"?C[$]=Se!=="false":typeof aa[$]=="object"?C[$]=JSON.parse(Se):C[$]=Se)}),C},ok=y=>{let C={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(R=>{let $=R.getAttribute("name"),Se=R.getAttribute("value");!$||!Se||(C[$]=new Function(`return ${Se}`)())}),C},ak=y=>{let C={};return Array.from(y.querySelectorAll("swal-button")).forEach(R=>{So(R,["type","color","aria-label"]);let $=R.getAttribute("type");!$||!["confirm","cancel","deny"].includes($)||(C[`${$}ButtonText`]=R.innerHTML,C[`show${A($)}Button`]=!0,R.hasAttribute("color")&&(C[`${$}ButtonColor`]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(C[`${$}ButtonAriaLabel`]=R.getAttribute("aria-label")))}),C},sk=y=>{let C={},M=y.querySelector("swal-image");return M&&(So(M,["src","width","height","alt"]),M.hasAttribute("src")&&(C.imageUrl=M.getAttribute("src")||void 0),M.hasAttribute("width")&&(C.imageWidth=M.getAttribute("width")||void 0),M.hasAttribute("height")&&(C.imageHeight=M.getAttribute("height")||void 0),M.hasAttribute("alt")&&(C.imageAlt=M.getAttribute("alt")||void 0)),C},lk=y=>{let C={},M=y.querySelector("swal-icon");return M&&(So(M,["type","color"]),M.hasAttribute("type")&&(C.icon=M.getAttribute("type")),M.hasAttribute("color")&&(C.iconColor=M.getAttribute("color")),C.iconHtml=M.innerHTML),C},ck=y=>{let C={},M=y.querySelector("swal-input");M&&(So(M,["type","label","placeholder","value"]),C.input=M.getAttribute("type")||"text",M.hasAttribute("label")&&(C.inputLabel=M.getAttribute("label")),M.hasAttribute("placeholder")&&(C.inputPlaceholder=M.getAttribute("placeholder")),M.hasAttribute("value")&&(C.inputValue=M.getAttribute("value")));let R=Array.from(y.querySelectorAll("swal-input-option"));return R.length&&(C.inputOptions={},R.forEach($=>{So($,["value"]);let Se=$.getAttribute("value");if(!Se)return;let wt=$.innerHTML;C.inputOptions[Se]=wt})),C},dk=(y,C)=>{let M={};for(let R in C){let $=C[R],Se=y.querySelector($);Se&&(So(Se,[]),M[$.replace(/^swal-/,"")]=Se.innerHTML.trim())}return M},uk=y=>{let C=Zg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(M=>{let R=M.tagName.toLowerCase();C.includes(R)||O(`Unrecognized element <${R}>`)})},So=(y,C)=>{Array.from(y.attributes).forEach(M=>{C.indexOf(M.name)===-1&&O([`Unrecognized attribute "${M.name}" on <${y.tagName.toLowerCase()}>.`,`${C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."}`])})},e_=10,mk=y=>{let C=ye(),M=Ie();typeof y.willOpen=="function"&&y.willOpen(M),l.eventEmitter.emit("willOpen",M);let $=window.getComputedStyle(document.body).overflowY;fk(C,M,y),setTimeout(()=>{pk(C,M)},e_),Qm()&&(hk(C,y.scrollbarPadding,$),Z2()),!Sc()&&!l.previousActiveElement&&(l.previousActiveElement=document.activeElement),typeof y.didOpen=="function"&&setTimeout(()=>y.didOpen(M)),l.eventEmitter.emit("didOpen",M),vn(C,w["no-transition"])},Oc=y=>{let C=Ie();if(y.target!==C)return;let M=ye();C.removeEventListener("animationend",Oc),C.removeEventListener("transitionend",Oc),M.style.overflowY="auto"},pk=(y,C)=>{cg(C)?(y.style.overflowY="hidden",C.addEventListener("animationend",Oc),C.addEventListener("transitionend",Oc)):y.style.overflowY="auto"},hk=(y,C,M)=>{eE(),C&&M!=="hidden"&&sE(M),setTimeout(()=>{y.scrollTop=0})},fk=(y,C,M)=>{At(y,M.showClass.backdrop),M.animation?(C.style.setProperty("opacity","0","important"),Ci(C,"grid"),setTimeout(()=>{At(C,M.showClass.popup),C.style.removeProperty("opacity")},e_)):Ci(C,"grid"),At([document.documentElement,document.body],w.shown),M.heightAuto&&M.backdrop&&!M.toast&&At([document.documentElement,document.body],w["height-auto"])};var t_={email:(y,C)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(y)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(y,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function gk(y){y.inputValidator||(y.input==="email"&&(y.inputValidator=t_.email),y.input==="url"&&(y.inputValidator=t_.url))}function _k(y){(!y.target||typeof y.target=="string"&&!document.querySelector(y.target)||typeof y.target!="string"&&!y.target.appendChild)&&(O('Target parameter is not valid, defaulting to "body"'),y.target="body")}function bk(y){gk(y),y.showLoaderOnConfirm&&!y.preConfirm&&O(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),_k(y),typeof y.title=="string"&&(y.title=y.title.split(`
`).join("<br />")),u2(y)}let Qn;var Rc=new WeakMap;class pi{constructor(...C){if(i(this,Rc,void 0),typeof window>"u")return;Qn=this;let M=Object.freeze(this.constructor.argsToParams(C));this.params=M,this.isAwaitingPromise=!1,r(Rc,this,this._main(Qn.params))}_main(C,M={}){if(qg(Object.assign({},M,C)),l.currentInstance){let Se=na.swalPromiseResolve.get(l.currentInstance),{isAwaitingPromise:wt}=l.currentInstance;l.currentInstance._destroy(),wt||Se({isDismissed:!0}),Qm()&&Sg()}l.currentInstance=Qn;let R=yk(C,M);bk(R),Object.freeze(R),l.timeout&&(l.timeout.stop(),delete l.timeout),clearTimeout(l.restoreFocusTimeout);let $=xk(Qn);return yg(Qn,R),Yt.innerParams.set(Qn,R),vk(Qn,$,R)}then(C){return e(Rc,this).then(C)}finally(C){return e(Rc,this).finally(C)}}let vk=(y,C,M)=>new Promise((R,$)=>{let Se=wt=>{y.close({isDismissed:!0,dismiss:wt})};na.swalPromiseResolve.set(y,R),na.swalPromiseReject.set(y,$),C.confirmButton.onclick=()=>{SE(y)},C.denyButton.onclick=()=>{EE(y)},C.cancelButton.onclick=()=>{kE(y,Se)},C.closeButton.onclick=()=>{Se(ia.close)},LE(M,C,Se),$2(l,M,Se),fE(y,M),mk(M),wk(l,M,Se),Ck(C,M),setTimeout(()=>{C.container.scrollTop=0})}),yk=(y,C)=>{let M=nk(y),R=Object.assign({},aa,C,M,y);return R.showClass=Object.assign({},aa.showClass,R.showClass),R.hideClass=Object.assign({},aa.hideClass,R.hideClass),R.animation===!1&&(R.showClass={backdrop:"swal2-noanimation"},R.hideClass={}),R},xk=y=>{let C={popup:Ie(),container:ye(),actions:Rn(),confirmButton:Mi(),denyButton:qi(),cancelButton:On(),loader:$i(),closeButton:Gm(),validationMessage:ui(),progressSteps:zi()};return Yt.domCache.set(y,C),C},wk=(y,C,M)=>{let R=Cc();Ri(R),C.timer&&(y.timeout=new ik(()=>{M("timer"),delete y.timeout},C.timer),C.timerProgressBar&&(Ci(R),an(R,C,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&Xm(C.timer)})))},Ck=(y,C)=>{if(!C.toast){if(!Q(C.allowEnterKey)){ie("allowEnterKey"),kk();return}Sk(y)||Ek(y,C)||rp(-1,1)}},Sk=y=>{let C=Array.from(y.popup.querySelectorAll("[autofocus]"));for(let M of C)if(M instanceof HTMLElement&&Gi(M))return M.focus(),!0;return!1},Ek=(y,C)=>C.focusDeny&&Gi(y.denyButton)?(y.denyButton.focus(),!0):C.focusCancel&&Gi(y.cancelButton)?(y.cancelButton.focus(),!0):C.focusConfirm&&Gi(y.confirmButton)?(y.confirmButton.focus(),!0):!1,kk=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let y=new Date,C=localStorage.getItem("swal-initiation");C?(y.getTime()-Date.parse(C))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let M=document.createElement("audio");M.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",M.loop=!0,document.body.appendChild(M),setTimeout(()=>{M.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}pi.prototype.disableButtons=Ng,pi.prototype.enableButtons=Fg,pi.prototype.getInput=Og,pi.prototype.disableInput=Bg,pi.prototype.enableInput=Lg,pi.prototype.hideLoading=Ac,pi.prototype.disableLoading=Ac,pi.prototype.showValidationMessage=jg,pi.prototype.resetValidationMessage=zg,pi.prototype.close=jr,pi.prototype.closePopup=jr,pi.prototype.closeModal=jr,pi.prototype.closeToast=jr,pi.prototype.rejectPromise=Tg,pi.prototype.update=$g,pi.prototype._destroy=Gg,Object.assign(pi,tk),Object.keys(NE).forEach(y=>{pi[y]=function(...C){return Qn&&Qn[y]?Qn[y](...C):null}}),pi.DismissReason=ia,pi.version="11.22.2";let Vc=pi;return Vc.default=Vc,Vc});typeof cr<"u"&&cr.Sweetalert2&&(cr.swal=cr.sweetAlert=cr.Swal=cr.SweetAlert=cr.Sweetalert2);typeof document<"u"&&function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});var Os=class{},Jc=class{},Fi=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),o=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let l=this.headers.get(e);if(!l)return;l=l.filter(d=>o.indexOf(d)===-1),l.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}break}}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Ip=class{encodeKey(t){return J_(t)}encodeValue(t){return J_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Dk(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[l,d]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(l)||[];m.push(d),e.set(l,m)}),e}var Ak=/%(\d[a-f0-9])/gi,Pk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function J_(n){return encodeURIComponent(n).replace(Ak,(t,e)=>Pk[e]??t)}function Qc(n){return`${n}`}var $r=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ip,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Dk(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Qc):[Qc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Qc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Qc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Dp=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Ok(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function X_(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Z_(n){return typeof Blob<"u"&&n instanceof Blob}function eb(n){return typeof FormData<"u"&&n instanceof FormData}function Rk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ps=class n{constructor(t,e,i,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Ok(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Fi,this.context??=new Dp,!this.params)this.params=new $r,this.urlWithParams=e;else{let l=this.params.toString();if(l.length===0)this.urlWithParams=e;else{let d=e.indexOf("?"),m=d===-1?"?":d<e.length-1?"&":"";this.urlWithParams=e+m+l}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||X_(this.body)||Z_(this.body)||eb(this.body)||Rk(this.body)?this.body:this.body instanceof $r?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||eb(this.body)?null:Z_(this.body)?this.body.type||null:X_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof $r?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,l=t.body!==void 0?t.body:this.body,d=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress,_=t.headers||this.headers,x=t.params||this.params,w=t.context??this.context;return t.setHeaders!==void 0&&(_=Object.keys(t.setHeaders).reduce((I,D)=>I.set(D,t.setHeaders[D]),_)),t.setParams&&(x=Object.keys(t.setParams).reduce((I,D)=>I.set(D,t.setParams[D]),x)),new n(e,i,l,{params:x,headers:_,context:w,reportProgress:m,responseType:r,withCredentials:d,transferCache:o})}},Gr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gr||{}),Rs=class{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fi,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Xc=class n extends Rs{constructor(t={}){super(t),this.type=Gr.ResponseHeader}clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Vo=class n extends Rs{constructor(t={}){super(t),this.type=Gr.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},er=class extends Rs{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},mb=200,Vk=204;function Mp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var et=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Ps)o=e;else{let m;r.headers instanceof Fi?m=r.headers:m=new Fi(r.headers);let _;r.params&&(r.params instanceof $r?_=r.params:_=new $r({fromObject:r.params})),o=new Ps(e,i,r.body!==void 0?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let l=je(o).pipe(Ur(m=>this.handler.handle(m)));if(e instanceof Ps||r.observe==="events")return l;let d=l.pipe(ii(m=>m instanceof Vo));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe(mt(m=>{if(m.body!==null&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return d.pipe(mt(m=>{if(m.body!==null&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return d.pipe(mt(m=>{if(m.body!==null&&typeof m.body!="string")throw new Error("Response is not a string.");return m.body}));case"json":default:return d.pipe(mt(m=>m.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new $r().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Mp(r,i))}post(e,i,r={}){return this.request("POST",e,Mp(r,i))}put(e,i,r={}){return this.request("PUT",e,Mp(r,i))}static{this.\u0275fac=function(i){return new(i||n)(z(Os))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Fk=/^\)\]\}',?\n/,Nk="X-Request-URL";function tb(n){if(n.url)return n.url;let t=Nk.toLocaleLowerCase();return n.headers.get(t)}var Lk=(()=>{class n{constructor(){this.fetchImpl=q(Ap,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e)),this.ngZone=q(Ze)}handle(e){return new Vn(i=>{let r=new AbortController;return this.doRequest(e,r.signal,i).then(Pp,o=>i.error(new er({error:o}))),()=>r.abort()})}doRequest(e,i,r){return dp(this,null,function*(){let o=this.createRequestInit(e),l;try{let D=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,X({signal:i},o)));Bk(D),r.next({type:Gr.Sent}),l=yield D}catch(D){r.error(new er({error:D,status:D.status??0,statusText:D.statusText,url:e.urlWithParams,headers:D.headers}));return}let d=new Fi(l.headers),m=l.statusText,_=tb(l)??e.urlWithParams,x=l.status,w=null;if(e.reportProgress&&r.next(new Xc({headers:d,status:x,statusText:m,url:_})),l.body){let D=l.headers.get("content-length"),P=[],A=l.body.getReader(),O=0,U,H,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>dp(this,null,function*(){for(;;){let{done:Q,value:ne}=yield A.read();if(Q)break;if(P.push(ne),O+=ne.length,e.reportProgress){H=e.responseType==="text"?(H??"")+(U??=new TextDecoder).decode(ne,{stream:!0}):void 0;let ge=()=>r.next({type:Gr.DownloadProgress,total:D?+D:void 0,loaded:O,partialText:H});Y?Y.run(ge):ge()}}}));let ie=this.concatChunks(P,O);try{let Q=l.headers.get("Content-Type")??"";w=this.parseBody(e,ie,Q)}catch(Q){r.error(new er({error:Q,headers:new Fi(l.headers),status:l.status,statusText:l.statusText,url:tb(l)??e.urlWithParams}));return}}x===0&&(x=w?mb:0),x>=200&&x<300?(r.next(new Vo({body:w,headers:d,status:x,statusText:m,url:_})),r.complete()):r.error(new er({error:w,headers:d,status:x,statusText:m,url:_}))})}parseBody(e,i,r){switch(e.responseType){case"json":let o=new TextDecoder().decode(i).replace(Fk,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){let i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,l)=>i[o]=l.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let o=e.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){let r=new Uint8Array(i),o=0;for(let l of e)r.set(l,o),o+=l.length;return r}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Ap=class{};function Pp(){}function Bk(n){n.then(Pp,Pp)}function pb(n,t){return t(n)}function jk(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}function zk(n,t,e){return(i,r)=>wn(e,()=>t(i,o=>n(o,r)))}var Op=new Le(""),Rp=new Le(""),hb=new Le(""),fb=new Le("",{providedIn:"root",factory:()=>!0});function Uk(){let n=null;return(t,e)=>{n===null&&(n=(q(Op,{optional:!0})??[]).reduceRight(jk,pb));let i=q(Ss);if(q(fb)){let o=i.add();return n(t,e).pipe(_r(()=>i.remove(o)))}else return n(t,e)}}var ib=(()=>{class n extends Os{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=q(Ss),this.contributeToStability=q(fb)}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Rp),...this.injector.get(hb,[])]));this.chain=i.reduceRight((r,o)=>zk(r,o,this.injector),pb)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(_r(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||n)(z(Jc),z(xn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();var Hk=/^\)\]\}',?\n/;function Wk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var nb=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Pt(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Si(i.\u0275loadImpl()):je(null)).pipe(Vi(()=>new Vn(o=>{let l=i.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((A,O)=>l.setRequestHeader(A,O.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let A=e.detectContentTypeHeader();A!==null&&l.setRequestHeader("Content-Type",A)}if(e.responseType){let A=e.responseType.toLowerCase();l.responseType=A!=="json"?A:"text"}let d=e.serializeBody(),m=null,_=()=>{if(m!==null)return m;let A=l.statusText||"OK",O=new Fi(l.getAllResponseHeaders()),U=Wk(l)||e.url;return m=new Xc({headers:O,status:l.status,statusText:A,url:U}),m},x=()=>{let{headers:A,status:O,statusText:U,url:H}=_(),Y=null;O!==Vk&&(Y=typeof l.response>"u"?l.responseText:l.response),O===0&&(O=Y?mb:0);let ie=O>=200&&O<300;if(e.responseType==="json"&&typeof Y=="string"){let Q=Y;Y=Y.replace(Hk,"");try{Y=Y!==""?JSON.parse(Y):null}catch(ne){Y=Q,ie&&(ie=!1,Y={error:ne,text:Y})}}ie?(o.next(new Vo({body:Y,headers:A,status:O,statusText:U,url:H||void 0})),o.complete()):o.error(new er({error:Y,headers:A,status:O,statusText:U,url:H||void 0}))},w=A=>{let{url:O}=_(),U=new er({error:A,status:l.status||0,statusText:l.statusText||"Unknown Error",url:O||void 0});o.error(U)},I=!1,D=A=>{I||(o.next(_()),I=!0);let O={type:Gr.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),e.responseType==="text"&&l.responseText&&(O.partialText=l.responseText),o.next(O)},P=A=>{let O={type:Gr.UploadProgress,loaded:A.loaded};A.lengthComputable&&(O.total=A.total),o.next(O)};return l.addEventListener("load",x),l.addEventListener("error",w),l.addEventListener("timeout",w),l.addEventListener("abort",w),e.reportProgress&&(l.addEventListener("progress",D),d!==null&&l.upload&&l.upload.addEventListener("progress",P)),l.send(d),o.next({type:Gr.Sent}),()=>{l.removeEventListener("error",w),l.removeEventListener("abort",w),l.removeEventListener("load",x),l.removeEventListener("timeout",w),e.reportProgress&&(l.removeEventListener("progress",D),d!==null&&l.upload&&l.upload.removeEventListener("progress",P)),l.readyState!==l.DONE&&l.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(z(Yc))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),gb=new Le(""),qk="XSRF-TOKEN",$k=new Le("",{providedIn:"root",factory:()=>qk}),Gk="X-XSRF-TOKEN",Yk=new Le("",{providedIn:"root",factory:()=>Gk}),Zc=class{},Qk=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(cn),z($k))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function Kk(n,t){let e=n.url.toLowerCase();if(!q(gb)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=q(Zc).getToken(),r=q(Yk);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var _b=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(_b||{});function Jk(n,t){return{\u0275kind:n,\u0275providers:t}}function bb(...n){let t=[et,nb,ib,{provide:Os,useExisting:ib},{provide:Jc,useFactory:()=>q(Lk,{optional:!0})??q(nb)},{provide:Rp,useValue:Kk,multi:!0},{provide:gb,useValue:!0},{provide:Zc,useClass:Qk}];for(let e of n)t.push(...e.\u0275providers);return Fn(t)}var rb=new Le("");function vb(){return Jk(_b.LegacyInterceptors,[{provide:rb,useFactory:Uk},{provide:Rp,useExisting:rb,multi:!0}])}var Xk=new Le(""),ob="b",ab="h",sb="s",lb="st",cb="u",db="rt",Kc=new Le(""),Zk=["GET","HEAD"];function eT(n,t){let D=q(Kc),{isCacheActive:e}=D,i=i_(D,["isCacheActive"]),{transferCache:r,method:o}=n;if(!e||r===!1||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!Zk.includes(o)||!i.includeRequestsWithAuthHeaders&&tT(n)||i.filter?.(n)===!1)return t(n);let l=q(xp),d=q(Xk,{optional:!0}),m=As(q(cn));if(d&&!m)throw new Pt(2803,!1);let _=m&&d?oT(n.url,d):n.url,x=nT(n,_),w=l.get(x,null),I=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(I=r.includeHeaders),w){let{[ob]:P,[db]:A,[ab]:O,[sb]:U,[lb]:H,[cb]:Y}=w,ie=P;switch(A){case"arraybuffer":ie=new TextEncoder().encode(P).buffer;break;case"blob":ie=new Blob([P]);break}let Q=new Fi(O);return je(new Vo({body:ie,headers:Q,status:U,statusText:H,url:Y}))}return t(n).pipe(ai(P=>{P instanceof Vo&&m&&l.set(x,{[ob]:P.body,[ab]:iT(P.headers,I),[sb]:P.status,[lb]:P.statusText,[cb]:_,[db]:n.responseType})}))}function tT(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function iT(n,t){if(!t)return{};let e={};for(let i of t){let r=n.getAll(i);r!==null&&(e[i]=r)}return e}function ub(n){return[...n.keys()].sort().map(t=>`${t}=${n.getAll(t)}`).join("&")}function nT(n,t){let{params:e,method:i,responseType:r}=n,o=ub(e),l=n.serializeBody();l instanceof URLSearchParams?l=ub(l):typeof l!="string"&&(l="");let d=[i,r,t,l,o].join("|"),m=rT(d);return m}function rT(n){let t=0;for(let e of n)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function yb(n){return[{provide:Kc,useFactory:()=>(zc("NgHttpTransferCache"),X({isCacheActive:!0},n))},{provide:hb,useValue:eT,multi:!0,deps:[xp,Kc]},{provide:Is,multi:!0,useFactory:()=>{let t=q(Hi),e=q(Kc);return()=>{V_(t).then(()=>{e.isCacheActive=!1})}}}]}function oT(n,t){let e=new URL(n,"resolve://").origin,i=t[e];return i?n.replace(e,i):n}var Np=class extends z_{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lp=class n extends Np{static makeCurrent(){j_(new n)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=sT();return e==null?null:lT(e)}resetBaseElement(){Vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Gc(document.cookie,t)}},Vs=null;function sT(){return Vs=Vs||document.querySelector("base"),Vs?Vs.getAttribute("href"):null}function lT(n){return new URL(n,document.baseURI).pathname}var cT=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Bp=new Le(""),Cb=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new Pt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(z(Bp),z(Ze))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),ed=class{constructor(t){this._doc=t}},Vp="ng-app-id",Sb=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=As(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Vp}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(Vp),o;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Vp,this.appId),e.appendChild(l),l}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,l=o.get(i)?.elements;l?l.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(Es),z(ks,8),z(cn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Fp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hp=/%COMP%/g,Eb="%COMP%",dT=`_nghost-${Eb}`,uT=`_ngcontent-${Eb}`,mT=!0,pT=new Le("",{providedIn:"root",factory:()=>mT});function hT(n){return uT.replace(Hp,n)}function fT(n){return dT.replace(Hp,n)}function kb(n,t){return t.map(e=>e.replace(Hp,n))}var td=(()=>{class n{constructor(e,i,r,o,l,d,m,_=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=d,this.ngZone=m,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=As(d),this.defaultRenderer=new Fs(e,l,m,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ws.ShadowDom&&(i=tt(X({},i),{encapsulation:ws.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof id?r.applyToHost(e):r instanceof Ns&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let l=this.doc,d=this.ngZone,m=this.eventManager,_=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(i.encapsulation){case ws.Emulated:o=new id(m,_,i,this.appId,x,l,d,w);break;case ws.ShadowDom:return new jp(m,_,e,i,l,d,this.nonce,w);default:o=new Ns(m,_,i,x,l,d,w);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(z(Cb),z(Sb),z(Es),z(pT),z(Ye),z(cn),z(Ze),z(ks))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Fs=class{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Fp[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(xb(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(xb(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Pt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let o=Fp[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Fp[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ts.DashCase|Ts.Important)?t.style.setProperty(e,i,r&Ts.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ts.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if(typeof t=="string"&&(t=ga().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function xb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var jp=class extends Fs{constructor(t,e,i,r,o,l,d,m){super(t,o,l,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let _=kb(r.id,r.styles);for(let x of _){let w=document.createElement("style");d&&w.setAttribute("nonce",d),w.textContent=x,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ns=class extends Fs{constructor(t,e,i,r,o,l,d,m){super(t,o,l,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=m?kb(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},id=class extends Ns{constructor(t,e,i,r,o,l,d,m){let _=r+"-"+i.id;super(t,e,i,o,l,d,m,_),this.contentAttr=hT(_),this.hostAttr=fT(_)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},gT=(()=>{class n extends ed{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),wb=["alt","control","meta","shift"],_T={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vT=(()=>{class n extends ed{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r){let o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ga().onAndCancel(e,o.domEventName,l))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),l="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),l="code."),wb.forEach(_=>{let x=i.indexOf(_);x>-1&&(i.splice(x,1),l+=_+".")}),l+=o,i.length!=0||o.length===0)return null;let m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(e,i){let r=_T[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),wb.forEach(l=>{if(l!==r){let d=bT[l];d(e)&&(o+=l+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function Tb(n,t){return N_(X({rootComponent:n},yT(t)))}function yT(n){return{appProviders:[...ET,...n?.providers??[]],platformProviders:ST}}function xT(){Lp.makeCurrent()}function wT(){return new Bc}function CT(){return g_(document),document}var ST=[{provide:cn,useValue:Q_},{provide:__,useValue:xT,multi:!0},{provide:Ye,useFactory:CT,deps:[]}];var ET=[{provide:h_,useValue:"root"},{provide:Bc,useFactory:wT,deps:[]},{provide:Bp,useClass:gT,multi:!0,deps:[Ye,Ze,cn]},{provide:Bp,useClass:vT,multi:!0,deps:[Ye]},td,Sb,Cb,{provide:jc,useExisting:td},{provide:Yc,useClass:cT,deps:[]},[]];var Mb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ct=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=z(kT),r},providedIn:"root"})}}return n})(),kT=(()=>{class n extends Ct{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Nn.NONE:return i;case Nn.HTML:return da(i,"HTML")?ca(i):S_(this._doc,String(i)).toString();case Nn.STYLE:return da(i,"Style")?ca(i):i;case Nn.SCRIPT:if(da(i,"Script"))return ca(i);throw new Pt(5200,!1);case Nn.URL:return da(i,"URL")?ca(i):C_(String(i));case Nn.RESOURCE_URL:if(da(i,"ResourceURL"))return ca(i);throw new Pt(5201,!1);default:throw new Pt(5202,!1)}}bypassSecurityTrustHtml(e){return b_(e)}bypassSecurityTrustStyle(e){return v_(e)}bypassSecurityTrustScript(e){return y_(e)}bypassSecurityTrustUrl(e){return x_(e)}bypassSecurityTrustResourceUrl(e){return w_(e)}static{this.\u0275fac=function(i){return new(i||n)(z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zp=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n}(zp||{});function Ib(...n){let t=[],e=new Set,i=e.has(zp.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of n)e.add(o),r.length&&t.push(r);return Fn([[],L_(),e.has(zp.NoHttpTransferCache)||i?[]:yb({}),t])}var ht="primary",Xs=Symbol("RouteTitle"),Yp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function wa(n){return new Yp(n)}function TT(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let l=i[o],d=n[o];if(l[0]===":")r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function MT(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!tr(n[e],t[e]))return!1;return!0}function tr(n,t){let e=n?Qp(n):void 0,i=t?Qp(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!jb(n[r],t[r]))return!1;return!0}function Qp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}else return n===t}function zb(n){return n.length>0?n[n.length-1]:null}function Qr(n){return Fc(n)?n:Wc(n)?Si(Promise.resolve(n)):je(n)}var IT={exact:Hb,subset:Wb},Ub={exact:DT,subset:AT,ignored:()=>!0};function Db(n,t,e){return IT[e.paths](n.root,t.root,e.matrixParams)&&Ub[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function DT(n,t){return tr(n,t)}function Hb(n,t,e){if(!No(n.segments,t.segments)||!od(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Hb(n.children[i],t.children[i],e))return!1;return!0}function AT(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>jb(n[e],t[e]))}function Wb(n,t,e){return qb(n,t,t.segments,e)}function qb(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!No(r,e)||t.hasChildren()||!od(r,e,i))}else if(n.segments.length===e.length){if(!No(n.segments,e)||!od(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Wb(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!No(n.segments,r)||!od(n.segments,r,i)||!n.children[ht]?!1:qb(n.children[ht],t,o,i)}}function od(n,t,e){return t.every((i,r)=>Ub[e](n[r].parameters,i.parameters))}var Sr=class{constructor(t=new Vt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=wa(this.queryParams),this._queryParamMap}toString(){return RT.serialize(this)}},Vt=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ad(this)}},Fo=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=wa(this.parameters),this._parameterMap}toString(){return Gb(this)}};function PT(n,t){return No(n,t)&&n.every((e,i)=>tr(e.parameters,t[i].parameters))}function No(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function OT(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ht&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ht&&(e=e.concat(t(r,i)))}),e}var Zs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:()=>new Ca,providedIn:"root"})}}return n})(),Ca=class{parse(t){let e=new Jp(t);return new Sr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ls(t.root,!0)}`,i=NT(t.queryParams),r=typeof t.fragment=="string"?`#${VT(t.fragment)}`:"";return`${e}${i}${r}`}},RT=new Ca;function ad(n){return n.segments.map(t=>Gb(t)).join("/")}function Ls(n,t){if(!n.hasChildren())return ad(n);if(t){let e=n.children[ht]?Ls(n.children[ht],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==ht&&i.push(`${r}:${Ls(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=OT(n,(i,r)=>r===ht?[Ls(n.children[ht],!1)]:[`${r}:${Ls(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ht]!=null?`${ad(n)}/${e[0]}`:`${ad(n)}/(${e.join("//")})`}}function $b(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nd(n){return $b(n).replace(/%3B/gi,";")}function VT(n){return encodeURI(n)}function Kp(n){return $b(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(n){return decodeURIComponent(n)}function Ab(n){return sd(n.replace(/\+/g,"%20"))}function Gb(n){return`${Kp(n.path)}${FT(n.parameters)}`}function FT(n){return Object.entries(n).map(([t,e])=>`;${Kp(t)}=${Kp(e)}`).join("")}function NT(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${nd(e)}=${nd(r)}`).join("&"):`${nd(e)}=${nd(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var LT=/^[^\/()?;#]+/;function Wp(n){let t=n.match(LT);return t?t[0]:""}var BT=/^[^\/()?;=#]+/;function jT(n){let t=n.match(BT);return t?t[0]:""}var zT=/^[^=?&#]+/;function UT(n){let t=n.match(zT);return t?t[0]:""}var HT=/^[^&#]+/;function WT(n){let t=n.match(HT);return t?t[0]:""}var Jp=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ht]=new Vt(t,e)),i}parseSegment(){let t=Wp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Pt(4009,!1);return this.capture(t),new Fo(sd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=jT(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Wp(this.remaining);r&&(i=r,this.capture(i))}t[sd(e)]=sd(i)}parseQueryParam(t){let e=UT(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let l=WT(this.remaining);l&&(i=l,this.capture(i))}let r=Ab(e),o=Ab(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Wp(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new Pt(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ht);let l=this.parseChildren();e[o]=Object.keys(l).length===1?l[ht]:new Vt([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Pt(4011,!1)}};function Yb(n){return n.segments.length>0?new Vt([],{[ht]:n}):n}function Qb(n){let t={};for(let[i,r]of Object.entries(n.children)){let o=Qb(r);if(i===ht&&o.segments.length===0&&o.hasChildren())for(let[l,d]of Object.entries(o.children))t[l]=d;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let e=new Vt(n.segments,t);return qT(e)}function qT(n){if(n.numberOfChildren===1&&n.children[ht]){let t=n.children[ht];return new Vt(n.segments.concat(t.segments),t.children)}return n}function Lo(n){return n instanceof Sr}function $T(n,t,e=null,i=null){let r=Kb(n);return Jb(r,t,e,i)}function Kb(n){let t;function e(o){let l={};for(let m of o.children){let _=e(m);l[m.outlet]=_}let d=new Vt(o.url,l);return o===n&&(t=d),d}let i=e(n.root),r=Yb(i);return t??r}function Jb(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return qp(r,r,r,e,i);let o=GT(t);if(o.toRoot())return qp(r,r,new Vt([],{}),e,i);let l=YT(o,r,n),d=l.processChildren?zs(l.segmentGroup,l.index,o.commands):Zb(l.segmentGroup,l.index,o.commands);return qp(r,l.segmentGroup,d,e,i)}function ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ws(n){return typeof n=="object"&&n!=null&&n.outlets}function qp(n,t,e,i,r){let o={};i&&Object.entries(i).forEach(([m,_])=>{o[m]=Array.isArray(_)?_.map(x=>`${x}`):`${_}`});let l;n===t?l=e:l=Xb(n,t,e);let d=Yb(Qb(l));return new Sr(d,o,r)}function Xb(n,t,e){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===t?i[r]=e:i[r]=Xb(o,t,e)}),new Vt(n.segments,i)}var cd=class{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ld(i[0]))throw new Pt(4003,!1);let r=i.find(Ws);if(r&&r!==zb(i))throw new Pt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GT(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cd(!0,0,n);let t=0,e=!1,i=n.reduce((r,o,l)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let d={};return Object.entries(o.outlets).forEach(([m,_])=>{d[m]=typeof _=="string"?_.split("/"):_}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:l===0?(o.split("/").forEach((d,m)=>{m==0&&d==="."||(m==0&&d===""?e=!0:d===".."?t++:d!=""&&r.push(d))}),r):[...r,o]},[]);return new cd(e,t,i)}var va=class{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function YT(n,t,e){if(n.isAbsolute)return new va(t,!0,0);if(!e)return new va(t,!1,NaN);if(e.parent===null)return new va(e,!0,0);let i=ld(n.commands[0])?0:1,r=e.segments.length-1+i;return QT(e,r,n.numberOfDoubleDots)}function QT(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Pt(4005,!1);r=i.segments.length}return new va(i,!1,r-o)}function KT(n){return Ws(n[0])?n[0].outlets:{[ht]:n}}function Zb(n,t,e){if(n??=new Vt([],{}),n.segments.length===0&&n.hasChildren())return zs(n,t,e);let i=JT(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new Vt(n.segments.slice(0,i.pathIndex),{});return o.children[ht]=new Vt(n.segments.slice(i.pathIndex),n.children),zs(o,0,r)}else return i.match&&r.length===0?new Vt(n.segments,{}):i.match&&!n.hasChildren()?Xp(n,t,e):i.match?zs(n,0,r):Xp(n,t,e)}function zs(n,t,e){if(e.length===0)return new Vt(n.segments,{});{let i=KT(e),r={};if(Object.keys(i).some(o=>o!==ht)&&n.children[ht]&&n.numberOfChildren===1&&n.children[ht].segments.length===0){let o=zs(n.children[ht],t,e);return new Vt(n.segments,o.children)}return Object.entries(i).forEach(([o,l])=>{typeof l=="string"&&(l=[l]),l!==null&&(r[o]=Zb(n.children[o],t,l))}),Object.entries(n.children).forEach(([o,l])=>{i[o]===void 0&&(r[o]=l)}),new Vt(n.segments,r)}}function JT(n,t,e){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;let l=n.segments[r],d=e[i];if(Ws(d))break;let m=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&m===void 0)break;if(m&&_&&typeof _=="object"&&_.outlets===void 0){if(!Ob(m,_,l))return o;i+=2}else{if(!Ob(m,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Xp(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Ws(o)){let m=XT(o.outlets);return new Vt(i,m)}if(r===0&&ld(e[0])){let m=n.segments[t];i.push(new Fo(m.path,Pb(e[0]))),r++;continue}let l=Ws(o)?o.outlets[ht]:`${o}`,d=r<e.length-1?e[r+1]:null;l&&d&&ld(d)?(i.push(new Fo(l,Pb(d))),r+=2):(i.push(new Fo(l,{})),r++)}return new Vt(i,{})}function XT(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Xp(new Vt([],{}),0,i))}),t}function Pb(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Ob(n,t,e){return n==e.path&&tr(t,e.parameters)}var Us="imperative",ki=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ki||{}),En=class{constructor(t,e){this.id=t,this.url=e}},Sa=class extends En{constructor(t,e,i="imperative",r=null){super(t,e),this.type=ki.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Un=class extends En{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=ki.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(fn||{}),dd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(dd||{}),Cr=class extends En{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ki.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Yr=class extends En{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ki.NavigationSkipped}},qs=class extends En{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=ki.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ud=class extends En{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ki.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zp=class extends En{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ki.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eh=class extends En{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=ki.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},th=class extends En{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ki.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class extends En{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ki.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class{constructor(t){this.route=t,this.type=ki.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rh=class{constructor(t){this.route=t,this.type=ki.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oh=class{constructor(t){this.snapshot=t,this.type=ki.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{constructor(t){this.snapshot=t,this.type=ki.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sh=class{constructor(t){this.snapshot=t,this.type=ki.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{constructor(t){this.snapshot=t,this.type=ki.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},md=class{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=ki.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},$s=class{},Ea=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function ZT(n,t){return n.providers&&!n._injector&&(n._injector=wp(n.providers,t,`Route: ${n.path}`)),n._injector??t}function zn(n){return n.outlet||ht}function eM(n,t){let e=n.filter(i=>zn(i)===t);return e.push(...n.filter(i=>zn(i)!==t)),e}function el(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var ch=class{get injector(){return el(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new tl(this.rootInjector),this.attachRef=null}},tl=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ch(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)(z(xn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=dh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=dh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=uh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return uh(t,this._root).map(e=>e.value)}};function dh(n,t){if(n===t.value)return t;for(let e of t.children){let i=dh(n,e);if(i)return i}return null}function uh(n,t){if(n===t.value)return[t];for(let e of t.children){let i=uh(n,e);if(i.length)return i.unshift(t),i}return[]}var hn=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ba(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var hd=class extends pd{constructor(t,e){super(t),this.snapshot=e,yh(this,t)}toString(){return this.snapshot.toString()}};function ev(n){let t=tM(n),e=new ci([new Fo("",{})]),i=new ci({}),r=new ci({}),o=new ci({}),l=new ci(""),d=new Ke(e,i,o,l,r,ht,n,t.root);return d.snapshot=t.root,new hd(new hn(d,[]),t)}function tM(n){let t={},e={},i={},r="",o=new ya([],t,i,r,e,ht,n,null,{});return new gd("",new hn(o,[]))}var Ke=class{constructor(t,e,i,r,o,l,d,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=l,this.component=d,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(mt(_=>_[Xs]))??je(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(mt(t=>wa(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(mt(t=>wa(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fd(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:X(X({},t.params),n.params),data:X(X({},t.data),n.data),resolve:X(X(X(X({},n.data),t.data),r?.data),n._resolvedData)}:i={params:X({},n.params),data:X({},n.data),resolve:X(X({},n.data),n._resolvedData??{})},r&&iv(r)&&(i.resolve[Xs]=r.title),i}var ya=class{get title(){return this.data?.[Xs]}constructor(t,e,i,r,o,l,d,m,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=d,this.routeConfig=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=wa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=wa(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},gd=class extends pd{constructor(t,e){super(e),this.url=t,yh(this,e)}toString(){return tv(this._root)}};function yh(n,t){t.value._routerState=n,t.children.forEach(e=>yh(n,e))}function tv(n){let t=n.children.length>0?` { ${n.children.map(tv).join(", ")} } `:"";return`${n.value}${t}`}function $p(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,tr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),tr(t.params,e.params)||n.paramsSubject.next(e.params),MT(t.url,e.url)||n.urlSubject.next(e.url),tr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function mh(n,t){let e=tr(n.params,t.params)&&PT(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||mh(n.parent,t.parent))}function iv(n){return typeof n.title=="string"||n.title===null}var Bo=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=q(tl),this.location=q(Jn),this.changeDetector=q(Ot),this.inputBinder=q(yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Pt(4013,!1);this._activatedRoute=e;let r=this.location,l=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,m=new ph(e,d,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lt]})}}return n})(),ph=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ke?this.route:t===tl?this.childContexts:this.parent.get(t,e)}},yd=new Le(""),Rb=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=To([i.queryParams,i.params,i.data]).pipe(Vi(([o,l,d],m)=>(d=X(X(X({},o),l),d),m===0?je(d):Promise.resolve(d)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let l=B_(i.component);if(!l){this.unsubscribeFromRouteData(e);return}for(let{templateName:d}of l.inputs)e.activatedComponentRef.setInput(d,o[d])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function iM(n,t,e){let i=Gs(n,t._root,e?e._root:void 0);return new hd(i,t)}function Gs(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=nM(n,t,e);return new hn(i,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(d=>Gs(n,d)),l}}let i=rM(t.value),r=t.children.map(o=>Gs(n,o));return new hn(i,r)}}function nM(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Gs(n,i,r);return Gs(n,i)})}function rM(n){return new Ke(new ci(n.url),new ci(n.params),new ci(n.queryParams),new ci(n.fragment),new ci(n.data),n.outlet,n.component,n)}var Ys=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},nv="ngNavigationCancelingError";function _d(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Lo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=rv(!1,fn.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function rv(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[nv]=!0,e.cancellationCode=t,e}function oM(n){return ov(n)&&Lo(n.url)}function ov(n){return!!n&&n[nv]}var aM=(n,t,e,i)=>mt(r=>(new hh(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),hh=class{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),$p(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=ba(e);t.children.forEach(o=>{let l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ba(t);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,r);if(i&&i.outlet){let l=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=ba(t);for(let l of Object.values(o))this.deactivateRouteAndItsChildren(l,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=ba(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new lh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ah(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,o=e?e.value:null;if($p(r),r===o)if(r.component){let l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),$p(d.route.value),this.activateChildRoutes(t,null,l.children)}else l.attachRef=null,l.route=r,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}else this.activateChildRoutes(t,null,i)}},bd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},xa=class{constructor(t,e){this.component=t,this.route=e}};function sM(n,t,e){let i=n._root,r=t?t._root:null;return Bs(i,r,e,[i.value])}function lM(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ta(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!m_(n)?n:t.get(n):i}function Bs(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ba(t);return n.children.forEach(l=>{cM(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,d])=>Hs(d,e.getContext(l),r)),r}function cM(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){let m=dM(l,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new bd(i)):(o.data=l.data,o._resolvedData=l._resolvedData),o.component?Bs(n,t,d?d.children:null,i,r):Bs(n,t,e,i,r),m&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new xa(d.outlet.component,l))}else l&&Hs(t,d,r),r.canActivateChecks.push(new bd(i)),o.component?Bs(n,null,d?d.children:null,i,r):Bs(n,null,e,i,r);return r}function dM(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!No(n.url,t.url);case"pathParamsOrQueryParamsChange":return!No(n.url,t.url)||!tr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mh(n,t)||!tr(n.queryParams,t.queryParams);case"paramsChange":default:return!mh(n,t)}}function Hs(n,t,e){let i=ba(n),r=n.value;Object.entries(i).forEach(([o,l])=>{r.component?t?Hs(l,t.children.getContext(o),e):Hs(l,null,e):Hs(l,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new xa(t.outlet.component,r)):e.canDeactivateChecks.push(new xa(null,r)):e.canDeactivateChecks.push(new xa(null,r))}function il(n){return typeof n=="function"}function uM(n){return typeof n=="boolean"}function mM(n){return n&&il(n.canLoad)}function pM(n){return n&&il(n.canActivate)}function hM(n){return n&&il(n.canActivateChild)}function fM(n){return n&&il(n.canDeactivate)}function gM(n){return n&&il(n.canMatch)}function av(n){return n instanceof r_||n?.name==="EmptyError"}var rd=Symbol("INITIAL_VALUE");function ka(){return Vi(n=>To(n.map(t=>t.pipe(yn(1),br(rd)))).pipe(mt(t=>{for(let e of t)if(e!==!0){if(e===rd)return rd;if(e===!1||_M(e))return e}return!0}),ii(t=>t!==rd),yn(1)))}function _M(n){return Lo(n)||n instanceof Ys}function bM(n,t){return Yi(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return l.length===0&&o.length===0?je(tt(X({},e),{guardsResult:!0})):vM(l,i,r,n).pipe(Yi(d=>d&&uM(d)?yM(i,o,n,t):je(d)),mt(d=>tt(X({},e),{guardsResult:d})))})}function vM(n,t,e,i){return Si(n).pipe(Yi(r=>EM(r.component,r.route,e,t,i)),Hr(r=>r!==!0,!0))}function yM(n,t,e,i){return Si(t).pipe(Ur(r=>Nc(wM(r.route.parent,i),xM(r.route,i),SM(n,r.path,e),CM(n,r.route,e))),Hr(r=>r!==!0,!0))}function xM(n,t){return n!==null&&t&&t(new sh(n)),je(!0)}function wM(n,t){return n!==null&&t&&t(new oh(n)),je(!0)}function CM(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return je(!0);let r=i.map(o=>fp(()=>{let l=el(t)??e,d=Ta(o,l),m=pM(d)?d.canActivate(t,n):wn(l,()=>d(t,n));return Qr(m).pipe(Hr())}));return je(r).pipe(ka())}function SM(n,t,e){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>lM(l)).filter(l=>l!==null).map(l=>fp(()=>{let d=l.guards.map(m=>{let _=el(l.node)??e,x=Ta(m,_),w=hM(x)?x.canActivateChild(i,n):wn(_,()=>x(i,n));return Qr(w).pipe(Hr())});return je(d).pipe(ka())}));return je(o).pipe(ka())}function EM(n,t,e,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return je(!0);let l=o.map(d=>{let m=el(t)??r,_=Ta(d,m),x=fM(_)?_.canDeactivate(n,t,e,i):wn(m,()=>_(n,t,e,i));return Qr(x).pipe(Hr())});return je(l).pipe(ka())}function kM(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return je(!0);let o=r.map(l=>{let d=Ta(l,n),m=mM(d)?d.canLoad(t,e):wn(n,()=>d(t,e));return Qr(m)});return je(o).pipe(ka(),sv(i))}function sv(n){return n_(ai(t=>{if(typeof t!="boolean")throw _d(n,t)}),mt(t=>t===!0))}function TM(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return je(!0);let o=r.map(l=>{let d=Ta(l,n),m=gM(d)?d.canMatch(t,e):wn(n,()=>d(t,e));return Qr(m)});return je(o).pipe(ka(),sv(i))}var Qs=class{constructor(t){this.segmentGroup=t||null}},Ks=class extends Error{constructor(t){super(),this.urlTree=t}};function _a(n){return ko(new Qs(n))}function MM(n){return ko(new Pt(4e3,!1))}function IM(n){return ko(rv(!1,fn.GuardRejected))}var fh=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return je(i);if(r.numberOfChildren>1||!r.children[ht])return MM(`${t.redirectTo}`);r=r.children[ht]}}applyRedirectCommands(t,e,i,r,o){if(typeof e!="string"){let d=e,{queryParams:m,fragment:_,routeConfig:x,url:w,outlet:I,params:D,data:P,title:A}=r,O=wn(o,()=>d({params:D,data:P,queryParams:m,fragment:_,routeConfig:x,url:w,outlet:I,title:A}));if(O instanceof Sr)throw new Ks(O);e=O}let l=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Ks(l);return l}applyRedirectCreateUrlTree(t,e,i,r){let o=this.createSegmentGroup(t,e.root,i,r);return new Sr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let d=o.substring(1);i[r]=e[d]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){let o=this.createSegments(t,e.segments,i,r),l={};return Object.entries(e.children).forEach(([d,m])=>{l[d]=this.createSegmentGroup(t,m,i,r)}),new Vt(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new Pt(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},gh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DM(n,t,e,i,r){let o=lv(n,t,e);return o.matched?(i=ZT(t,i),TM(i,t,e,r).pipe(mt(l=>l===!0?o:X({},gh)))):je(o)}function lv(n,t,e){if(t.path==="**")return AM(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?X({},gh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||TT)(e,n,t);if(!r)return X({},gh);let o={};Object.entries(r.posParams??{}).forEach(([d,m])=>{o[d]=m.path});let l=r.consumed.length>0?X(X({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function AM(n){return{matched:!0,parameters:n.length>0?zb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Vb(n,t,e,i){return e.length>0&&RM(n,e,i)?{segmentGroup:new Vt(t,OM(i,new Vt(e,n.children))),slicedSegments:[]}:e.length===0&&VM(n,e,i)?{segmentGroup:new Vt(n.segments,PM(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:e}}function PM(n,t,e,i){let r={};for(let o of e)if(xd(n,t,o)&&!i[zn(o)]){let l=new Vt([],{});r[zn(o)]=l}return X(X({},i),r)}function OM(n,t){let e={};e[ht]=t;for(let i of n)if(i.path===""&&zn(i)!==ht){let r=new Vt([],{});e[zn(i)]=r}return e}function RM(n,t,e){return e.some(i=>xd(n,t,i)&&zn(i)!==ht)}function VM(n,t,e){return e.some(i=>xd(n,t,i))}function xd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function FM(n,t,e){return t.length===0&&!n.children[e]}var _h=class{};function NM(n,t,e,i,r,o,l="emptyOnly"){return new bh(n,t,e,i,r,l,o).recognize()}var LM=31,bh=class{constructor(t,e,i,r,o,l,d){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=d,this.applyRedirects=new fh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Pt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Vb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(mt(({children:e,rootSnapshot:i})=>{let r=new hn(i,e),o=new gd("",r),l=$T(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),{state:o,tree:l}}))}match(t){let e=new ya([],Object.freeze({}),Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ht,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ht,e).pipe(mt(i=>({children:i,rootSnapshot:e})),zr(i=>{if(i instanceof Ks)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Qs?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(mt(l=>l instanceof hn?[l]:[]))}processChildren(t,e,i,r){let o=[];for(let l of Object.keys(i.children))l==="primary"?o.unshift(l):o.push(l);return Si(o).pipe(Ur(l=>{let d=i.children[l],m=eM(e,l);return this.processSegmentGroup(t,m,d,l,r)}),u_((l,d)=>(l.push(...d),l)),gp(null),d_(),Yi(l=>{if(l===null)return _a(i);let d=cv(l);return BM(d),je(d)}))}processSegment(t,e,i,r,o,l,d){return Si(e).pipe(Ur(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,i,r,o,l,d).pipe(zr(_=>{if(_ instanceof Qs)return je(null);throw _}))),Hr(m=>!!m),zr(m=>{if(av(m))return FM(i,r,o)?je(new _h):_a(i);throw m}))}processSegmentAgainstRoute(t,e,i,r,o,l,d,m){return zn(i)!==l&&(l===ht||!xd(r,o,i))?_a(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,l,m):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,l,m):_a(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l,d){let{matched:m,parameters:_,consumedSegments:x,positionalParamSegments:w,remainingSegments:I}=lv(e,r,o);if(!m)return _a(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LM&&(this.allowRedirects=!1));let D=new ya(o,_,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,Fb(r),zn(r),r.component??r._loadedComponent??null,r,Nb(r)),P=fd(D,d,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data);let A=this.applyRedirects.applyRedirectCommands(x,r.redirectTo,w,D,t);return this.applyRedirects.lineralizeSegments(r,A).pipe(Yi(O=>this.processSegment(t,i,e,O.concat(I),l,!1,d)))}matchSegmentAgainstRoute(t,e,i,r,o,l){let d=DM(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),d.pipe(Vi(m=>m.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(Vi(({routes:_})=>{let x=i._loadedInjector??t,{parameters:w,consumedSegments:I,remainingSegments:D}=m,P=new ya(I,w,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,Fb(i),zn(i),i.component??i._loadedComponent??null,i,Nb(i)),A=fd(P,l,this.paramsInheritanceStrategy);P.params=Object.freeze(A.params),P.data=Object.freeze(A.data);let{segmentGroup:O,slicedSegments:U}=Vb(e,I,D,_);if(U.length===0&&O.hasChildren())return this.processChildren(x,_,O,P).pipe(mt(Y=>new hn(P,Y)));if(_.length===0&&U.length===0)return je(new hn(P,[]));let H=zn(i)===o;return this.processSegment(x,_,O,U,H?ht:o,!0,P).pipe(mt(Y=>new hn(P,Y instanceof hn?[Y]:[])))}))):_a(e)))}getChildConfig(t,e,i){return e.children?je({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?je({routes:e._loadedRoutes,injector:e._loadedInjector}):kM(t,e,i,this.urlSerializer).pipe(Yi(r=>r?this.configLoader.loadChildren(t,e).pipe(ai(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):IM(e))):je({routes:[],injector:t})}};function BM(n){n.sort((t,e)=>t.value.outlet===ht?-1:e.value.outlet===ht?1:t.value.outlet.localeCompare(e.value.outlet))}function jM(n){let t=n.value.routeConfig;return t&&t.path===""}function cv(n){let t=[],e=new Set;for(let i of n){if(!jM(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=cv(i.children);t.push(new hn(i.value,r))}return t.filter(i=>!e.has(i))}function Fb(n){return n.data||{}}function Nb(n){return n.resolve||{}}function zM(n,t,e,i,r,o){return Yi(l=>NM(n,t,e,i,l.extractedUrl,r,o).pipe(mt(({state:d,tree:m})=>tt(X({},l),{targetSnapshot:d,urlAfterRedirects:m}))))}function UM(n,t){return Yi(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return je(e);let o=new Set(r.map(m=>m.route)),l=new Set;for(let m of o)if(!l.has(m))for(let _ of dv(m))l.add(_);let d=0;return Si(l).pipe(Ur(m=>o.has(m)?HM(m,i,n,t):(m.data=fd(m,m.parent,n).resolve,je(void 0))),ai(()=>d++),_p(1),Yi(m=>d===l.size?je(e):Kn))})}function dv(n){let t=n.children.map(e=>dv(e)).flat();return[n,...t]}function HM(n,t,e,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!iv(r)&&(o[Xs]=r.title),WM(o,n,t,i).pipe(mt(l=>(n._resolvedData=l,n.data=fd(n,n.parent,e).resolve,null)))}function WM(n,t,e,i){let r=Qp(n);if(r.length===0)return je({});let o={};return Si(r).pipe(Yi(l=>qM(n[l],t,e,i).pipe(Hr(),ai(d=>{if(d instanceof Ys)throw _d(new Ca,d);o[l]=d}))),_p(1),l_(o),zr(l=>av(l)?Kn:ko(l)))}function qM(n,t,e,i){let r=el(t)??i,o=Ta(n,r),l=o.resolve?o.resolve(t,e):wn(r,()=>o(t,e));return Qr(l)}function Gp(n){return Vi(t=>{let e=n(t);return e?Si(e).pipe(mt(()=>t)):je(t)})}var uv=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===ht);return i}getResolvedTitleForRoute(e){return e.data[Xs]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:()=>q($M),providedIn:"root"})}}return n})(),$M=(()=>{class n extends uv{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(z(Mb))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nl=new Le("",{providedIn:"root",factory:()=>({})}),GM=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(i,r){i&1&&b(0,"router-outlet")},dependencies:[Bo],encapsulation:2})}}return n})();function xh(n){let t=n.children&&n.children.map(xh),e=t?tt(X({},n),{children:t}):X({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ht&&(e.component=GM),e}var Js=new Le(""),wh=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(qc)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return je(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Qr(e.loadComponent()).pipe(mt(mv),ai(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),_r(()=>{this.componentLoaders.delete(e)})),r=new mp(i,()=>new Re).pipe(up());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return je({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=YM(i,this.compiler,e,this.onLoadEndListener).pipe(_r(()=>{this.childrenLoaders.delete(i)})),l=new mp(o,()=>new Re).pipe(up());return this.childrenLoaders.set(i,l),l}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YM(n,t,e,i){return Qr(n.loadChildren()).pipe(mt(mv),Yi(r=>r instanceof I_||Array.isArray(r)?je(r):Si(t.compileModuleAsync(r))),mt(r=>{i&&i(n);let o,l,d=!1;return Array.isArray(r)?(l=r,d=!0):(o=r.create(e).injector,l=o.get(Js,[],{optional:!0,self:!0}).flat()),{routes:l.map(xh),injector:o}}))}function QM(n){return n&&typeof n=="object"&&"default"in n}function mv(n){return QM(n)?n.default:n}var Ch=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:()=>q(KM),providedIn:"root"})}}return n})(),KM=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pv=new Le(""),hv=new Le("");function JM(n,t,e){let i=n.get(hv),r=n.get(Ye);return n.get(Ze).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(_=>setTimeout(_));let o,l=new Promise(_=>{o=_}),d=r.startViewTransition(()=>(o(),XM(n))),{onViewTransitionCreated:m}=i;return m&&wn(n,()=>m({transition:d,from:t,to:e})),l})}function XM(n){return new Promise(t=>{un({read:()=>setTimeout(t)},{injector:n})})}var ZM=new Le(""),Sh=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=q(wh),this.environmentInjector=q(xn),this.urlSerializer=q(Zs),this.rootContexts=q(tl),this.location=q(yr),this.inputBindingEnabled=q(yd,{optional:!0})!==null,this.titleStrategy=q(uv),this.options=q(nl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(Ch),this.createViewTransition=q(pv,{optional:!0}),this.navigationErrorHandler=q(ZM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>je(void 0),this.rootComponentType=null;let e=r=>this.events.next(new nh(r)),i=r=>this.events.next(new rh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(tt(X(X({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new ci({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Us,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ii(o=>o.id!==0),mt(o=>tt(X({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vi(o=>{let l=!1,d=!1;return je(o).pipe(Vi(m=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",fn.SupersededByNewNavigation),Kn;this.currentTransition=o,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:typeof m.extras.browserUrl=="string"?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?tt(X({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let _=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),x=m.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!_&&x!=="reload"){let w="";return this.events.next(new Yr(m.id,this.urlSerializer.serialize(m.rawUrl),w,dd.IgnoredSameUrlNavigation)),m.resolve(!1),Kn}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return je(m).pipe(Vi(w=>{let I=this.transitions?.getValue();return this.events.next(new Sa(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),I!==this.transitions?.getValue()?Kn:Promise.resolve(w)}),zM(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ai(w=>{o.targetSnapshot=w.targetSnapshot,o.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=tt(X({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let I=new ud(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}));if(_&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){let{id:w,extractedUrl:I,source:D,restoredState:P,extras:A}=m,O=new Sa(w,this.urlSerializer.serialize(I),D,P);this.events.next(O);let U=ev(this.rootComponentType).snapshot;return this.currentTransition=o=tt(X({},m),{targetSnapshot:U,urlAfterRedirects:I,extras:tt(X({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,je(o)}else{let w="";return this.events.next(new Yr(m.id,this.urlSerializer.serialize(m.extractedUrl),w,dd.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Kn}}),ai(m=>{let _=new Zp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),mt(m=>(this.currentTransition=o=tt(X({},m),{guards:sM(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),o)),bM(this.environmentInjector,m=>this.events.next(m)),ai(m=>{if(o.guardsResult=m.guardsResult,m.guardsResult&&typeof m.guardsResult!="boolean")throw _d(this.urlSerializer,m.guardsResult);let _=new eh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(_)}),ii(m=>m.guardsResult?!0:(this.cancelNavigationTransition(m,"",fn.GuardRejected),!1)),Gp(m=>{if(m.guards.canActivateChecks.length)return je(m).pipe(ai(_=>{let x=new th(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(x)}),Vi(_=>{let x=!1;return je(_).pipe(UM(this.paramsInheritanceStrategy,this.environmentInjector),ai({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(_,"",fn.NoDataFromResolver)}}))}),ai(_=>{let x=new ih(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(x)}))}),Gp(m=>{let _=x=>{let w=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(x.routeConfig).pipe(ai(I=>{x.component=I}),mt(()=>{})));for(let I of x.children)w.push(..._(I));return w};return To(_(m.targetSnapshot.root)).pipe(gp(null),yn(1))}),Gp(()=>this.afterPreactivation()),Vi(()=>{let{currentSnapshot:m,targetSnapshot:_}=o,x=this.createViewTransition?.(this.environmentInjector,m.root,_.root);return x?Si(x).pipe(mt(()=>o)):je(o)}),mt(m=>{let _=iM(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=o=tt(X({},m),{targetRouterState:_}),this.currentNavigation.targetRouterState=_,o}),ai(()=>{this.events.next(new $s)}),aM(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),yn(1),ai({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Un(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),dt(this.transitionAbortSubject.pipe(ai(m=>{throw m}))),_r(()=>{!l&&!d&&this.cancelNavigationTransition(o,"",fn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),zr(m=>{if(d=!0,ov(m))this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),m.message,m.cancellationCode)),oM(m)?this.events.next(new Ea(m.url,m.navigationBehaviorOptions)):o.resolve(!1);else{let _=new qs(o.id,this.urlSerializer.serialize(o.extractedUrl),m,o.targetSnapshot??void 0);try{let x=wn(this.environmentInjector,()=>this.navigationErrorHandler?.(_));if(x instanceof Ys){let{message:w,cancellationCode:I}=_d(this.urlSerializer,x);this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),w,I)),this.events.next(new Ea(x.redirectTo,x.navigationBehaviorOptions))}else{this.events.next(_);let w=e.errorHandler(m);o.resolve(!!w)}}catch(x){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(x)}}return Kn}))}))}cancelNavigationTransition(e,i,r){let o=new Cr(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function e3(n){return n!==Us}var t3=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:()=>q(i3),providedIn:"root"})}}return n})(),vh=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},i3=(()=>{class n extends vh{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fv=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:()=>q(n3),providedIn:"root"})}}return n})(),n3=(()=>{class n extends fv{constructor(){super(...arguments),this.location=q(yr),this.urlSerializer=q(Zs),this.options=q(nl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(Ch),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Sr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ev(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Sa)this.stateMemento=this.createStateMemento();else if(e instanceof Yr)this.rawUrlTree=i.initialUrl;else if(e instanceof ud){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof $s?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Cr&&(e.code===fn.GuardRejected||e.code===fn.NoDataFromResolver)?this.restoreHistory(i):e instanceof qs?this.restoreHistory(i,!0):e instanceof Un&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof Sr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,l=X(X({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",l)}else{let o=X(X({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),js=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(js||{});function gv(n,t){n.events.pipe(ii(e=>e instanceof Un||e instanceof Cr||e instanceof qs||e instanceof Yr),mt(e=>e instanceof Un||e instanceof Yr?js.COMPLETE:(e instanceof Cr?e.code===fn.Redirect||e.code===fn.SupersededByNewNavigation:!1)?js.REDIRECTING:js.FAILED),ii(e=>e!==js.REDIRECTING),yn(1)).subscribe(()=>{t()})}function r3(n){throw n}var o3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Be=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(Hc),this.stateManager=q(fv),this.options=q(nl,{optional:!0})||{},this.pendingTasks=q(Ss),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(Sh),this.urlSerializer=q(Zs),this.location=q(yr),this.urlHandlingStrategy=q(Ch),this._events=new Re,this.errorHandler=this.options.errorHandler||r3,this.navigated=!1,this.routeReuseStrategy=q(t3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(Js,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(yd,{optional:!0}),this.eventsSubscription=new Eo,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Cr&&i.code!==fn.Redirect&&i.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Un)this.navigated=!0;else if(i instanceof Ea){let l=i.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),m=X({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||e3(r.source)},l);this.scheduleNavigation(d,Us,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}l3(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Us,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){let m=X({},r);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(o.state=m)}let d=this.parseUrl(e);this.scheduleNavigation(d,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(xh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:d,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:l,x=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":x=X(X({},this.currentUrlTree.queryParams),o);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}x!==null&&(x=this.removeEmptyProps(x));let w;try{let I=r?r.snapshot:this.routerState.snapshot.root;w=Kb(I)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),w=this.currentUrlTree.root}return Jb(w,e,x,_??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Lo(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Us,null,i)}navigate(e,i={skipLocationChange:!1}){return s3(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=X({},o3):i===!1?r=X({},a3):r=i,Lo(e))return Db(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Db(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let d,m,_;l?(d=l.resolve,m=l.reject,_=l.promise):_=new Promise((w,I)=>{d=w,m=I});let x=this.pendingTasks.add();return gv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:d,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(w=>Promise.reject(w))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function s3(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Pt(4008,!1)}function l3(n){return!(n instanceof $s)&&!(n instanceof Ea)}var Ji=(()=>{class n{constructor(e,i,r,o,l,d){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=d,this.href=null,this.onChanges=new Re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement=m==="a"||m==="area",this.isAnchorElement?this.subscription=e.events.subscribe(_=>{_ instanceof Un&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Lo(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,o,l){let d=this.urlTree;if(d===null||this.isAnchorElement&&(e!==0||i||r||o||l||typeof this.target=="string"&&this.target!="_self"))return!0;let m={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(d,m),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:E_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:Lo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(T(Be),T(Ke),ln("tabindex"),T(Ui),T(Ne),T(Ds))}}static{this.\u0275dir=De({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&v("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),i&2&&lt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bn],replaceUrl:[2,"replaceUrl","replaceUrl",Bn],routerLink:"routerLink"},standalone:!0,features:[Cn,Lt]})}}return n})(),wd=(()=>{class n{get isActive(){return this._isActive}constructor(e,i,r,o,l){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Pe,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof Un&&this.update()})}ngAfterContentInit(){je(this.links.changes,je(null)).pipe(bs()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Si(e).pipe(bs()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){let i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let i=c3(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,i):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Be),T(Ne),T(Ui),T(Ot),T(Ji,8))}}static{this.\u0275dir=De({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,Ji,5),i&2){let l;ze(l=Ue())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Lt]})}}return n})();function c3(n){return!!n.paths}var vd=class{};var d3=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ii(e=>e instanceof Un),Ur(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=wp(o.providers,e,`Route: ${o.path}`));let l=o._injector??e,d=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(d,o.children??o._loadedRoutes))}return Si(r).pipe(bs())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=je(null);let o=r.pipe(Yi(l=>l===null?je(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){let l=this.loader.loadComponent(i);return Si([o,l]).pipe(bs())}else return o})}static{this.\u0275fac=function(i){return new(i||n)(z(Be),z(qc),z(xn),z(vd),z(wh))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_v=new Le(""),u3=(()=>{class n{constructor(e,i,r,o,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration||="disabled",l.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Sa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Un?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Yr&&e.code===dd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof md&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new md(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){Ms()}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function bv(n,...t){return Fn([{provide:Js,multi:!0,useValue:n},[],{provide:Ke,useFactory:vv,deps:[Be]},{provide:Is,multi:!0,useFactory:yv},t.map(e=>e.\u0275providers)])}function vv(n){return n.routerState.root}function rl(n,t){return{\u0275kind:n,\u0275providers:t}}function yv(){let n=q(Rt);return t=>{let e=n.get(Hi);if(t!==e.components[0])return;let i=n.get(Be),r=n.get(xv);n.get(Eh)===1&&i.initialNavigation(),n.get(wv,null,vp.Optional)?.setUpPreloading(),n.get(_v,null,vp.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var xv=new Le("",{factory:()=>new Re}),Eh=new Le("",{providedIn:"root",factory:()=>1});function m3(){return rl(2,[{provide:Eh,useValue:0},{provide:Tp,multi:!0,deps:[Rt],useFactory:t=>{let e=t.get(U_,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(Be),o=t.get(xv);gv(r,()=>{i(!0)}),t.get(Sh).afterPreactivation=()=>(i(!0),o.closed?je(void 0):o),r.initialNavigation()}))}}])}function p3(){return rl(3,[{provide:Tp,multi:!0,useFactory:()=>{let t=q(Be);return()=>{t.setUpLocationChangeListener()}}},{provide:Eh,useValue:2}])}var wv=new Le("");function h3(n){return rl(0,[{provide:wv,useExisting:d3},{provide:vd,useExisting:n}])}function f3(){return rl(8,[Rb,{provide:yd,useExisting:Rb}])}function g3(n){let t=[{provide:pv,useValue:JM},{provide:hv,useValue:X({skipNextTransition:!!n?.skipInitialTransition},n)}];return rl(9,t)}var Lb=new Le("ROUTER_FORROOT_GUARD"),_3=[yr,{provide:Zs,useClass:Ca},Be,tl,{provide:Ke,useFactory:vv,deps:[Be]},wh,[]],Xi=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[_3,[],{provide:Js,multi:!0,useValue:e},{provide:Lb,useFactory:x3,deps:[[Be,new yp,new p_]]},{provide:nl,useValue:i||{}},i?.useHash?v3():y3(),b3(),i?.preloadingStrategy?h3(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?w3(i):[],i?.bindToComponentInputs?f3().\u0275providers:[],i?.enableViewTransitions?g3().\u0275providers:[],C3()]}}static forChild(e){return{ngModule:n,providers:[{provide:Js,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(z(Lb,8))}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();function b3(){return{provide:_v,useFactory:()=>{let n=q(K_),t=q(Ze),e=q(nl),i=q(Sh),r=q(Zs);return e.scrollOffset&&n.setOffset(e.scrollOffset),new u3(r,i,n,t,e)}}}function v3(){return{provide:Ds,useClass:W_}}function y3(){return{provide:Ds,useClass:H_}}function x3(n){return"guarded"}function w3(n){return[n.initialNavigation==="disabled"?p3().\u0275providers:[],n.initialNavigation==="enabledBlocking"?m3().\u0275providers:[]]}var Bb=new Le("");function C3(){return[{provide:Bb,useFactory:yv},{provide:Is,multi:!0,useExisting:Bb}]}function sl(n){return n+.5|0}var Kr=(n,t,e)=>Math.max(Math.min(n,e),t);function ol(n){return Kr(sl(n*2.55),0,255)}function Jr(n){return Kr(sl(n*255),0,255)}function Er(n){return Kr(sl(n/2.55)/100,0,1)}function Cv(n){return Kr(sl(n*100),0,100)}var kn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Th=[..."0123456789ABCDEF"],S3=n=>Th[n&15],E3=n=>Th[(n&240)>>4]+Th[n&15],Cd=n=>(n&240)>>4===(n&15),k3=n=>Cd(n.r)&&Cd(n.g)&&Cd(n.b)&&Cd(n.a);function T3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&kn[n[1]]*17,g:255&kn[n[2]]*17,b:255&kn[n[3]]*17,a:t===5?kn[n[4]]*17:255}:(t===7||t===9)&&(e={r:kn[n[1]]<<4|kn[n[2]],g:kn[n[3]]<<4|kn[n[4]],b:kn[n[5]]<<4|kn[n[6]],a:t===9?kn[n[7]]<<4|kn[n[8]]:255})),e}var M3=(n,t)=>n<255?t(n):"";function I3(n){var t=k3(n)?S3:E3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+M3(n.a,t):void 0}var D3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tv(n,t,e){let i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function A3(n,t,e){let i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function P3(n,t,e){let i=Tv(n,1,.5),r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function O3(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Mh(n){let e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),d=(o+l)/2,m,_,x;return o!==l&&(x=o-l,_=d>.5?x/(2-o-l):x/(o+l),m=O3(e,i,r,x,o),m=m*60+.5),[m|0,_||0,d]}function Ih(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Jr)}function Dh(n,t,e){return Ih(Tv,n,t,e)}function R3(n,t,e){return Ih(P3,n,t,e)}function V3(n,t,e){return Ih(A3,n,t,e)}function Mv(n){return(n%360+360)%360}function F3(n){let t=D3.exec(n),e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ol(+t[5]):Jr(+t[5]));let r=Mv(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=R3(r,o,l):t[1]==="hsv"?i=V3(r,o,l):i=Dh(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function N3(n,t){var e=Mh(n);e[0]=Mv(e[0]+t),e=Dh(e),n.r=e[0],n.g=e[1],n.b=e[2]}function L3(n){if(!n)return;let t=Mh(n),e=t[0],i=Cv(t[1]),r=Cv(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Er(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}var Sv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ev={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function B3(){let n={},t=Object.keys(Ev),e=Object.keys(Sv),i,r,o,l,d;for(i=0;i<t.length;i++){for(l=d=t[i],r=0;r<e.length;r++)o=e[r],d=d.replace(o,Sv[o]);o=parseInt(Ev[l],16),n[d]=[o>>16&255,o>>8&255,o&255]}return n}var Sd;function j3(n){Sd||(Sd=B3(),Sd.transparent=[0,0,0,0]);let t=Sd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var z3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U3(n){let t=z3.exec(n),e=255,i,r,o;if(t){if(t[7]!==i){let l=+t[7];e=t[8]?ol(l):Kr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?ol(i):Kr(i,0,255)),r=255&(t[4]?ol(r):Kr(r,0,255)),o=255&(t[6]?ol(o):Kr(o,0,255)),{r:i,g:r,b:o,a:e}}}function H3(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Er(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var kh=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ma=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function W3(n,t,e){let i=Ma(Er(n.r)),r=Ma(Er(n.g)),o=Ma(Er(n.b));return{r:Jr(kh(i+e*(Ma(Er(t.r))-i))),g:Jr(kh(r+e*(Ma(Er(t.g))-r))),b:Jr(kh(o+e*(Ma(Er(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ed(n,t,e){if(n){let i=Mh(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Dh(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Iv(n,t){return n&&Object.assign(t||{},n)}function kv(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Jr(n[3]))):(t=Iv(n,{r:0,g:0,b:0,a:1}),t.a=Jr(t.a)),t}function q3(n){return n.charAt(0)==="r"?U3(n):F3(n)}var al=class n{constructor(t){if(t instanceof n)return t;let e=typeof t,i;e==="object"?i=kv(t):e==="string"&&(i=T3(t)||j3(t)||q3(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Iv(this._rgb);return t&&(t.a=Er(t.a)),t}set rgb(t){this._rgb=kv(t)}rgbString(){return this._valid?H3(this._rgb):void 0}hexString(){return this._valid?I3(this._rgb):void 0}hslString(){return this._valid?L3(this._rgb):void 0}mix(t,e){if(t){let i=this.rgb,r=t.rgb,o,l=e===o?.5:e,d=2*l-1,m=i.a-r.a,_=((d*m===-1?d:(d+m)/(1+d*m))+1)/2;o=1-_,i.r=255&_*i.r+o*r.r+.5,i.g=255&_*i.g+o*r.g+.5,i.b=255&_*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=W3(this._rgb,t._rgb,e)),this}clone(){return new n(this.rgb)}alpha(t){return this._rgb.a=Jr(t),this}clearer(t){let e=this._rgb;return e.a*=1-t,this}greyscale(){let t=this._rgb,e=sl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){let e=this._rgb;return e.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ed(this._rgb,2,t),this}darken(t){return Ed(this._rgb,2,-t),this}saturate(t){return Ed(this._rgb,1,t),this}desaturate(t){return Ed(this._rgb,1,-t),this}rotate(t){return N3(this._rgb,t),this}};function rr(){}var jv=(()=>{let n=0;return()=>n++})();function _t(n){return n==null}function Jt(n){if(Array.isArray&&Array.isArray(n))return!0;let t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function si(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Zi(n,t){return si(n)?n:t}function st(n,t){return typeof n>"u"?t:n}var zv=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,Rh=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function qt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ft(n,t,e,i){let r,o,l;if(Jt(n))if(o=n.length,i)for(r=o-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<o;r++)t.call(e,n[r],r);else if(yt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function dl(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Dd(n){if(Jt(n))return n.map(Dd);if(yt(n)){let t=Object.create(null),e=Object.keys(n),i=e.length,r=0;for(;r<i;++r)t[e[r]]=Dd(n[e[r]]);return t}return n}function Uv(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function $3(n,t,e,i){if(!Uv(n))return;let r=t[n],o=e[n];yt(r)&&yt(o)?Da(r,o,i):t[n]=Dd(o)}function Da(n,t,e){let i=Jt(t)?t:[t],r=i.length;if(!yt(n))return n;e=e||{};let o=e.merger||$3,l;for(let d=0;d<r;++d){if(l=i[d],!yt(l))continue;let m=Object.keys(l);for(let _=0,x=m.length;_<x;++_)o(m[_],n,l,e)}return n}function Pa(n,t){return Da(n,t,{merger:G3})}function G3(n,t,e){if(!Uv(n))return;let i=t[n],r=e[n];yt(i)&&yt(r)?Pa(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Dd(r))}var Dv={"":n=>n,x:n=>n.x,y:n=>n.y};function Y3(n){let t=n.split("."),e=[],i="";for(let r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Q3(n){let t=Y3(n);return e=>{for(let i of t){if(i==="")break;e=e&&e[i]}return e}}function Mr(n,t){return(Dv[t]||(Dv[t]=Q3(t)))(n)}function Rd(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Oa=n=>typeof n<"u",kr=n=>typeof n=="function",Vh=(n,t)=>{if(n.size!==t.size)return!1;for(let e of n)if(!t.has(e))return!1;return!0};function Hv(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Mt=Math.PI,Xt=2*Mt,K3=Xt+Mt,Ad=Number.POSITIVE_INFINITY,J3=Mt/180,di=Mt/2,jo=Mt/4,Av=Mt*2/3,Tr=Math.log10,Hn=Math.sign;function Ra(n,t,e){return Math.abs(n-t)<e}function Fh(n){let t=Math.round(n);n=Ra(n,t,n/1e3)?t:n;let e=Math.pow(10,Math.floor(Tr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Wv(n){let t=[],e=Math.sqrt(n),i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function X3(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ho(n){return!X3(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function qv(n,t){let e=Math.round(n);return e-t<=n&&e+t>=n}function Nh(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Tn(n){return n*(Mt/180)}function Vd(n){return n*(180/Mt)}function Lh(n){if(!si(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Bh(n,t){let e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i),o=Math.atan2(i,e);return o<-.5*Mt&&(o+=Xt),{angle:o,distance:r}}function Pd(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Z3(n,t){return(n-t+K3)%Xt-Mt}function Ai(n){return(n%Xt+Xt)%Xt}function Va(n,t,e,i){let r=Ai(n),o=Ai(t),l=Ai(e),d=Ai(o-r),m=Ai(l-r),_=Ai(r-o),x=Ai(r-l);return r===o||r===l||i&&o===l||d>m&&_<x}function wi(n,t,e){return Math.max(t,Math.min(e,n))}function $v(n){return wi(n,-32768,32767)}function or(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Fd(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}var ir=(n,t,e,i)=>Fd(n,e,i?r=>{let o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Gv=(n,t,e)=>Fd(n,e,i=>n[i][t]>=e);function Yv(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}var Qv=["push","pop","shift","splice","unshift"];function Kv(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Qv.forEach(e=>{let i="_onData"+Rd(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){let l=r.apply(this,o);return n._chartjs.listeners.forEach(d=>{typeof d[i]=="function"&&d[i](...o)}),l}})})}function jh(n,t){let e=n._chartjs;if(!e)return;let i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Qv.forEach(o=>{delete n[o]}),delete n._chartjs)}function zh(n){let t=new Set(n);return t.size===n.length?n:Array.from(t)}var Uh=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Hh(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Uh.call(window,()=>{i=!1,n.apply(t,e)}))}}function Jv(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}var Nd=n=>n==="start"?"left":n==="end"?"right":"center",Pi=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Xv=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Wh(n,t,e){let i=t.length,r=0,o=i;if(n._sorted){let{iScale:l,vScale:d,_parsed:m}=n,_=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,x=l.axis,{min:w,max:I,minDefined:D,maxDefined:P}=l.getUserBounds();if(D){if(r=Math.min(ir(m,x,w).lo,e?i:ir(t,x,l.getPixelForValue(w)).lo),_){let A=m.slice(0,r+1).reverse().findIndex(O=>!_t(O[d.axis]));r-=Math.max(0,A)}r=wi(r,0,i-1)}if(P){let A=Math.max(ir(m,l.axis,I,!0).hi+1,e?0:ir(t,x,l.getPixelForValue(I),!0).hi+1);if(_){let O=m.slice(A-1).findIndex(U=>!_t(U[d.axis]));A+=Math.max(0,O)}o=wi(A,r,i)-r}else o=i-r}return{start:r,count:o}}function qh(n){let{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;let o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}var kd=n=>n===0||n===1,Pv=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Xt/e)),Ov=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Xt/e)+1,Ia={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*di)+1,easeOutSine:n=>Math.sin(n*di),easeInOutSine:n=>-.5*(Math.cos(Mt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>kd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>kd(n)?n:Pv(n,.075,.3),easeOutElastic:n=>kd(n)?n:Ov(n,.075,.3),easeInOutElastic(n){return kd(n)?n:n<.5?.5*Pv(n*2,.1125,.45):.5+.5*Ov(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Ia.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Ia.easeInBounce(n*2)*.5:Ia.easeOutBounce(n*2-1)*.5+.5};function $h(n){if(n&&typeof n=="object"){let t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Gh(n){return $h(n)?n:new al(n)}function Ah(n){return $h(n)?n:new al(n).saturate(.5).darken(.1).hexString()}var eI=["x","y","borderWidth","radius","tension"],tI=["color","borderColor","backgroundColor"];function iI(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:tI},numbers:{type:"number",properties:eI}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nI(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var Rv=new Map;function rI(n,t){t=t||{};let e=n+JSON.stringify(t),i=Rv.get(e);return i||(i=new Intl.NumberFormat(n,t),Rv.set(e,i)),i}function Fa(n,t,e){return rI(t,e).format(n)}var Zv={values(n){return Jt(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";let i=this.chart.options.locale,r,o=n;if(e.length>1){let _=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(_<1e-4||_>1e15)&&(r="scientific"),o=oI(n,e)}let l=Tr(Math.abs(o)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),m={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(m,this.options.ticks.format),Fa(n,i,m)},logarithmic(n,t,e){if(n===0)return"0";let i=e[t].significand||n/Math.pow(10,Math.floor(Tr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?Zv.numeric.call(this,n,t,e):""}};function oI(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ul={formatters:Zv};function aI(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ul.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}var Zr=Object.create(null),Ld=Object.create(null);function ll(n,t){if(!t)return n;let e=t.split(".");for(let i=0,r=e.length;i<r;++i){let o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Ph(n,t,e){return typeof t=="string"?Da(ll(n,t),e):Da(ll(n,""),t)}var Oh=class{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ah(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ah(r.borderColor),this.hoverColor=(i,r)=>Ah(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ph(this,t,e)}get(t){return ll(this,t)}describe(t,e){return Ph(Ld,t,e)}override(t,e){return Ph(Zr,t,e)}route(t,e,i,r){let o=ll(this,t),l=ll(this,i),d="_"+e;Object.defineProperties(o,{[d]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){let m=this[d],_=l[r];return yt(m)?Object.assign({},_,m):st(m,_)},set(m){this[d]=m}}})}apply(t){t.forEach(e=>e(this))}},$t=new Oh({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[iI,nI,aI]);function sI(n){return!n||_t(n.size)||_t(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function cl(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function e1(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0,d=e.length,m,_,x,w,I;for(m=0;m<d;m++)if(w=e[m],w!=null&&!Jt(w))l=cl(n,r,o,l,w);else if(Jt(w))for(_=0,x=w.length;_<x;_++)I=w[_],I!=null&&!Jt(I)&&(l=cl(n,r,o,l,I));n.restore();let D=o.length/2;if(D>e.length){for(m=0;m<D;m++)delete r[o[m]];o.splice(0,D)}return l}function eo(n,t,e){let i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Yh(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Bd(n,t,e,i){Qh(n,t,e,i,null)}function Qh(n,t,e,i,r){let o,l,d,m,_,x,w,I,D=t.pointStyle,P=t.rotation,A=t.radius,O=(P||0)*J3;if(D&&typeof D=="object"&&(o=D.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(O),n.drawImage(D,-D.width/2,-D.height/2,D.width,D.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),D){default:r?n.ellipse(e,i,r/2,A,0,0,Xt):n.arc(e,i,A,0,Xt),n.closePath();break;case"triangle":x=r?r/2:A,n.moveTo(e+Math.sin(O)*x,i-Math.cos(O)*A),O+=Av,n.lineTo(e+Math.sin(O)*x,i-Math.cos(O)*A),O+=Av,n.lineTo(e+Math.sin(O)*x,i-Math.cos(O)*A),n.closePath();break;case"rectRounded":_=A*.516,m=A-_,l=Math.cos(O+jo)*m,w=Math.cos(O+jo)*(r?r/2-_:m),d=Math.sin(O+jo)*m,I=Math.sin(O+jo)*(r?r/2-_:m),n.arc(e-w,i-d,_,O-Mt,O-di),n.arc(e+I,i-l,_,O-di,O),n.arc(e+w,i+d,_,O,O+di),n.arc(e-I,i+l,_,O+di,O+Mt),n.closePath();break;case"rect":if(!P){m=Math.SQRT1_2*A,x=r?r/2:m,n.rect(e-x,i-m,2*x,2*m);break}O+=jo;case"rectRot":w=Math.cos(O)*(r?r/2:A),l=Math.cos(O)*A,d=Math.sin(O)*A,I=Math.sin(O)*(r?r/2:A),n.moveTo(e-w,i-d),n.lineTo(e+I,i-l),n.lineTo(e+w,i+d),n.lineTo(e-I,i+l),n.closePath();break;case"crossRot":O+=jo;case"cross":w=Math.cos(O)*(r?r/2:A),l=Math.cos(O)*A,d=Math.sin(O)*A,I=Math.sin(O)*(r?r/2:A),n.moveTo(e-w,i-d),n.lineTo(e+w,i+d),n.moveTo(e+I,i-l),n.lineTo(e-I,i+l);break;case"star":w=Math.cos(O)*(r?r/2:A),l=Math.cos(O)*A,d=Math.sin(O)*A,I=Math.sin(O)*(r?r/2:A),n.moveTo(e-w,i-d),n.lineTo(e+w,i+d),n.moveTo(e+I,i-l),n.lineTo(e-I,i+l),O+=jo,w=Math.cos(O)*(r?r/2:A),l=Math.cos(O)*A,d=Math.sin(O)*A,I=Math.sin(O)*(r?r/2:A),n.moveTo(e-w,i-d),n.lineTo(e+w,i+d),n.moveTo(e+I,i-l),n.lineTo(e-I,i+l);break;case"line":l=r?r/2:Math.cos(O)*A,d=Math.sin(O)*A,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(O)*(r?r/2:A),i+Math.sin(O)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function nr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ml(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function pl(n){n.restore()}function t1(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){let o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function i1(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function lI(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),_t(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function cI(n,t,e,i,r){if(r.strikethrough||r.underline){let o=n.measureText(i),l=t-o.actualBoundingBoxLeft,d=t+o.actualBoundingBoxRight,m=e-o.actualBoundingBoxAscent,_=e+o.actualBoundingBoxDescent,x=r.strikethrough?(m+_)/2:_;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,x),n.lineTo(d,x),n.stroke()}}function dI(n,t){let e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function to(n,t,e,i,r,o={}){let l=Jt(t)?t:[t],d=o.strokeWidth>0&&o.strokeColor!=="",m,_;for(n.save(),n.font=r.string,lI(n,o),m=0;m<l.length;++m)_=l[m],o.backdrop&&dI(n,o.backdrop),d&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),_t(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(_,e,i,o.maxWidth)),n.fillText(_,e,i,o.maxWidth),cI(n,e,i,_,o),i+=Number(r.lineHeight);n.restore()}function Na(n,t){let{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*Mt,Mt,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,Mt,di,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,di,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-di,!0),n.lineTo(e+l.topLeft,i)}var uI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,mI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pI(n,t){let e=(""+n).match(uI);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}var hI=n=>+n||0;function jd(n,t){let e={},i=yt(t),r=i?Object.keys(t):t,o=yt(n)?i?l=>st(n[l],n[t[l]]):l=>n[l]:()=>n;for(let l of r)e[l]=hI(o(l));return e}function Kh(n){return jd(n,{top:"y",right:"x",bottom:"y",left:"x"})}function io(n){return jd(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Oi(n){let t=Kh(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vi(n,t){n=n||{},t=t||$t.font;let e=st(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=st(n.style,t.style);i&&!(""+i).match(mI)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:st(n.family,t.family),lineHeight:pI(st(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:st(n.weight,t.weight),string:""};return r.string=sI(r),r}function La(n,t,e,i){let r=!0,o,l,d;for(o=0,l=n.length;o<l;++o)if(d=n[o],d!==void 0&&(t!==void 0&&typeof d=="function"&&(d=d(t),r=!1),e!==void 0&&Jt(d)&&(d=d[e%d.length],r=!1),d!==void 0))return i&&!r&&(i.cacheable=!1),d}function n1(n,t,e){let{min:i,max:r}=n,o=Rh(t,(r-i)/2),l=(d,m)=>e&&d===0?0:d+m;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function Ir(n,t){return Object.assign(Object.create(n),t)}function zd(n,t=[""],e,i,r=()=>n[0]){let o=e||n;typeof i>"u"&&(i=a1("_fallback",n));let l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:d=>zd([d,...n],t,o,i)};return new Proxy(l,{deleteProperty(d,m){return delete d[m],delete d._keys,delete n[0][m],!0},get(d,m){return r1(d,m,()=>wI(m,t,n,d))},getOwnPropertyDescriptor(d,m){return Reflect.getOwnPropertyDescriptor(d._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(d,m){return Fv(d).includes(m)},ownKeys(d){return Fv(d)},set(d,m,_){let x=d._storage||(d._storage=r());return d[m]=x[m]=_,delete d._keys,!0}})}function Uo(n,t,e,i){let r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Jh(n,i),setContext:o=>Uo(n,o,e,i),override:o=>Uo(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,d){return r1(o,l,()=>gI(o,l,d))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,d){return n[l]=d,delete o[l],!0}})}function Jh(n,t={scriptable:!0,indexable:!0}){let{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:kr(e)?e:()=>e,isIndexable:kr(i)?i:()=>i}}var fI=(n,t)=>n?n+Rd(t):t,Xh=(n,t)=>yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function r1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];let i=e();return n[t]=i,i}function gI(n,t,e){let{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n,d=i[t];return kr(d)&&l.isScriptable(t)&&(d=_I(t,d,n,e)),Jt(d)&&d.length&&(d=bI(t,d,n,l.isIndexable)),Xh(t,d)&&(d=Uo(d,r,o&&o[t],l)),d}function _I(n,t,e,i){let{_proxy:r,_context:o,_subProxy:l,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let m=t(o,l||i);return d.delete(n),Xh(n,m)&&(m=Zh(r._scopes,r,n,m)),m}function bI(n,t,e,i){let{_proxy:r,_context:o,_subProxy:l,_descriptors:d}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(yt(t[0])){let m=t,_=r._scopes.filter(x=>x!==m);t=[];for(let x of m){let w=Zh(_,r,n,x);t.push(Uo(w,o,l&&l[n],d))}}return t}function o1(n,t,e){return kr(n)?n(t,e):n}var vI=(n,t)=>n===!0?t:typeof n=="string"?Mr(t,n):void 0;function yI(n,t,e,i,r){for(let o of t){let l=vI(e,o);if(l){n.add(l);let d=o1(l._fallback,e,r);if(typeof d<"u"&&d!==e&&d!==i)return d}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function Zh(n,t,e,i){let r=t._rootScopes,o=o1(t._fallback,e,i),l=[...n,...r],d=new Set;d.add(i);let m=Vv(d,l,e,o||e,i);return m===null||typeof o<"u"&&o!==e&&(m=Vv(d,l,o,m,i),m===null)?!1:zd(Array.from(d),[""],r,o,()=>xI(t,e,i))}function Vv(n,t,e,i,r){for(;e;)e=yI(n,t,e,i,r);return e}function xI(n,t,e){let i=n._getTarget();t in i||(i[t]={});let r=i[t];return Jt(r)&&yt(e)?e:r||{}}function wI(n,t,e,i){let r;for(let o of t)if(r=a1(fI(o,n),e),typeof r<"u")return Xh(n,r)?Zh(e,i,n,r):r}function a1(n,t){for(let e of t){if(!e)continue;let i=e[n];if(typeof i<"u")return i}}function Fv(n){let t=n._keys;return t||(t=n._keys=CI(n._scopes)),t}function CI(n){let t=new Set;for(let e of n)for(let i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function e0(n,t,e,i){let{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i),d,m,_,x;for(d=0,m=i;d<m;++d)_=d+e,x=t[_],l[d]={r:r.parse(Mr(x,o),_)};return l}var SI=Number.EPSILON||1e-14,Aa=(n,t)=>t<n.length&&!n[t].skip&&n[t],s1=n=>n==="x"?"y":"x";function EI(n,t,e,i){let r=n.skip?t:n,o=t,l=e.skip?t:e,d=Pd(o,r),m=Pd(l,o),_=d/(d+m),x=m/(d+m);_=isNaN(_)?0:_,x=isNaN(x)?0:x;let w=i*_,I=i*x;return{previous:{x:o.x-w*(l.x-r.x),y:o.y-w*(l.y-r.y)},next:{x:o.x+I*(l.x-r.x),y:o.y+I*(l.y-r.y)}}}function kI(n,t,e){let i=n.length,r,o,l,d,m,_=Aa(n,0);for(let x=0;x<i-1;++x)if(m=_,_=Aa(n,x+1),!(!m||!_)){if(Ra(t[x],0,SI)){e[x]=e[x+1]=0;continue}r=e[x]/t[x],o=e[x+1]/t[x],d=Math.pow(r,2)+Math.pow(o,2),!(d<=9)&&(l=3/Math.sqrt(d),e[x]=r*l*t[x],e[x+1]=o*l*t[x])}}function TI(n,t,e="x"){let i=s1(e),r=n.length,o,l,d,m=Aa(n,0);for(let _=0;_<r;++_){if(l=d,d=m,m=Aa(n,_+1),!d)continue;let x=d[e],w=d[i];l&&(o=(x-l[e])/3,d[`cp1${e}`]=x-o,d[`cp1${i}`]=w-o*t[_]),m&&(o=(m[e]-x)/3,d[`cp2${e}`]=x+o,d[`cp2${i}`]=w+o*t[_])}}function MI(n,t="x"){let e=s1(t),i=n.length,r=Array(i).fill(0),o=Array(i),l,d,m,_=Aa(n,0);for(l=0;l<i;++l)if(d=m,m=_,_=Aa(n,l+1),!!m){if(_){let x=_[t]-m[t];r[l]=x!==0?(_[e]-m[e])/x:0}o[l]=d?_?Hn(r[l-1])!==Hn(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}kI(n,r,o),TI(n,o,t)}function Td(n,t,e){return Math.max(Math.min(n,e),t)}function II(n,t){let e,i,r,o,l,d=nr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=d,d=e<i-1&&nr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=Td(r.cp1x,t.left,t.right),r.cp1y=Td(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=Td(r.cp2x,t.left,t.right),r.cp2y=Td(r.cp2y,t.top,t.bottom)))}function l1(n,t,e,i,r){let o,l,d,m;if(t.spanGaps&&(n=n.filter(_=>!_.skip)),t.cubicInterpolationMode==="monotone")MI(n,r);else{let _=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)d=n[o],m=EI(_,d,n[Math.min(o+1,l-(i?0:1))%l],t.tension),d.cp1x=m.previous.x,d.cp1y=m.previous.y,d.cp2x=m.next.x,d.cp2y=m.next.y,_=d}t.capBezierPoints&&II(n,e)}function Ud(){return typeof window<"u"&&typeof document<"u"}function Hd(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Od(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}var Wd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function DI(n,t){return Wd(n).getPropertyValue(t)}var AI=["top","right","bottom","left"];function zo(n,t,e){let i={};e=e?"-"+e:"";for(let r=0;r<4;r++){let o=AI[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var PI=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function OI(n,t){let e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i,l=!1,d,m;if(PI(r,o,n.target))d=r,m=o;else{let _=t.getBoundingClientRect();d=i.clientX-_.left,m=i.clientY-_.top,l=!0}return{x:d,y:m,box:l}}function no(n,t){if("native"in n)return n;let{canvas:e,currentDevicePixelRatio:i}=t,r=Wd(e),o=r.boxSizing==="border-box",l=zo(r,"padding"),d=zo(r,"border","width"),{x:m,y:_,box:x}=OI(n,e),w=l.left+(x&&d.left),I=l.top+(x&&d.top),{width:D,height:P}=t;return o&&(D-=l.width+d.width,P-=l.height+d.height),{x:Math.round((m-w)/D*e.width/i),y:Math.round((_-I)/P*e.height/i)}}function RI(n,t,e){let i,r;if(t===void 0||e===void 0){let o=n&&Hd(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{let l=o.getBoundingClientRect(),d=Wd(o),m=zo(d,"border","width"),_=zo(d,"padding");t=l.width-_.width-m.width,e=l.height-_.height-m.height,i=Od(d.maxWidth,o,"clientWidth"),r=Od(d.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ad,maxHeight:r||Ad}}var Md=n=>Math.round(n*10)/10;function c1(n,t,e,i){let r=Wd(n),o=zo(r,"margin"),l=Od(r.maxWidth,n,"clientWidth")||Ad,d=Od(r.maxHeight,n,"clientHeight")||Ad,m=RI(n,t,e),{width:_,height:x}=m;if(r.boxSizing==="content-box"){let I=zo(r,"border","width"),D=zo(r,"padding");_-=D.width+I.width,x-=D.height+I.height}return _=Math.max(0,_-o.width),x=Math.max(0,i?_/i:x-o.height),_=Md(Math.min(_,l,m.maxWidth)),x=Md(Math.min(x,d,m.maxHeight)),_&&!x&&(x=Md(_/2)),(t!==void 0||e!==void 0)&&i&&m.height&&x>m.height&&(x=m.height,_=Md(Math.floor(x*i))),{width:_,height:x}}function t0(n,t,e){let i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var d1=function(){let n=!1;try{let t={get passive(){return n=!0,!1}};Ud()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function i0(n,t){let e=DI(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Xr(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function u1(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function m1(n,t,e,i){let r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Xr(n,r,e),d=Xr(r,o,e),m=Xr(o,t,e),_=Xr(l,d,e),x=Xr(d,m,e);return Xr(_,x,e)}var VI=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},FI=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Wo(n,t,e){return n?VI(t,e):FI()}function n0(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function r0(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function p1(n){return n==="angle"?{between:Va,compare:Z3,normalize:Ai}:{between:or,compare:(t,e)=>t-e,normalize:t=>t}}function Nv({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function NI(n,t,e){let{property:i,start:r,end:o}=e,{between:l,normalize:d}=p1(i),m=t.length,{start:_,end:x,loop:w}=n,I,D;if(w){for(_+=m,x+=m,I=0,D=m;I<D&&l(d(t[_%m][i]),r,o);++I)_--,x--;_%=m,x%=m}return x<_&&(x+=m),{start:_,end:x,loop:w,style:n.style}}function o0(n,t,e){if(!e)return[n];let{property:i,start:r,end:o}=e,l=t.length,{compare:d,between:m,normalize:_}=p1(i),{start:x,end:w,loop:I,style:D}=NI(n,t,e),P=[],A=!1,O=null,U,H,Y,ie=()=>m(r,Y,U)&&d(r,Y)!==0,Q=()=>d(o,U)===0||m(o,Y,U),ne=()=>A||ie(),ge=()=>!A||Q();for(let le=x,ye=x;le<=w;++le)H=t[le%l],!H.skip&&(U=_(H[i]),U!==Y&&(A=m(U,r,o),O===null&&ne()&&(O=d(U,r)===0?le:ye),O!==null&&ge()&&(P.push(Nv({start:O,end:le,loop:I,count:l,style:D})),O=null),ye=le,Y=U));return O!==null&&P.push(Nv({start:O,end:w,loop:I,count:l,style:D})),P}function a0(n,t){let e=[],i=n.segments;for(let r=0;r<i.length;r++){let o=o0(i[r],n.points,t);o.length&&e.push(...o)}return e}function LI(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function BI(n,t,e,i){let r=n.length,o=[],l=t,d=n[t],m;for(m=t+1;m<=e;++m){let _=n[m%r];_.skip||_.stop?d.skip||(i=!1,o.push({start:t%r,end:(m-1)%r,loop:i}),t=l=_.stop?m:null):(l=m,d.skip&&(t=m)),d=_}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function h1(n,t){let e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];let o=!!n._loop,{start:l,end:d}=LI(e,r,o,i);if(i===!0)return Lv(n,[{start:l,end:d,loop:o}],e,t);let m=d<l?d+r:d,_=!!n._fullLoop&&l===0&&d===r-1;return Lv(n,BI(e,l,m,_),e,t)}function Lv(n,t,e,i){return!i||!i.setContext||!e?t:jI(n,t,e,i)}function jI(n,t,e,i){let r=n._chart.getContext(),o=Bv(n.options),{_datasetIndex:l,options:{spanGaps:d}}=n,m=e.length,_=[],x=o,w=t[0].start,I=w;function D(P,A,O,U){let H=d?-1:1;if(P!==A){for(P+=m;e[P%m].skip;)P-=H;for(;e[A%m].skip;)A+=H;P%m!==A%m&&(_.push({start:P%m,end:A%m,loop:O,style:U}),x=U,w=A%m)}}for(let P of t){w=d?w:P.start;let A=e[w%m],O;for(I=w+1;I<=P.end;I++){let U=e[I%m];O=Bv(i.setContext(Ir(r,{type:"segment",p0:A,p1:U,p0DataIndex:(I-1)%m,p1DataIndex:I%m,datasetIndex:l}))),zI(O,x)&&D(w,I-1,P.loop,x),A=U,x=O}w<I-1&&D(w,I-1,P.loop,x)}return _}function Bv(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function zI(n,t){if(!t)return!1;let e=[],i=function(r,o){return $h(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Id(n,t,e){return n.options.clip?n[e]:t[e]}function UI(n,t){let{xScale:e,yScale:i}=n;return e&&i?{left:Id(e,t,"left"),right:Id(e,t,"right"),top:Id(i,t,"top"),bottom:Id(i,t,"bottom")}:t}function s0(n,t){let e=t._clip;if(e.disabled)return!1;let i=UI(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}var v0=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){let o=e.listeners[r],l=e.duration;o.forEach(d=>d({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Uh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,l=o.length-1,d=!1,m;for(;l>=0;--l)m=o[l],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(t),d=!0):(o[l]=o[o.length-1],o.pop());d&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){let e=this._charts,i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){let e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;let e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){let e=this._charts.get(t);if(!e||!e.items.length)return;let i=e.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},Dr=new v0,f1="transparent",HI={boolean(n,t,e){return e>.5?t:n},color(n,t,e){let i=Gh(n||f1),r=i.valid&&Gh(t||f1);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}},y0=class{constructor(t,e,i,r){let o=e[i];r=La([t.to,r,o,t.from]);let l=La([t.from,o,r]);this._active=!0,this._fn=t.fn||HI[t.type||typeof l],this._easing=Ia[t.easing]||Ia.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=La([t.to,e,r,t.from]),this._from=La([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,d=this._to,m;if(this._active=o!==d&&(l||e<i),!this._active){this._target[r]=d,this._notify(!0);return}if(e<0){this._target[r]=o;return}m=e/i%2,m=l&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(o,d,m)}wait(){let t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){let e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}},Zd=class{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!yt(t))return;let e=Object.keys($t.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{let o=t[r];if(!yt(o))return;let l={};for(let d of e)l[d]=o[d];(Jt(o.properties)&&o.properties||[r]).forEach(d=>{(d===r||!i.has(d))&&i.set(d,l)})})}_animateOptions(t,e){let i=e.options,r=qI(t,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&WI(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){let i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),d=Date.now(),m;for(m=l.length-1;m>=0;--m){let _=l[m];if(_.charAt(0)==="$")continue;if(_==="options"){r.push(...this._animateOptions(t,e));continue}let x=e[_],w=o[_],I=i.get(_);if(w)if(I&&w.active()){w.update(I,x,d);continue}else w.cancel();if(!I||!I.duration){t[_]=x;continue}o[_]=w=new y0(I,t,_,x),r.push(w)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}let i=this._createAnimations(t,e);if(i.length)return Dr.add(this._chart,i),!0}};function WI(n,t){let e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){let o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function qI(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function g1(n,t){let e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function $I(n,t,e){if(e===!1)return!1;let i=g1(n,e),r=g1(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function GI(n){let t,e,i,r;return yt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function fy(n,t){let e=[],i=n._getSortedDatasetMetas(t),r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function _1(n,t,e,i={}){let r=n.keys,o=i.mode==="single",l,d,m,_;if(t===null)return;let x=!1;for(l=0,d=r.length;l<d;++l){if(m=+r[l],m===e){if(x=!0,i.all)continue;break}_=n.values[m],si(_)&&(o||t===0||Hn(t)===Hn(_))&&(t+=_)}return!x&&!i.all?0:t}function YI(n,t){let{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),d=new Array(l.length),m,_,x;for(m=0,_=l.length;m<_;++m)x=l[m],d[m]={[r]:x,[o]:n[x]};return d}function l0(n,t){let e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function QI(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function KI(n){let{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function JI(n,t,e){let i=n[t]||(n[t]={});return i[e]||(i[e]={})}function b1(n,t,e,i){for(let r of t.getMatchingVisibleMetas(i).reverse()){let o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function v1(n,t){let{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:d}=i,m=o.axis,_=l.axis,x=QI(o,l,i),w=t.length,I;for(let D=0;D<w;++D){let P=t[D],{[m]:A,[_]:O}=P,U=P._stacks||(P._stacks={});I=U[_]=JI(r,x,A),I[d]=O,I._top=b1(I,l,!0,i.type),I._bottom=b1(I,l,!1,i.type);let H=I._visualValues||(I._visualValues={});H[d]=O}}function c0(n,t){let e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function XI(n,t){return Ir(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ZI(n,t,e){return Ir(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function hl(n,t){let e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(let r of t){let o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}var d0=n=>n==="reset"||n==="none",y1=(n,t)=>t?n:Object.assign({},n),eD=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:fy(e,!0),values:null},oo=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=l0(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&hl(this._cachedMeta),this.index=e}linkScales(){let e=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(I,D,P,A)=>I==="x"?D:I==="r"?A:P,l=i.xAxisID=st(r.xAxisID,c0(e,"x")),d=i.yAxisID=st(r.yAxisID,c0(e,"y")),m=i.rAxisID=st(r.rAxisID,c0(e,"r")),_=i.indexAxis,x=i.iAxisID=o(_,l,d,m),w=i.vAxisID=o(_,d,l,m);i.xScale=this.getScaleForId(l),i.yScale=this.getScaleForId(d),i.rScale=this.getScaleForId(m),i.iScale=this.getScaleForId(x),i.vScale=this.getScaleForId(w)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){let i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let e=this._cachedMeta;this._data&&jh(this._data,this),e._stacked&&hl(e)}_dataCheck(){let e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(yt(i)){let o=this._cachedMeta;this._data=YI(i,o)}else if(r!==i){if(r){jh(r,this);let o=this._cachedMeta;hl(o),o._parsed=[]}i&&Object.isExtensible(i)&&Kv(i,this),this._syncList=[],this._data=i}}addElements(){let e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let l=i._stacked;i._stacked=l0(i.vScale,i),i.stack!==r.stack&&(o=!0,hl(i),i.stack=r.stack),this._resyncElements(e),(o||l!==i._stacked)&&(v1(this,i._parsed),i._stacked=l0(i.vScale,i))}configure(){let e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){let{_cachedMeta:r,_data:o}=this,{iScale:l,_stacked:d}=r,m=l.axis,_=e===0&&i===o.length?!0:r._sorted,x=e>0&&r._parsed[e-1],w,I,D;if(this._parsing===!1)r._parsed=o,r._sorted=!0,D=o;else{Jt(o[e])?D=this.parseArrayData(r,o,e,i):yt(o[e])?D=this.parseObjectData(r,o,e,i):D=this.parsePrimitiveData(r,o,e,i);let P=()=>I[m]===null||x&&I[m]<x[m];for(w=0;w<i;++w)r._parsed[w+e]=I=D[w],_&&(P()&&(_=!1),x=I);r._sorted=_}d&&v1(this,D)}parsePrimitiveData(e,i,r,o){let{iScale:l,vScale:d}=e,m=l.axis,_=d.axis,x=l.getLabels(),w=l===d,I=new Array(o),D,P,A;for(D=0,P=o;D<P;++D)A=D+r,I[D]={[m]:w||l.parse(x[A],A),[_]:d.parse(i[A],A)};return I}parseArrayData(e,i,r,o){let{xScale:l,yScale:d}=e,m=new Array(o),_,x,w,I;for(_=0,x=o;_<x;++_)w=_+r,I=i[w],m[_]={x:l.parse(I[0],w),y:d.parse(I[1],w)};return m}parseObjectData(e,i,r,o){let{xScale:l,yScale:d}=e,{xAxisKey:m="x",yAxisKey:_="y"}=this._parsing,x=new Array(o),w,I,D,P;for(w=0,I=o;w<I;++w)D=w+r,P=i[D],x[w]={x:l.parse(Mr(P,m),D),y:d.parse(Mr(P,_),D)};return x}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){let o=this.chart,l=this._cachedMeta,d=i[e.axis],m={keys:fy(o,!0),values:i._stacks[e.axis]._visualValues};return _1(m,d,l.index,{mode:r})}updateRangeFromParsed(e,i,r,o){let l=r[i.axis],d=l===null?NaN:l,m=o&&r._stacks[i.axis];o&&m&&(o.values=m,d=_1(o,l,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,i){let r=this._cachedMeta,o=r._parsed,l=r._sorted&&e===r.iScale,d=o.length,m=this._getOtherScale(e),_=eD(i,r,this.chart),x={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:w,max:I}=KI(m),D,P;function A(){P=o[D];let O=P[m.axis];return!si(P[e.axis])||w>O||I<O}for(D=0;D<d&&!(!A()&&(this.updateRangeFromParsed(x,e,P,_),l));++D);if(l){for(D=d-1;D>=0;--D)if(!A()){this.updateRangeFromParsed(x,e,P,_);break}}return x}getAllParsedValues(e){let i=this._cachedMeta._parsed,r=[],o,l,d;for(o=0,l=i.length;o<l;++o)d=i[o][e.axis],si(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(e){let i=this._cachedMeta,r=i.iScale,o=i.vScale,l=this.getParsed(e);return{label:r?""+r.getLabelForValue(l[r.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(e){let i=this._cachedMeta;this.update(e||"default"),i._clip=GI(st(this.options.clip,$I(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){let e=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],l=i.chartArea,d=[],m=this._drawStart||0,_=this._drawCount||o.length-m,x=this.options.drawActiveElementsOnTop,w;for(r.dataset&&r.dataset.draw(e,l,m,_),w=m;w<m+_;++w){let I=o[w];I.hidden||(I.active&&x?d.push(I):I.draw(e,l))}for(w=0;w<d.length;++w)d[w].draw(e,l)}getStyle(e,i){let r=i?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){let o=this.getDataset(),l;if(e>=0&&e<this._cachedMeta.data.length){let d=this._cachedMeta.data[e];l=d.$context||(d.$context=ZI(this.getContext(),e,d)),l.parsed=this.getParsed(e),l.raw=o.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=XI(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!i,l.mode=r,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){let o=i==="active",l=this._cachedDataOpts,d=e+"-"+i,m=l[d],_=this.enableOptionSharing&&Oa(r);if(m)return y1(m,_);let x=this.chart.config,w=x.datasetElementScopeKeys(this._type,e),I=o?[`${e}Hover`,"hover",e,""]:[e,""],D=x.getOptionScopes(this.getDataset(),w),P=Object.keys($t.elements[e]),A=()=>this.getContext(r,o,i),O=x.resolveNamedOptions(D,P,A,I);return O.$shared&&(O.$shared=_,l[d]=Object.freeze(y1(O,_))),O}_resolveAnimations(e,i,r){let o=this.chart,l=this._cachedDataOpts,d=`animation-${i}`,m=l[d];if(m)return m;let _;if(o.options.animation!==!1){let w=this.chart.config,I=w.datasetAnimationScopeKeys(this._type,i),D=w.getOptionScopes(this.getDataset(),I);_=w.createResolver(D,this.getContext(e,r,i))}let x=new Zd(o,_&&_.animations);return _&&_._cacheable&&(l[d]=Object.freeze(x)),x}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||d0(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){let r=this.resolveDataElementOptions(e,i),o=this._sharedOptions,l=this.getSharedOptions(r),d=this.includeOptions(i,l)||l!==o;return this.updateSharedOptions(l,i,r),{sharedOptions:l,includeOptions:d}}updateElement(e,i,r,o){d0(o)?Object.assign(e,r):this._resolveAnimations(i,o).update(e,r)}updateSharedOptions(e,i,r){e&&!d0(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,o){e.active=o;let l=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(e,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){let e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){let i=this._data,r=this._cachedMeta.data;for(let[m,_,x]of this._syncList)this[m](_,x);this._syncList=[];let o=r.length,l=i.length,d=Math.min(l,o);d&&this.parse(0,d),l>o?this._insertElements(o,l-o,e):l<o&&this._removeElements(l,o-l)}_insertElements(e,i,r=!0){let o=this._cachedMeta,l=o.data,d=e+i,m,_=x=>{for(x.length+=i,m=x.length-1;m>=d;m--)x[m]=x[m-i]};for(_(l),m=e;m<d;++m)l[m]=new this.dataElementType;this._parsing&&_(o._parsed),this.parse(e,i),r&&this.updateElements(l,e,i,"reset")}updateElements(e,i,r,o){}_removeElements(e,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(e,i);r._stacked&&hl(r,o)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{let[i,r,o]=e;this[i](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){let e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function tD(n,t){if(!n._cache.$bar){let e=n.getMatchingVisibleMetas(t),i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=zh(i.sort((r,o)=>r-o))}return n._cache.$bar}function iD(n){let t=n.iScale,e=tD(t,n.type),i=t._length,r,o,l,d,m=()=>{l===32767||l===-32768||(Oa(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),m();for(d=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),m();return i}function nD(n,t,e,i){let r=e.barThickness,o,l;return _t(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function rD(n,t,e,i){let r=t.pixels,o=r[n],l=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null,m=e.categoryPercentage;l===null&&(l=o-(d===null?t.end-t.start:d-o)),d===null&&(d=o+o-l);let _=o-(o-Math.min(l,d))/2*m;return{chunk:Math.abs(d-l)/2*m/i,ratio:e.barPercentage,start:_}}function oD(n,t,e,i){let r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),d=Math.max(r,o),m=l,_=d;Math.abs(l)>Math.abs(d)&&(m=d,_=l),t[e.axis]=_,t._custom={barStart:m,barEnd:_,start:r,end:o,min:l,max:d}}function gy(n,t,e,i){return Jt(n)?oD(n,t,e,i):t[e.axis]=e.parse(n,i),t}function x1(n,t,e,i){let r=n.iScale,o=n.vScale,l=r.getLabels(),d=r===o,m=[],_,x,w,I;for(_=e,x=e+i;_<x;++_)I=t[_],w={},w[r.axis]=d||r.parse(l[_],_),m.push(gy(I,w,o,_));return m}function u0(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function aD(n,t,e){return n!==0?Hn(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function sD(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function lD(n,t,e,i){let r=t.borderSkipped,o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:l,end:d,reverse:m,top:_,bottom:x}=sD(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=_:(e._bottom||0)===i?r=x:(o[w1(x,l,d,m)]=!0,r=_)),o[w1(r,l,d,m)]=!0,n.borderSkipped=o}function w1(n,t,e,i){return i?(n=cD(n,t,e),n=C1(n,e,t)):n=C1(n,t,e),n}function cD(n,t,e){return n===t?e:n===e?t:n}function C1(n,t,e){return n==="start"?t:n==="end"?e:n}function dD(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}var uD=(()=>{class n extends oo{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,i,r,o){return x1(e,i,r,o)}parseArrayData(e,i,r,o){return x1(e,i,r,o)}parseObjectData(e,i,r,o){let{iScale:l,vScale:d}=e,{xAxisKey:m="x",yAxisKey:_="y"}=this._parsing,x=l.axis==="x"?m:_,w=d.axis==="x"?m:_,I=[],D,P,A,O;for(D=r,P=r+o;D<P;++D)O=i[D],A={},A[l.axis]=l.parse(Mr(O,x),D),I.push(gy(Mr(O,w),A,d,D));return I}updateRangeFromParsed(e,i,r,o){super.updateRangeFromParsed(e,i,r,o);let l=r._custom;l&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){let i=this._cachedMeta,{iScale:r,vScale:o}=i,l=this.getParsed(e),d=l._custom,m=u0(d)?"["+d.start+", "+d.end+"]":""+o.getLabelForValue(l[o.axis]);return{label:""+r.getLabelForValue(l[r.axis]),value:m}}initialize(){this.enableOptionSharing=!0,super.initialize();let e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,o){let l=o==="reset",{index:d,_cachedMeta:{vScale:m}}=this,_=m.getBasePixel(),x=m.isHorizontal(),w=this._getRuler(),{sharedOptions:I,includeOptions:D}=this._getSharedOptions(i,o);for(let P=i;P<i+r;P++){let A=this.getParsed(P),O=l||_t(A[m.axis])?{base:_,head:_}:this._calculateBarValuePixels(P),U=this._calculateBarIndexPixels(P,w),H=(A._stacks||{})[m.axis],Y={horizontal:x,base:O.base,enableBorderRadius:!H||u0(A._custom)||d===H._top||d===H._bottom,x:x?O.head:U.center,y:x?U.center:O.head,height:x?U.size:Math.abs(O.size),width:x?Math.abs(O.size):U.size};D&&(Y.options=I||this.resolveDataElementOptions(P,e[P].active?"active":o));let ie=Y.options||e[P].options;lD(Y,ie,H,d),dD(Y,ie,w.ratio),this.updateElement(e[P],P,Y,o)}}_getStacks(e,i){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(w=>w.controller.options.grouped),l=r.options.stacked,d=[],m=this._cachedMeta.controller.getParsed(i),_=m&&m[r.axis],x=w=>{let I=w._parsed.find(P=>P[r.axis]===_),D=I&&I[w.vScale.axis];if(_t(D)||isNaN(D))return!0};for(let w of o)if(!(i!==void 0&&x(w))&&((l===!1||d.indexOf(w.stack)===-1||l===void 0&&w.stack===void 0)&&d.push(w.stack),w.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let e=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===i).shift()}_getAxis(){let e={},i=this.getFirstScaleIdForIndexAxis();for(let r of this.chart.data.datasets)e[st(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,i)]=!0;return Object.keys(e)}_getStackIndex(e,i,r){let o=this._getStacks(e,r),l=i!==void 0?o.indexOf(i):-1;return l===-1?o.length-1:l}_getRuler(){let e=this.options,i=this._cachedMeta,r=i.iScale,o=[],l,d;for(l=0,d=i.data.length;l<d;++l)o.push(r.getPixelForValue(this.getParsed(l)[r.axis],l));let m=e.barThickness;return{min:m||iD(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:m?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){let{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:l,minBarLength:d}}=this,m=l||0,_=this.getParsed(e),x=_._custom,w=u0(x),I=_[i.axis],D=0,P=r?this.applyStack(i,_,r):I,A,O;P!==I&&(D=P-I,P=I),w&&(I=x.barStart,P=x.barEnd-x.barStart,I!==0&&Hn(I)!==Hn(x.barEnd)&&(D=0),D+=I);let U=!_t(l)&&!w?l:D,H=i.getPixelForValue(U);if(this.chart.getDataVisibility(e)?A=i.getPixelForValue(D+P):A=H,O=A-H,Math.abs(O)<d){O=aD(O,i,m)*d,I===m&&(H-=O/2);let Y=i.getPixelForDecimal(0),ie=i.getPixelForDecimal(1),Q=Math.min(Y,ie),ne=Math.max(Y,ie);H=Math.max(Math.min(H,ne),Q),A=H+O,r&&!w&&(_._stacks[i.axis]._visualValues[o]=i.getValueForPixel(A)-i.getValueForPixel(H))}if(H===i.getPixelForValue(m)){let Y=Hn(O)*i.getLineWidthForValue(m)/2;H+=Y,O-=Y}return{size:O,base:H,head:A,center:A+O/2}}_calculateBarIndexPixels(e,i){let r=i.scale,o=this.options,l=o.skipNull,d=st(o.maxBarThickness,1/0),m,_,x=this._getAxisCount();if(i.grouped){let w=l?this._getStackCount(e):i.stackCount,I=o.barThickness==="flex"?rD(e,i,o,w*x):nD(e,i,o,w*x),D=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,P=this._getAxis().indexOf(st(D,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0)+P;m=I.start+I.chunk*A+I.chunk/2,_=Math.min(d,I.chunk*I.ratio)}else m=r.getPixelForValue(this.getParsed(e)[r.axis],e),_=Math.min(d,i.min*i.ratio);return{base:m-_/2,head:m+_/2,center:m,size:_}}draw(){let e=this._cachedMeta,i=e.vScale,r=e.data,o=r.length,l=0;for(;l<o;++l)this.getParsed(l)[i.axis]!==null&&!r[l].hidden&&r[l].draw(this._ctx)}}return n})(),mD=(()=>{class n extends oo{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,o){let l=super.parsePrimitiveData(e,i,r,o);for(let d=0;d<l.length;d++)l[d]._custom=this.resolveDataElementOptions(d+r).radius;return l}parseArrayData(e,i,r,o){let l=super.parseArrayData(e,i,r,o);for(let d=0;d<l.length;d++){let m=i[r+d];l[d]._custom=st(m[2],this.resolveDataElementOptions(d+r).radius)}return l}parseObjectData(e,i,r,o){let l=super.parseObjectData(e,i,r,o);for(let d=0;d<l.length;d++){let m=i[r+d];l[d]._custom=st(m&&m.r&&+m.r,this.resolveDataElementOptions(d+r).radius)}return l}getMaxOverflow(){let e=this._cachedMeta.data,i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:l}=i,d=this.getParsed(e),m=o.getLabelForValue(d.x),_=l.getLabelForValue(d.y),x=d._custom;return{label:r[e]||"",value:"("+m+", "+_+(x?", "+x:"")+")"}}update(e){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,o){let l=o==="reset",{iScale:d,vScale:m}=this._cachedMeta,{sharedOptions:_,includeOptions:x}=this._getSharedOptions(i,o),w=d.axis,I=m.axis;for(let D=i;D<i+r;D++){let P=e[D],A=!l&&this.getParsed(D),O={},U=O[w]=l?d.getPixelForDecimal(.5):d.getPixelForValue(A[w]),H=O[I]=l?m.getBasePixel():m.getPixelForValue(A[I]);O.skip=isNaN(U)||isNaN(H),x&&(O.options=_||this.resolveDataElementOptions(D,P.active?"active":o),l&&(O.options.radius=0)),this.updateElement(P,D,O,o)}}resolveDataElementOptions(e,i){let r=this.getParsed(e),o=super.resolveDataElementOptions(e,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let l=o.radius;return i!=="active"&&(o.radius=0),o.radius+=st(r&&r._custom,l),o}}return n})();function pD(n,t,e){let i=1,r=1,o=0,l=0;if(t<Xt){let d=n,m=d+t,_=Math.cos(d),x=Math.sin(d),w=Math.cos(m),I=Math.sin(m),D=(Y,ie,Q)=>Va(Y,d,m,!0)?1:Math.max(ie,ie*e,Q,Q*e),P=(Y,ie,Q)=>Va(Y,d,m,!0)?-1:Math.min(ie,ie*e,Q,Q*e),A=D(0,_,w),O=D(di,x,I),U=P(Mt,_,w),H=P(Mt+di,x,I);i=(A-U)/2,r=(O-H)/2,o=-(A+U)/2,l=-(O+H)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}var j0=(()=>{class n extends oo{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((l,d)=>{let _=e.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:_.backgroundColor,strokeStyle:_.borderColor,fontColor:o,lineWidth:_.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let l=_=>+r[_];if(yt(r[e])){let{key:_="value"}=this._parsing;l=x=>+Mr(r[x],_)}let d,m;for(d=e,m=e+i;d<m;++d)o._parsed[d]=l(d)}}_getRotation(){return Tn(this.options.rotation-90)}_getCircumference(){return Tn(this.options.circumference)}_getRotationExtents(){let e=Xt,i=-Xt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,l=o._getRotation(),d=o._getCircumference();e=Math.min(e,l),i=Math.max(i,l+d)}return{rotation:e,circumference:i-e}}update(e){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,l=o.data,d=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,m=Math.max((Math.min(r.width,r.height)-d)/2,0),_=Math.min(zv(this.options.cutout,m),1),x=this._getRingWeight(this.index),{circumference:w,rotation:I}=this._getRotationExtents(),{ratioX:D,ratioY:P,offsetX:A,offsetY:O}=pD(I,w,_),U=(r.width-d)/D,H=(r.height-d)/P,Y=Math.max(Math.min(U,H)/2,0),ie=Rh(this.options.radius,Y),Q=Math.max(ie*_,0),ne=(ie-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=A*ie,this.offsetY=O*ie,o.total=this.calculateTotal(),this.outerRadius=ie-ne*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ne*x,0),this.updateElements(l,0,l.length,e)}_circumference(e,i){let r=this.options,o=this._cachedMeta,l=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||o._parsed[e]===null||o.data[e].hidden?0:this.calculateCircumference(o._parsed[e]*l/Xt)}updateElements(e,i,r,o){let l=o==="reset",d=this.chart,m=d.chartArea,x=d.options.animation,w=(m.left+m.right)/2,I=(m.top+m.bottom)/2,D=l&&x.animateScale,P=D?0:this.innerRadius,A=D?0:this.outerRadius,{sharedOptions:O,includeOptions:U}=this._getSharedOptions(i,o),H=this._getRotation(),Y;for(Y=0;Y<i;++Y)H+=this._circumference(Y,l);for(Y=i;Y<i+r;++Y){let ie=this._circumference(Y,l),Q=e[Y],ne={x:w+this.offsetX,y:I+this.offsetY,startAngle:H,endAngle:H+ie,circumference:ie,outerRadius:A,innerRadius:P};U&&(ne.options=O||this.resolveDataElementOptions(Y,Q.active?"active":o)),H+=ie,this.updateElement(Q,Y,ne,o)}}calculateTotal(){let e=this._cachedMeta,i=e.data,r=0,o;for(o=0;o<i.length;o++){let l=e._parsed[o];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(l))}return r}calculateCircumference(e){let i=this._cachedMeta.total;return i>0&&!isNaN(e)?Xt*(Math.abs(e)/i):0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],l=Fa(i._parsed[e],r.options.locale);return{label:o[e]||"",value:l}}getMaxBorderWidth(e){let i=0,r=this.chart,o,l,d,m,_;if(!e){for(o=0,l=r.data.datasets.length;o<l;++o)if(r.isDatasetVisible(o)){d=r.getDatasetMeta(o),e=d.data,m=d.controller;break}}if(!e)return 0;for(o=0,l=e.length;o<l;++o)_=m.resolveDataElementOptions(o),_.borderAlign!=="inner"&&(i=Math.max(i,_.borderWidth||0,_.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,o=e.length;r<o;++r){let l=this.resolveDataElementOptions(r);i=Math.max(i,l.offset||0,l.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(st(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),hD=(()=>{class n extends oo{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:l}=i,d=this.chart._animationsDisabled,{start:m,count:_}=Wh(i,o,d);this._drawStart=m,this._drawCount=_,qh(i)&&(m=0,_=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!l._decimated,r.points=o;let x=this.resolveDatasetElementOptions(e);this.options.showLine||(x.borderWidth=0),x.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:x},e),this.updateElements(o,m,_,e)}updateElements(e,i,r,o){let l=o==="reset",{iScale:d,vScale:m,_stacked:_,_dataset:x}=this._cachedMeta,{sharedOptions:w,includeOptions:I}=this._getSharedOptions(i,o),D=d.axis,P=m.axis,{spanGaps:A,segment:O}=this.options,U=Ho(A)?A:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||l||o==="none",Y=i+r,ie=e.length,Q=i>0&&this.getParsed(i-1);for(let ne=0;ne<ie;++ne){let ge=e[ne],le=H?ge:{};if(ne<i||ne>=Y){le.skip=!0;continue}let ye=this.getParsed(ne),ot=_t(ye[P]),Ge=le[D]=d.getPixelForValue(ye[D],ne),Ie=le[P]=l||ot?m.getBasePixel():m.getPixelForValue(_?this.applyStack(m,ye,_):ye[P],ne);le.skip=isNaN(Ge)||isNaN(Ie)||ot,le.stop=ne>0&&Math.abs(ye[D]-Q[D])>U,O&&(le.parsed=ye,le.raw=x.data[ne]),I&&(le.options=w||this.resolveDataElementOptions(ne,ge.active?"active":o)),H||this.updateElement(ge,ne,le,o),Q=ye}}getMaxOverflow(){let e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,o=e.data||[];if(!o.length)return r;let l=o[0].size(this.resolveDataElementOptions(0)),d=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,l,d)/2}draw(){let e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n})(),_y=(()=>{class n extends oo{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let i=e.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=e.legend.options;return i.labels.map((l,d)=>{let _=e.getDatasetMeta(0).controller.getStyle(d);return{text:l,fillStyle:_.backgroundColor,strokeStyle:_.borderColor,fontColor:o,lineWidth:_.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],l=Fa(i._parsed[e].r,r.options.locale);return{label:o[e]||"",value:l}}parseObjectData(e,i,r,o){return e0.bind(this)(e,i,r,o)}update(e){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){let e=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,o)=>{let l=this.getParsed(o).r;!isNaN(l)&&this.chart.getDataVisibility(o)&&(l<i.min&&(i.min=l),l>i.max&&(i.max=l))}),i}_updateRadius(){let e=this.chart,i=e.chartArea,r=e.options,o=Math.min(i.right-i.left,i.bottom-i.top),l=Math.max(o/2,0),d=Math.max(r.cutoutPercentage?l/100*r.cutoutPercentage:1,0),m=(l-d)/e.getVisibleDatasetCount();this.outerRadius=l-m*this.index,this.innerRadius=this.outerRadius-m}updateElements(e,i,r,o){let l=o==="reset",d=this.chart,_=d.options.animation,x=this._cachedMeta.rScale,w=x.xCenter,I=x.yCenter,D=x.getIndexAngle(0)-.5*Mt,P=D,A,O=360/this.countVisibleElements();for(A=0;A<i;++A)P+=this._computeAngle(A,o,O);for(A=i;A<i+r;A++){let U=e[A],H=P,Y=P+this._computeAngle(A,o,O),ie=d.getDataVisibility(A)?x.getDistanceFromCenterForValue(this.getParsed(A).r):0;P=Y,l&&(_.animateScale&&(ie=0),_.animateRotate&&(H=Y=D));let Q={x:w,y:I,innerRadius:0,outerRadius:ie,startAngle:H,endAngle:Y,options:this.resolveDataElementOptions(A,U.active?"active":o)};this.updateElement(U,A,Q,o)}}countVisibleElements(){let e=this._cachedMeta,i=0;return e.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Tn(this.resolveDataElementOptions(e,i).angle||r):0}}return n})(),fD=(()=>{class n extends j0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),gD=(()=>{class n extends oo{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){let i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,o){return e0.bind(this)(e,i,r,o)}update(e){let i=this._cachedMeta,r=i.dataset,o=i.data||[],l=i.iScale.getLabels();if(r.points=o,e!=="resize"){let d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0);let m={_loop:!0,_fullLoop:l.length===o.length,options:d};this.updateElement(r,void 0,m,e)}this.updateElements(o,0,o.length,e)}updateElements(e,i,r,o){let l=this._cachedMeta.rScale,d=o==="reset";for(let m=i;m<i+r;m++){let _=e[m],x=this.resolveDataElementOptions(m,_.active?"active":o),w=l.getPointPositionForValue(m,this.getParsed(m).r),I=d?l.xCenter:w.x,D=d?l.yCenter:w.y,P={x:I,y:D,angle:w.angle,skip:isNaN(I)||isNaN(D),options:x};this.updateElement(_,m,P,o)}}}return n})(),_D=(()=>{class n extends oo{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:l}=i,d=this.getParsed(e),m=o.getLabelForValue(d.x),_=l.getLabelForValue(d.y);return{label:r[e]||"",value:"("+m+", "+_+")"}}update(e){let i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled,{start:l,count:d}=Wh(i,r,o);if(this._drawStart=l,this._drawCount=d,qh(i)&&(l=0,d=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:m,_dataset:_}=i;m._chart=this.chart,m._datasetIndex=this.index,m._decimated=!!_._decimated,m.points=r;let x=this.resolveDatasetElementOptions(e);x.segment=this.options.segment,this.updateElement(m,void 0,{animated:!o,options:x},e)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,l,d,e)}addElements(){let{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,i,r,o){let l=o==="reset",{iScale:d,vScale:m,_stacked:_,_dataset:x}=this._cachedMeta,w=this.resolveDataElementOptions(i,o),I=this.getSharedOptions(w),D=this.includeOptions(o,I),P=d.axis,A=m.axis,{spanGaps:O,segment:U}=this.options,H=Ho(O)?O:Number.POSITIVE_INFINITY,Y=this.chart._animationsDisabled||l||o==="none",ie=i>0&&this.getParsed(i-1);for(let Q=i;Q<i+r;++Q){let ne=e[Q],ge=this.getParsed(Q),le=Y?ne:{},ye=_t(ge[A]),ot=le[P]=d.getPixelForValue(ge[P],Q),Ge=le[A]=l||ye?m.getBasePixel():m.getPixelForValue(_?this.applyStack(m,ge,_):ge[A],Q);le.skip=isNaN(ot)||isNaN(Ge)||ye,le.stop=Q>0&&Math.abs(ge[P]-ie[P])>H,U&&(le.parsed=ge,le.raw=x.data[Q]),D&&(le.options=I||this.resolveDataElementOptions(Q,ne.active?"active":o)),Y||this.updateElement(ne,Q,le,o),ie=ge}this.updateSharedOptions(I,o,w)}getMaxOverflow(){let e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let m=0;for(let _=i.length-1;_>=0;--_)m=Math.max(m,i[_].size(this.resolveDataElementOptions(_))/2);return m>0&&m}let r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;let l=i[0].size(this.resolveDataElementOptions(0)),d=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,l,d)/2}}return n})(),bD=Object.freeze({__proto__:null,BarController:uD,BubbleController:mD,DoughnutController:j0,LineController:hD,PieController:fD,PolarAreaController:_y,RadarController:gD,ScatterController:_D});function qo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var x0=class n{static override(t){Object.assign(n.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return qo()}parse(){return qo()}format(){return qo()}add(){return qo()}diff(){return qo()}startOf(){return qo()}endOf(){return qo()}},vD={_date:x0};function yD(n,t,e,i){let{controller:r,data:o,_sorted:l}=n,d=r._cachedMeta.iScale,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(d&&t===d.axis&&t!=="r"&&l&&o.length){let _=d._reversePixels?Gv:ir;if(i){if(r._sharedOptions){let x=o[0],w=typeof x.getRange=="function"&&x.getRange(t);if(w){let I=_(o,t,e-w),D=_(o,t,e+w);return{lo:I.lo,hi:D.hi}}}}else{let x=_(o,t,e);if(m){let{vScale:w}=r._cachedMeta,{_parsed:I}=n,D=I.slice(0,x.lo+1).reverse().findIndex(A=>!_t(A[w.axis]));x.lo-=Math.max(0,D);let P=I.slice(x.hi).findIndex(A=>!_t(A[w.axis]));x.hi+=Math.max(0,P)}return x}}return{lo:0,hi:o.length-1}}function Sl(n,t,e,i,r){let o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let d=0,m=o.length;d<m;++d){let{index:_,data:x}=o[d],{lo:w,hi:I}=yD(o[d],t,l,r);for(let D=w;D<=I;++D){let P=x[D];P.skip||i(P,_,D)}}}function xD(n){let t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){let o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function m0(n,t,e,i,r){let o=[];return!r&&!n.isPointInArea(t)||Sl(n,e,t,function(d,m,_){!r&&!nr(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&o.push({element:d,datasetIndex:m,index:_})},!0),o}function wD(n,t,e,i){let r=[];function o(l,d,m){let{startAngle:_,endAngle:x}=l.getProps(["startAngle","endAngle"],i),{angle:w}=Bh(l,{x:t.x,y:t.y});Va(w,_,x)&&r.push({element:l,datasetIndex:d,index:m})}return Sl(n,e,t,o),r}function CD(n,t,e,i,r,o){let l=[],d=xD(e),m=Number.POSITIVE_INFINITY;function _(x,w,I){let D=x.inRange(t.x,t.y,r);if(i&&!D)return;let P=x.getCenterPoint(r);if(!(!!o||n.isPointInArea(P))&&!D)return;let O=d(t,P);O<m?(l=[{element:x,datasetIndex:w,index:I}],m=O):O===m&&l.push({element:x,datasetIndex:w,index:I})}return Sl(n,e,t,_),l}function p0(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?wD(n,t,e,r):CD(n,t,e,i,r,o)}function S1(n,t,e,i,r){let o=[],l=e==="x"?"inXRange":"inYRange",d=!1;return Sl(n,e,t,(m,_,x)=>{m[l]&&m[l](t[e],r)&&(o.push({element:m,datasetIndex:_,index:x}),d=d||m.inRange(t.x,t.y,r))}),i&&!d?[]:o}var SD={evaluateInteractionItems:Sl,modes:{index(n,t,e,i){let r=no(t,n),o=e.axis||"x",l=e.includeInvisible||!1,d=e.intersect?m0(n,r,o,i,l):p0(n,r,o,!1,i,l),m=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(_=>{let x=d[0].index,w=_.data[x];w&&!w.skip&&m.push({element:w,datasetIndex:_.index,index:x})}),m):[]},dataset(n,t,e,i){let r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1,d=e.intersect?m0(n,r,o,i,l):p0(n,r,o,!1,i,l);if(d.length>0){let m=d[0].datasetIndex,_=n.getDatasetMeta(m).data;d=[];for(let x=0;x<_.length;++x)d.push({element:_[x],datasetIndex:m,index:x})}return d},point(n,t,e,i){let r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return m0(n,r,o,i,l)},nearest(n,t,e,i){let r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return p0(n,r,o,e.intersect,i,l)},x(n,t,e,i){let r=no(t,n);return S1(n,r,"x",e.intersect,i)},y(n,t,e,i){let r=no(t,n);return S1(n,r,"y",e.intersect,i)}}},by=["left","top","right","bottom"];function fl(n,t){return n.filter(e=>e.pos===t)}function E1(n,t){return n.filter(e=>by.indexOf(e.pos)===-1&&e.box.axis===t)}function gl(n,t){return n.sort((e,i)=>{let r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function ED(n){let t=[],e,i,r,o,l,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:d=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:d});return t}function kD(n){let t={};for(let e of n){let{stack:i,pos:r,stackWeight:o}=e;if(!i||!by.includes(r))continue;let l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function TD(n,t){let e=kD(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t,o,l,d;for(o=0,l=n.length;o<l;++o){d=n[o];let{fullSize:m}=d.box,_=e[d.stack],x=_&&d.stackWeight/_.weight;d.horizontal?(d.width=x?x*i:m&&t.availableWidth,d.height=r):(d.width=i,d.height=x?x*r:m&&t.availableHeight)}return e}function MD(n){let t=ED(n),e=gl(t.filter(_=>_.box.fullSize),!0),i=gl(fl(t,"left"),!0),r=gl(fl(t,"right")),o=gl(fl(t,"top"),!0),l=gl(fl(t,"bottom")),d=E1(t,"x"),m=E1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(m).concat(l).concat(d),chartArea:fl(t,"chartArea"),vertical:i.concat(r).concat(m),horizontal:o.concat(l).concat(d)}}function k1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function vy(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function ID(n,t,e,i){let{pos:r,box:o}=e,l=n.maxPadding;if(!yt(r)){e.size&&(n[r]-=e.size);let w=i[e.stack]||{size:0,count:1};w.size=Math.max(w.size,e.horizontal?o.height:o.width),e.size=w.size/w.count,n[r]+=e.size}o.getPadding&&vy(l,o.getPadding());let d=Math.max(0,t.outerWidth-k1(l,n,"left","right")),m=Math.max(0,t.outerHeight-k1(l,n,"top","bottom")),_=d!==n.w,x=m!==n.h;return n.w=d,n.h=m,e.horizontal?{same:_,other:x}:{same:x,other:_}}function DD(n){let t=n.maxPadding;function e(i){let r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function AD(n,t){let e=t.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function vl(n,t,e,i){let r=[],o,l,d,m,_,x;for(o=0,l=n.length,_=0;o<l;++o){d=n[o],m=d.box,m.update(d.width||t.w,d.height||t.h,AD(d.horizontal,t));let{same:w,other:I}=ID(t,e,d,i);_|=w&&r.length,x=x||I,m.fullSize||r.push(d)}return _&&vl(r,t,e,i)||x}function qd(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function T1(n,t,e,i){let r=e.padding,{x:o,y:l}=t;for(let d of n){let m=d.box,_=i[d.stack]||{count:1,placed:0,weight:1},x=d.stackWeight/_.weight||1;if(d.horizontal){let w=t.w*x,I=_.size||m.height;Oa(_.start)&&(l=_.start),m.fullSize?qd(m,r.left,l,e.outerWidth-r.right-r.left,I):qd(m,t.left+_.placed,l,w,I),_.start=l,_.placed+=w,l=m.bottom}else{let w=t.h*x,I=_.size||m.width;Oa(_.start)&&(o=_.start),m.fullSize?qd(m,o,r.top,I,e.outerHeight-r.bottom-r.top):qd(m,o,t.top+_.placed,I,w),_.start=o,_.placed+=w,o=m.right}}t.x=o,t.y=l}var Ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){let e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;let r=Oi(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),d=MD(n.boxes),m=d.vertical,_=d.horizontal;Ft(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});let x=m.reduce((A,O)=>O.box.options&&O.box.options.display===!1?A:A+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/x,hBoxMaxHeight:l/2}),I=Object.assign({},r);vy(I,Oi(i));let D=Object.assign({maxPadding:I,w:o,h:l,x:r.left,y:r.top},r),P=TD(m.concat(_),w);vl(d.fullSize,D,w,P),vl(m,D,w,P),vl(_,D,w,P)&&vl(m,D,w,P),DD(D),T1(d.leftAndTop,D,w,P),D.x+=D.w,D.y+=D.h,T1(d.rightAndBottom,D,w,P),n.chartArea={left:D.left,top:D.top,right:D.left+D.w,bottom:D.top+D.h,height:D.h,width:D.w},Ft(d.chartArea,A=>{let O=A.box;Object.assign(O,n.chartArea),O.update(D.w,D.h,{left:0,top:0,right:0,bottom:0})})}},eu=class{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}},w0=class extends eu{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},Jd="$chartjs",PD={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M1=n=>n===null||n==="";function OD(n,t){let e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Jd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",M1(r)){let o=i0(n,"width");o!==void 0&&(n.width=o)}if(M1(i))if(n.style.height==="")n.height=n.width/(t||2);else{let o=i0(n,"height");o!==void 0&&(n.height=o)}return n}var yy=d1?{passive:!0}:!1;function RD(n,t,e){n&&n.addEventListener(t,e,yy)}function VD(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,yy)}function FD(n,t){let e=PD[n.type]||n.type,{x:i,y:r}=no(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function tu(n,t){for(let e of n)if(e===t||e.contains(t))return!0}function ND(n,t,e){let i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(let d of o)l=l||tu(d.addedNodes,i),l=l&&!tu(d.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function LD(n,t,e){let i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(let d of o)l=l||tu(d.removedNodes,i),l=l&&!tu(d.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}var xl=new Map,I1=0;function xy(){let n=window.devicePixelRatio;n!==I1&&(I1=n,xl.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function BD(n,t){xl.size||window.addEventListener("resize",xy),xl.set(n,t)}function jD(n){xl.delete(n),xl.size||window.removeEventListener("resize",xy)}function zD(n,t,e){let i=n.canvas,r=i&&Hd(i);if(!r)return;let o=Hh((d,m)=>{let _=r.clientWidth;e(d,m),_<r.clientWidth&&e()},window),l=new ResizeObserver(d=>{let m=d[0],_=m.contentRect.width,x=m.contentRect.height;_===0&&x===0||o(_,x)});return l.observe(r),BD(n,o),l}function h0(n,t,e){e&&e.disconnect(),t==="resize"&&jD(n)}function UD(n,t,e){let i=n.canvas,r=Hh(o=>{n.ctx!==null&&e(FD(o,n))},n);return RD(i,t,r),r}var C0=class extends eu{acquireContext(t,e){let i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(OD(t,e),i):null}releaseContext(t){let e=t.canvas;if(!e[Jd])return!1;let i=e[Jd].initial;["height","width"].forEach(o=>{let l=i[o];_t(l)?e.removeAttribute(o):e.setAttribute(o,l)});let r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Jd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);let r=t.$proxies||(t.$proxies={}),l={attach:ND,detach:LD,resize:zD}[e]||UD;r[e]=l(t,e,i)}removeEventListener(t,e){let i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:h0,detach:h0,resize:h0}[e]||VD)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return c1(t,e,i,r)}isAttached(t){let e=t&&Hd(t);return!!(e&&e.isConnected)}};function HD(n){return!Ud()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?w0:C0}var Wn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){let{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ho(this.x)&&Ho(this.y)}getProps(t,e){let i=this.$animations;if(!e||!i)return this;let r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function WD(n,t){let e=n.options.ticks,i=qD(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?GD(t):[],l=o.length,d=o[0],m=o[l-1],_=[];if(l>r)return YD(t,_,o,l/r),_;let x=$D(o,t,r);if(l>0){let w,I,D=l>1?Math.round((m-d)/(l-1)):null;for($d(t,_,x,_t(D)?0:d-D,d),w=0,I=l-1;w<I;w++)$d(t,_,x,o[w],o[w+1]);return $d(t,_,x,m,_t(D)?t.length:m+D),_}return $d(t,_,x),_}function qD(n){let t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function $D(n,t,e){let i=QD(n),r=t.length/e;if(!i)return Math.max(r,1);let o=Wv(i);for(let l=0,d=o.length-1;l<d;l++){let m=o[l];if(m>r)return m}return Math.max(r,1)}function GD(n){let t=[],e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function YD(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function $d(n,t,e,i,r){let o=st(i,0),l=Math.min(st(r,n.length),n.length),d=0,m,_,x;for(e=Math.ceil(e),r&&(m=r-i,e=m/Math.floor(m/e)),x=o;x<0;)d++,x=Math.round(o+d*e);for(_=Math.max(o,0);_<l;_++)_===x&&(t.push(n[_]),d++,x=Math.round(o+d*e))}function QD(n){let t=n.length,e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}var KD=n=>n==="left"?"right":n==="right"?"left":n,D1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,A1=(n,t)=>Math.min(t||n,n);function P1(n,t){let e=[],i=n.length/t,r=n.length,o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function JD(n,t,e){let i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,d=1e-6,m=n.getPixelForTick(r),_;if(!(e&&(i===1?_=Math.max(m-o,l-m):t===0?_=(n.getPixelForTick(1)-m)/2:_=(m-n.getPixelForTick(r-1))/2,m+=r<t?_:-_,m<o-d||m>l+d)))return m}function XD(n,t){Ft(n,e=>{let i=e.gc,r=i.length/2,o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function _l(n){return n.drawTicks?n.tickLength:0}function O1(n,t){if(!n.display)return 0;let e=vi(n.font,t),i=Oi(n.padding);return(Jt(n.text)?n.text.length:1)*e.lineHeight+i.height}function ZD(n,t){return Ir(n,{scale:t,type:"scale"})}function e4(n,t,e){return Ir(n,{tick:e,index:t,type:"tick"})}function t4(n,t,e){let i=Nd(n);return(e&&t!=="right"||!e&&t==="right")&&(i=KD(i)),i}function i4(n,t,e,i){let{top:r,left:o,bottom:l,right:d,chart:m}=n,{chartArea:_,scales:x}=m,w=0,I,D,P,A=l-r,O=d-o;if(n.isHorizontal()){if(D=Pi(i,o,d),yt(e)){let U=Object.keys(e)[0],H=e[U];P=x[U].getPixelForValue(H)+A-t}else e==="center"?P=(_.bottom+_.top)/2+A-t:P=D1(n,e,t);I=d-o}else{if(yt(e)){let U=Object.keys(e)[0],H=e[U];D=x[U].getPixelForValue(H)-O+t}else e==="center"?D=(_.left+_.right)/2-O+t:D=D1(n,e,t);P=Pi(i,l,r),w=e==="left"?-di:di}return{titleX:D,titleY:P,maxWidth:I,rotation:w}}var Go=class n extends Wn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Zi(t,Number.POSITIVE_INFINITY),e=Zi(e,Number.NEGATIVE_INFINITY),i=Zi(i,Number.POSITIVE_INFINITY),r=Zi(r,Number.NEGATIVE_INFINITY),{min:Zi(t,i),max:Zi(e,r),minDefined:si(t),maxDefined:si(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};let d=this.getMatchingVisibleMetas();for(let m=0,_=d.length;m<_;++m)l=d[m].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Zi(e,Zi(i,e)),max:Zi(i,Zi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,e,i){let{beginAtZero:r,grace:o,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=n1(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let m=d<this.ticks.length;this._convertTicksToLabels(m?P1(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=WD(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let e=this.options.ticks,i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=qt(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,e=t.ticks,i=A1(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation,l=r,d,m,_;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let x=this._getLabelSizes(),w=x.widest.width,I=x.highest.height,D=wi(this.chart.width-w,0,this.maxWidth);d=t.offset?this.maxWidth/i:D/(i-1),w+6>d&&(d=D/(i-(t.offset?.5:1)),m=this.maxHeight-_l(t.grid)-e.padding-O1(t.title,this.chart.options.font),_=Math.sqrt(w*w+I*I),l=Vd(Math.min(Math.asin(wi((x.highest.height+6)/d,-1,1)),Math.asin(wi(m/_,-1,1))-Math.asin(wi(I/_,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){let m=O1(r,e.options.font);if(d?(t.width=this.maxWidth,t.height=_l(o)+m):(t.height=this.maxHeight,t.width=_l(o)+m),i.display&&this.ticks.length){let{first:_,last:x,widest:w,highest:I}=this._getLabelSizes(),D=i.padding*2,P=Tn(this.labelRotation),A=Math.cos(P),O=Math.sin(P);if(d){let U=i.mirror?0:O*w.width+A*I.height;t.height=Math.min(this.maxHeight,t.height+U+D)}else{let U=i.mirror?0:A*w.width+O*I.height;t.width=Math.min(this.maxWidth,t.width+U+D)}this._calculatePadding(_,x,O,A)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){let{ticks:{align:o,padding:l},position:d}=this.options,m=this.labelRotation!==0,_=d!=="top"&&this.axis==="x";if(this.isHorizontal()){let x=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1),I=0,D=0;m?_?(I=r*t.width,D=i*e.height):(I=i*t.height,D=r*e.width):o==="start"?D=e.width:o==="end"?I=t.width:o!=="inner"&&(I=t.width/2,D=e.width/2),this.paddingLeft=Math.max((I-x+l)*this.width/(this.width-x),0),this.paddingRight=Math.max((D-w+l)*this.width/(this.width-w),0)}else{let x=e.height/2,w=t.height/2;o==="start"?(x=0,w=t.height):o==="end"&&(x=e.height,w=0),this.paddingTop=x+l,this.paddingBottom=w+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)_t(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let e=this.options.ticks.sampleSize,i=this.ticks;e<i.length&&(i=P1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){let{ctx:r,_longestTextCache:o}=this,l=[],d=[],m=Math.floor(e/A1(e,i)),_=0,x=0,w,I,D,P,A,O,U,H,Y,ie,Q;for(w=0;w<e;w+=m){if(P=t[w].label,A=this._resolveTickFontOptions(w),r.font=O=A.string,U=o[O]=o[O]||{data:{},gc:[]},H=A.lineHeight,Y=ie=0,!_t(P)&&!Jt(P))Y=cl(r,U.data,U.gc,Y,P),ie=H;else if(Jt(P))for(I=0,D=P.length;I<D;++I)Q=P[I],!_t(Q)&&!Jt(Q)&&(Y=cl(r,U.data,U.gc,Y,Q),ie+=H);l.push(Y),d.push(ie),_=Math.max(Y,_),x=Math.max(ie,x)}XD(o,e);let ne=l.indexOf(_),ge=d.indexOf(x),le=ye=>({width:l[ye]||0,height:d[ye]||0});return{first:le(0),last:le(e-1),widest:le(ne),highest:le(ge),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){let e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let e=this._startPixel+t*this._length;return $v(this._alignToPixels?eo(this.chart,e,0):e)}getDecimalForPixel(t){let e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){let e=this.ticks||[];if(t>=0&&t<e.length){let i=e[t];return i.$context||(i.$context=e4(this.getContext(),t,i))}return this.$context||(this.$context=ZD(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,e=Tn(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,d=o?o.widest.width+l:0,m=o?o.highest.height+l:0;return this.isHorizontal()?m*i>d*r?d/i:m/r:m*r<d*i?m/i:d/r}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:d}=r,m=o.offset,_=this.isHorizontal(),w=this.ticks.length+(m?1:0),I=_l(o),D=[],P=d.setContext(this.getContext()),A=P.display?P.width:0,O=A/2,U=function(Bt){return eo(i,Bt,A)},H,Y,ie,Q,ne,ge,le,ye,ot,Ge,Ie,ei;if(l==="top")H=U(this.bottom),ge=this.bottom-I,ye=H-O,Ge=U(t.top)+O,ei=t.bottom;else if(l==="bottom")H=U(this.top),Ge=t.top,ei=U(t.bottom)-O,ge=H+O,ye=this.top+I;else if(l==="left")H=U(this.right),ne=this.right-I,le=H-O,ot=U(t.left)+O,Ie=t.right;else if(l==="right")H=U(this.left),ot=t.left,Ie=U(t.right)-O,ne=H+O,le=this.left+I;else if(e==="x"){if(l==="center")H=U((t.top+t.bottom)/2+.5);else if(yt(l)){let Bt=Object.keys(l)[0],ti=l[Bt];H=U(this.chart.scales[Bt].getPixelForValue(ti))}Ge=t.top,ei=t.bottom,ge=H+O,ye=ge+I}else if(e==="y"){if(l==="center")H=U((t.left+t.right)/2);else if(yt(l)){let Bt=Object.keys(l)[0],ti=l[Bt];H=U(this.chart.scales[Bt].getPixelForValue(ti))}ne=H-O,le=ne-I,ot=t.left,Ie=t.right}let ji=st(r.ticks.maxTicksLimit,w),Dt=Math.max(1,Math.ceil(w/ji));for(Y=0;Y<w;Y+=Dt){let Bt=this.getContext(Y),ti=o.setContext(Bt),zi=d.setContext(Bt),ui=ti.lineWidth,Mi=ti.color,On=zi.dash||[],qi=zi.dashOffset,xo=ti.tickWidth,$i=ti.tickColor,Rn=ti.tickBorderDash||[],Yn=ti.tickBorderDashOffset;ie=JD(this,Y,m),ie!==void 0&&(Q=eo(i,ie,ui),_?ne=le=ot=Ie=Q:ge=ye=Ge=ei=Q,D.push({tx1:ne,ty1:ge,tx2:le,ty2:ye,x1:ot,y1:Ge,x2:Ie,y2:ei,width:ui,color:Mi,borderDash:On,borderDashOffset:qi,tickWidth:xo,tickColor:$i,tickBorderDash:Rn,tickBorderDashOffset:Yn}))}return this._ticksLength=w,this._borderValue=H,D}_computeLabelItems(t){let e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),d=this.ticks,{align:m,crossAlign:_,padding:x,mirror:w}=o,I=_l(i.grid),D=I+x,P=w?-x:D,A=-Tn(this.labelRotation),O=[],U,H,Y,ie,Q,ne,ge,le,ye,ot,Ge,Ie,ei="middle";if(r==="top")ne=this.bottom-P,ge=this._getXAxisLabelAlignment();else if(r==="bottom")ne=this.top+P,ge=this._getXAxisLabelAlignment();else if(r==="left"){let Dt=this._getYAxisLabelAlignment(I);ge=Dt.textAlign,Q=Dt.x}else if(r==="right"){let Dt=this._getYAxisLabelAlignment(I);ge=Dt.textAlign,Q=Dt.x}else if(e==="x"){if(r==="center")ne=(t.top+t.bottom)/2+D;else if(yt(r)){let Dt=Object.keys(r)[0],Bt=r[Dt];ne=this.chart.scales[Dt].getPixelForValue(Bt)+D}ge=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")Q=(t.left+t.right)/2-D;else if(yt(r)){let Dt=Object.keys(r)[0],Bt=r[Dt];Q=this.chart.scales[Dt].getPixelForValue(Bt)}ge=this._getYAxisLabelAlignment(I).textAlign}e==="y"&&(m==="start"?ei="top":m==="end"&&(ei="bottom"));let ji=this._getLabelSizes();for(U=0,H=d.length;U<H;++U){Y=d[U],ie=Y.label;let Dt=o.setContext(this.getContext(U));le=this.getPixelForTick(U)+o.labelOffset,ye=this._resolveTickFontOptions(U),ot=ye.lineHeight,Ge=Jt(ie)?ie.length:1;let Bt=Ge/2,ti=Dt.color,zi=Dt.textStrokeColor,ui=Dt.textStrokeWidth,Mi=ge;l?(Q=le,ge==="inner"&&(U===H-1?Mi=this.options.reverse?"left":"right":U===0?Mi=this.options.reverse?"right":"left":Mi="center"),r==="top"?_==="near"||A!==0?Ie=-Ge*ot+ot/2:_==="center"?Ie=-ji.highest.height/2-Bt*ot+ot:Ie=-ji.highest.height+ot/2:_==="near"||A!==0?Ie=ot/2:_==="center"?Ie=ji.highest.height/2-Bt*ot:Ie=ji.highest.height-Ge*ot,w&&(Ie*=-1),A!==0&&!Dt.showLabelBackdrop&&(Q+=ot/2*Math.sin(A))):(ne=le,Ie=(1-Ge)*ot/2);let On;if(Dt.showLabelBackdrop){let qi=Oi(Dt.backdropPadding),xo=ji.heights[U],$i=ji.widths[U],Rn=Ie-qi.top,Yn=0-qi.left;switch(ei){case"middle":Rn-=xo/2;break;case"bottom":Rn-=xo;break}switch(ge){case"center":Yn-=$i/2;break;case"right":Yn-=$i;break;case"inner":U===H-1?Yn-=$i:U>0&&(Yn-=$i/2);break}On={left:Yn,top:Rn,width:$i+qi.width,height:xo+qi.height,color:Dt.backdropColor}}O.push({label:ie,font:ye,textOffset:Ie,options:{rotation:A,color:ti,strokeColor:zi,strokeWidth:ui,textAlign:Mi,textBaseline:ei,translation:[Q,ne],backdrop:On}})}return O}_getXAxisLabelAlignment(){let{position:t,ticks:e}=this.options;if(-Tn(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){let{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),d=t+o,m=l.widest.width,_,x;return e==="left"?r?(x=this.right+o,i==="near"?_="left":i==="center"?(_="center",x+=m/2):(_="right",x+=m)):(x=this.right-d,i==="near"?_="right":i==="center"?(_="center",x-=m/2):(_="left",x=this.left)):e==="right"?r?(x=this.left+o,i==="near"?_="right":i==="center"?(_="center",x-=m/2):(_="left",x-=m)):(x=this.left+d,i==="near"?_="left":i==="center"?(_="center",x+=m/2):(_="right",x=this.right)):_="right",{textAlign:_,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){let e=this.options.grid;if(!this._isVisible()||!e.display)return 0;let r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){let e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,l,d=(m,_,x)=>{!x.width||!x.color||(i.save(),i.lineWidth=x.width,i.strokeStyle=x.color,i.setLineDash(x.borderDash||[]),i.lineDashOffset=x.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(_.x,_.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){let m=r[o];e.drawOnChartArea&&d({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),e.drawTicks&&d({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;let d=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue,_,x,w,I;this.isHorizontal()?(_=eo(t,this.left,l)-l/2,x=eo(t,this.right,d)+d/2,w=I=m):(w=eo(t,this.top,l)-l/2,I=eo(t,this.bottom,d)+d/2,_=x=m),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(_,w),e.lineTo(x,I),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&ml(i,r);let o=this.getLabelItems(t);for(let l of o){let d=l.options,m=l.font,_=l.label,x=l.textOffset;to(i,_,0,x,m,d)}r&&pl(i)}drawTitle(){let{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;let o=vi(i.font),l=Oi(i.padding),d=i.align,m=o.lineHeight/2;e==="bottom"||e==="center"||yt(e)?(m+=l.bottom,Jt(i.text)&&(m+=o.lineHeight*(i.text.length-1))):m+=l.top;let{titleX:_,titleY:x,maxWidth:w,rotation:I}=i4(this,m,e,d);to(t,i.text,0,0,o,{color:i.color,maxWidth:w,rotation:I,textAlign:t4(d,e,r),textBaseline:"middle",translation:[_,x]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,e=t.ticks&&t.ticks.z||0,i=st(t.grid&&t.grid.z,-1),r=st(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){let e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,l;for(o=0,l=e.length;o<l;++o){let d=e[o];d[i]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){let e=this.options.ticks.setContext(this.getContext(t));return vi(e.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},ja=class{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let e=Object.getPrototypeOf(t),i;o4(e)&&(i=this.register(e));let r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,n4(t,l,i),this.override&&$t.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){let e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in $t[r]&&(delete $t[r][i],this.override&&delete Zr[i])}};function n4(n,t,e){let i=Da(Object.create(null),[e?$t.get(e):{},$t.get(t),n.defaults]);$t.set(t,i),n.defaultRoutes&&r4(t,n.defaultRoutes),n.descriptors&&$t.describe(t,n.descriptors)}function r4(n,t){Object.keys(t).forEach(e=>{let i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),d=l.pop(),m=l.join(".");$t.route(o,r,m,d)})}function o4(n){return"id"in n&&"defaults"in n}var S0=class{constructor(){this.controllers=new ja(oo,"datasets",!0),this.elements=new ja(Wn,"elements"),this.plugins=new ja(Object,"plugins"),this.scales=new ja(Go,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Ft(r,l=>{let d=i||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,e,i){let r=Rd(t);qt(i["before"+r],[],i),e[t](i),qt(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){let i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){let r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}},sr=new S0,E0=class{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,r){r=r||{};for(let o of t){let l=o.plugin,d=l[i],m=[e,r,o.options];if(qt(d,m,l)===!1&&r.cancelable)return!1}return!0}invalidate(){_t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){let i=t&&t.config,r=st(i.options&&i.options.plugins,{}),o=a4(i);return r===!1&&!e?[]:l4(t,o,r,e)}_notifyStateChanges(t){let e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(d=>!l.some(m=>d.plugin.id===m.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}};function a4(n){let t={},e=[],i=Object.keys(sr.plugins.items);for(let o=0;o<i.length;o++)e.push(sr.getPlugin(i[o]));let r=n.plugins||[];for(let o=0;o<r.length;o++){let l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function s4(n,t){return!t&&n===!1?null:n===!0?{}:n}function l4(n,{plugins:t,localIds:e},i,r){let o=[],l=n.getContext();for(let d of t){let m=d.id,_=s4(i[m],r);_!==null&&o.push({plugin:d,options:c4(n.config,{plugin:d,local:e[m]},_,l)})}return o}function c4(n,{plugin:t,local:e},i,r){let o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function k0(n,t){let e=$t.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function d4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function u4(n,t){return n===t?"_index_":"_value_"}function R1(n){if(n==="x"||n==="y"||n==="r")return n}function m4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function T0(n,...t){if(R1(n))return n;for(let e of t){let i=e.axis||m4(e.position)||n.length>1&&R1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function V1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function p4(n,t){if(t.data&&t.data.datasets){let e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return V1(n,"x",e[0])||V1(n,"y",e[0])}return{}}function h4(n,t){let e=Zr[n.type]||{scales:{}},i=t.scales||{},r=k0(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{let d=i[l];if(!yt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);let m=T0(l,d,p4(l,n),$t.scales[d.type]),_=u4(m,r),x=e.scales||{};o[l]=Pa(Object.create(null),[{axis:m},d,x[m],x[_]])}),n.data.datasets.forEach(l=>{let d=l.type||n.type,m=l.indexAxis||k0(d,t),x=(Zr[d]||{}).scales||{};Object.keys(x).forEach(w=>{let I=d4(w,m),D=l[I+"AxisID"]||I;o[D]=o[D]||Object.create(null),Pa(o[D],[{axis:I},i[D],x[w]])})}),Object.keys(o).forEach(l=>{let d=o[l];Pa(d,[$t.scales[d.type],$t.scale])}),o}function wy(n){let t=n.options||(n.options={});t.plugins=st(t.plugins,{}),t.scales=h4(n,t)}function Cy(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function f4(n){return n=n||{},n.data=Cy(n.data),wy(n),n}var F1=new Map,Sy=new Set;function Gd(n,t){let e=F1.get(n);return e||(e=t(),F1.set(n,e),Sy.add(e)),e}var bl=(n,t,e)=>{let i=Mr(t,e);i!==void 0&&n.add(i)},M0=class{constructor(t){this._config=f4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Cy(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),wy(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Gd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Gd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){let e=t.id,i=this.type;return Gd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){let i=this._scopeCache,r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){let{options:r,type:o}=this,l=this._cachedScopes(t,i),d=l.get(e);if(d)return d;let m=new Set;e.forEach(x=>{t&&(m.add(t),x.forEach(w=>bl(m,t,w))),x.forEach(w=>bl(m,r,w)),x.forEach(w=>bl(m,Zr[o]||{},w)),x.forEach(w=>bl(m,$t,w)),x.forEach(w=>bl(m,Ld,w))});let _=Array.from(m);return _.length===0&&_.push(Object.create(null)),Sy.has(e)&&l.set(e,_),_}chartOptionScopes(){let{options:t,type:e}=this;return[t,Zr[e]||{},$t.datasets[e]||{},{type:e},$t,Ld]}resolveNamedOptions(t,e,i,r=[""]){let o={$shared:!0},{resolver:l,subPrefixes:d}=N1(this._resolverCache,t,r),m=l;if(_4(l,e)){o.$shared=!1,i=kr(i)?i():i;let _=this.createResolver(t,i,d);m=Uo(l,i,_)}for(let _ of e)o[_]=m[_];return o}createResolver(t,e,i=[""],r){let{resolver:o}=N1(this._resolverCache,t,i);return yt(e)?Uo(o,e,void 0,r):o}};function N1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));let r=e.join(),o=i.get(r);return o||(o={resolver:zd(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,o)),o}var g4=n=>yt(n)&&Object.getOwnPropertyNames(n).some(t=>kr(n[t]));function _4(n,t){let{isScriptable:e,isIndexable:i}=Jh(n);for(let r of t){let o=e(r),l=i(r),d=(l||o)&&n[r];if(o&&(kr(d)||g4(d))||l&&Jt(d))return!0}return!1}var b4="4.5.0",v4=["top","bottom","left","right","chartArea"];function L1(n,t){return n==="top"||n==="bottom"||v4.indexOf(n)===-1&&t==="x"}function B1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function j1(n){let t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),qt(e&&e.onComplete,[n],t)}function y4(n){let t=n.chart,e=t.options.animation;qt(e&&e.onProgress,[n],t)}function Ey(n){return Ud()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Xd={},z1=n=>{let t=Ey(n);return Object.values(Xd).filter(e=>e.canvas===t).pop()};function x4(n,t,e){let i=Object.keys(n);for(let r of i){let o=+r;if(o>=t){let l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function w4(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var ou=(()=>{class n{static defaults=$t;static instances=Xd;static overrides=Zr;static registry=sr;static version=b4;static getChart=z1;static register(...e){sr.add(...e),U1()}static unregister(...e){sr.remove(...e),U1()}constructor(e,i){let r=this.config=new M0(i),o=Ey(e),l=z1(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");let d=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||HD(o)),this.platform.updateConfig(r);let m=this.platform.acquireContext(o,d.aspectRatio),_=m&&m.canvas,x=_&&_.height,w=_&&_.width;if(this.id=jv(),this.ctx=m,this.canvas=_,this.width=w,this.height=x,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new E0,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jv(I=>this.update(I),d.resizeDelay||0),this._dataChanges=[],Xd[this.id]=this,!m||!_){console.error("Failed to create chart: can't acquire context from the given item");return}Dr.listen(this,"complete",j1),Dr.listen(this,"progress",y4),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:e,maintainAspectRatio:i},width:r,height:o,_aspectRatio:l}=this;return _t(e)?i&&l?l:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():t0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Yh(this.canvas,this.ctx),this}stop(){return Dr.stop(this),this}resize(e,i){Dr.running(this)?this._resizeBeforeDraw={width:e,height:i}:this._resize(e,i)}_resize(e,i){let r=this.options,o=this.canvas,l=r.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(o,e,i,l),m=r.devicePixelRatio||this.platform.getDevicePixelRatio(),_=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,t0(this,m,!0)&&(this.notifyPlugins("resize",{size:d}),qt(r.onResize,[this,d],this),this.attached&&this._doResize(_)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Ft(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let e=this.options,i=e.scales,r=this.scales,o=Object.keys(r).reduce((d,m)=>(d[m]=!1,d),{}),l=[];i&&(l=l.concat(Object.keys(i).map(d=>{let m=i[d],_=T0(d,m),x=_==="r",w=_==="x";return{options:m,dposition:x?"chartArea":w?"bottom":"left",dtype:x?"radialLinear":w?"category":"linear"}}))),Ft(l,d=>{let m=d.options,_=m.id,x=T0(_,m),w=st(m.type,d.dtype);(m.position===void 0||L1(m.position,x)!==L1(d.dposition))&&(m.position=d.dposition),o[_]=!0;let I=null;if(_ in r&&r[_].type===w)I=r[_];else{let D=sr.getScale(w);I=new D({id:_,type:w,ctx:this.ctx,chart:this}),r[I.id]=I}I.init(m,e)}),Ft(o,(d,m)=>{d||delete r[m]}),Ft(r,d=>{Ni.configure(this,d,d.options),Ni.addBox(this,d)})}_updateMetasets(){let e=this._metasets,i=this.data.datasets.length,r=e.length;if(e.sort((o,l)=>o.index-l.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);e.splice(i,r-i)}this._sortedMetasets=e.slice(0).sort(B1("order","index"))}_removeUnreferencedMetasets(){let{_metasets:e,data:{datasets:i}}=this;e.length>i.length&&delete this._stacks,e.forEach((r,o)=>{i.filter(l=>l===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let e=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let l=i[r],d=this.getDatasetMeta(r),m=l.type||this.config.type;if(d.type&&d.type!==m&&(this._destroyDatasetMeta(r),d=this.getDatasetMeta(r)),d.type=m,d.indexAxis=l.indexAxis||k0(m,this.options),d.order=l.order||0,d.index=r,d.label=""+l.label,d.visible=this.isDatasetVisible(r),d.controller)d.controller.updateIndex(r),d.controller.linkScales();else{let _=sr.getController(m),{datasetElementType:x,dataElementType:w}=$t.datasets[m];Object.assign(_,{dataElementType:sr.getElement(w),datasetElementType:x&&sr.getElement(x)}),d.controller=new _(this,r),e.push(d.controller)}}return this._updateMetasets(),e}_resetElements(){Ft(this.data.datasets,(e,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;let l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let x=0,w=this.data.datasets.length;x<w;x++){let{controller:I}=this.getDatasetMeta(x),D=!o&&l.indexOf(I)===-1;I.buildOrUpdateElements(D),d=Math.max(+I.getMaxOverflow(),d)}d=this._minPadding=r.layout.autoPadding?d:0,this._updateLayout(d),o||Ft(l,x=>{x.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(B1("z","_idx"));let{_active:m,_lastEvent:_}=this;_?this._eventHandler(_,!0):m.length&&this._updateHoverStyles(m,m,!0),this.render()}_updateScales(){Ft(this.scales,e=>{Ni.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let e=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Vh(i,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:e}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:l}of i){let d=r==="_removeElements"?-l:l;x4(e,o,d)}}_getUniformDataChanges(){let e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=l=>new Set(e.filter(d=>d[0]===l).map((d,m)=>m+","+d.splice(1).join(","))),o=r(0);for(let l=1;l<i;l++)if(!Vh(o,r(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ni.update(this,this.width,this.height,e);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Ft(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,kr(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,i){let r=this.getDatasetMeta(e),o={meta:r,index:e,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dr.has(this)?this.attached&&!Dr.running(this)&&Dr.start(this):(this.draw(),j1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){let i=this._sortedMetasets,r=[],o,l;for(o=0,l=i.length;o<l;++o){let d=i[o];(!e||d.visible)&&r.push(d)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let e=this.getSortedVisibleDatasetMetas();for(let i=e.length-1;i>=0;--i)this._drawDataset(e[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){let i=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=s0(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&ml(i,o),e.controller.draw(),o&&pl(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return nr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,i,r,o){let l=SD.modes[i];return typeof l=="function"?l(this,e,r,o):[]}getDatasetMeta(e){let i=this.data.datasets[e],r=this._metasets,o=r.filter(l=>l&&l._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:e,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Ir(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){let i=this.data.datasets[e];if(!i)return!1;let r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(e,i){let r=this.getDatasetMeta(e);r.hidden=!i}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,i,r){let o=r?"show":"hide",l=this.getDatasetMeta(e),d=l.controller._resolveAnimations(void 0,o);Oa(i)?(l.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),d.update(l,{visible:r}),this.update(m=>m.datasetIndex===e?o:void 0))}hide(e,i){this._updateVisibility(e,i,!1)}show(e,i){this._updateVisibility(e,i,!0)}_destroyDatasetMeta(e){let i=this._metasets[e];i&&i.controller&&i.controller._destroy(),delete this._metasets[e]}_stop(){let e,i;for(this.stop(),Dr.remove(this),e=0,i=this.data.datasets.length;e<i;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:e,ctx:i}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Yh(e,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Xd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let e=this._listeners,i=this.platform,r=(l,d)=>{i.addEventListener(this,l,d),e[l]=d},o=(l,d,m)=>{l.offsetX=d,l.offsetY=m,this._eventHandler(l)};Ft(this.options.events,l=>r(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let e=this._responsiveListeners,i=this.platform,r=(_,x)=>{i.addEventListener(this,_,x),e[_]=x},o=(_,x)=>{e[_]&&(i.removeEventListener(this,_,x),delete e[_])},l=(_,x)=>{this.canvas&&this.resize(_,x)},d,m=()=>{o("attach",m),this.attached=!0,this.resize(),r("resize",l),r("detach",d)};d=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),r("attach",m)},i.isAttached(this.canvas)?m():d()}unbindEvents(){Ft(this._listeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._listeners={},Ft(this._responsiveListeners,(e,i)=>{this.platform.removeEventListener(this,i,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,i,r){let o=r?"set":"remove",l,d,m,_;for(i==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),m=0,_=e.length;m<_;++m){d=e[m];let x=d&&this.getDatasetMeta(d.datasetIndex).controller;x&&x[o+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){let i=this._active||[],r=e.map(({datasetIndex:l,index:d})=>{let m=this.getDatasetMeta(l);if(!m)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:m.data[d],index:d}});!dl(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(e,i,r){return this._plugins.notify(this,e,i,r)}isPluginEnabled(e){return this._plugins._cache.filter(i=>i.plugin.id===e).length===1}_updateHoverStyles(e,i,r){let o=this.options.hover,l=(_,x)=>_.filter(w=>!x.some(I=>w.datasetIndex===I.datasetIndex&&w.index===I.index)),d=l(i,e),m=r?e:l(e,i);d.length&&this.updateHoverStyle(d,o.mode,!1),m.length&&o.mode&&this.updateHoverStyle(m,o.mode,!0)}_eventHandler(e,i){let r={event:e,replay:i,cancelable:!0,inChartArea:this.isPointInArea(e)},o=d=>(d.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let l=this._handleEvent(e,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(l||r.changed)&&this.render(),this}_handleEvent(e,i,r){let{_active:o=[],options:l}=this,d=i,m=this._getActiveElements(e,o,r,d),_=Hv(e),x=w4(e,this._lastEvent,r,_);r&&(this._lastEvent=null,qt(l.onHover,[e,m,this],this),_&&qt(l.onClick,[e,m,this],this));let w=!dl(m,o);return(w||i)&&(this._active=m,this._updateHoverStyles(m,o,i)),this._lastEvent=x,w}_getActiveElements(e,i,r,o){if(e.type==="mouseout")return[];if(!r)return i;let l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,o)}}return n})();function U1(){return Ft(ou.instances,n=>n._plugins.invalidate())}function C4(n,t,e){let{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:d,options:m}=t,{borderWidth:_,borderJoinStyle:x}=m,w=Math.min(_/l,Ai(i-e));if(n.beginPath(),n.arc(r,o,l-_/2,i+w/2,e-w/2),d>0){let I=Math.min(_/d,Ai(i-e));n.arc(r,o,d+_/2,e-I/2,i+I/2,!0)}else{let I=Math.min(_/2,l*Ai(i-e));if(x==="round")n.arc(r,o,I,e-Mt/2,i+Mt/2,!0);else if(x==="bevel"){let D=2*I*I,P=-D*Math.cos(e+Mt/2)+r,A=-D*Math.sin(e+Mt/2)+o,O=D*Math.cos(i+Mt/2)+r,U=D*Math.sin(i+Mt/2)+o;n.lineTo(P,A),n.lineTo(O,U)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function S4(n,t,e){let{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:d,innerRadius:m}=t,_=r/d;n.beginPath(),n.arc(o,l,d,i-_,e+_),m>r?(_=r/m,n.arc(o,l,m,e+_,i-_,!0)):n.arc(o,l,r,e+di,i-di),n.closePath(),n.clip()}function E4(n){return jd(n,["outerStart","outerEnd","innerStart","innerEnd"])}function k4(n,t,e,i){let r=E4(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),d=m=>{let _=(e-Math.min(o,m))*i/2;return wi(m,0,Math.min(o,_))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:wi(r.innerStart,0,l),innerEnd:wi(r.innerEnd,0,l)}}function Ba(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function iu(n,t,e,i,r,o){let{x:l,y:d,startAngle:m,pixelMargin:_,innerRadius:x}=t,w=Math.max(t.outerRadius+i+e-_,0),I=x>0?x+i+e+_:0,D=0,P=r-m;if(i){let Dt=x>0?x-i:0,Bt=w>0?w-i:0,ti=(Dt+Bt)/2,zi=ti!==0?P*ti/(ti+i):P;D=(P-zi)/2}let A=Math.max(.001,P*w-e/Mt)/w,O=(P-A)/2,U=m+O+D,H=r-O-D,{outerStart:Y,outerEnd:ie,innerStart:Q,innerEnd:ne}=k4(t,I,w,H-U),ge=w-Y,le=w-ie,ye=U+Y/ge,ot=H-ie/le,Ge=I+Q,Ie=I+ne,ei=U+Q/Ge,ji=H-ne/Ie;if(n.beginPath(),o){let Dt=(ye+ot)/2;if(n.arc(l,d,w,ye,Dt),n.arc(l,d,w,Dt,ot),ie>0){let ui=Ba(le,ot,l,d);n.arc(ui.x,ui.y,ie,ot,H+di)}let Bt=Ba(Ie,H,l,d);if(n.lineTo(Bt.x,Bt.y),ne>0){let ui=Ba(Ie,ji,l,d);n.arc(ui.x,ui.y,ne,H+di,ji+Math.PI)}let ti=(H-ne/I+(U+Q/I))/2;if(n.arc(l,d,I,H-ne/I,ti,!0),n.arc(l,d,I,ti,U+Q/I,!0),Q>0){let ui=Ba(Ge,ei,l,d);n.arc(ui.x,ui.y,Q,ei+Math.PI,U-di)}let zi=Ba(ge,U,l,d);if(n.lineTo(zi.x,zi.y),Y>0){let ui=Ba(ge,ye,l,d);n.arc(ui.x,ui.y,Y,U-di,ye)}}else{n.moveTo(l,d);let Dt=Math.cos(ye)*w+l,Bt=Math.sin(ye)*w+d;n.lineTo(Dt,Bt);let ti=Math.cos(ot)*w+l,zi=Math.sin(ot)*w+d;n.lineTo(ti,zi)}n.closePath()}function T4(n,t,e,i,r){let{fullCircles:o,startAngle:l,circumference:d}=t,m=t.endAngle;if(o){iu(n,t,e,i,m,r);for(let _=0;_<o;++_)n.fill();isNaN(d)||(m=l+(d%Xt||Xt))}return iu(n,t,e,i,m,r),n.fill(),m}function M4(n,t,e,i,r){let{fullCircles:o,startAngle:l,circumference:d,options:m}=t,{borderWidth:_,borderJoinStyle:x,borderDash:w,borderDashOffset:I,borderRadius:D}=m,P=m.borderAlign==="inner";if(!_)return;n.setLineDash(w||[]),n.lineDashOffset=I,P?(n.lineWidth=_*2,n.lineJoin=x||"round"):(n.lineWidth=_,n.lineJoin=x||"bevel");let A=t.endAngle;if(o){iu(n,t,e,i,A,r);for(let O=0;O<o;++O)n.stroke();isNaN(d)||(A=l+(d%Xt||Xt))}P&&S4(n,t,A),m.selfJoin&&A-l>=Mt&&D===0&&x!=="miter"&&C4(n,t,A),o||(iu(n,t,e,i,A,r),n.stroke())}var I0=class extends Wn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){let r=this.getProps(["x","y"],i),{angle:o,distance:l}=Bh(r,{x:t,y:e}),{startAngle:d,endAngle:m,innerRadius:_,outerRadius:x,circumference:w}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),I=(this.options.spacing+this.options.borderWidth)/2,D=st(w,m-d),P=Va(o,d,m)&&d!==m,A=D>=Xt||P,O=or(l,_+I,x+I);return A&&O}getCenterPoint(t){let{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:m,spacing:_}=this.options,x=(r+o)/2,w=(l+d+_+m)/2;return{x:e+Math.cos(x)*w,y:i+Math.sin(x)*w}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Xt?Math.floor(i/Xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);let m=1-Math.sin(Math.min(Mt,i||0)),_=r*m;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,T4(t,this,_,o,l),M4(t,this,_,o,l),t.restore()}};function ky(n,t,e=t){n.lineCap=st(e.borderCapStyle,t.borderCapStyle),n.setLineDash(st(e.borderDash,t.borderDash)),n.lineDashOffset=st(e.borderDashOffset,t.borderDashOffset),n.lineJoin=st(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=st(e.borderWidth,t.borderWidth),n.strokeStyle=st(e.borderColor,t.borderColor)}function I4(n,t,e){n.lineTo(e.x,e.y)}function D4(n){return n.stepped?t1:n.tension||n.cubicInterpolationMode==="monotone"?i1:I4}function Ty(n,t,e={}){let i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:d}=t,m=Math.max(r,l),_=Math.min(o,d),x=r<l&&o<l||r>d&&o>d;return{count:i,start:m,loop:t.loop,ilen:_<m&&!x?i+_-m:_-m}}function A4(n,t,e,i){let{points:r,options:o}=t,{count:l,start:d,loop:m,ilen:_}=Ty(r,e,i),x=D4(o),{move:w=!0,reverse:I}=i||{},D,P,A;for(D=0;D<=_;++D)P=r[(d+(I?_-D:D))%l],!P.skip&&(w?(n.moveTo(P.x,P.y),w=!1):x(n,A,P,I,o.stepped),A=P);return m&&(P=r[(d+(I?_:0))%l],x(n,A,P,I,o.stepped)),!!m}function P4(n,t,e,i){let r=t.points,{count:o,start:l,ilen:d}=Ty(r,e,i),{move:m=!0,reverse:_}=i||{},x=0,w=0,I,D,P,A,O,U,H=ie=>(l+(_?d-ie:ie))%o,Y=()=>{A!==O&&(n.lineTo(x,O),n.lineTo(x,A),n.lineTo(x,U))};for(m&&(D=r[H(0)],n.moveTo(D.x,D.y)),I=0;I<=d;++I){if(D=r[H(I)],D.skip)continue;let ie=D.x,Q=D.y,ne=ie|0;ne===P?(Q<A?A=Q:Q>O&&(O=Q),x=(w*x+ie)/++w):(Y(),n.lineTo(ie,Q),P=ne,w=0,A=O=Q),U=Q}Y()}function D0(n){let t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?P4:A4}function O4(n){return n.stepped?u1:n.tension||n.cubicInterpolationMode==="monotone"?m1:Xr}function R4(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),ky(n,t.options),n.stroke(r)}function V4(n,t,e,i){let{segments:r,options:o}=t,l=D0(t);for(let d of r)ky(n,o,d.style),n.beginPath(),l(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}var F4=typeof Path2D=="function";function N4(n,t,e,i){F4&&!t.options.segment?R4(n,t,e,i):V4(n,t,e,i)}var au=(()=>{class n extends Wn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;l1(this._points,r,e,o,i),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=h1(this,this.options.segment))}first(){let e=this.segments,i=this.points;return e.length&&i[e[0].start]}last(){let e=this.segments,i=this.points,r=e.length;return r&&i[e[r-1].end]}interpolate(e,i){let r=this.options,o=e[i],l=this.points,d=a0(this,{property:i,start:o,end:o});if(!d.length)return;let m=[],_=O4(r),x,w;for(x=0,w=d.length;x<w;++x){let{start:I,end:D}=d[x],P=l[I],A=l[D];if(P===A){m.push(P);continue}let O=Math.abs((o-P[i])/(A[i]-P[i])),U=_(P,A,O,r.stepped);U[i]=e[i],m.push(U)}return m.length===1?m[0]:m}pathSegment(e,i,r){return D0(this)(e,this,i,r)}path(e,i,r){let o=this.segments,l=D0(this),d=this._loop;i=i||0,r=r||this.points.length-i;for(let m of o)d&=l(e,this,m,{start:i,end:i+r-1});return!!d}draw(e,i,r,o){let l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),N4(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function H1(n,t,e,i){let r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}var L4=(()=>{class n extends Wn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){let o=this.options,{x:l,y:d}=this.getProps(["x","y"],r);return Math.pow(e-l,2)+Math.pow(i-d,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return H1(this,e,"x",i)}inYRange(e,i){return H1(this,e,"y",i)}getCenterPoint(e){let{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);let r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){let r=this.options;this.skip||r.radius<.1||!nr(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Bd(e,r,this.x,this.y))}getRange(){let e=this.options||{};return e.radius+e.hitRadius}}return n})();function My(n,t){let{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t),d,m,_,x,w;return n.horizontal?(w=l/2,d=Math.min(e,r),m=Math.max(e,r),_=i-w,x=i+w):(w=o/2,d=e-w,m=e+w,_=Math.min(i,r),x=Math.max(i,r)),{left:d,top:_,right:m,bottom:x}}function ro(n,t,e,i){return n?0:wi(t,e,i)}function B4(n,t,e){let i=n.options.borderWidth,r=n.borderSkipped,o=Kh(i);return{t:ro(r.top,o.top,0,e),r:ro(r.right,o.right,0,t),b:ro(r.bottom,o.bottom,0,e),l:ro(r.left,o.left,0,t)}}function j4(n,t,e){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=io(r),l=Math.min(t,e),d=n.borderSkipped,m=i||yt(r);return{topLeft:ro(!m||d.top||d.left,o.topLeft,0,l),topRight:ro(!m||d.top||d.right,o.topRight,0,l),bottomLeft:ro(!m||d.bottom||d.left,o.bottomLeft,0,l),bottomRight:ro(!m||d.bottom||d.right,o.bottomRight,0,l)}}function z4(n){let t=My(n),e=t.right-t.left,i=t.bottom-t.top,r=B4(n,e/2,i/2),o=j4(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function f0(n,t,e,i){let r=t===null,o=e===null,d=n&&!(r&&o)&&My(n,i);return d&&(r||or(t,d.left,d.right))&&(o||or(e,d.top,d.bottom))}function U4(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function H4(n,t){n.rect(t.x,t.y,t.w,t.h)}function g0(n,t,e={}){let i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}var A0=class extends Wn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=z4(this),d=U4(l.radius)?Na:H4;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),d(t,g0(l,e,o)),t.clip(),d(t,g0(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,g0(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return f0(this,t,e,i)}inXRange(t,e){return f0(this,t,null,e)}inYRange(t,e){return f0(this,null,t,e)}getCenterPoint(t){let{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}},W4=Object.freeze({__proto__:null,ArcElement:I0,BarElement:A0,LineElement:au,PointElement:L4}),P0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],W1=P0.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Iy(n){return P0[n%P0.length]}function Dy(n){return W1[n%W1.length]}function q4(n,t){return n.borderColor=Iy(t),n.backgroundColor=Dy(t),++t}function $4(n,t){return n.backgroundColor=n.data.map(()=>Iy(t++)),t}function G4(n,t){return n.backgroundColor=n.data.map(()=>Dy(t++)),t}function Y4(n){let t=0;return(e,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof j0?t=$4(e,t):r instanceof _y?t=G4(e,t):r&&(t=q4(e,t))}}function q1(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function Q4(n){return n&&(n.borderColor||n.backgroundColor)}function K4(){return $t.borderColor!=="rgba(0,0,0,0.1)"||$t.backgroundColor!=="rgba(0,0,0,0.1)"}var J4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=q1(i)||Q4(r)||o&&q1(o)||K4();if(!e.forceOverride&&l)return;let d=Y4(n);i.forEach(d)}};function X4(n,t,e,i,r){let o=r.samples||i;if(o>=e)return n.slice(t,t+e);let l=[],d=(e-2)/(o-2),m=0,_=t+e-1,x=t,w,I,D,P,A;for(l[m++]=n[x],w=0;w<o-2;w++){let O=0,U=0,H,Y=Math.floor((w+1)*d)+1+t,ie=Math.min(Math.floor((w+2)*d)+1,e)+t,Q=ie-Y;for(H=Y;H<ie;H++)O+=n[H].x,U+=n[H].y;O/=Q,U/=Q;let ne=Math.floor(w*d)+1+t,ge=Math.min(Math.floor((w+1)*d)+1,e)+t,{x:le,y:ye}=n[x];for(D=P=-1,H=ne;H<ge;H++)P=.5*Math.abs((le-O)*(n[H].y-ye)-(le-n[H].x)*(U-ye)),P>D&&(D=P,I=n[H],A=H);l[m++]=I,x=A}return l[m++]=n[_],l}function Z4(n,t,e,i){let r=0,o=0,l,d,m,_,x,w,I,D,P,A,O=[],U=t+e-1,H=n[t].x,ie=n[U].x-H;for(l=t;l<t+e;++l){d=n[l],m=(d.x-H)/ie*i,_=d.y;let Q=m|0;if(Q===x)_<P?(P=_,w=l):_>A&&(A=_,I=l),r=(o*r+d.x)/++o;else{let ne=l-1;if(!_t(w)&&!_t(I)){let ge=Math.min(w,I),le=Math.max(w,I);ge!==D&&ge!==ne&&O.push(tt(X({},n[ge]),{x:r})),le!==D&&le!==ne&&O.push(tt(X({},n[le]),{x:r}))}l>0&&ne!==D&&O.push(n[ne]),O.push(d),x=Q,o=0,P=A=_,w=I=D=l}}return O}function Ay(n){if(n._decimated){let t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function $1(n){n.data.datasets.forEach(t=>{Ay(t)})}function eA(n,t){let e=t.length,i=0,r,{iScale:o}=n,{min:l,max:d,minDefined:m,maxDefined:_}=o.getUserBounds();return m&&(i=wi(ir(t,o.axis,l).lo,0,e-1)),_?r=wi(ir(t,o.axis,d).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var tA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){$1(n);return}let i=n.width;n.data.datasets.forEach((r,o)=>{let{_data:l,indexAxis:d}=r,m=n.getDatasetMeta(o),_=l||r.data;if(La([d,n.options.indexAxis])==="y"||!m.controller.supportsDecimation)return;let x=n.scales[m.xAxisID];if(x.type!=="linear"&&x.type!=="time"||n.options.parsing)return;let{start:w,count:I}=eA(m,_),D=e.threshold||4*i;if(I<=D){Ay(r);return}_t(l)&&(r._data=_,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let P;switch(e.algorithm){case"lttb":P=X4(_,w,I,i,e);break;case"min-max":P=Z4(_,w,I,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=P})},destroy(n){$1(n)}};function iA(n,t,e){let i=n.segments,r=n.points,o=t.points,l=[];for(let d of i){let{start:m,end:_}=d;_=su(m,_,r);let x=O0(e,r[m],r[_],d.loop);if(!t.segments){l.push({source:d,target:x,start:r[m],end:r[_]});continue}let w=a0(t,x);for(let I of w){let D=O0(e,o[I.start],o[I.end],I.loop),P=o0(d,r,D);for(let A of P)l.push({source:A,target:I,start:{[e]:G1(x,D,"start",Math.max)},end:{[e]:G1(x,D,"end",Math.min)}})}}return l}function O0(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=Ai(r),o=Ai(o)),{property:n,start:r,end:o}}function nA(n,t){let{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:d})=>{d=su(l,d,r);let m=r[l],_=r[d];i!==null?(o.push({x:m.x,y:i}),o.push({x:_.x,y:i})):e!==null&&(o.push({x:e,y:m.y}),o.push({x:e,y:_.y}))}),o}function su(n,t,e){for(;t>n;t--){let i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function G1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Py(n,t){let e=[],i=!1;return Jt(n)?(i=!0,e=n):e=nA(n,t),e.length?new au({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Y1(n){return n&&n.fill!==!1}function rA(n,t,e){let r=n[t].fill,o=[t],l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!si(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function oA(n,t,e){let i=cA(n);if(yt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return si(r)&&Math.floor(r)===r?aA(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function aA(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function sA(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:yt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function lA(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:yt(n)?i=n.value:i=t.getBaseValue(),i}function cA(n){let t=n.options,e=t.fill,i=st(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function dA(n){let{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,d=uA(t,e);d.push(Py({x:null,y:t.bottom},i));for(let m=0;m<o.length;m++){let _=o[m];for(let x=_.start;x<=_.end;x++)mA(r,l[x],d)}return new au({points:r,options:{}})}function uA(n,t){let e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function mA(n,t,e){let i=[];for(let r=0;r<e.length;r++){let o=e[r],{first:l,last:d,point:m}=pA(o,t,"x");if(!(!m||l&&d)){if(l)i.unshift(m);else if(n.push(m),!d)break}}n.push(...i)}function pA(n,t,e){let i=n.interpolate(t,e);if(!i)return{};let r=i[e],o=n.segments,l=n.points,d=!1,m=!1;for(let _=0;_<o.length;_++){let x=o[_],w=l[x.start][e],I=l[x.end][e];if(or(r,w,I)){d=r===w,m=r===I;break}}return{first:d,last:m,point:i}}var nu=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){let{x:r,y:o,radius:l}=this;return e=e||{start:0,end:Xt},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){let{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function hA(n){let{chart:t,fill:e,line:i}=n;if(si(e))return fA(t,e);if(e==="stack")return dA(n);if(e==="shape")return!0;let r=gA(n);return r instanceof nu?r:Py(r,i)}function fA(n,t){let e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function gA(n){return(n.scale||{}).getPointPositionForValue?bA(n):_A(n)}function _A(n){let{scale:t={},fill:e}=n,i=sA(e,t);if(si(i)){let r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function bA(n){let{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=lA(e,t,o),d=[];if(i.grid.circular){let m=t.getPointPositionForValue(0,o);return new nu({x:m.x,y:m.y,radius:t.getDistanceFromCenterForValue(l)})}for(let m=0;m<r;++m)d.push(t.getPointPositionForValue(m,l));return d}function _0(n,t,e){let i=hA(t),{chart:r,index:o,line:l,scale:d,axis:m}=t,_=l.options,x=_.fill,w=_.backgroundColor,{above:I=w,below:D=w}=x||{},P=r.getDatasetMeta(o),A=s0(r,P);i&&l.points.length&&(ml(n,e),vA(n,{line:l,target:i,above:I,below:D,area:e,scale:d,axis:m,clip:A}),pl(n))}function vA(n,t){let{line:e,target:i,above:r,below:o,area:l,scale:d,clip:m}=t,_=e._loop?"angle":t.axis;n.save();let x=o;o!==r&&(_==="x"?(Q1(n,i,l.top),b0(n,{line:e,target:i,color:r,scale:d,property:_,clip:m}),n.restore(),n.save(),Q1(n,i,l.bottom)):_==="y"&&(K1(n,i,l.left),b0(n,{line:e,target:i,color:o,scale:d,property:_,clip:m}),n.restore(),n.save(),K1(n,i,l.right),x=r)),b0(n,{line:e,target:i,color:x,scale:d,property:_,clip:m}),n.restore()}function Q1(n,t,e){let{segments:i,points:r}=t,o=!0,l=!1;n.beginPath();for(let d of i){let{start:m,end:_}=d,x=r[m],w=r[su(m,_,r)];o?(n.moveTo(x.x,x.y),o=!1):(n.lineTo(x.x,e),n.lineTo(x.x,x.y)),l=!!t.pathSegment(n,d,{move:l}),l?n.closePath():n.lineTo(w.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function K1(n,t,e){let{segments:i,points:r}=t,o=!0,l=!1;n.beginPath();for(let d of i){let{start:m,end:_}=d,x=r[m],w=r[su(m,_,r)];o?(n.moveTo(x.x,x.y),o=!1):(n.lineTo(e,x.y),n.lineTo(x.x,x.y)),l=!!t.pathSegment(n,d,{move:l}),l?n.closePath():n.lineTo(e,w.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function b0(n,t){let{line:e,target:i,property:r,color:o,scale:l,clip:d}=t,m=iA(e,i,r);for(let{source:_,target:x,start:w,end:I}of m){let{style:{backgroundColor:D=o}={}}=_,P=i!==!0;n.save(),n.fillStyle=D,yA(n,l,d,P&&O0(r,w,I)),n.beginPath();let A=!!e.pathSegment(n,_),O;if(P){A?n.closePath():J1(n,i,I,r);let U=!!i.pathSegment(n,x,{move:A,reverse:!0});O=A&&U,O||J1(n,i,w,r)}n.closePath(),n.fill(O?"evenodd":"nonzero"),n.restore()}}function yA(n,t,e,i){let r=t.chart.chartArea,{property:o,start:l,end:d}=i||{};if(o==="x"||o==="y"){let m,_,x,w;o==="x"?(m=l,_=r.top,x=d,w=r.bottom):(m=r.left,_=l,x=r.right,w=d),n.beginPath(),e&&(m=Math.max(m,e.left),x=Math.min(x,e.right),_=Math.max(_,e.top),w=Math.min(w,e.bottom)),n.rect(m,_,x-m,w-_),n.clip()}}function J1(n,t,e,i){let r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var xA={id:"filler",afterDatasetsUpdate(n,t,e){let i=(n.data.datasets||[]).length,r=[],o,l,d,m;for(l=0;l<i;++l)o=n.getDatasetMeta(l),d=o.dataset,m=null,d&&d.options&&d instanceof au&&(m={visible:n.isDatasetVisible(l),index:l,fill:oA(d,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:d}),o.$filler=m,r.push(m);for(l=0;l<i;++l)m=r[l],!(!m||m.fill===!1)&&(m.fill=rA(r,l,e.propagate))},beforeDraw(n,t,e){let i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){let d=r[l].$filler;d&&(d.line.updateControlPoints(o,d.axis),i&&d.fill&&_0(n.ctx,d,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;Y1(o)&&_0(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){let i=t.meta.$filler;!Y1(i)||e.drawTime!=="beforeDatasetDraw"||_0(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},X1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},wA=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index,ru=class extends Wn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},e=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){let{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}let i=t.labels,r=vi(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:m}=X1(i,o),_,x;e.font=r.string,this.isHorizontal()?(_=this.maxWidth,x=this._fitRows(l,o,d,m)+10):(x=this.maxHeight,_=this._fitCols(l,r,d,m)+10),this.width=Math.min(_,t.maxWidth||this.maxWidth),this.height=Math.min(x,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){let{ctx:o,maxWidth:l,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],_=this.lineWidths=[0],x=r+d,w=t;o.textAlign="left",o.textBaseline="middle";let I=-1,D=-x;return this.legendItems.forEach((P,A)=>{let O=i+e/2+o.measureText(P.text).width;(A===0||_[_.length-1]+O+2*d>l)&&(w+=x,_[_.length-(A>0?0:1)]=0,D+=x,I++),m[A]={left:0,top:D,row:I,width:O,height:r},_[_.length-1]+=O+d}),w}_fitCols(t,e,i,r){let{ctx:o,maxHeight:l,options:{labels:{padding:d}}}=this,m=this.legendHitBoxes=[],_=this.columnSizes=[],x=l-t,w=d,I=0,D=0,P=0,A=0;return this.legendItems.forEach((O,U)=>{let{itemWidth:H,itemHeight:Y}=CA(i,e,o,O,r);U>0&&D+Y+2*d>x&&(w+=I+d,_.push({width:I,height:D}),P+=I+d,A++,I=D=0),m[U]={left:P,top:D,col:A,width:H,height:Y},I=Math.max(I,H),D+=Y+d}),w+=I,_.push({width:I,height:D}),w}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Wo(o,this.left,this.width);if(this.isHorizontal()){let d=0,m=Pi(i,this.left+r,this.right-this.lineWidths[d]);for(let _ of e)d!==_.row&&(d=_.row,m=Pi(i,this.left+r,this.right-this.lineWidths[d])),_.top+=this.top+t+r,_.left=l.leftForLtr(l.x(m),_.width),m+=_.width+r}else{let d=0,m=Pi(i,this.top+t+r,this.bottom-this.columnSizes[d].height);for(let _ of e)_.col!==d&&(d=_.col,m=Pi(i,this.top+t+r,this.bottom-this.columnSizes[d].height)),_.top=m,_.left+=this.left+r,_.left=l.leftForLtr(l.x(_.left),_.width),m+=_.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;ml(t,this),this._draw(),pl(t)}}_draw(){let{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,d=$t.color,m=Wo(t.rtl,this.left,this.width),_=vi(l.font),{padding:x}=l,w=_.size,I=w/2,D;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=_.string;let{boxWidth:P,boxHeight:A,itemHeight:O}=X1(l,w),U=function(ne,ge,le){if(isNaN(P)||P<=0||isNaN(A)||A<0)return;r.save();let ye=st(le.lineWidth,1);if(r.fillStyle=st(le.fillStyle,d),r.lineCap=st(le.lineCap,"butt"),r.lineDashOffset=st(le.lineDashOffset,0),r.lineJoin=st(le.lineJoin,"miter"),r.lineWidth=ye,r.strokeStyle=st(le.strokeStyle,d),r.setLineDash(st(le.lineDash,[])),l.usePointStyle){let ot={radius:A*Math.SQRT2/2,pointStyle:le.pointStyle,rotation:le.rotation,borderWidth:ye},Ge=m.xPlus(ne,P/2),Ie=ge+I;Qh(r,ot,Ge,Ie,l.pointStyleWidth&&P)}else{let ot=ge+Math.max((w-A)/2,0),Ge=m.leftForLtr(ne,P),Ie=io(le.borderRadius);r.beginPath(),Object.values(Ie).some(ei=>ei!==0)?Na(r,{x:Ge,y:ot,w:P,h:A,radius:Ie}):r.rect(Ge,ot,P,A),r.fill(),ye!==0&&r.stroke()}r.restore()},H=function(ne,ge,le){to(r,le.text,ne,ge+O/2,_,{strikethrough:le.hidden,textAlign:m.textAlign(le.textAlign)})},Y=this.isHorizontal(),ie=this._computeTitleHeight();Y?D={x:Pi(o,this.left+x,this.right-i[0]),y:this.top+x+ie,line:0}:D={x:this.left+x,y:Pi(o,this.top+ie+x,this.bottom-e[0].height),line:0},n0(this.ctx,t.textDirection);let Q=O+x;this.legendItems.forEach((ne,ge)=>{r.strokeStyle=ne.fontColor,r.fillStyle=ne.fontColor;let le=r.measureText(ne.text).width,ye=m.textAlign(ne.textAlign||(ne.textAlign=l.textAlign)),ot=P+I+le,Ge=D.x,Ie=D.y;m.setWidth(this.width),Y?ge>0&&Ge+ot+x>this.right&&(Ie=D.y+=Q,D.line++,Ge=D.x=Pi(o,this.left+x,this.right-i[D.line])):ge>0&&Ie+Q>this.bottom&&(Ge=D.x=Ge+e[D.line].width+x,D.line++,Ie=D.y=Pi(o,this.top+ie+x,this.bottom-e[D.line].height));let ei=m.x(Ge);if(U(ei,Ie,ne),Ge=Xv(ye,Ge+P+I,Y?Ge+ot:this.right,t.rtl),H(m.x(Ge),Ie,ne),Y)D.x+=ot+x;else if(typeof ne.text!="string"){let ji=_.lineHeight;D.y+=Oy(ne,ji)+x}else D.y+=Q}),r0(this.ctx,t.textDirection)}drawTitle(){let t=this.options,e=t.title,i=vi(e.font),r=Oi(e.padding);if(!e.display)return;let o=Wo(t.rtl,this.left,this.width),l=this.ctx,d=e.position,m=i.size/2,_=r.top+m,x,w=this.left,I=this.width;if(this.isHorizontal())I=Math.max(...this.lineWidths),x=this.top+_,w=Pi(t.align,w,this.right-I);else{let P=this.columnSizes.reduce((A,O)=>Math.max(A,O.height),0);x=_+Pi(t.align,this.top,this.bottom-P-t.labels.padding-this._computeTitleHeight())}let D=Pi(d,w,w+I);l.textAlign=o.textAlign(Nd(d)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,to(l,e.text,D,x,i)}_computeTitleHeight(){let t=this.options.title,e=vi(t.font),i=Oi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(or(t,this.left,this.right)&&or(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],or(t,r.left,r.left+r.width)&&or(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){let e=this.options;if(!kA(t.type,e))return;let i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let r=this._hoveredItem,o=wA(r,i);r&&!o&&qt(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&qt(e.onHover,[t,i,this],this)}else i&&qt(e.onClick,[t,i,this],this)}};function CA(n,t,e,i,r){let o=SA(i,n,t,e),l=EA(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function SA(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function EA(n,t,e){let i=n;return typeof t.text!="string"&&(i=Oy(t,e)),i}function Oy(n,t){let e=n.text?n.text.length:0;return t*e}function kA(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var TA={id:"legend",_element:ru,start(n,t,e){let i=n.legend=new ru({ctx:n.ctx,options:e,chart:n});Ni.configure(n,i,e),Ni.addBox(n,i)},stop(n){Ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){let i=n.legend;Ni.configure(n,i,e),i.options=e},afterUpdate(n){let t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){let i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(m=>{let _=m.controller.getStyle(e?0:void 0),x=Oi(_.borderWidth);return{text:t[m.index].label,fillStyle:_.backgroundColor,fontColor:o,hidden:!m.visible,lineCap:_.borderCapStyle,lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:_.borderColor,pointStyle:i||_.pointStyle,rotation:_.rotation,textAlign:r||_.textAlign,borderRadius:l&&(d||_.borderRadius),datasetIndex:m.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},wl=class extends Wn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;let r=Jt(i.text)?i.text.length:1;this._padding=Oi(i.padding);let o=r*vi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:e,left:i,bottom:r,right:o,options:l}=this,d=l.align,m=0,_,x,w;return this.isHorizontal()?(x=Pi(d,i,o),w=e+t,_=o-i):(l.position==="left"?(x=i+t,w=Pi(d,r,e),m=Mt*-.5):(x=o-t,w=Pi(d,e,r),m=Mt*.5),_=r-e),{titleX:x,titleY:w,maxWidth:_,rotation:m}}draw(){let t=this.ctx,e=this.options;if(!e.display)return;let i=vi(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:m,rotation:_}=this._drawArgs(o);to(t,e.text,0,0,i,{color:e.color,maxWidth:m,rotation:_,textAlign:Nd(e.align),textBaseline:"middle",translation:[l,d]})}};function MA(n,t){let e=new wl({ctx:n.ctx,options:t,chart:n});Ni.configure(n,e,t),Ni.addBox(n,e),n.titleBlock=e}var IA={id:"title",_element:wl,start(n,t,e){MA(n,e)},stop(n){let t=n.titleBlock;Ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){let i=n.titleBlock;Ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Yd=new WeakMap,DA={id:"subtitle",start(n,t,e){let i=new wl({ctx:n.ctx,options:e,chart:n});Ni.configure(n,i,e),Ni.addBox(n,i),Yd.set(n,i)},stop(n){Ni.removeBox(n,Yd.get(n)),Yd.delete(n)},beforeUpdate(n,t,e){let i=Yd.get(n);Ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},yl={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){let d=n[t].element;if(d&&d.hasValue()){let m=d.tooltipPosition();i.add(m.x),r+=m.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((d,m)=>d+m)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,d;for(o=0,l=n.length;o<l;++o){let m=n[o].element;if(m&&m.hasValue()){let _=m.getCenterPoint(),x=Pd(t,_);x<r&&(r=x,d=m)}}if(d){let m=d.tooltipPosition();e=m.x,i=m.y}return{x:e,y:i}}};function ar(n,t){return t&&(Jt(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ar(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function AA(n,t){let{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:d}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Z1(n,t){let e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:d}=t,m=vi(t.bodyFont),_=vi(t.titleFont),x=vi(t.footerFont),w=o.length,I=r.length,D=i.length,P=Oi(t.padding),A=P.height,O=0,U=i.reduce((ie,Q)=>ie+Q.before.length+Q.lines.length+Q.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,w&&(A+=w*_.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),U){let ie=t.displayColors?Math.max(d,m.lineHeight):m.lineHeight;A+=D*ie+(U-D)*m.lineHeight+(U-1)*t.bodySpacing}I&&(A+=t.footerMarginTop+I*x.lineHeight+(I-1)*t.footerSpacing);let H=0,Y=function(ie){O=Math.max(O,e.measureText(ie).width+H)};return e.save(),e.font=_.string,Ft(n.title,Y),e.font=m.string,Ft(n.beforeBody.concat(n.afterBody),Y),H=t.displayColors?l+2+t.boxPadding:0,Ft(i,ie=>{Ft(ie.before,Y),Ft(ie.lines,Y),Ft(ie.after,Y)}),H=0,e.font=x.string,Ft(n.footer,Y),e.restore(),O+=P.width,{width:O,height:A}}function PA(n,t){let{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function OA(n,t,e,i){let{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function RA(n,t,e,i){let{x:r,width:o}=e,{width:l,chartArea:{left:d,right:m}}=n,_="center";return i==="center"?_=r<=(d+m)/2?"left":"right":r<=o/2?_="left":r>=l-o/2&&(_="right"),OA(_,n,t,e)&&(_="center"),_}function ey(n,t,e){let i=e.yAlign||t.yAlign||PA(n,e);return{xAlign:e.xAlign||t.xAlign||RA(n,t,e,i),yAlign:i}}function VA(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function FA(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function ty(n,t,e,i){let{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:d,yAlign:m}=e,_=r+o,{topLeft:x,topRight:w,bottomLeft:I,bottomRight:D}=io(l),P=VA(t,d),A=FA(t,m,_);return m==="center"?d==="left"?P+=_:d==="right"&&(P-=_):d==="left"?P-=Math.max(x,I)+r:d==="right"&&(P+=Math.max(w,D)+r),{x:wi(P,0,i.width-t.width),y:wi(A,0,i.height-t.height)}}function Qd(n,t,e){let i=Oi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function iy(n){return ar([],Ar(n))}function NA(n,t,e){return Ir(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ny(n,t){let e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}var Ry={beforeTitle:rr,title(n){if(n.length>0){let t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:rr,beforeBody:rr,beforeLabel:rr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");let e=n.formattedValue;return _t(e)||(t+=e),t},labelColor(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:rr,afterBody:rr,beforeFooter:rr,footer:rr,afterFooter:rr};function en(n,t,e,i){let r=n[t].call(e,i);return typeof r>"u"?Ry[t].call(e,i):r}var ry=(()=>{class n extends Wn{static positioners=yl;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let e=this._cachedAnimations;if(e)return e;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,l=new Zd(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=NA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){let{callbacks:r}=i,o=en(r,"beforeTitle",this,e),l=en(r,"title",this,e),d=en(r,"afterTitle",this,e),m=[];return m=ar(m,Ar(o)),m=ar(m,Ar(l)),m=ar(m,Ar(d)),m}getBeforeBody(e,i){return iy(en(i.callbacks,"beforeBody",this,e))}getBody(e,i){let{callbacks:r}=i,o=[];return Ft(e,l=>{let d={before:[],lines:[],after:[]},m=ny(r,l);ar(d.before,Ar(en(m,"beforeLabel",this,l))),ar(d.lines,en(m,"label",this,l)),ar(d.after,Ar(en(m,"afterLabel",this,l))),o.push(d)}),o}getAfterBody(e,i){return iy(en(i.callbacks,"afterBody",this,e))}getFooter(e,i){let{callbacks:r}=i,o=en(r,"beforeFooter",this,e),l=en(r,"footer",this,e),d=en(r,"afterFooter",this,e),m=[];return m=ar(m,Ar(o)),m=ar(m,Ar(l)),m=ar(m,Ar(d)),m}_createItems(e){let i=this._active,r=this.chart.data,o=[],l=[],d=[],m=[],_,x;for(_=0,x=i.length;_<x;++_)m.push(AA(this.chart,i[_]));return e.filter&&(m=m.filter((w,I,D)=>e.filter(w,I,D,r))),e.itemSort&&(m=m.sort((w,I)=>e.itemSort(w,I,r))),Ft(m,w=>{let I=ny(e.callbacks,w);o.push(en(I,"labelColor",this,w)),l.push(en(I,"labelPointStyle",this,w)),d.push(en(I,"labelTextColor",this,w))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=d,this.dataPoints=m,m}update(e,i){let r=this.options.setContext(this.getContext()),o=this._active,l,d=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{let m=yl[r.position].call(this,o,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);let _=this._size=Z1(this,r),x=Object.assign({},m,_),w=ey(this.chart,r,x),I=ty(r,x,w,this.chart);this.xAlign=w.xAlign,this.yAlign=w.yAlign,l={opacity:1,x:I.x,y:I.y,width:_.width,height:_.height,caretX:m.x,caretY:m.y}}this._tooltipItems=d,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,o){let l=this.getCaretPosition(e,r,o);i.lineTo(l.x1,l.y1),i.lineTo(l.x2,l.y2),i.lineTo(l.x3,l.y3)}getCaretPosition(e,i,r){let{xAlign:o,yAlign:l}=this,{caretSize:d,cornerRadius:m}=r,{topLeft:_,topRight:x,bottomLeft:w,bottomRight:I}=io(m),{x:D,y:P}=e,{width:A,height:O}=i,U,H,Y,ie,Q,ne;return l==="center"?(Q=P+O/2,o==="left"?(U=D,H=U-d,ie=Q+d,ne=Q-d):(U=D+A,H=U+d,ie=Q-d,ne=Q+d),Y=U):(o==="left"?H=D+Math.max(_,w)+d:o==="right"?H=D+A-Math.max(x,I)-d:H=this.caretX,l==="top"?(ie=P,Q=ie-d,U=H-d,Y=H+d):(ie=P+O,Q=ie+d,U=H+d,Y=H-d),ne=ie),{x1:U,x2:H,x3:Y,y1:ie,y2:Q,y3:ne}}drawTitle(e,i,r){let o=this.title,l=o.length,d,m,_;if(l){let x=Wo(r.rtl,this.x,this.width);for(e.x=Qd(this,r.titleAlign,r),i.textAlign=x.textAlign(r.titleAlign),i.textBaseline="middle",d=vi(r.titleFont),m=r.titleSpacing,i.fillStyle=r.titleColor,i.font=d.string,_=0;_<l;++_)i.fillText(o[_],x.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+m,_+1===l&&(e.y+=r.titleMarginBottom-m)}}_drawColorBox(e,i,r,o,l){let d=this.labelColors[r],m=this.labelPointStyles[r],{boxHeight:_,boxWidth:x}=l,w=vi(l.bodyFont),I=Qd(this,"left",l),D=o.x(I),P=_<w.lineHeight?(w.lineHeight-_)/2:0,A=i.y+P;if(l.usePointStyle){let O={radius:Math.min(x,_)/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:1},U=o.leftForLtr(D,x)+x/2,H=A+_/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,Bd(e,O,U,H),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,Bd(e,O,U,H)}else{e.lineWidth=yt(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;let O=o.leftForLtr(D,x),U=o.leftForLtr(o.xPlus(D,1),x-2),H=io(d.borderRadius);Object.values(H).some(Y=>Y!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,Na(e,{x:O,y:A,w:x,h:_,radius:H}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),Na(e,{x:U,y:A+1,w:x-2,h:_-2,radius:H}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(O,A,x,_),e.strokeRect(O,A,x,_),e.fillStyle=d.backgroundColor,e.fillRect(U,A+1,x-2,_-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){let{body:o}=this,{bodySpacing:l,bodyAlign:d,displayColors:m,boxHeight:_,boxWidth:x,boxPadding:w}=r,I=vi(r.bodyFont),D=I.lineHeight,P=0,A=Wo(r.rtl,this.x,this.width),O=function(ye){i.fillText(ye,A.x(e.x+P),e.y+D/2),e.y+=D+l},U=A.textAlign(d),H,Y,ie,Q,ne,ge,le;for(i.textAlign=d,i.textBaseline="middle",i.font=I.string,e.x=Qd(this,U,r),i.fillStyle=r.bodyColor,Ft(this.beforeBody,O),P=m&&U!=="right"?d==="center"?x/2+w:x+2+w:0,Q=0,ge=o.length;Q<ge;++Q){for(H=o[Q],Y=this.labelTextColors[Q],i.fillStyle=Y,Ft(H.before,O),ie=H.lines,m&&ie.length&&(this._drawColorBox(i,e,Q,A,r),D=Math.max(I.lineHeight,_)),ne=0,le=ie.length;ne<le;++ne)O(ie[ne]),D=I.lineHeight;Ft(H.after,O)}P=0,D=I.lineHeight,Ft(this.afterBody,O),e.y-=l}drawFooter(e,i,r){let o=this.footer,l=o.length,d,m;if(l){let _=Wo(r.rtl,this.x,this.width);for(e.x=Qd(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=_.textAlign(r.footerAlign),i.textBaseline="middle",d=vi(r.footerFont),i.fillStyle=r.footerColor,i.font=d.string,m=0;m<l;++m)i.fillText(o[m],_.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+r.footerSpacing}}drawBackground(e,i,r,o){let{xAlign:l,yAlign:d}=this,{x:m,y:_}=e,{width:x,height:w}=r,{topLeft:I,topRight:D,bottomLeft:P,bottomRight:A}=io(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(m+I,_),d==="top"&&this.drawCaret(e,i,r,o),i.lineTo(m+x-D,_),i.quadraticCurveTo(m+x,_,m+x,_+D),d==="center"&&l==="right"&&this.drawCaret(e,i,r,o),i.lineTo(m+x,_+w-A),i.quadraticCurveTo(m+x,_+w,m+x-A,_+w),d==="bottom"&&this.drawCaret(e,i,r,o),i.lineTo(m+P,_+w),i.quadraticCurveTo(m,_+w,m,_+w-P),d==="center"&&l==="left"&&this.drawCaret(e,i,r,o),i.lineTo(m,_+I),i.quadraticCurveTo(m,_,m+I,_),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){let i=this.chart,r=this.$animations,o=r&&r.x,l=r&&r.y;if(o||l){let d=yl[e.position].call(this,this._active,this._eventPosition);if(!d)return;let m=this._size=Z1(this,e),_=Object.assign({},d,this._size),x=ey(i,e,_),w=ty(e,_,x,i);(o._to!==w.x||l._to!==w.y)&&(this.xAlign=x.xAlign,this.yAlign=x.yAlign,this.width=m.width,this.height=m.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,w))}}_willRender(){return!!this.opacity}draw(e){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},l={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let d=Oi(i.padding),m=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&m&&(e.save(),e.globalAlpha=r,this.drawBackground(l,e,o,i),n0(e,i.textDirection),l.y+=d.top,this.drawTitle(l,e,i),this.drawBody(l,e,i),this.drawFooter(l,e,i),r0(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){let r=this._active,o=e.map(({datasetIndex:m,index:_})=>{let x=this.chart.getDatasetMeta(m);if(!x)throw new Error("Cannot find a dataset at index "+m);return{datasetIndex:m,element:x.data[_],index:_}}),l=!dl(r,o),d=this._positionChanged(o,i);(l||d)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,l=this._active||[],d=this._getActiveElements(e,l,i,r),m=this._positionChanged(d,e),_=i||!dl(d,l)||m;return _&&(this._active=d,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),_}_getActiveElements(e,i,r,o){let l=this.options;if(e.type==="mouseout")return[];if(!o)return i.filter(m=>this.chart.data.datasets[m.datasetIndex]&&this.chart.getDatasetMeta(m.datasetIndex).controller.getParsed(m.index)!==void 0);let d=this.chart.getElementsAtEventForMode(e,l.mode,l,r);return l.reverse&&d.reverse(),d}_positionChanged(e,i){let{caretX:r,caretY:o,options:l}=this,d=yl[l.position].call(this,e,i);return d!==!1&&(r!==d.x||o!==d.y)}}return n})(),LA={id:"tooltip",_element:ry,positioners:yl,afterInit(n,t,e){e&&(n.tooltip=new ry({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){let t=n.tooltip;if(t&&t._willRender()){let e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",tt(X({},e),{cancelable:!0}))===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){let e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ry},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},BA=Object.freeze({__proto__:null,Colors:J4,Decimation:tA,Filler:xA,Legend:TA,SubTitle:DA,Title:IA,Tooltip:LA}),jA=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function zA(n,t,e,i){let r=n.indexOf(t);if(r===-1)return jA(n,t,e,i);let o=n.lastIndexOf(t);return r!==o?e:r}var UA=(n,t)=>n===null?null:wi(Math.round(n),0,t);function oy(n){let t=this.getLabels();return n>=0&&n<t.length?t[n]:n}var HA=(()=>{class n extends Go{static id="category";static defaults={ticks:{callback:oy}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:l}of i)r[o]===l&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,i){if(_t(e))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===e?i:zA(r,e,st(i,e),this._addedLabels),UA(i,r.length-1)}determineDataLimits(){let{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let e=this.min,i=this.max,r=this.options.offset,o=[],l=this.getLabels();l=e===0&&i===l.length-1?l:l.slice(e,i+1),this._valueRange=Math.max(l.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let d=e;d<=i;d++)o.push({value:d});return o}getLabelForValue(e){return oy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){let i=this.ticks;return e<0||e>i.length-1?null:this.getPixelForValue(i[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function WA(n,t){let e=[],{bounds:r,step:o,min:l,max:d,precision:m,count:_,maxTicks:x,maxDigits:w,includeBounds:I}=n,D=o||1,P=x-1,{min:A,max:O}=t,U=!_t(l),H=!_t(d),Y=!_t(_),ie=(O-A)/(w+1),Q=Fh((O-A)/P/D)*D,ne,ge,le,ye;if(Q<1e-14&&!U&&!H)return[{value:A},{value:O}];ye=Math.ceil(O/Q)-Math.floor(A/Q),ye>P&&(Q=Fh(ye*Q/P/D)*D),_t(m)||(ne=Math.pow(10,m),Q=Math.ceil(Q*ne)/ne),r==="ticks"?(ge=Math.floor(A/Q)*Q,le=Math.ceil(O/Q)*Q):(ge=A,le=O),U&&H&&o&&qv((d-l)/o,Q/1e3)?(ye=Math.round(Math.min((d-l)/Q,x)),Q=(d-l)/ye,ge=l,le=d):Y?(ge=U?l:ge,le=H?d:le,ye=_-1,Q=(le-ge)/ye):(ye=(le-ge)/Q,Ra(ye,Math.round(ye),Q/1e3)?ye=Math.round(ye):ye=Math.ceil(ye));let ot=Math.max(Lh(Q),Lh(ge));ne=Math.pow(10,_t(m)?ot:m),ge=Math.round(ge*ne)/ne,le=Math.round(le*ne)/ne;let Ge=0;for(U&&(I&&ge!==l?(e.push({value:l}),ge<l&&Ge++,Ra(Math.round((ge+Ge*Q)*ne)/ne,l,ay(l,ie,n))&&Ge++):ge<l&&Ge++);Ge<ye;++Ge){let Ie=Math.round((ge+Ge*Q)*ne)/ne;if(H&&Ie>d)break;e.push({value:Ie})}return H&&I&&le!==d?e.length&&Ra(e[e.length-1].value,d,ay(d,ie,n))?e[e.length-1].value=d:e.push({value:d}):(!H||le===d)&&e.push({value:le}),e}function ay(n,t,{horizontal:e,minRotation:i}){let r=Tn(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}var za=class extends Go{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return _t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,l=m=>r=e?r:m,d=m=>o=i?o:m;if(t){let m=Hn(r),_=Hn(o);m<0&&_<0?d(0):m>0&&_>0&&l(0)}if(r===o){let m=o===0?1:Math.abs(o*.05);d(o+m),t||l(r-m)}this.min=r,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,e=t.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=WA(r,o);return t.bounds==="ticks"&&Nh(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){let t=this.ticks,e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){let r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Fa(t,this.chart.options.locale,this.options.ticks.format)}},R0=class extends za{static id="linear";static defaults={ticks:{callback:ul.formatters.numeric}};determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=si(t)?t:0,this.max=si(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),e=t?this.width:this.height,i=Tn(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},Cl=n=>Math.floor(Tr(n)),$o=(n,t)=>Math.pow(10,Cl(n)+t);function sy(n){return n/Math.pow(10,Cl(n))===1}function ly(n,t,e){let i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function qA(n,t){let e=t-n,i=Cl(e);for(;ly(n,t,i)>10;)i++;for(;ly(n,t,i)<10;)i--;return Math.min(i,Cl(n))}function $A(n,{min:t,max:e}){t=Zi(n.min,t);let i=[],r=Cl(t),o=qA(t,e),l=o<0?Math.pow(10,Math.abs(o)):1,d=Math.pow(10,o),m=r>o?Math.pow(10,r):0,_=Math.round((t-m)*l)/l,x=Math.floor((t-m)/d/10)*d*10,w=Math.floor((_-x)/Math.pow(10,o)),I=Zi(n.min,Math.round((m+x+w*Math.pow(10,o))*l)/l);for(;I<e;)i.push({value:I,major:sy(I),significand:w}),w>=10?w=w<15?15:20:w++,w>=20&&(o++,w=2,l=o>=0?1:l),I=Math.round((m+x+w*Math.pow(10,o))*l)/l;let D=Zi(n.max,I);return i.push({value:D,major:sy(D),significand:w}),i}var V0=class extends Go{static id="logarithmic";static defaults={ticks:{callback:ul.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){let i=za.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return si(i)&&i>0?i:null}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!0);this.min=si(t)?Math.max(0,t):null,this.max=si(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!si(this._userMin)&&(this.min=t===$o(this.min,0)?$o(this.min,-1):$o(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:e}=this.getUserBounds(),i=this.min,r=this.max,o=d=>i=t?i:d,l=d=>r=e?r:d;i===r&&(i<=0?(o(1),l(10)):(o($o(i,-1)),l($o(r,1)))),i<=0&&o($o(r,-1)),r<=0&&l($o(i,1)),this.min=i,this.max=r}buildTicks(){let t=this.options,e={min:this._userMin,max:this._userMax},i=$A(e,this);return t.bounds==="ticks"&&Nh(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Fa(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=Tr(t),this._valueRange=Tr(this.max)-Tr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Tr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}};function F0(n){let t=n.ticks;if(t.display&&n.display){let e=Oi(t.backdropPadding);return st(t.font&&t.font.size,$t.font.size)+e.height}return 0}function GA(n,t,e){return e=Jt(e)?e:[e],{w:e1(n,t.string,e),h:e.length*t.lineHeight}}function cy(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function YA(n){let t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,d=l.centerPointLabels?Mt/o:0;for(let m=0;m<o;m++){let _=l.setContext(n.getPointLabelContext(m));r[m]=_.padding;let x=n.getPointPosition(m,n.drawingArea+r[m],d),w=vi(_.font),I=GA(n.ctx,w,n._pointLabels[m]);i[m]=I;let D=Ai(n.getIndexAngle(m)+d),P=Math.round(Vd(D)),A=cy(P,x.x,I.w,0,180),O=cy(P,x.y,I.h,90,270);QA(e,t,D,A,O)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=XA(n,i,r)}function QA(n,t,e,i,r){let o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e)),d=0,m=0;i.start<t.l?(d=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+d)),r.start<t.t?(m=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-m)):r.end>t.b&&(m=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+m))}function KA(n,t,e){let i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:d}=e,m=n.getPointPosition(t,i+r+l,o),_=Math.round(Vd(Ai(m.angle+di))),x=tP(m.y,d.h,_),w=ZA(_),I=eP(m.x,d.w,w);return{visible:!0,x:m.x,y:x,textAlign:w,left:I,top:x,right:I+d.w,bottom:x+d.h}}function JA(n,t){if(!t)return!0;let{left:e,top:i,right:r,bottom:o}=n;return!(nr({x:e,y:i},t)||nr({x:e,y:o},t)||nr({x:r,y:i},t)||nr({x:r,y:o},t))}function XA(n,t,e){let i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:d}=o.pointLabels,m={extra:F0(o)/2,additionalAngle:l?Mt/r:0},_;for(let x=0;x<r;x++){m.padding=e[x],m.size=t[x];let w=KA(n,x,m);i.push(w),d==="auto"&&(w.visible=JA(w,_),w.visible&&(_=w))}return i}function ZA(n){return n===0||n===180?"center":n<180?"left":"right"}function eP(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function tP(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function iP(n,t,e){let{left:i,top:r,right:o,bottom:l}=e,{backdropColor:d}=t;if(!_t(d)){let m=io(t.borderRadius),_=Oi(t.backdropPadding);n.fillStyle=d;let x=i-_.left,w=r-_.top,I=o-i+_.width,D=l-r+_.height;Object.values(m).some(P=>P!==0)?(n.beginPath(),Na(n,{x,y:w,w:I,h:D,radius:m}),n.fill()):n.fillRect(x,w,I,D)}}function nP(n,t){let{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){let o=n._pointLabelItems[r];if(!o.visible)continue;let l=i.setContext(n.getPointLabelContext(r));iP(e,l,o);let d=vi(l.font),{x:m,y:_,textAlign:x}=o;to(e,n._pointLabels[r],m,_+d.lineHeight/2,d,{color:l.color,textAlign:x,textBaseline:"middle"})}}function Vy(n,t,e,i){let{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Xt);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function rP(n,t,e,i,r){let o=n.ctx,l=t.circular,{color:d,lineWidth:m}=t;!l&&!i||!d||!m||e<0||(o.save(),o.strokeStyle=d,o.lineWidth=m,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),Vy(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function oP(n,t,e){return Ir(n,{label:e,index:t,type:"pointLabel"})}var N0=class extends za{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ul.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=Oi(F0(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){let{min:t,max:e}=this.getMinMax(!1);this.min=si(t)&&!isNaN(t)?t:0,this.max=si(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/F0(this.options))}generateTickLabels(t){za.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{let r=qt(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){let t=this.options;t.display&&t.pointLabels.display?YA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){let e=Xt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ai(t*e+Tn(i))}getDistanceFromCenterForValue(t){if(_t(t))return NaN;let e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(_t(t))return NaN;let e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){let e=this._pointLabels||[];if(t>=0&&t<e.length){let i=e[t];return oP(this.getContext(),t,i)}}getPointPosition(t,e,i=0){let r=this.getIndexAngle(t)-di+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:e}}=this.options;if(t){let i=this.ctx;i.save(),i.beginPath(),Vy(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){let t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length,d,m,_;if(e.pointLabels.display&&nP(this,l),r.display&&this.ticks.forEach((x,w)=>{if(w!==0||w===0&&this.min<0){m=this.getDistanceFromCenterForValue(x.value);let I=this.getContext(w),D=r.setContext(I),P=o.setContext(I);rP(this,D,m,l,P)}}),i.display){for(t.save(),d=l-1;d>=0;d--){let x=i.setContext(this.getPointLabelContext(d)),{color:w,lineWidth:I}=x;!I||!w||(t.lineWidth=I,t.strokeStyle=w,t.setLineDash(x.borderDash),t.lineDashOffset=x.borderDashOffset,m=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),_=this.getPointPosition(d,m),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(_.x,_.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,m)=>{if(m===0&&this.min>=0&&!e.reverse)return;let _=i.setContext(this.getContext(m)),x=vi(_.font);if(o=this.getDistanceFromCenterForValue(this.ticks[m].value),_.showLabelBackdrop){t.font=x.string,l=t.measureText(d.label).width,t.fillStyle=_.backdropColor;let w=Oi(_.backdropPadding);t.fillRect(-l/2-w.left,-o-x.size/2-w.top,l+w.width,x.size+w.height)}to(t,d.label,0,-o,x,{color:_.color,strokeColor:_.textStrokeColor,strokeWidth:_.textStrokeWidth})}),t.restore()}drawTitle(){}},lu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},tn=Object.keys(lu);function dy(n,t){return n-t}function uy(n,t){if(_t(t))return null;let e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts,l=t;return typeof i=="function"&&(l=i(l)),si(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Ho(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function my(n,t,e,i){let r=tn.length;for(let o=tn.indexOf(n);o<r-1;++o){let l=lu[tn[o]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(d*l.size))<=i)return tn[o]}return tn[r-1]}function aP(n,t,e,i,r){for(let o=tn.length-1;o>=tn.indexOf(e);o--){let l=tn[o];if(lu[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return tn[e?tn.indexOf(e):0]}function sP(n){for(let t=tn.indexOf(n)+1,e=tn.length;t<e;++t)if(lu[tn[t]].common)return tn[t]}function py(n,t,e){if(!e)n[t]=!0;else if(e.length){let{lo:i,hi:r}=Fd(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function lP(n,t,e,i){let r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value,d,m;for(d=o;d<=l;d=+r.add(d,1,i))m=e[d],m>=0&&(t[m].major=!0);return t}function hy(n,t,e){let i=[],r={},o=t.length,l,d;for(l=0;l<o;++l)d=t[l],r[d]=l,i.push({value:d,major:!1});return o===0||!e?i:lP(n,i,r,e)}var L0=(()=>{class n extends Go{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i={}){let r=e.time||(e.time={}),o=this._adapter=new vD._date(e.adapters.date);o.init(i),Pa(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return e===void 0?null:uy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let e=this.options,i=this._adapter,r=e.time.unit||"day",{min:o,max:l,minDefined:d,maxDefined:m}=this.getUserBounds();function _(x){!d&&!isNaN(x.min)&&(o=Math.min(o,x.min)),!m&&!isNaN(x.max)&&(l=Math.max(l,x.max))}(!d||!m)&&(_(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&_(this.getMinMax(!1))),o=si(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),l=si(l)&&!isNaN(l)?l:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){let e=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){let e=this.options,i=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let l=this.min,d=this.max,m=Yv(o,l,d);return this._unit=i.unit||(r.autoSkip?my(i.minUnit,this.min,this.max,this._getLabelCapacity(l)):aP(this,m.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sP(this._unit),this.initOffsets(o),e.reverse&&m.reverse(),hy(this,m,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let i=0,r=0,o,l;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?i=1-o:i=(this.getDecimalForValue(e[1])-o)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?r=l:r=(l-this.getDecimalForValue(e[e.length-2]))/2);let d=e.length<3?.5:.25;i=wi(i,0,d),r=wi(r,0,d),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let e=this._adapter,i=this.min,r=this.max,o=this.options,l=o.time,d=l.unit||my(l.minUnit,i,r,this._getLabelCapacity(i)),m=st(o.ticks.stepSize,1),_=d==="week"?l.isoWeekday:!1,x=Ho(_)||_===!0,w={},I=i,D,P;if(x&&(I=+e.startOf(I,"isoWeek",_)),I=+e.startOf(I,x?"day":d),e.diff(r,i,d)>1e5*m)throw new Error(i+" and "+r+" are too far apart with stepSize of "+m+" "+d);let A=o.ticks.source==="data"&&this.getDataTimestamps();for(D=I,P=0;D<r;D=+e.add(D,m,d),P++)py(w,D,A);return(D===r||o.bounds==="ticks"||P===1)&&py(w,D,A),Object.keys(w).sort(dy).map(O=>+O)}getLabelForValue(e){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(e,r.tooltipFormat):i.format(e,r.displayFormats.datetime)}format(e,i){let o=this.options.time.displayFormats,l=this._unit,d=i||o[l];return this._adapter.format(e,d)}_tickFormatFunction(e,i,r,o){let l=this.options,d=l.ticks.callback;if(d)return qt(d,[e,i,r],this);let m=l.time.displayFormats,_=this._unit,x=this._majorUnit,w=_&&m[_],I=x&&m[x],D=r[i],P=x&&I&&D&&D.major;return this._adapter.format(e,o||(P?I:w))}generateTickLabels(e){let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],o.label=this._tickFormatFunction(o.value,i,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){let i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){let i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){let i=this.options.ticks,r=this.ctx.measureText(e).width,o=Tn(this.isHorizontal()?i.maxRotation:i.minRotation),l=Math.cos(o),d=Math.sin(o),m=this._resolveTickFontOptions(0).size;return{w:r*l+m*d,h:r*d+m*l}}_getLabelCapacity(e){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,l=this._tickFormatFunction(e,0,hy(this,[e],this._majorUnit),o),d=this._getLabelSize(l),m=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return m>0?m:1}getDataTimestamps(){let e=this._cache.data||[],i,r;if(e.length)return e;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)e=e.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){let e=this._cache.labels||[],i,r;if(e.length)return e;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)e.push(uy(this,o[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zh(e.sort(dy))}}return n})();function Kd(n,t,e){let i=0,r=n.length-1,o,l,d,m;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ir(n,"pos",t)),{pos:o,time:d}=n[i],{pos:l,time:m}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ir(n,"time",t)),{time:o,pos:d}=n[i],{time:l,pos:m}=n[r]);let _=l-o;return _?d+(m-d)*(t-o)/_:d}var B0=class extends L0{static id="timeseries";static defaults=L0.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Kd(e,this.min),this._tableRange=Kd(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:e,max:i}=this,r=[],o=[],l,d,m,_,x;for(l=0,d=t.length;l<d;++l)_=t[l],_>=e&&_<=i&&r.push(_);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,d=r.length;l<d;++l)x=r[l+1],m=r[l-1],_=r[l],Math.round((x+m)/2)!==_&&o.push({time:_,pos:l/(d-1)});return o}_generate(){let t=this.min,e=this.max,i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Kd(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Kd(this._table,i*this._tableRange+this._minPos,!0)}},cP=Object.freeze({__proto__:null,CategoryScale:HA,LinearScale:R0,LogarithmicScale:V0,RadialLinearScale:N0,TimeScale:L0,TimeSeriesScale:B0}),Fy=[bD,W4,BA,cP];var dP=typeof global=="object"&&global&&global.Object===Object&&global,cu=dP;var uP=typeof self=="object"&&self&&self.Object===Object&&self,mP=cu||uP||Function("return this")(),Mn=mP;var pP=Mn.Symbol,Ua=pP;var Ny=Object.prototype,hP=Ny.hasOwnProperty,fP=Ny.toString,El=Ua?Ua.toStringTag:void 0;function gP(n){var t=hP.call(n,El),e=n[El];try{n[El]=void 0;var i=!0}catch{}var r=fP.call(n);return i&&(t?n[El]=e:delete n[El]),r}var Ly=gP;var _P=Object.prototype,bP=_P.toString;function vP(n){return bP.call(n)}var By=vP;var yP="[object Null]",xP="[object Undefined]",jy=Ua?Ua.toStringTag:void 0;function wP(n){return n==null?n===void 0?xP:yP:jy&&jy in Object(n)?Ly(n):By(n)}var ao=wP;function CP(n){return n!=null&&typeof n=="object"}var lr=CP;var SP=Array.isArray,kl=SP;function EP(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var nn=EP;function kP(n){return n}var du=kP;var TP="[object AsyncFunction]",MP="[object Function]",IP="[object GeneratorFunction]",DP="[object Proxy]";function AP(n){if(!nn(n))return!1;var t=ao(n);return t==MP||t==IP||t==TP||t==DP}var Ha=AP;var PP=Mn["__core-js_shared__"],uu=PP;var zy=function(){var n=/[^.]+$/.exec(uu&&uu.keys&&uu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function OP(n){return!!zy&&zy in n}var Uy=OP;var RP=Function.prototype,VP=RP.toString;function FP(n){if(n!=null){try{return VP.call(n)}catch{}try{return n+""}catch{}}return""}var Hy=FP;var NP=/[\\^$.*+?()[\]{}|]/g,LP=/^\[object .+?Constructor\]$/,BP=Function.prototype,jP=Object.prototype,zP=BP.toString,UP=jP.hasOwnProperty,HP=RegExp("^"+zP.call(UP).replace(NP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WP(n){if(!nn(n)||Uy(n))return!1;var t=Ha(n)?HP:LP;return t.test(Hy(n))}var Wy=WP;function qP(n,t){return n?.[t]}var qy=qP;function $P(n,t){var e=qy(n,t);return Wy(e)?e:void 0}var Wa=$P;var $y=Object.create,GP=function(){function n(){}return function(t){if(!nn(t))return{};if($y)return $y(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),Gy=GP;function YP(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var Yy=YP;function QP(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}var Qy=QP;var KP=800,JP=16,XP=Date.now;function ZP(n){var t=0,e=0;return function(){var i=XP(),r=JP-(i-e);if(e=i,r>0){if(++t>=KP)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var Ky=ZP;function eO(n){return function(){return n}}var Jy=eO;var tO=function(){try{var n=Wa(Object,"defineProperty");return n({},"",{}),n}catch{}}(),qa=tO;var iO=qa?function(n,t){return qa(n,"toString",{configurable:!0,enumerable:!1,value:Jy(t),writable:!0})}:du,Xy=iO;var nO=Ky(Xy),Zy=nO;var rO=9007199254740991,oO=/^(?:0|[1-9]\d*)$/;function aO(n,t){var e=typeof n;return t=t??rO,!!t&&(e=="number"||e!="symbol"&&oO.test(n))&&n>-1&&n%1==0&&n<t}var mu=aO;function sO(n,t,e){t=="__proto__"&&qa?qa(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}var $a=sO;function lO(n,t){return n===t||n!==n&&t!==t}var so=lO;var cO=Object.prototype,dO=cO.hasOwnProperty;function uO(n,t,e){var i=n[t];(!(dO.call(n,t)&&so(i,e))||e===void 0&&!(t in n))&&$a(n,t,e)}var ex=uO;function mO(n,t,e,i){var r=!e;e||(e={});for(var o=-1,l=t.length;++o<l;){var d=t[o],m=i?i(e[d],n[d],d,e,n):void 0;m===void 0&&(m=n[d]),r?$a(e,d,m):ex(e,d,m)}return e}var tx=mO;var ix=Math.max;function pO(n,t,e){return t=ix(t===void 0?n.length-1:t,0),function(){for(var i=arguments,r=-1,o=ix(i.length-t,0),l=Array(o);++r<o;)l[r]=i[t+r];r=-1;for(var d=Array(t+1);++r<t;)d[r]=i[r];return d[t]=e(l),Yy(n,this,d)}}var nx=pO;function hO(n,t){return Zy(nx(n,t,du),n+"")}var rx=hO;var fO=9007199254740991;function gO(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=fO}var pu=gO;function _O(n){return n!=null&&pu(n.length)&&!Ha(n)}var Ga=_O;function bO(n,t,e){if(!nn(e))return!1;var i=typeof t;return(i=="number"?Ga(e)&&mu(t,e.length):i=="string"&&t in e)?so(e[t],n):!1}var ox=bO;function vO(n){return rx(function(t,e){var i=-1,r=e.length,o=r>1?e[r-1]:void 0,l=r>2?e[2]:void 0;for(o=n.length>3&&typeof o=="function"?(r--,o):void 0,l&&ox(e[0],e[1],l)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var d=e[i];d&&n(t,d,i,o)}return t})}var ax=vO;var yO=Object.prototype;function xO(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||yO;return n===e}var hu=xO;function wO(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}var sx=wO;var CO="[object Arguments]";function SO(n){return lr(n)&&ao(n)==CO}var z0=SO;var lx=Object.prototype,EO=lx.hasOwnProperty,kO=lx.propertyIsEnumerable,TO=z0(function(){return arguments}())?z0:function(n){return lr(n)&&EO.call(n,"callee")&&!kO.call(n,"callee")},Tl=TO;function MO(){return!1}var cx=MO;var mx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dx=mx&&typeof module=="object"&&module&&!module.nodeType&&module,IO=dx&&dx.exports===mx,ux=IO?Mn.Buffer:void 0,DO=ux?ux.isBuffer:void 0,AO=DO||cx,fu=AO;var PO="[object Arguments]",OO="[object Array]",RO="[object Boolean]",VO="[object Date]",FO="[object Error]",NO="[object Function]",LO="[object Map]",BO="[object Number]",jO="[object Object]",zO="[object RegExp]",UO="[object Set]",HO="[object String]",WO="[object WeakMap]",qO="[object ArrayBuffer]",$O="[object DataView]",GO="[object Float32Array]",YO="[object Float64Array]",QO="[object Int8Array]",KO="[object Int16Array]",JO="[object Int32Array]",XO="[object Uint8Array]",ZO="[object Uint8ClampedArray]",eR="[object Uint16Array]",tR="[object Uint32Array]",Zt={};Zt[GO]=Zt[YO]=Zt[QO]=Zt[KO]=Zt[JO]=Zt[XO]=Zt[ZO]=Zt[eR]=Zt[tR]=!0;Zt[PO]=Zt[OO]=Zt[qO]=Zt[RO]=Zt[$O]=Zt[VO]=Zt[FO]=Zt[NO]=Zt[LO]=Zt[BO]=Zt[jO]=Zt[zO]=Zt[UO]=Zt[HO]=Zt[WO]=!1;function iR(n){return lr(n)&&pu(n.length)&&!!Zt[ao(n)]}var px=iR;function nR(n){return function(t){return n(t)}}var hx=nR;var fx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ml=fx&&typeof module=="object"&&module&&!module.nodeType&&module,rR=Ml&&Ml.exports===fx,U0=rR&&cu.process,oR=function(){try{var n=Ml&&Ml.require&&Ml.require("util").types;return n||U0&&U0.binding&&U0.binding("util")}catch{}}(),H0=oR;var gx=H0&&H0.isTypedArray,aR=gx?hx(gx):px,gu=aR;var sR=Object.prototype,lR=sR.hasOwnProperty;function cR(n,t){var e=kl(n),i=!e&&Tl(n),r=!e&&!i&&fu(n),o=!e&&!i&&!r&&gu(n),l=e||i||r||o,d=l?sx(n.length,String):[],m=d.length;for(var _ in n)(t||lR.call(n,_))&&!(l&&(_=="length"||r&&(_=="offset"||_=="parent")||o&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||mu(_,m)))&&d.push(_);return d}var _x=cR;function dR(n,t){return function(e){return n(t(e))}}var bx=dR;function uR(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var vx=uR;var mR=Object.prototype,pR=mR.hasOwnProperty;function hR(n){if(!nn(n))return vx(n);var t=hu(n),e=[];for(var i in n)i=="constructor"&&(t||!pR.call(n,i))||e.push(i);return e}var yx=hR;function fR(n){return Ga(n)?_x(n,!0):yx(n)}var _u=fR;var gR=Wa(Object,"create"),Pr=gR;function _R(){this.__data__=Pr?Pr(null):{},this.size=0}var xx=_R;function bR(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var wx=bR;var vR="__lodash_hash_undefined__",yR=Object.prototype,xR=yR.hasOwnProperty;function wR(n){var t=this.__data__;if(Pr){var e=t[n];return e===vR?void 0:e}return xR.call(t,n)?t[n]:void 0}var Cx=wR;var CR=Object.prototype,SR=CR.hasOwnProperty;function ER(n){var t=this.__data__;return Pr?t[n]!==void 0:SR.call(t,n)}var Sx=ER;var kR="__lodash_hash_undefined__";function TR(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Pr&&t===void 0?kR:t,this}var Ex=TR;function Ya(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ya.prototype.clear=xx;Ya.prototype.delete=wx;Ya.prototype.get=Cx;Ya.prototype.has=Sx;Ya.prototype.set=Ex;var W0=Ya;function MR(){this.__data__=[],this.size=0}var kx=MR;function IR(n,t){for(var e=n.length;e--;)if(so(n[e][0],t))return e;return-1}var lo=IR;var DR=Array.prototype,AR=DR.splice;function PR(n){var t=this.__data__,e=lo(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():AR.call(t,e,1),--this.size,!0}var Tx=PR;function OR(n){var t=this.__data__,e=lo(t,n);return e<0?void 0:t[e][1]}var Mx=OR;function RR(n){return lo(this.__data__,n)>-1}var Ix=RR;function VR(n,t){var e=this.__data__,i=lo(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}var Dx=VR;function Qa(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Qa.prototype.clear=kx;Qa.prototype.delete=Tx;Qa.prototype.get=Mx;Qa.prototype.has=Ix;Qa.prototype.set=Dx;var co=Qa;var FR=Wa(Mn,"Map"),bu=FR;function NR(){this.size=0,this.__data__={hash:new W0,map:new(bu||co),string:new W0}}var Ax=NR;function LR(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var Px=LR;function BR(n,t){var e=n.__data__;return Px(t)?e[typeof t=="string"?"string":"hash"]:e.map}var uo=BR;function jR(n){var t=uo(this,n).delete(n);return this.size-=t?1:0,t}var Ox=jR;function zR(n){return uo(this,n).get(n)}var Rx=zR;function UR(n){return uo(this,n).has(n)}var Vx=UR;function HR(n,t){var e=uo(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}var Fx=HR;function Ka(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ka.prototype.clear=Ax;Ka.prototype.delete=Ox;Ka.prototype.get=Rx;Ka.prototype.has=Vx;Ka.prototype.set=Fx;var Nx=Ka;var WR=bx(Object.getPrototypeOf,Object),vu=WR;var qR="[object Object]",$R=Function.prototype,GR=Object.prototype,Lx=$R.toString,YR=GR.hasOwnProperty,QR=Lx.call(Object);function KR(n){if(!lr(n)||ao(n)!=qR)return!1;var t=vu(n);if(t===null)return!0;var e=YR.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Lx.call(e)==QR}var Bx=KR;function JR(){this.__data__=new co,this.size=0}var jx=JR;function XR(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var zx=XR;function ZR(n){return this.__data__.get(n)}var Ux=ZR;function eV(n){return this.__data__.has(n)}var Hx=eV;var tV=200;function iV(n,t){var e=this.__data__;if(e instanceof co){var i=e.__data__;if(!bu||i.length<tV-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new Nx(i)}return e.set(n,t),this.size=e.size,this}var Wx=iV;function Ja(n){var t=this.__data__=new co(n);this.size=t.size}Ja.prototype.clear=jx;Ja.prototype.delete=zx;Ja.prototype.get=Ux;Ja.prototype.has=Hx;Ja.prototype.set=Wx;var qx=Ja;var Qx=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$x=Qx&&typeof module=="object"&&module&&!module.nodeType&&module,nV=$x&&$x.exports===Qx,Gx=nV?Mn.Buffer:void 0,Yx=Gx?Gx.allocUnsafe:void 0;function rV(n,t){if(t)return n.slice();var e=n.length,i=Yx?Yx(e):new n.constructor(e);return n.copy(i),i}var Kx=rV;var oV=Mn.Uint8Array,q0=oV;function aV(n){var t=new n.constructor(n.byteLength);return new q0(t).set(new q0(n)),t}var Jx=aV;function sV(n,t){var e=t?Jx(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var Xx=sV;function lV(n){return typeof n.constructor=="function"&&!hu(n)?Gy(vu(n)):{}}var Zx=lV;function cV(n){return function(t,e,i){for(var r=-1,o=Object(t),l=i(t),d=l.length;d--;){var m=l[n?d:++r];if(e(o[m],m,o)===!1)break}return t}}var ew=cV;var dV=ew(),tw=dV;function uV(n,t,e){(e!==void 0&&!so(n[t],e)||e===void 0&&!(t in n))&&$a(n,t,e)}var Il=uV;function mV(n){return lr(n)&&Ga(n)}var iw=mV;function pV(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var Dl=pV;function hV(n){return tx(n,_u(n))}var nw=hV;function fV(n,t,e,i,r,o,l){var d=Dl(n,e),m=Dl(t,e),_=l.get(m);if(_){Il(n,e,_);return}var x=o?o(d,m,e+"",n,t,l):void 0,w=x===void 0;if(w){var I=kl(m),D=!I&&fu(m),P=!I&&!D&&gu(m);x=m,I||D||P?kl(d)?x=d:iw(d)?x=Qy(d):D?(w=!1,x=Kx(m,!0)):P?(w=!1,x=Xx(m,!0)):x=[]:Bx(m)||Tl(m)?(x=d,Tl(d)?x=nw(d):(!nn(d)||Ha(d))&&(x=Zx(m))):w=!1}w&&(l.set(m,x),r(x,m,i,o,l),l.delete(m)),Il(n,e,x)}var rw=fV;function ow(n,t,e,i,r){n!==t&&tw(t,function(o,l){if(r||(r=new qx),nn(o))rw(n,t,l,e,ow,i,r);else{var d=i?i(Dl(n,l),o,l+"",n,t,r):void 0;d===void 0&&(d=o),Il(n,l,d)}},_u)}var aw=ow;var gV=ax(function(n,t,e){aw(n,t,e)}),yu=gV;var sw=new Le("Configuration for ngCharts");function lw(...n){return{registerables:[...Fy,...n]}}function cw(...n){let t=yu({},...n);return{provide:sw,useValue:t}}var _V=(()=>{class n{constructor(){this.colorschemesOptions=new ci(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),xu=(()=>{class n{constructor(e,i,r,o){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new Pe,this.chartHover=new Pe,this.subs=[],this.themeOverrides={},o?.registerables&&ou.register(...o.registerables),o?.defaults&&$t.set(o.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Io()).subscribe(l=>this.themeChanged(l)))}ngOnChanges(e){let i=["type"],r=Object.getOwnPropertyNames(e);if(r.some(o=>i.includes(o))||r.every(o=>e[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new ou(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return yu({onHover:(e,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(i){return new(i||n)(T(Ne),T(Ze),T(_V),T(sw,8))}}static{this.\u0275dir=De({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[Lt]})}}return n})();var Z={tokenName:"boToken",currentRoleIndex:"boRoleIndex",refreshTokenName:"boRefreshToken",userName:"boUserConnected",childName:"boChildSelected",exercice:"boExercise",expireIn:"boExpireIn",features:"boFeatures"};var se=class n{constructor(t){this.platformId=t}set(t,e){Oo(this.platformId)&&localStorage.setItem(t,JSON.stringify(e))}get(t){let e="";return Oo(this.platformId)?(e=localStorage.getItem(t),e!=null?JSON.parse(e):null):null}remove(t){Oo(this.platformId)&&localStorage.removeItem(t)}static \u0275fac=function(e){return new(e||n)(z(cn))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Or=class n{constructor(t,e,i){this.lsService=t;this.router=e;this.route=i}canActivate(t,e){return this.lsService.get(Z.tokenName)!=null?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||n)(z(se),z(Be),z(Ke))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var wu={redirectLogin(n){let t=n.get(Z.userName),e="/admin/dashboard";return console.log(t),e}};var Al=class n{constructor(t,e){this.lsService=t;this.router=e}canActivate(t,e){if(this.lsService.get(Z.tokenName)!=null){let i=wu.redirectLogin(this.lsService);return this.router.navigate([i]),!1}else return!0}static \u0275fac=function(e){return new(e||n)(z(se),z(Be))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cu=class n{constructor(t,e){this.lsService=t;this.router=e}canActivate(t,e){return this.lsService.get(Z.tokenName)!=null?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||n)(z(se),z(Be))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var G0;try{G0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{G0=!1}var Ti=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Oo(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||G0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(z(cn))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pl;function bV(){if(Pl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pl=!0}))}finally{Pl=Pl||!1}return Pl}function mo(n){return bV()?n:!!n.capture}var Yo;function dw(){if(Yo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Yo=!1,Yo;if("scrollBehavior"in document.documentElement.style)Yo=!0;else{let n=Element.prototype.scrollTo;n?Yo=!/\{\s*\[native code\]\s*\}/.test(n.toString()):Yo=!1}}return Yo}var $0;function vV(){if($0==null){let n=typeof document<"u"?document.head:null;$0=!!(n&&(n.createShadowRoot||n.attachShadow))}return $0}function uw(n){if(vV()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function qn(n){return n.composedPath?n.composedPath()[0]:n.target}function Ol(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function mw(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Su(n){return n!=null&&`${n}`!="false"}function Vl(n,t=0){return yV(n)?Number(n):arguments.length===2?t:0}function yV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Xa(n){return Array.isArray(n)?n:[n]}function gi(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Rr(n){return n instanceof Ne?n.nativeElement:n}var xV=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Eu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[xV]})}}return n})();var pw=new Set,Qo,wV=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):SV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&CV(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(z(Ti),z(ks,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CV(n,t){if(!pw.has(n))try{Qo||(Qo=document.createElement("style"),t&&Qo.setAttribute("nonce",t),Qo.setAttribute("type","text/css"),document.head.appendChild(Qo)),Qo.sheet&&(Qo.sheet.insertRule(`@media ${n} {body{ }}`,0),pw.add(n))}catch(e){console.error(e)}}function SV(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var fw=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return hw(Xa(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=hw(Xa(e)).map(l=>this._registerQuery(l).observable),o=To(r);return o=Nc(o.pipe(yn(1)),o.pipe(la(1),xs(0))),o.pipe(mt(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:_})=>{d.matches=d.matches||m,d.breakpoints[_]=m}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Vn(l=>{let d=m=>this._zone.run(()=>l.next(m));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(br(i),mt(({matches:l})=>({query:e,matches:l})),dt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static{this.\u0275fac=function(i){return new(i||n)(z(wV),z(Ze))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hw(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var vw=" ";function TV(n,t,e){let i=Iu(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(vw)))}function MV(n,t,e){let i=Iu(n,t);e=e.trim();let r=i.filter(o=>o!==e);r.length?n.setAttribute(t,r.join(vw)):n.removeAttribute(t)}function Iu(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var yw="cdk-describedby-message",ku="cdk-describedby-host",K0=0,xw=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${K0++}`,this._document=e,this._id=q(Es)+"-"+K0++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;let o=Y0(i,r);typeof i!="string"?(gw(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;let o=Y0(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof i=="string"){let l=this._messageRegistry.get(o);l&&l.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${ku}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(ku);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){let r=this._document.createElement("div");gw(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Y0(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let i=Iu(e,"aria-describedby").filter(r=>r.indexOf(yw)!=0);e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){let r=this._messageRegistry.get(i);TV(e,"aria-describedby",r.messageElement.id),e.setAttribute(ku,this._id),r.referenceCount++}_removeMessageReference(e,i){let r=this._messageRegistry.get(i);r.referenceCount--,MV(e,"aria-describedby",r.messageElement.id),e.removeAttribute(ku)}_isElementDescribedByMessage(e,i){let r=Iu(e,"aria-describedby"),o=this._messageRegistry.get(i),l=o&&o.messageElement.id;return!!l&&r.indexOf(l)!=-1}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(Ti))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y0(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function gw(n,t){n.id||(n.id=`${yw}-${t}-${K0++}`)}function J0(n){return n.buttons===0||n.detail===0}function X0(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var IV=new Le("cdk-input-modality-detector-options"),DV={ignoreKeys:[18,17,224,91,16]},ww=650,Za=mo({passive:!0,capture:!0}),AV=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ci(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(d=>d===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qn(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<ww||(this._modality.next(J0(l)?"keyboard":"mouse"),this._mostRecentTarget=qn(l))},this._onTouchstart=l=>{if(X0(l)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qn(l)},this._options=X(X({},DV),o),this.modalityDetected=this._modality.pipe(la(1)),this.modalityChanged=this.modalityDetected.pipe(Io()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Za),r.addEventListener("mousedown",this._onMousedown,Za),r.addEventListener("touchstart",this._onTouchstart,Za)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Za),document.removeEventListener("mousedown",this._onMousedown,Za),document.removeEventListener("touchstart",this._onTouchstart,Za))}static{this.\u0275fac=function(i){return new(i||n)(z(Ti),z(Ze),z(Ye),z(IV,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mu=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Mu||{}),PV=new Le("cdk-focus-monitor-default-options"),Tu=mo({passive:!0,capture:!0}),Cw=(()=>{class n{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Re,this._rootNodeFocusAndBlurListener=d=>{let m=qn(d);for(let _=m;_;_=_.parentElement)d.type==="focus"?this._onFocus(d,_):this._onBlur(d,_)},this._document=o,this._detectionMode=l?.detectionMode||Mu.IMMEDIATE}monitor(e,i=!1){let r=Rr(e);if(!this._platform.isBrowser||r.nodeType!==1)return je();let o=uw(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;let d={checkChildren:i,subject:new Re,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){let i=Rr(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let o=Rr(e),l=this._getDocument().activeElement;o===l?this._getClosestElementsInfo(o).forEach(([d,m])=>this._originChanged(d,i,m)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Mu.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Mu.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?ww:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),o=qn(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tu)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||n)(z(Ze),z(Ti),z(AV),z(Ye,8),z(PV,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ko=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ko||{}),_w="cdk-high-contrast-black-on-white",bw="cdk-high-contrast-white-on-black",Q0="cdk-high-contrast-active",Z0=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=q(fw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ko.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ko.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ko.BLACK_ON_WHITE}return Ko.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Q0,_w,bw),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Ko.BLACK_ON_WHITE?e.add(Q0,_w):i===Ko.WHITE_ON_BLACK&&e.add(Q0,bw)}}static{this.\u0275fac=function(i){return new(i||n)(z(Ti),z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Sw=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(z(Z0))}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[Eu]})}}return n})();var OV=new Le("cdk-dir-doc",{providedIn:"root",factory:RV});function RV(){return q(Ye)}var VV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function FV(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?VV.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Du=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Pe,e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=FV(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(z(OV,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var po=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();function NV(){return!0}var LV=new Le("mat-sanity-checks",{providedIn:"root",factory:NV}),zt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Ol()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(i){return new(i||n)(z(Z0),z(LV,8),z(Ye))}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[po,po]})}}return n})();var In=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(In||{}),ef=class{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=In.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Tw=mo({passive:!0,capture:!0}),tf=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=qn(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){let o=this._events.get(e);if(o){let l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Tw)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(i),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Tw)))}},Mw={enterDuration:225,exitDuration:150},BV=800,Iw=mo({passive:!0,capture:!0}),Dw=["mousedown","touchstart"],Aw=["mouseup","mouseleave","touchend","touchcancel"],nf=class n{static{this._eventManager=new tf}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Rr(i))}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=X(X({},Mw),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let l=i.radius||jV(t,e,r),d=t-r.left,m=e-r.top,_=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=`${d-l}px`,x.style.top=`${m-l}px`,x.style.height=`${l*2}px`,x.style.width=`${l*2}px`,i.color!=null&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(x);let w=window.getComputedStyle(x),I=w.transitionProperty,D=w.transitionDuration,P=I==="none"||D==="0s"||D==="0s, 0s"||r.width===0&&r.height===0,A=new ef(this,x,i,P);x.style.transform="scale3d(1, 1, 1)",A.state=In.FADING_IN,i.persistent||(this._mostRecentTransientRipple=A);let O=null;return!P&&(_||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let U=()=>{O&&(O.fallbackTimer=null),clearTimeout(Y),this._finishRippleTransition(A)},H=()=>this._destroyRipple(A),Y=setTimeout(H,_+100);x.addEventListener("transitionend",U),x.addEventListener("transitioncancel",H),O={onTransitionEnd:U,onTransitionCancel:H,fallbackTimer:Y}}),this._activeRipples.set(A,O),(P||!_)&&this._finishRippleTransition(A),A}fadeOutRipple(t){if(t.state===In.FADING_OUT||t.state===In.HIDDEN)return;let e=t.element,i=X(X({},Mw),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=In.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Rr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Dw.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Aw.forEach(e=>{this._triggerElement.addEventListener(e,this,Iw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===In.FADING_IN?this._startFadeOutTransition(t):t.state===In.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=In.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=In.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=J0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+BV;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!X0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===In.VISIBLE||t.config.terminateOnPointerUp&&t.state===In.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Dw.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Aw.forEach(e=>t.removeEventListener(e,this,Iw)),this._pointerUpEventsRegistered=!1))}};function jV(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var es=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,zt]})}}return n})();var Pw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt]})}}return n})();var Ow=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,es,zt]})}}return n})();var Rw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,zt]})}}return n})();var Vw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,zt]})}}return n})();var qw=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(T(Ui),T(Ne))}}static{this.\u0275dir=De({type:n})}}return n})(),os=(()=>{class n extends qw{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,features:[Wt]})}}return n})(),Wi=new Le(""),zV={provide:Wi,useExisting:ni(()=>Ul),multi:!0},Ul=(()=>{class n extends os{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[vt([zV]),Wt]})}}return n})(),UV={provide:Wi,useExisting:ni(()=>ue),multi:!0};function HV(){let n=ga()?ga().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var WV=new Le(""),ue=(()=>{class n extends qw{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HV())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Ui),T(Ne),T(WV,8))}}static{this.\u0275dir=De({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&v("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[vt([UV]),Wt]})}}return n})();function ho(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function $w(n){return n!=null&&typeof n.length=="number"}var Fr=new Le(""),ju=new Le(""),qV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Jo=class{static min(t){return Gw(t)}static max(t){return Yw(t)}static required(t){return Qw(t)}static requiredTrue(t){return $V(t)}static email(t){return GV(t)}static minLength(t){return Kw(t)}static maxLength(t){return Jw(t)}static pattern(t){return YV(t)}static nullValidator(t){return Pu(t)}static compose(t){return nC(t)}static composeAsync(t){return rC(t)}};function Gw(n){return t=>{if(ho(t.value)||ho(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Yw(n){return t=>{if(ho(t.value)||ho(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Qw(n){return ho(n.value)?{required:!0}:null}function $V(n){return n.value===!0?null:{required:!0}}function GV(n){return ho(n.value)||qV.test(n.value)?null:{email:!0}}function Kw(n){return t=>ho(t.value)||!$w(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function Jw(n){return t=>$w(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function YV(n){if(!n)return Pu;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(ho(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Pu(n){return null}function Xw(n){return n!=null}function Zw(n){return Wc(n)?Si(n):n}function eC(n){let t={};return n.forEach(e=>{t=e!=null?X(X({},t),e):t}),Object.keys(t).length===0?null:t}function tC(n,t){return t.map(e=>e(n))}function QV(n){return!n.validate}function iC(n){return n.map(t=>QV(t)?t:e=>t.validate(e))}function nC(n){if(!n)return null;let t=n.filter(Xw);return t.length==0?null:function(e){return eC(tC(e,t))}}function cf(n){return n!=null?nC(iC(n)):null}function rC(n){if(!n)return null;let t=n.filter(Xw);return t.length==0?null:function(e){let i=tC(e,t).map(Zw);return o_(i).pipe(mt(eC))}}function df(n){return n!=null?rC(iC(n)):null}function Fw(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function oC(n){return n._rawValidators}function aC(n){return n._rawAsyncValidators}function rf(n){return n?Array.isArray(n)?n:[n]:[]}function Ou(n,t){return Array.isArray(n)?n.includes(t):n===t}function Nw(n,t){let e=rf(t);return rf(n).forEach(r=>{Ou(e,r)||e.push(r)}),e}function Lw(n,t){return rf(t).filter(e=>!Ou(n,e))}var Ru=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=df(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Vr=class extends Ru{get formDirective(){return null}get path(){return null}},fo=class extends Ru{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vu=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},KV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Mie=tt(X({},KV),{"[class.ng-submitted]":"isSubmitted"}),me=(()=>{class n extends Vu{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(T(fo,2))}}static{this.\u0275dir=De({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&at("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Wt]})}}return n})(),xe=(()=>{class n extends Vu{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(T(Vr,10))}}static{this.\u0275dir=De({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&at("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Wt]})}}return n})();var Fl="VALID",Au="INVALID",ts="PENDING",Nl="DISABLED",go=class{},Fu=class extends go{constructor(t,e){super(),this.value=t,this.source=e}},Bl=class extends go{constructor(t,e){super(),this.pristine=t,this.source=e}},jl=class extends go{constructor(t,e){super(),this.touched=t,this.source=e}},is=class extends go{constructor(t,e){super(),this.status=t,this.source=e}},of=class extends go{constructor(t){super(),this.source=t}},af=class extends go{constructor(t){super(),this.source=t}};function uf(n){return(zu(n)?n.validators:n)||null}function JV(n){return Array.isArray(n)?cf(n):n||null}function mf(n,t){return(zu(t)?t.asyncValidators:n)||null}function XV(n){return Array.isArray(n)?df(n):n||null}function zu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function sC(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Pt(1e3,"");if(!i[e])throw new Pt(1001,"")}function lC(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new Pt(1002,"")})}var ns=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ao(()=>this.statusReactive()),this.statusReactive=dn(void 0),this._pristine=Ao(()=>this.pristineReactive()),this.pristineReactive=dn(!0),this._touched=Ao(()=>this.touchedReactive()),this.touchedReactive=dn(!1),this._events=new Re,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Sn(this.statusReactive)}set status(t){Sn(()=>this.statusReactive.set(t))}get valid(){return this.status===Fl}get invalid(){return this.status===Au}get pending(){return this.status==ts}get disabled(){return this.status===Nl}get enabled(){return this.status!==Nl}get pristine(){return Sn(this.pristineReactive)}set pristine(t){Sn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Sn(this.touchedReactive)}set touched(t){Sn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Nw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Nw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lw(t,this._rawAsyncValidators))}hasValidator(t){return Ou(this._rawValidators,t)}hasAsyncValidator(t){return Ou(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(tt(X({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new jl(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new jl(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(tt(X({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new Bl(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new Bl(!0,i))}markAsPending(t={}){this.status=ts;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new is(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(tt(X({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Nl,this.errors=null,this._forEachChild(r=>{r.disable(tt(X({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fu(this.value,i)),this._events.next(new is(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(tt(X({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Fl,this._forEachChild(i=>{i.enable(tt(X({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(tt(X({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===ts)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fu(this.value,e)),this._events.next(new is(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(tt(X({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nl:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=Zw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new is(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?Nl:this.errors?Au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(Au)?Au:Fl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Bl(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new jl(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=JV(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=XV(this._rawAsyncValidators)}},rs=class extends ns{constructor(t,e,i){super(uf(e),mf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){lC(this,!0,t),Object.keys(t).forEach(i=>{sC(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var sf=class extends rs{};var as=new Le("CallSetDisabledState",{providedIn:"root",factory:()=>Hl}),Hl="always";function cC(n,t){return[...t.path,n]}function Nu(n,t,e=Hl){pf(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),e5(n,t),i5(n,t),t5(n,t),ZV(n,t)}function Bw(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Lu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ZV(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function pf(n,t){let e=oC(n);t.validator!==null?n.setValidators(Fw(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=aC(n);t.asyncValidator!==null?n.setAsyncValidators(Fw(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Lu(t._rawValidators,r),Lu(t._rawAsyncValidators,r)}function Bu(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=oC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(l=>l!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=aC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(l=>l!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Lu(t._rawValidators,i),Lu(t._rawAsyncValidators,i),e}function e5(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&dC(n,t)})}function t5(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&dC(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function dC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function i5(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function uC(n,t){n==null,pf(n,t)}function n5(n,t){return Bu(n,t)}function mC(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function r5(n){return Object.getPrototypeOf(n.constructor)===os}function pC(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function hC(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===ue?e=o:r5(o)?i=o:r=o}),r||i||e||null}function o5(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var a5={provide:Vr,useExisting:ni(()=>Ce)},Ll=Promise.resolve(),Ce=(()=>{class n extends Vr{get submitted(){return Sn(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ao(()=>this.submittedReactive()),this.submittedReactive=dn(!1),this._directives=new Set,this.ngSubmit=new Pe,this.form=new rs({},cf(e),df(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ll.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Nu(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ll.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ll.then(()=>{let i=this._findContainer(e.path),r=new rs({});uC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ll.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ll.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),pC(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(T(Fr,10),T(ju,10),T(as,8))}}static{this.\u0275dir=De({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&v("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([a5]),Wt]})}}return n})();function jw(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function zw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zl=class extends ns{constructor(t=null,e,i){super(uf(e),mf(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(zw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){zw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var s5=n=>n instanceof zl;var l5={provide:fo,useExisting:ni(()=>he)},Uw=Promise.resolve(),he=(()=>{class n extends fo{constructor(e,i,r,o,l,d){super(),this._changeDetectorRef=l,this.callSetDisabledState=d,this.control=new zl,this._registered=!1,this.name="",this.update=new Pe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hC(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),mC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Uw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Bn(i);Uw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?cC(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(T(Vr,9),T(Fr,10),T(ju,10),T(Wi,10),T(Ot,8),T(as,8))}}static{this.\u0275dir=De({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vt([l5]),Wt,Lt]})}}return n})(),we=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),c5={provide:Wi,useExisting:ni(()=>hf),multi:!0},hf=(()=>{class n extends os{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&v("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[vt([c5]),Wt]})}}return n})(),d5={provide:Wi,useExisting:ni(()=>Qe),multi:!0};var u5=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e){this._accessors.splice(i,1);return}}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return e[0].control?e[0]._parent===i._control._parent&&e[1].name===i.name:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qe=(()=>{class n extends os{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=q(as,{optional:!0})??Hl}ngOnInit(){this._control=this._injector.get(fo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(i){return new(i||n)(T(Ui),T(Ne),T(u5),T(Rt))}}static{this.\u0275dir=De({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[vt([d5]),Wt]})}}return n})();var fC=new Le("");var m5={provide:Vr,useExisting:ni(()=>ff)},ff=(()=>{class n extends Vr{get submitted(){return Sn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Ao(()=>this._submittedReactive()),this._submittedReactive=dn(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return Nu(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Bw(e.control||null,e,!1),o5(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),pC(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new of(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new af(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Bw(i||null,e),s5(r)&&(Nu(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);uC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&n5(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pf(this.form,this),this._oldForm&&Bu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(T(Fr,10),T(ju,10),T(as,8))}}static{this.\u0275dir=De({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&v("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([m5]),Wt,Lt]})}}return n})();var p5={provide:fo,useExisting:ni(()=>gf)},gf=(()=>{class n extends fo{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new Pe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=hC(this,o)}ngOnChanges(e){this._added||this._setUpControl(),mC(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return cC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(T(Vr,13),T(Fr,10),T(ju,10),T(Wi,10),T(fC,8))}}static{this.\u0275dir=De({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[vt([p5]),Wt,Lt]})}}return n})(),h5={provide:Wi,useExisting:ni(()=>$e),multi:!0};function gC(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function f5(n){return n.split(":")[0]}var $e=(()=>{class n extends os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=gC(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=f5(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&v("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([h5]),Wt]})}}return n})(),Ve=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(gC(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(T(Ne),T(Ui),T($e,9))}}static{this.\u0275dir=De({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),g5={provide:Wi,useExisting:ni(()=>_C),multi:!0};function Hw(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function _5(n){return n.split(":")[0]}var _C=(()=>{class n extends os{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,l)=>{o._setSelected(r.indexOf(l.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let l=o;for(let d=0;d<l.length;d++){let m=l[d],_=this._getOptionValue(m.value);r.push(_)}}else{let l=i.options;for(let d=0;d<l.length;d++){let m=l[d];if(m.selected){let _=this._getOptionValue(m.value);r.push(_)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=_5(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vt([g5]),Wt]})}}return n})(),Fe=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Hw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Hw(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(T(Ne),T(Ui),T(_C,9))}}static{this.\u0275dir=De({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function bC(n){return typeof n=="number"?n:parseInt(n,10)}function vC(n){return typeof n=="number"?n:parseFloat(n)}var Wl=(()=>{class n{constructor(){this._validator=Pu}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Pu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,features:[Lt]})}}return n})(),b5={provide:Fr,useExisting:ni(()=>_f),multi:!0},_f=(()=>{class n extends Wl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>vC(e),this.createValidator=e=>Yw(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&lt("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[vt([b5]),Wt]})}}return n})(),v5={provide:Fr,useExisting:ni(()=>bf),multi:!0},bf=(()=>{class n extends Wl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>vC(e),this.createValidator=e=>Gw(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&lt("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[vt([v5]),Wt]})}}return n})(),y5={provide:Fr,useExisting:ni(()=>Oe),multi:!0};var Oe=(()=>{class n extends Wl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bn,this.createValidator=e=>Qw}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&lt("required",r._enabled?"":null)},inputs:{required:"required"},features:[vt([y5]),Wt]})}}return n})();var x5={provide:Fr,useExisting:ni(()=>ql),multi:!0},ql=(()=>{class n extends Wl{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>bC(e),this.createValidator=e=>Kw(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&lt("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[vt([x5]),Wt]})}}return n})(),w5={provide:Fr,useExisting:ni(()=>vf),multi:!0},vf=(()=>{class n extends Wl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>bC(e),this.createValidator=e=>Jw(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&lt("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[vt([w5]),Wt]})}}return n})();var yC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),lf=class extends ns{constructor(t,e,i){super(uf(e),mf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){lC(this,!1,t),t.forEach((i,r)=>{sC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Ww(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var xC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return Ww(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new rs(r,o)}record(e,i=null){let r=this._reduceControls(e);return new sf(r,i)}control(e,i,r){let o={};return this.useNonNullable?(Ww(i)?o=i:(o.validators=i,o.asyncValidators=r),new zl(e,tt(X({},o),{nonNullable:!0}))):new zl(e,i,r)}array(e,i,r){let o=e.map(l=>this._createControl(l));return new lf(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof zl)return e;if(e instanceof ns)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ce=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:as,useValue:e.callSetDisabledState??Hl}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[yC]})}}return n})(),Uu=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:as,useValue:e.callSetDisabledState??Hl}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[yC]})}}return n})();var wC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[Eu,oe,zt,es,Pw,Vw]})}}return n})();var C5=20,$l=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=C5){return this._platform.isBrowser?new Vn(i=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(ys(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):je()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ii(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Rr(i),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return Ii(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(z(Ze),z(Ti),z(Ye,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var S5=20,Hu=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Re,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),l=-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,d=-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:l,left:d}}change(e=S5){return e>0?this._change.pipe(ys(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(z(Ti),z(Ze),z(Ye,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Nr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),yf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[po,Nr,po,Nr]})}}return n})();var CC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,Nr,Nr,zt]})}}return n})();var SC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,zt]})}}return n})();var EC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var Gl=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Yl=class extends Gl{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Ql=class extends Gl{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},xf=class extends Gl{constructor(t){super(),this.element=t instanceof Ne?t.nativeElement:t}},wf=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Yl)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ql)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof xf)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Wu=class extends wf{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{this._document;let d=l.element;d.parentNode;let m=this._document.createComment("dom-portal");d.parentNode.insertBefore(m,d),this.outletElement.appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=o}attachComponentPortal(t){let i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var qu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var kC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[zt,EC,qu]})}}return n})();var TC=dw(),Cf=class{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=gi(-this._previousScrollPosition.left),t.style.top=gi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),TC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TC&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Sf=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(ii(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},$u=class{enable(){}disable(){}attach(){}};function Ef(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,o=n.right<e.left,l=n.left>e.right;return i||r||o||l})}function MC(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,o=n.left<e.left,l=n.right>e.right;return i||r||o||l})}var kf=class{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ef(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},T5=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new $u,this.close=l=>new Sf(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new Cf(this._viewportRuler,this._document),this.reposition=l=>new kf(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}static{this.\u0275fac=function(i){return new(i||n)(z($l),z(Hu),z(Ze),z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Gu=class{constructor(t){if(this.scrollStrategy=new $u,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Tf=class{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var RC=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(z(Ye))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),M5=(()=>{class n extends RC{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{let o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){let d=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(Ze,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),I5=(()=>{class n extends RC{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=qn(o)},this._clickListener=o=>{let l=qn(o),d=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;let m=this._attachedOverlays.slice();for(let _=m.length-1;_>-1;_--){let x=m[_];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(IC(x.overlayElement,l)||IC(x.overlayElement,d))break;let w=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>w.next(o)):w.next(o)}}}add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(Ti),z(Ze,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function IC(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var VC=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Ol()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(e),Ol()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(z(Ye),z(Ti))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Mf=class{constructor(t,e,i,r,o,l,d,m,_,x=!1,w){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=d,this._location=m,this._outsideClickDispatcher=_,this._animationsDisabled=x,this._injector=w,this._backdropElement=null,this._backdropClick=new Re,this._attachments=new Re,this._detachments=new Re,this._locationChanges=Eo.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Re,this._outsidePointerEvents=new Re,this._renders=new Re,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Sn(()=>Cp(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=un(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=X(X({},this._config),t),this._updateElementSize()}setDirection(t){this._config=tt(X({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=gi(this._config.width),t.height=gi(this._config.height),t.minWidth=gi(this._config.minWidth),t.minHeight=gi(this._config.minHeight),t.maxWidth=gi(this._config.maxWidth),t.maxHeight=gi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=Xa(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(dt(Mo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},DC="cdk-overlay-connected-position-bounding-box",D5=/([A-Za-z%]+)$/,If=class{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re,this._resizeSubscription=Eo.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(DC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],l;for(let d of this._preferredPositions){let m=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(m,e,d),x=this._getOverlayFit(_,e,i,d);if(x.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(d,m);return}if(this._canFitWithFlexibleDimensions(x,_,i)){o.push({position:d,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,d)});continue}(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:_,originPoint:m,position:d,overlayRect:e})}if(o.length){let d=null,m=-1;for(let _ of o){let x=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);x>m&&(m=x,d=_)}this._isPushed=!1,this._applyPosition(d.position,d.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(l.position,l.originPoint);return}this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let l=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r=i.originX=="start"?l:d}e.left<0&&(r-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){let o=PC(e),{x:l,y:d}=t,m=this._getOffset(r,"x"),_=this._getOffset(r,"y");m&&(l+=m),_&&(d+=_);let x=0-l,w=l+o.width-i.width,I=0-d,D=d+o.height-i.height,P=this._subtractOverflows(o.width,x,w),A=this._subtractOverflows(o.height,I,D),O=P*A;return{visibleArea:O,isCompletelyWithinViewport:o.width*o.height===O,fitsInViewportVertically:A===o.height,fitsInViewportHorizontally:P==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,o=i.right-e.x,l=AC(this._overlayRef.getConfig().minHeight),d=AC(this._overlayRef.getConfig().minWidth),m=t.fitsInViewportVertically||l!=null&&l<=r,_=t.fitsInViewportHorizontally||d!=null&&d<=o;return m&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=PC(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),_=Math.max(o.left-i.left-t.x,0),x=0,w=0;return r.width<=o.width?x=_||-l:x=t.x<this._viewportMargin?o.left-i.left-t.x:0,r.height<=o.height?w=m||-d:w=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x,y:w},{x:t.x+x,y:t.y+w}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!A5(this._lastScrollVisibility,i)){let r=new Tf(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),o,l,d;if(e.overlayY==="top")l=t.y,o=i.height-l+this._viewportMargin;else if(e.overlayY==="bottom")d=i.height-t.y+this._viewportMargin*2,o=i.height-d+this._viewportMargin;else{let D=Math.min(i.bottom-t.y+i.top,t.y),P=this._lastBoundingBoxSize.height;o=D*2,l=t.y-D,o>P&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-P/2)}let m=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,_=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,x,w,I;if(_)I=i.width-t.x+this._viewportMargin*2,x=t.x-this._viewportMargin;else if(m)w=t.x,x=i.right-t.x;else{let D=Math.min(i.right-t.x+i.left,t.x),P=this._lastBoundingBoxSize.width;x=D*2,w=t.x-D,x>P&&!this._isInitialRender&&!this._growAfterOpen&&(w=t.x-P/2)}return{top:l,left:w,bottom:d,right:I,width:x,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=gi(i.height),r.top=gi(i.top),r.bottom=gi(i.bottom),r.width=gi(i.width),r.left=gi(i.left),r.right=gi(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=gi(o)),l&&(r.maxWidth=gi(l))}this._lastBoundingBoxSize=i,Xo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Xo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){let x=this._viewportRuler.getViewportScrollPosition();Xo(i,this._getExactOverlayY(e,t,x)),Xo(i,this._getExactOverlayX(e,t,x))}else i.position="static";let d="",m=this._getOffset(e,"x"),_=this._getOffset(e,"y");m&&(d+=`translateX(${m}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),l.maxHeight&&(r?i.maxHeight=gi(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=gi(l.maxWidth):o&&(i.maxWidth="")),Xo(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let l=this._document.documentElement.clientHeight;r.bottom=`${l-(o.y+this._overlayRect.height)}px`}else r.top=gi(o.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let l;if(this._isRtl()?l=t.overlayX==="end"?"left":"right":l=t.overlayX==="end"?"right":"left",l==="right"){let d=this._document.documentElement.clientWidth;r.right=`${d-(o.x+this._overlayRect.width)}px`}else r.left=gi(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MC(t,i),isOriginOutsideView:Ef(t,i),isOverlayClipped:MC(e,i),isOverlayOutsideView:Ef(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Xa(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Ne)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function Xo(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function AC(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(D5);return!e||e==="px"?parseFloat(t):null}return n||null}function PC(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function A5(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var OC="cdk-global-overlay-wrapper",Df=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(OC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:d}=i,m=(r==="100%"||r==="100vw")&&(!l||l==="100%"||l==="100vw"),_=(o==="100%"||o==="100vh")&&(!d||d==="100%"||d==="100vh"),x=this._xPosition,w=this._xOffset,I=this._overlayRef.getConfig().direction==="rtl",D="",P="",A="";m?A="flex-start":x==="center"?(A="center",I?P=w:D=w):I?x==="left"||x==="end"?(A="flex-end",D=w):(x==="right"||x==="start")&&(A="flex-start",P=w):x==="left"||x==="start"?(A="flex-start",D=w):(x==="right"||x==="end")&&(A="flex-end",P=w),t.position=this._cssPosition,t.marginLeft=m?"0":D,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":P,e.justifyContent=A,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(OC),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},P5=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Df}flexibleConnectedTo(e){return new If(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(z(Hu),z(Ye),z(Ti),z(VC))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),O5=0,$n=(()=>{class n{constructor(e,i,r,o,l,d,m,_,x,w,I,D){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=d,this._ngZone=m,this._document=_,this._directionality=x,this._location=w,this._outsideClickDispatcher=I,this._animationsModuleType=D}create(e){let i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new Gu(e);return l.direction=l.direction||this._directionality.value,new Mf(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(xn))}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=`cdk-overlay-${O5++}`,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Hi)),new Wu(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(z(T5),z(VC),z(pa),z(P5),z(M5),z(Rt),z(Ze),z(Ye),z(Du),z(yr),z(I5),z(Do,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var R5=new Le("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=q($n);return()=>n.scrollStrategies.reposition()}});function V5(n){return()=>n.scrollStrategies.reposition()}var F5={provide:R5,deps:[$n],useFactory:V5},Yu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[$n,F5],imports:[po,qu,yf,yf]})}}return n})();var FC={transformMenu:Ro("transformMenu",[Zn("void",pn({opacity:0,transform:"scale(0.8)"})),wr("void => enter",xr("120ms cubic-bezier(0, 0, 0.2, 1)",pn({opacity:1,transform:"scale(1)"}))),wr("* => void",xr("100ms 25ms linear",pn({opacity:0})))]),fadeInItems:Ro("fadeInItems",[Zn("showing",pn({opacity:1})),wr("void => *",[pn({opacity:0}),xr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Xne=FC.fadeInItems,Zne=FC.transformMenu;var L5=new Le("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=q($n);return()=>n.scrollStrategies.reposition()}});function B5(n){return()=>n.scrollStrategies.reposition()}var j5={provide:L5,deps:[$n],useFactory:B5};var NC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[j5],imports:[oe,es,zt,Yu,Nr,zt]})}}return n})();var Kl=Mk(LC()),pe={simpleAlert(n,t,e,i){Kl.default.fire({icon:n,title:t,text:e,footer:i})},simpleAlertWithHtml(n,t,e,i){Kl.default.fire({icon:n,title:t,html:e,footer:i})},positionned(n,t,e=1500,i){Kl.default.fire({position:i,icon:n,title:t,showConfirmButton:!1,timer:1500})},confirmBox(n,t,e){return Kl.default.fire({title:t,text:e,icon:n,showCancelButton:!0,confirmButtonText:"Oui, continuer",cancelButtonText:"Annuler"})}};var BC=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"Comptes Admin Sectoriels",icon:"person-outline",link:"/admin/users"},{title:"D\xE9partements",icon:"options-outline",link:"/admin/departments"},{title:"Type Entit\xE9",icon:"options-outline",link:"/admin/entity-type"},{title:"Entit\xE9s",icon:"options-outline",link:"/admin/entities"},{title:"Type Unit\xE9 Admin",icon:"options-outline",link:"/admin/unity-admin-type"},{title:"R\xF4le & Permissions",icon:"options-outline",link:"/admin/profiles"},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"}],jC=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"Agents",icon:"person-outline",link:"/admin/officers"},{title:"Comptes utilisateurs",icon:"person-outline",link:"/admin/users"},{title:"Prestations",icon:"home-outline",link:"",home:!0,isTitle:!0},{title:"Prestations",icon:"award-outline",link:"/admin/prestations"},{title:"Param\xE8tre",icon:"home-outline",link:"",home:!0,isTitle:!0},{title:"Unit\xE9 Admin",icon:"options-outline",link:"/admin/unity-admins"},{title:"Fonction Agent",icon:"options-outline",link:"/admin/posts"},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"},{title:"Support",icon:"settings-2-outline",link:"/admin/billings"},{title:"Sujet de support",icon:"settings-2-outline",link:"/admin/type-billings"}],zC=[{title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0},{title:"Tableau de bord ",icon:"home-outline",link:"/admin/dashboard",home:!0},{title:"E Service",icon:"award-outline",children:[{title:"Attestation de service fait",link:"/admin/eservice/espace-decision/service/attestation-de-service-fait"},{title:"Autorisation de stage",link:"/admin/eservice/espace-decision/service/autorisation-de-stage"},{title:"Attestation de stage",link:"/admin/eservice/espace-decision/service/attestation-de-stage"},{title:"R\xE8glement Int\xE9rieur",link:"/admin/eservice/espace-decision/service/visa-reglement-interieur-entreprise"},{title:"Autorisation Licenciement",link:"/admin/eservice/espace-decision/service/autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel"},{title:"Contrat d'apprentissage",link:"/admin/eservice/espace-decision/service/visa-contrat-apprentisage"},{title:"Agr\xE9ment M\xE9d\xE9cin",link:"/admin/eservice/espace-decision/service/decision-agrement-exercice-medecin"}]},{title:"Statistiques",isTitle:!1,hasChildren:!1,collapse:!1,slug:"",link:"/admin/eservice/statistiques"},{title:"Param\xE8tre",icon:"settings-2-outline",link:"/admin/settings"}];function Qu(n){n||(f_(Qu),n=q(Lc));let t=new Vn(e=>n.onDestroy(e.next.bind(e)));return e=>e.pipe(dt(t))}var Vf=["*"];function z5(n,t){if(n&1){let e=S();a(0,"button",1),v("click",function(){f(e);let r=p();return g(r.close())}),s()}}var U5=n=>({$implicit:n});var H5=["dialog"],W5=["ngbNavOutlet",""];function q5(n,t){}function $5(n,t){if(n&1&&(a(0,"div",0),k(1,q5,0,0,"ng-template",1),s()),n&2){let e=p().$implicit,i=p();h("item",e)("nav",i.nav)("role",i.paneRole),u(),h("ngTemplateOutlet",(e.contentTpl==null?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",Ki(5,U5,e.active||i.isPanelTransitioning(e)))}}function G5(n,t){if(n&1&&k(0,$5,2,7,"div",0),n&2){let e=t.$implicit,i=p();Xn(e.isPanelInDom()||i.isPanelTransitioning(e)?0:-1)}}var HC={animation:!0,transitionTimerDelayMs:5},Zu=(()=>{class n{constructor(){this.animation=HC.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Y5(n){let{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n),i=parseFloat(t),r=parseFloat(e);return(i+r)*1e3}function Ff(n){return typeof n=="string"}function ur(n){return n!=null}function WC(n){return n&&n.then}function Jl(n){return(n||document.body).getBoundingClientRect()}function Q5(n){return t=>new Vn(e=>{let i=l=>n.run(()=>e.next(l)),r=l=>n.run(()=>e.error(l)),o=()=>n.run(()=>e.complete());return t.subscribe({next:i,error:r,complete:o})})}var K5=()=>{},{transitionTimerDelayMs:J5}=HC,Ku=new Map,rn=(n,t,e,i)=>{let r=i.context||{},o=Ku.get(t);if(o)switch(i.runningTransition){case"continue":return Kn;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),Ku.delete(t)}let l=e(t,i.animation,r)||K5;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return n.run(()=>l()),je(void 0).pipe(Q5(n));let d=new Re,m=new Re,_=d.pipe(c_(!0));Ku.set(t,{transition$:d,complete:()=>{m.next(),m.complete()},context:r});let x=Y5(t);return n.runOutsideAngular(()=>{let w=Ii(t,"transitionend").pipe(dt(_),ii(({target:D})=>D===t)),I=a_(x+J5).pipe(dt(_));s_(I,w,m).pipe(dt(_)).subscribe(()=>{Ku.delete(t),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()};var qC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),X5=(()=>{class n{constructor(){this._ngbConfig=q(Zu),this.dismissible=!0,this.type="warning"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Z5=({classList:n})=>{n.remove("show")},_o=(()=>{class n{constructor(){this._config=q(X5),this._elementRef=q(Ne),this._zone=q(Ze),this.animation=this._config.animation,this.dismissible=this._config.dismissible,this.type=this._config.type,this.closed=new Pe}close(){let e=rn(this._zone,this._elementRef.nativeElement,Z5,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>this.closed.emit()),e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert"],hostVars:6,hostBindings:function(i,r){i&2&&(Qt("alert show"+(r.type?" alert-"+r.type:"")),at("fade",r.animation)("alert-dismissible",r.dismissible))},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[J],ngContentSelectors:Vf,decls:2,vars:1,consts:()=>{let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","aria-label",e,1,"btn-close"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(i,r){i&1&&(hi(),fi(0),k(1,z5,1,0,"button",0)),i&2&&(u(),Xn(r.dismissible?1:-1))},styles:[`ngb-alert{display:block}
`],encapsulation:2,changeDetection:0})}}return n})(),$C=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var GC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),YC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var Lre=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||t()):!1})();var eF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Nf(n){let t=Array.from(n.querySelectorAll(eF)).filter(e=>e.tabIndex!==-1);return[t[0],t[t.length-1]]}var QC=(n,t,e,i=!1)=>{n.runOutsideAngular(()=>{let r=Ii(t,"focusin").pipe(dt(e),mt(o=>o.target));Ii(t,"keydown").pipe(dt(e),ii(o=>o.key==="Tab"),bp(r)).subscribe(([o,l])=>{let[d,m]=Nf(t);(l===d||l===t)&&o.shiftKey&&(m.focus(),o.preventDefault()),l===m&&!o.shiftKey&&(d.focus(),o.preventDefault())}),i&&Ii(t,"click").pipe(dt(e),bp(r),mt(o=>o[1])).subscribe(o=>o.focus())})};var Bre=new Date(1882,10,12),jre=new Date(2174,10,25);var zre=1e3*60*60*24;var Lf=1080,tF=24*Lf,iF=12*Lf+793,Ure=29*tF+iF,Hre=11*Lf+204;var KC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var JC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),ut=(()=>{class n{constructor(){this._ngbConfig=q(Zu),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dr=class{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}};var XC=(()=>{class n{constructor(){this._document=q(Ye)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:l}=r;if(e>0){let d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=l),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nF=(()=>{class n{constructor(){this._nativeElement=q(Ne).nativeElement,this._zone=q(Ze),this._injector=q(Rt)}ngOnInit(){un({mixedReadWrite:()=>rn(this._zone,this._nativeElement,(e,i)=>{i&&Jl(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return rn(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(Qt("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),at("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[J],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),Ju=class{update(t){}close(t){}dismiss(t){}},rF=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],oF=["animation","backdropClass"],Pf=class{_applyWindowOptions(t,e){rF.forEach(i=>{ur(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){oF.forEach(i=>{ur(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Re,this._dismissed=new Re,this._hidden=new Re,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();WC(e)?e.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():je(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vs(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Of=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Of||{}),aF=(()=>{class n{constructor(){this._document=q(Ye),this._elRef=q(Ne),this._zone=q(Ze),this._injector=q(Rt),this._closed$=new Re,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new Pe,this.shown=new Re,this.hidden=new Re}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Ff(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,un({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=rn(this._zone,e,()=>e.classList.remove("show"),i),o=rn(this._zone,this._dialogEl.nativeElement,()=>{},i),l=vs(r,o);return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){let e={animation:this.animation,runningTransition:"continue"},i=rn(this._zone,this._elRef.nativeElement,(o,l)=>{l&&Jl(o),o.classList.add("show")},e),r=rn(this._zone,this._dialogEl.nativeElement,()=>{},e);vs(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ii(e,"keydown").pipe(dt(this._closed$),ii(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(Of.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Ii(this._dialogEl.nativeElement,"mousedown").pipe(dt(this._closed$),ai(()=>i=!1),Vi(()=>Ii(e,"mouseup").pipe(dt(this._closed$),yn(1))),ii(({target:r})=>e===r)).subscribe(()=>{i=!0}),Ii(e,"click").pipe(dt(this._closed$)).subscribe(({target:r})=>{e===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Of.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let i=e.querySelector("[ngbAutofocus]"),r=Nf(e)[0];(i||r||e).focus()}}_restoreFocus(){let e=this._document.body,i=this._elWithFocus,r;i&&i.focus&&e.contains(i)?r=i:r=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&rn(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&gt(H5,7),i&2){let o;ze(o=Ue())&&(r._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,r){i&2&&(lt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy)("role",r.role),Qt("modal d-block"+(r.windowClass?" "+r.windowClass:"")),at("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[J],ngContentSelectors:Vf,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(hi(),a(0,"div",1,0)(2,"div",2),fi(3),s()()),i&2&&Qt("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),sF=(()=>{class n{constructor(){this._applicationRef=q(Hi),this._injector=q(Rt),this._environmentInjector=q(xn),this._document=q(Ye),this._scrollBar=q(XC),this._activeWindowCmptHasChanged=new Re,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Pe;let e=q(Ze);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];QC(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){let o=r.container instanceof HTMLElement?r.container:ur(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let l=new Ju;e=r.injector||e;let d=e.get(xn,null)||this._environmentInjector,m=this._getContentRef(e,d,i,l,r),_=r.backdrop!==!1?this._attachBackdrop(o):void 0,x=this._attachWindowComponent(o,m.nodes),w=new Pf(x,m,_,r.beforeDismiss);return this._registerModalRef(w),this._registerWindowCmpt(x),w.hidden.pipe(yn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),l.close=I=>{w.close(I)},l.dismiss=I=>{w.dismiss(I)},l.update=I=>{w.update(I)},w.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),_&&_.instance&&_.changeDetectorRef.detectChanges(),x.changeDetectorRef.detectChanges(),w}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=Po(nF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=Po(aF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,l){return r?r instanceof St?this._createFromTemplateRef(r,o):Ff(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,l):new dr([])}_createFromTemplateRef(e,i){let r={$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}},o=e.createEmbeddedView(r);return this._applicationRef.attachView(o),new dr([o.rootNodes],o)}_createFromString(e){let i=this._document.createTextNode(`${e}`);return new dr([[i]])}_createFromComponent(e,i,r,o,l){let d=Rt.create({providers:[{provide:Ju,useValue:o}],parent:e}),m=Po(r,{environmentInjector:i,elementInjector:d}),_=m.location.nativeElement;return l.scrollable&&_.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new dr([[_]],m.hostView,m)}_setAriaHidden(e){let i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let i=()=>{let r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fe=(()=>{class n{constructor(){this._injector=q(Rt),this._modalStack=q(sF),this._config=q(ut)}open(e,i={}){let r=X(tt(X({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ZC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[fe]})}}return n})(),lF=(()=>{class n{constructor(){this._ngbConfig=q(Zu),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eS=n=>ur(n)&&n!=="",cF=0,Bf=(()=>{class n{constructor(){this.templateRef=q(St)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["ng-template","ngbNavContent",""]],standalone:!0})}}return n})();var em=(()=>{class n{constructor(){this._nav=q(tm),this._nativeElement=q(Ne).nativeElement,this.disabled=!1,this.shown=new Pe,this.hidden=new Pe}ngOnInit(){ur(this.domId)||(this.domId=`ngb-nav-${cF++}`)}get active(){return this._nav.activeId===this.id}get id(){return eS(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ur(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbNavItem",""]],contentQueries:function(i,r,o){if(i&1&&Kt(o,Bf,4),i&2){let l;ze(l=Ue())&&(r.contentTpl=l.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0})}}return n})(),tm=(()=>{class n{constructor(e){this.role=e,this._config=q(lF),this._cd=q(Ot),this._document=q(Ye),this._nativeElement=q(Ne).nativeElement,this.destroyRef=q(Lc),this._navigatingWithKeyboard=!1,this.activeIdChange=new Pe,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new Pe,this.hidden=new Pe,this.navItemChange$=new Re,this.navChange=new Pe}click(e){e.disabled||this._updateActiveId(e.id)}onFocusout({relatedTarget:e}){this._nativeElement.contains(e)||(this._navigatingWithKeyboard=!1)}onKeyDown(e){if(this.roles!=="tablist"||!this.keyboard)return;let i=this.links.filter(l=>!l.navItem.disabled),{length:r}=i,o=-1;if(i.forEach((l,d)=>{l.nativeElement===this._document.activeElement&&(o=d)}),r){switch(e.key){case"ArrowUp":case"ArrowLeft":o=(o-1+r)%r;break;case"ArrowRight":case"ArrowDown":o=(o+1)%r;break;case"Home":o=0;break;case"End":o=r-1;break}this.keyboard==="changeWithArrows"&&this.select(i[o].navItem.id),i[o].nativeElement.focus(),this._navigatingWithKeyboard=!0,e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!ur(this.activeId)){let e=this.items.first?this.items.first.id:null;eS(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(Qu(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}_updateActiveId(e,i=!0){if(this.activeId!==e){let r=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{r=!0}}),r||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}static{this.\u0275fac=function(i){return new(i||n)(ln("role"))}}static{this.\u0275dir=De({type:n,selectors:[["","ngbNav",""]],contentQueries:function(i,r,o){if(i&1&&(Kt(o,em,4),Kt(o,im,5)),i&2){let l;ze(l=Ue())&&(r.items=l),ze(l=Ue())&&(r.links=l)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(i,r){i&1&&v("keydown.arrowLeft",function(l){return r.onKeyDown(l)})("keydown.arrowRight",function(l){return r.onKeyDown(l)})("keydown.arrowDown",function(l){return r.onKeyDown(l)})("keydown.arrowUp",function(l){return r.onKeyDown(l)})("keydown.Home",function(l){return r.onKeyDown(l)})("keydown.End",function(l){return r.onKeyDown(l)})("focusout",function(l){return r.onFocusout(l)}),i&2&&(lt("aria-orientation",r.orientation==="vertical"&&r.roles==="tablist"?"vertical":void 0)("role",r.role?r.role:r.roles?"tablist":void 0),at("flex-column",r.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[Lt]})}}return n})(),im=(()=>{class n{constructor(e){this.role=e,this.navItem=q(em),this.nav=q(tm),this.nativeElement=q(Ne).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(i){return new(i||n)(ln("role"))}}static{this.\u0275dir=De({type:n,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(i,r){i&2&&(fa("id",r.navItem.domId),lt("role",r.role?r.role:r.nav.roles?"tab":void 0)("tabindex",r.tabindex)("aria-controls",r.navItem.isPanelInDom()?r.navItem.panelDomId:null)("aria-selected",r.navItem.active)("aria-disabled",r.navItem.disabled),at("nav-item",r.navItem.isNgContainer())("active",r.navItem.active)("disabled",r.navItem.disabled))},standalone:!0})}}return n})();var tS=(()=>{class n extends im{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=bi(n)))(r||n)}})()}static{this.\u0275dir=De({type:n,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(i,r){i&1&&v("click",function(l){return r.nav.click(r.navItem),l.preventDefault()})},standalone:!0,features:[Wt]})}}return n})(),dF=({classList:n})=>(n.remove("show"),()=>n.remove("active")),uF=(n,t)=>{t&&Jl(n),n.classList.add("show")},UC=(()=>{class n{constructor(){this.nativeElement=q(Ne).nativeElement}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=De({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(i,r){i&2&&(fa("id",r.item.panelDomId),lt("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),at("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0})}}return n})(),iS=(()=>{class n{constructor(){this._cd=q(Ot),this._ngZone=q(Ze),this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Qu(this.nav.destroyRef),br(this._activePane?.item||null),Io(),la(1)).subscribe(e=>{let i={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?rn(this._ngZone,this._activePane.nativeElement,dF,i).subscribe(()=>{let r=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),rn(this._ngZone,this._activePane.nativeElement,uF,i).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),r&&(r.hidden.emit(),this.nav.hidden.emit(r.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(e){return this._panes&&this._panes.find(i=>i.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(i,r){if(i&1&&gt(UC,5),i&2){let o;ze(o=Ue())&&(r._panes=o)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},standalone:!0,features:[J],attrs:W5,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&P_(0,G5,1,1,null,null,A_),i&2&&O_(r.nav.items)},dependencies:[UC,qr],encapsulation:2,changeDetection:0})}}return n})();var nS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var rS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var oS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var aS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var sS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var lS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var cS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var dS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var uS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})();var Wre=new Le("live announcer delay",{providedIn:"root",factory:()=>100});var mS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),mF=(()=>{class n{constructor(){this._ngbConfig=q(Zu),this.backdrop=!0,this.keyboard=!0,this.position="start",this.scroll=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Xu=class{close(t){}dismiss(t){}},Rf=class{get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(dt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(dt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._panelCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._panelCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Re,this._dismissed=new Re,this._hidden=new Re,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),i&&i.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}close(t){this._panelCmptRef&&(this._closed.next(t),this._resolve(t),this._removeOffcanvasElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeOffcanvasElements()}dismiss(t){if(this._panelCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();WC(e)?e.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeOffcanvasElements(){let t=this._panelCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():je(void 0);t.subscribe(()=>{let{nativeElement:i}=this._panelCmptRef.location;i.parentNode.removeChild(i),this._panelCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._panelCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vs(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},jf=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(jf||{}),pF=(()=>{class n{constructor(){this._nativeElement=q(Ne).nativeElement,this._zone=q(Ze),this._injector=q(Rt),this.dismissEvent=new Pe}ngOnInit(){un({mixedReadWrite:()=>rn(this._zone,this._nativeElement,(e,i)=>{i&&Jl(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return rn(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}dismiss(){this.static||this.dismissEvent.emit(jf.BACKDROP_CLICK)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ngb-offcanvas-backdrop"]],hostVars:6,hostBindings:function(i,r){i&1&&v("mousedown",function(){return r.dismiss()}),i&2&&(Qt("offcanvas-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),at("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass",static:"static"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[J],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})(),hF=(()=>{class n{constructor(){this._document=q(Ye),this._elRef=q(Ne),this._zone=q(Ze),this._injector=q(Rt),this._closed$=new Re,this._elWithFocus=null,this.keyboard=!0,this.position="start",this.dismissEvent=new Pe,this.shown=new Re,this.hidden=new Re}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,un({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let e={animation:this.animation,runningTransition:"stop"},i=rn(this._zone,this._elRef.nativeElement,r=>(r.classList.remove("showing"),r.classList.add("hiding"),()=>r.classList.remove("show","hiding")),e);return i.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}_show(){let e={animation:this.animation,runningTransition:"continue"};rn(this._zone,this._elRef.nativeElement,(r,o)=>(o&&Jl(r),r.classList.add("show","showing"),()=>r.classList.remove("showing")),e).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ii(e,"keydown").pipe(dt(this._closed$),ii(i=>i.key==="Escape")).subscribe(i=>{this.keyboard&&requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(jf.ESC))})})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let i=e.querySelector("[ngbAutofocus]"),r=Nf(e)[0];(i||r||e).focus()}}_restoreFocus(){let e=this._document.body,i=this._elWithFocus,r;i&&i.focus&&e.contains(i)?r=i:r=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=G({type:n,selectors:[["ngb-offcanvas-panel"]],hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(i,r){i&2&&(lt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Qt("offcanvas offcanvas-"+r.position+(r.panelClass?" "+r.panelClass:"")))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",keyboard:"keyboard",panelClass:"panelClass",position:"position"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[J],ngContentSelectors:Vf,decls:1,vars:0,template:function(i,r){i&1&&(hi(),fi(0))},encapsulation:2})}}return n})(),fF=(()=>{class n{constructor(){this._applicationRef=q(Hi),this._injector=q(Rt),this._document=q(Ye),this._scrollBar=q(XC),this._activePanelCmptHasChanged=new Re,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._panelAttributes=["animation","ariaDescribedBy","ariaLabelledBy","keyboard","panelClass","position"],this._activeInstance=new Pe;let e=q(Ze);this._activePanelCmptHasChanged.subscribe(()=>{this._panelCmpt&&QC(e,this._panelCmpt.location.nativeElement,this._activePanelCmptHasChanged)})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){let o=r.container instanceof HTMLElement?r.container:ur(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified offcanvas container "${r.container||"body"}" was not found in the DOM.`);r.scroll||this._hideScrollBar();let l=new Xu,d=this._getContentRef(r.injector||e,i,l),m=r.backdrop!==!1?this._attachBackdrop(o):void 0,_=this._attachWindowComponent(o,d.nodes),x=new Rf(_,d,m,r.beforeDismiss);return this._registerOffcanvasRef(x),this._registerPanelCmpt(_),x.hidden.pipe(_r(()=>this._restoreScrollBar())).subscribe(),l.close=w=>{x.close(w)},l.dismiss=w=>{x.dismiss(w)},this._applyPanelOptions(_.instance,r),m&&m.instance&&(this._applyBackdropOptions(m.instance,r),m.changeDetectorRef.detectChanges()),_.changeDetectorRef.detectChanges(),x}get activeInstance(){return this._activeInstance}dismiss(e){this._offcanvasRef?.dismiss(e)}hasOpenOffcanvas(){return!!this._offcanvasRef}_attachBackdrop(e){let i=Po(pF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=Po(hF,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyPanelOptions(e,i){this._panelAttributes.forEach(r=>{ur(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{ur(i[r])&&(e[r]=i[r])}),e.static=i.backdrop==="static"}_getContentRef(e,i,r){return i?i instanceof St?this._createFromTemplateRef(i,r):Ff(i)?this._createFromString(i):this._createFromComponent(e,i,r):new dr([])}_createFromTemplateRef(e,i){let r={$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}},o=e.createEmbeddedView(r);return this._applicationRef.attachView(o),new dr([o.rootNodes],o)}_createFromString(e){let i=this._document.createTextNode(`${e}`);return new dr([[i]])}_createFromComponent(e,i,r){let o=Rt.create({providers:[{provide:Xu,useValue:r}],parent:e}),l=Po(i,{environmentInjector:this._applicationRef.injector,elementInjector:o}),d=l.location.nativeElement;return this._applicationRef.attachView(l.hostView),new dr([[d]],l.hostView,l)}_registerOffcanvasRef(e){let i=()=>{this._offcanvasRef=void 0,this._activeInstance.emit(this._offcanvasRef)};this._offcanvasRef=e,this._activeInstance.emit(this._offcanvasRef),e.result.then(i,i)}_registerPanelCmpt(e){this._panelCmpt=e,this._activePanelCmptHasChanged.next(),e.onDestroy(()=>{this._panelCmpt=void 0,this._activePanelCmptHasChanged.next()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pS=(()=>{class n{constructor(){this._injector=q(Rt),this._offcanvasStack=q(fF),this._config=q(mF)}open(e,i={}){let r=X(tt(X({},this._config),{animation:this._config.animation}),i);return this._offcanvasStack.open(this._injector,e,r)}get activeInstance(){return this._offcanvasStack.activeInstance}dismiss(e){this._offcanvasStack.dismiss(e)}hasOpenOffcanvas(){return this._offcanvasStack.hasOpenOffcanvas()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hS=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({})}}return n})(),gF=[qC,$C,GC,YC,KC,JC,ZC,nS,hS,rS,oS,aS,sS,lS,cS,dS,uS,mS],Ee=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({imports:[gF,qC,$C,GC,YC,KC,JC,ZC,nS,hS,rS,oS,aS,sS,lS,cS,dS,uS,mS]})}}return n})();var Xl={production:!0,API_SCHEME:"https",API_DOMAIN:"boeservices-api.mtfp-ctd.bj/api",API_FILE:"boeservices-api.mtfp-ctd.bj",API_VERSION:"v1"};var j={apiVersion:Xl.API_VERSION,apiScheme:Xl.API_SCHEME,apiFile:Xl.API_FILE,apiDomain:Xl.API_DOMAIN,toApiUrl(n){return`${this.apiScheme}://${this.apiDomain}/${n}`},toFile(n){return`${this.apiScheme}://${this.apiFile}/${n}`},getOrigin(){return`${this.apiScheme}://${this.apiFile}`},httpHeader(n=null,t=!0){return n!=null?{headers:new Fi({Authorization:"Bearer "+n,"Access-Control-Allow-Origin":"*",Accept:"application/json"})}:{headers:new Fi({})}},addAction(n){return{headers:new Fi({action:n})}},toWsUrl(n){return`wss://${this.apiDomain}/${n}`}};var _i=class n{constructor(t,e){this.appLocalStorage=t;this.http=e;this.appLocalStorage.get(Z.tokenName)?(this._isAuthenticated.next(!0),this.isReady.next(!0)):(this._isAuthenticated.next(!1),this.isReady.next(!0))}url=j.toApiUrl("logout");url2=j.toFile("");_isAuthenticated=new ci(!1);isReady=new ci(!1);isAuthenticated(){return this._isAuthenticated.asObservable()}getJWTToken(){return this.appLocalStorage.get(Z.tokenName)}setJWTToken(t){return this.appLocalStorage.set(Z.tokenName,t)}setJWTRefreshToken(t){return this.appLocalStorage.set(Z.refreshTokenName,t)}me(){return this.http.get(`${this.url2}api/user`,j.httpHeader(null,!0))}login(t){return this.http.post(`${this.url2}api/login`,t,j.httpHeader(null,!0))}sendMail(t){return this.http.post(`${this.url2}api/send-reset-password-link`,t,j.httpHeader(null,!0))}update(t){return this.http.post(`${this.url2}api/update-profile`,t,j.addAction("edit"))}recoverPassword(t,e){return this.http.post(`${this.url2}api/recovery-password/${t}`,e,j.httpHeader(null,!0))}logout(){return this.http.get(`${this.url}`)}changePassword(t){return this.http.post(`${this.url2}api/change-password`,t,j.addAction("edit"))}changeFirstPassword(t){return this.http.post(`${this.url2}api/change-first-password`,t,j.httpHeader(null,!0))}saveDB(){return this.http.get(`${this.url2}api/save-db`,j.addAction("add"))}getBackups(){return this.http.get(`${this.url2}api/backups`,j.addAction("list"))}changeCode(t){return this.http.post(this.url+"/signin/unique-code/store",t)}sendLink(){return this.http.get(this.url+"/signin/unique-code/mail")}getAuthorizationCode(t){let e={grant_type:"authorization_code",redirect_uri:"https://sollicitation.hebergeappli.bj/login-check",code:t},i=new URLSearchParams;return i.set("grant_type","authorization_code"),i.set("code",t),i.set("redirect_uri","https://sollicitation.hebergeappli.bj/login-check"),this.http.post("https://pprodofficial.service-public.bj/api/official/token",JSON.stringify(e),{headers:new Fi({Authorization:"Basic  YXBwLW10ZnA6YXBwLW10ZnA=","Content-Type":"application/x-www-form-urlencoded"})})}static \u0275fac=function(e){return new(e||n)(z(se),z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var mr=class n{constructor(t){this.http=t}url=j.toApiUrl("dash/");getDash(){return this.http.get(`${this.url}`,j.addAction("list"))}statsForMenu(){return this.http.get(j.toApiUrl("stats-for-menu"),j.addAction("list"))}getAll(){return this.http.get(`${this.url}`,j.addAction("list"))}show(t){return this.http.post(`${this.url}`,t,j.addAction("add"))}store(t){return this.http.post(`${this.url}`,t,j.addAction("add"))}update(t,e){return this.http.put(`${this.url}${t}/`,e,j.addAction("list"))}delete(t){return this.http.delete(`${this.url}${t}`,j.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,j.addAction("show"))}copy(t){return this.http.post(`${j.toApiUrl("roles-windows-copy")}`,t,j.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,j.addAction("status"))}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var fS=["toast-component",""];function _F(n,t){if(n&1){let e=S();a(0,"button",5),v("click",function(){f(e);let r=p();return g(r.remove())}),a(1,"span",6),c(2,"\xD7"),s()()}}function bF(n,t){if(n&1&&(kt(0),c(1),Tt()),n&2){let e=p(2);u(),K("[",e.duplicatesCount+1,"]")}}function vF(n,t){if(n&1&&(a(0,"div"),c(1),k(2,bF,2,1,"ng-container",4),s()),n&2){let e=p();Qt(e.options.titleClass),lt("aria-label",e.title),u(),K(" ",e.title," "),u(),h("ngIf",e.duplicatesCount)}}function yF(n,t){if(n&1&&b(0,"div",7),n&2){let e=p();Qt(e.options.messageClass),h("innerHTML",e.message,ua)}}function xF(n,t){if(n&1&&(a(0,"div",8),c(1),s()),n&2){let e=p();Qt(e.options.messageClass),lt("aria-label",e.message),u(),K(" ",e.message," ")}}function wF(n,t){if(n&1&&(a(0,"div"),b(1,"div",9),s()),n&2){let e=p();u(),Qi("width",e.width()+"%")}}function CF(n,t){if(n&1){let e=S();a(0,"button",5),v("click",function(){f(e);let r=p();return g(r.remove())}),a(1,"span",6),c(2,"\xD7"),s()()}}function SF(n,t){if(n&1&&(kt(0),c(1),Tt()),n&2){let e=p(2);u(),K("[",e.duplicatesCount+1,"]")}}function EF(n,t){if(n&1&&(a(0,"div"),c(1),k(2,SF,2,1,"ng-container",4),s()),n&2){let e=p();Qt(e.options.titleClass),lt("aria-label",e.title),u(),K(" ",e.title," "),u(),h("ngIf",e.duplicatesCount)}}function kF(n,t){if(n&1&&b(0,"div",7),n&2){let e=p();Qt(e.options.messageClass),h("innerHTML",e.message,ua)}}function TF(n,t){if(n&1&&(a(0,"div",8),c(1),s()),n&2){let e=p();Qt(e.options.messageClass),lt("aria-label",e.message),u(),K(" ",e.message," ")}}function MF(n,t){if(n&1&&(a(0,"div"),b(1,"div",9),s()),n&2){let e=p();u(),Qi("width",e.width()+"%")}}var zf=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Uf=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},Hf=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Re;_activate=new Re;_manualClose=new Re;_resetTimeout=new Re;_countDuplicate=new Re;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},ss=class{toastId;config;message;title;toastType;toastRef;_onTap=new Re;_onAction=new Re;constructor(t,e,i,r,o,l){this.toastId=t,this.config=e,this.message=i,this.title=r,this.toastType=o,this.toastRef=l,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},gS={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},_S=new Le("ToastConfig"),Wf=class extends Uf{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),r;return r=i.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},IF=(()=>{class n{_document=q(Ye);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qf=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},DF=(()=>{class n{_overlayContainer=q(IF);_componentFactoryResolver=q(pa);_appRef=q(Hi);_document=q(Ye);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new Wf(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new qf(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),de=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,r,o,l){this.overlay=i,this._injector=r,this.sanitizer=o,this.ngZone=l,this.toastrConfig=X(X({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=X(X({},e.default.iconClasses),e.config.iconClasses))}show(e,i,r={},o=""){return this._preBuildNotification(o,e,i,this.applyConfig(r))}success(e,i,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}error(e,i,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}info(e,i,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}warning(e,i,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,i,this.applyConfig(r))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",i="",r,o){let{includeTitleDuplicates:l}=this.toastrConfig;for(let d of this.toasts){let m=l&&d.title===e;if((!l||m)&&d.message===i)return d.toastRef.onDuplicate(r,o),d}return null}applyConfig(e={}){return X(X({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,r,o)):this._buildNotification(e,i,r,o)}_buildNotification(e,i,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let l=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&l!==null)return l;this.previousToastMessage=i;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let m=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let _=i;i&&o.enableHtml&&(_=this.sanitizer.sanitize(Nn.HTML,i));let x=new Hf(m),w=new ss(this.index,o,_,r,e,x),I=[{provide:ss,useValue:w}],D=Rt.create({providers:I,parent:this._injector}),P=new zf(o.toastComponent,D),A=m.attach(P,o.newestOnTop);x.componentInstance=A.instance;let O={toastId:this.index,title:r||"",message:i||"",toastRef:x,onShown:x.afterActivate(),onHidden:x.afterClosed(),onTap:w.onTap(),onAction:w.onAction(),portal:A};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{O.toastRef.activate()})),this.toasts.push(O),O}static \u0275fac=function(i){return new(i||n)(z(_S),z(DF),z(Rt),z(Ct),z(Ze))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AF=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=dn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.ngZone=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=dn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>tt(X({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>tt(X({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>tt(X({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(T(de),T(ss),T(Ze))};static \u0275cmp=G({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,r){i&1&&v("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Ep("@flyInOut",r._state),Qt(r.toastClasses),Qi("display",r.displayStyle))},standalone:!0,features:[J],attrs:fS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&k(0,_F,3,0,"button",0)(1,vF,3,5,"div",1)(2,yF,1,3,"div",2)(3,xF,2,4,"div",3)(4,wF,2,2,"div",4),i&2&&(h("ngIf",r.options.closeButton),u(),h("ngIf",r.title),u(),h("ngIf",r.message&&r.options.enableHtml),u(),h("ngIf",r.message&&!r.options.enableHtml),u(),h("ngIf",r.options.progressBar))},dependencies:[ae],encapsulation:2,data:{animation:[Ro("flyInOut",[Zn("inactive",pn({opacity:0})),Zn("active",pn({opacity:1})),Zn("removed",pn({opacity:0})),wr("inactive => active",xr("{{ easeTime }}ms {{ easing }}")),wr("active => removed",xr("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),PF=tt(X({},gS),{toastComponent:AF}),bS=(n={})=>Fn([{provide:_S,useValue:{default:PF,config:n}}]);var OF=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=dn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=dn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,r){this.toastrService=e,this.toastPackage=i,this.appRef=r,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(T(de),T(ss),T(Hi))};static \u0275cmp=G({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,r){i&1&&v("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),i&2&&(Qt(r.toastClasses),Qi("display",r.displayStyle))},standalone:!0,features:[J],attrs:fS,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,r){i&1&&k(0,CF,3,0,"button",0)(1,EF,3,5,"div",1)(2,kF,1,3,"div",2)(3,TF,2,4,"div",3)(4,MF,2,2,"div",4),i&2&&(h("ngIf",r.options.closeButton),u(),h("ngIf",r.title),u(),h("ngIf",r.message&&r.options.enableHtml),u(),h("ngIf",r.message&&!r.options.enableHtml),u(),h("ngIf",r.options.progressBar))},dependencies:[ae],encapsulation:2,changeDetection:0})}return n})(),foe=tt(X({},gS),{toastComponent:OF});function RF(n,t){if(n&1&&(a(0,"a",24),b(1,"i",25),a(2,"span"),c(3),s()()),n&2){let e=p().$implicit;Ln("routerLink",e.link),u(3),L(e.title)}}function VF(n,t){if(n&1&&(a(0,"li",21)(1,"a",30),b(2,"i"),a(3,"span"),c(4),s()()()),n&2){let e=t.$implicit;u(),Ln("routerLink",e.link),u(),Sp("nav-icon ",e.icon||"fas fa-circle",""),u(2),L(e.title)}}function FF(n,t){if(n&1){let e=S();a(0,"div",26)(1,"a",27),v("click",function(r){f(e);let o=p().index,l=p();return g(l.toggleSubmenu(o,r))}),b(2,"i"),a(3,"span"),c(4),s(),b(5,"i",28),s(),a(6,"ul",29),k(7,VF,5,5,"li",8),s()()}if(n&2){let e=p().$implicit,i=p();u(),at("active",i.isMenuActive(e)),lt("aria-expanded",e.expanded),u(),Sp("nav-icon ",e.icon||"fas fa-tachometer-alt",""),u(2),L(e.title),u(),at("rotated",e.expanded),u(),at("show",e.expanded),h("@slideDown",e.expanded?"expanded":"collapsed"),u(),h("ngForOf",e.children)}}function NF(n,t){if(n&1&&(a(0,"li",21),k(1,RF,4,2,"a",22)(2,FF,8,13,"div",23),s()),n&2){let e=t.$implicit;u(),h("ngIf",!(e!=null&&e.isTitle)&&!(e!=null&&e.hasChildren)),u(),h("ngIf",!(e!=null&&e.isTitle)&&(e==null?null:e.hasChildren))}}function LF(n,t){if(n&1){let e=S();a(0,"form",31,1),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.saveUsager(r.value))}),a(2,"div",32)(3,"h5",33),c(4,"Mon profil"),s(),a(5,"button",34),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",35)(7,"div",36)(8,"label",37),c(9," Nom * "),s(),a(10,"div",38)(11,"input",39),N("ngModelChange",function(r){f(e);let o=p();return F(o.user.lastname,r)||(o.user.lastname=r),g(r)}),s()()(),a(12,"div",36)(13,"label",40),c(14," Pr\xE9noms * "),s(),a(15,"div",38)(16,"input",41),N("ngModelChange",function(r){f(e);let o=p();return F(o.user.firstname,r)||(o.user.firstname=r),g(r)}),s()()(),a(17,"div",36)(18,"label",42),c(19," Email *"),s(),a(20,"div",38)(21,"input",43),N("ngModelChange",function(r){f(e);let o=p();return F(o.user.email,r)||(o.user.email=r),g(r)}),s()()(),a(22,"div",36)(23,"label",44),c(24," T\xE9l\xE9phone *"),s(),a(25,"div",38)(26,"input",45),N("ngModelChange",function(r){f(e);let o=p();return F(o.user.phone,r)||(o.user.phone=r),g(r)}),s()()()(),a(27,"div",46)(28,"button",47),b(29,"i",48),c(30,"\xA0 Enregistrer"),s()()()}if(n&2){let e=E(1),i=p();u(11),Ln("value",i.user==null?null:i.user.lastname),V("ngModel",i.user.lastname),u(5),Ln("value",i.user==null?null:i.user.firstname),V("ngModel",i.user.firstname),u(5),Ln("value",i.user==null?null:i.user.email),V("ngModel",i.user.email),u(5),Ln("value",i.user==null?null:i.user.phone),V("ngModel",i.user.phone),u(2),h("disabled",e.invalid||i.loading)}}var rm=class n{constructor(t,e,i,r,o,l){this.modalService=t;this.authService=e;this.dashService=i;this.router=r;this.toastr=o;this.lsService=l}menuOpen=!0;user;role;loading;isMobile=!1;menu=[];data=[];ngOnInit(){this.user=this.lsService.get(Z.userName),console.log(this.user),this.role=this.user.roles[0].name,this.getUserMenu()}onResize(){this.checkScreenSize()}checkScreenSize(){this.isMobile=window.innerWidth<=768}toggleMenu(){this.menuOpen=!this.menuOpen}openAddModal(t){this.loading=!1,this.modalService.open(t,{ariaLabelledBy:"modal-basic-title",size:"lg"})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(Z.tokenName),this.lsService.remove(Z.refreshTokenName),this.lsService.remove(Z.expireIn),this.lsService.remove(Z.userName),this.lsService.remove(Z.exercice),this.router.navigate(["/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Connexion")})}saveUsager(t){this.authService.update(t).subscribe(e=>{this.modalService.dismissAll(),pe.simpleAlert("succes","Mise \xE0 jour","Profile mis \xE0 jour avec succ\xE8s")})}getUserMenu(){switch(this.role){case"Admin national":this.menu=BC;break;case"Admin Sectoriel":this.menu=jC;break;case"Decisionnel":this.menu=zC;break;default:this.menu.push({title:"Menu",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!0,hasChildren:!1}),this.menu.push({title:"Tableau de bord ",icon:"home-outline",link:"/admin/dashboard",home:!0,isTitle:!1,hasChildren:!1}),this.menu.push({title:"Mes e-Services",icon:"home-outline",link:"/admin/dashboard",home:!1,isTitle:!0,hasChildren:!1}),(this.user?.user_prestations).forEach(e=>{let i,r=[];this.user.is_trade?e?.prestation?.is_automatic_delivered?e?.prestation?.from_pns?(r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code})):(r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code+"/"+e?.prestation?.code})):((e?.prestation?.start_point2?.id==this.user.agent.unite_admin.id||e?.prestation?.start_points.findIndex(o=>o.unite_admin_id==this.user.agent.unite_admin.id)!=-1)&&r.push({title:"Demandes en attente",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}),e?.prestation?.signer2?.id==this.user.agent.unite_admin.id&&(e?.prestation?.from_pns?(r.push({title:"Demandes \xE0 signer",link:"/admin/eservice/espace-signature/"+e?.prestation?.code}),r.push({title:"Demandes sign\xE9es",link:"/admin/eservice/espace-signed/"+e?.prestation?.code}),r.push({title:"Demandes \xE0 rejeter",link:"/admin/eservice/espace-reject/"+e?.prestation?.code}),r.push({title:"Demandes rejet\xE9es",link:"/admin/eservice/espace-rejected/"+e?.prestation?.code})):(r.push({title:"Demandes \xE0 signer",link:"/admin/eservice/espace-signature/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes sign\xE9es",link:"/admin/eservice/espace-signed/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes \xE0 rejeter",link:"/admin/eservice/espace-reject/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes rejet\xE9es",link:"/admin/eservice/espace-rejected/"+e?.prestation?.code+"/"+e?.prestation?.code}))),e?.prestation?.from_pns?(this.role=="Chef Division"||this.role=="Collaborateur")&&r.push({title:"Demande \xE0 traiter",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}):(this.role=="Chef Division"||this.role=="Collaborateur")&&r.push({title:"Demande \xE0 traiter",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code+"/"+e?.prestation?.code}),e?.prestation?.signer2?.id!=this.user.agent.unite_admin.id&&(e?.prestation?.from_pns?(r.push({title:"Demande \xE0 valider",link:"/admin/eservice/espace-validation/"+e?.prestation?.code}),r.push({title:"Demandes mise en attente",link:"/admin/eservice/correction/"+e?.prestation?.code}),r.push({title:"Demandes corrig\xE9es",link:"/admin/eservice/espace-traitement-retour-correction/"+e?.prestation?.code}),r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code})):(r.push({title:"Demande \xE0 valider",link:"/admin/eservice/espace-validation/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes mise en attente",link:"/admin/eservice/correction/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes corrig\xE9es",link:"/admin/eservice/espace-traitement-retour-correction/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Demandes finalis\xE9es",link:"/admin/eservice/finished/"+e?.prestation?.code+"/"+e?.prestation?.code}))),e?.prestation?.from_pns?(e?.prestation?.need_meeting&&r.push({title:"Rendez-vous",link:"/admin/agenda/"+e?.prestation?.code}),e?.prestation?.need_validation&&r.push({title:"Demande valid\xE9e pour visa",link:"/admin/eservice/espace-validation-visa/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code})):(e?.prestation?.need_meeting&&r.push({title:"Rendez-vous",link:"/admin/agenda/"+e?.prestation?.code+"/"+e?.prestation?.code}),e?.prestation?.need_validation&&r.push({title:"Demande valid\xE9e pour visa",link:"/admin/eservice/espace-validation-visa/"+e?.prestation?.code+"/"+e?.prestation?.code}),r.push({title:"Parcours demandes",link:"/admin/eservice/historique/"+e?.prestation?.code+"/"+e?.prestation?.code}))):e?.prestation?.from_pns?r.push({title:"Demandes \xE0 confirmer",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code}):r.push({title:"Demandes \xE0 confirmer",link:"/admin/eservice/espace-traitement/"+e?.prestation?.code+"/"+e?.prestation?.code}),this.menu.push({title:e.prestation?.name,icon:"",isTitle:!1,hasChildren:!0,collapse:!1,code:e.prestation?.code,children:r,newCount:i})}),this.user.is_trade&&this.menu.push({title:"Statistiques Globales",isTitle:!1,hasChildren:!1,collapse:!1,code:"",link:"/admin/eservice/statistiques"}),this.menu.push({title:"Support",icon:"home-phone",link:"/admin/supports",isTitle:!1,hasChildren:!1}),this.dashService.statsForMenu().subscribe(e=>{this.data=e.data.stats});break}}getSlug(t){var e=t.split("/");return e[e.length-1]}verifyMenu(t){var e=this.user.user_prestations.find(i=>i.prestation.code==t);return!(e==null||e==null)}toggle(t){var e=this.menu.find(i=>i.code==t);e&&(e.collapse=!e.collapse)}toggleSubmenu(t,e){e.preventDefault(),e.stopPropagation(),this.menu.forEach((i,r)=>{r!==t&&i.children&&(i.expanded=!1)}),this.menu[t].children&&(this.menu[t].expanded=!this.menu[t].expanded)}isMenuActive(t){return t.children?t.children.some(e=>this.router.url.includes(e.link||"")):!1}static \u0275fac=function(e){return new(e||n)(T(fe),T(_i),T(mr),T(Be),T(de),T(se))};static \u0275cmp=G({type:n,selectors:[["app-layout"]],hostBindings:function(e,i){e&1&&v("resize",function(){return i.onResize()},!1,k_)},standalone:!0,features:[J],decls:33,vars:2,consts:[["profil",""],["frmusager","ngForm"],[1,"dashboard-container"],[1,"sidebar","slim-scroll-container",2,"min-height","100px","overflow-y","scroll","overflow-x","hidden"],[1,"sidebar-header"],["href","#",1,"sidebar-brand"],[1,"fas","fa-chart-line","me-2"],[1,"sidebar-nav","nav","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],[1,"main-content"],[1,"content-header"],[1,"d-flex","justify-content-between","align-items-center"],[1,"page-title"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-outline-secondary","dropdown-toggle"],[1,"fas","fa-user-circle","me-2"],[1,"dropdown-menu"],[1,"dropdown-item",3,"click"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"content-body"],[1,"nav-item"],["class","nav-link active","routerLinkActive","active",3,"routerLink",4,"ngIf"],["class","nav-item-dropdown",4,"ngIf"],["routerLinkActive","active",1,"nav-link","active",3,"routerLink"],[1,"nav-icon","fas","fa-tachometer-alt"],[1,"nav-item-dropdown"],["href","#",1,"nav-link","dropdown-toggle",3,"click"],[1,"fas","fa-chevron-down","ms-auto","submenu-arrow"],[1,"submenu","nav","flex-column"],["routerLinkActive","active",1,"nav-link","submenu-link",3,"routerLink"],["novalidate","",1,"form-horizontal",3,"ngSubmit"],[1,"modal-header","bg-mat-primary"],["id","modal-basic-title",1,"modal-title","text-white"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-3","row"],["for","nom1",1,"col-sm-3","control-label"],[1,"col-sm-9"],["type","text","id","lastname","name","lastname","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","prenoms",1,"col-sm-3","control-label"],["type","text","id","firstname","name","firstname","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","email1",1,"col-sm-3","control-label"],["type","email","id","email1","name","email","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],["for","tel2",1,"col-sm-3","control-label"],["type","text","numbers-only","numbers-only","id","tel2","name","phone","required","",1,"form-control","has-error",3,"ngModelChange","value","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save"]],template:function(e,i){if(e&1){let r=S();a(0,"div",2)(1,"nav",3)(2,"div",4)(3,"a",5),b(4,"i",6),c(5," BackOffice eService "),s()(),a(6,"ul",7),k(7,NF,3,2,"li",8),s()(),a(8,"main",9)(9,"header",10)(10,"div",11)(11,"h1",12),c(12,"Backoffice "),s(),a(13,"div",13)(14,"button",14),b(15,"i",15),c(16," Admin "),s(),a(17,"ul",16)(18,"li")(19,"a",17),v("click",function(){f(r);let l=E(32);return g(i.openAddModal(l))}),c(20,"Profil"),s()(),a(21,"li")(22,"a",18),c(23,"Param\xE8tre"),s()(),a(24,"li"),b(25,"hr",19),s(),a(26,"li")(27,"a",17),v("click",function(){return f(r),g(i.logout())}),c(28,"D\xE9connexion"),s()()()()()(),a(29,"div",20),b(30,"router-outlet"),s()()(),k(31,LF,31,9,"ng-template",null,0,B)}e&2&&(u(7),h("ngForOf",i.menu),u(15),h("routerLink","/admin/settings"))},dependencies:[Bo,Xi,Ji,wd,oe,_e,ae,SC,CC,Rw,wC,Ow,kC,NC,ce,we,ue,me,xe,Oe,he,Ce],styles:[".container[_ngcontent-%COMP%]{height:100vh}mat-toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#fff!important}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-toolbar[_ngcontent-%COMP%]{background-color:#000;color:orange}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1f0761;border-radius:unset!important}mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important;border-radius:unset!important}mat-expansion-panel[_ngcontent-%COMP%]{background-color:unset!important;color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{background-color:#fff!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]{color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#1f0761;color:#000!important}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}mat-expansion-panel[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff!important}mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.menu-bg[_ngcontent-%COMP%]{background-color:#fff}.active[_ngcontent-%COMP%]{background-color:#fcd343;border-radius:unset!important}.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff!important}  .mat-expansion-indicator svg{fill:#fff!important}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;margin-right:8px}.username[_ngcontent-%COMP%]{margin-right:4px;font-weight:500}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px}.menu-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:12px}.menu-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:gray}.bg-mat-primary[_ngcontent-%COMP%]{background-color:#1f0761!important}.nav-item-dropdown[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.submenu-arrow[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .3s ease}.submenu-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.submenu[_ngcontent-%COMP%]{background:#0003;margin:0;padding:0;overflow:hidden;transition:all .3s ease}.submenu.show[_ngcontent-%COMP%]{display:block}.submenu-link[_ngcontent-%COMP%]{padding:.5rem 1.5rem .5rem 3rem;font-size:.9rem;color:#ffffffb3}.submenu-link[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.submenu-link.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff26;border-right:2px solid rgba(255,255,255,.8)}.submenu[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{font-size:.75rem;width:16px;margin-right:.5rem}.slim-scroll-container[_ngcontent-%COMP%]{overflow-y:auto;border:1px solid #ccc}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.slim-scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"],data:{animation:[Ro("slideDown",[Zn("collapsed",pn({height:"0px",opacity:0,overflow:"hidden"})),Zn("expanded",pn({height:"*",opacity:1,overflow:"visible"})),wr("collapsed <=> expanded",[xr("300ms ease-in-out")])])]}})};var jF=["tooltip"],xS=20;var wS=new Le("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=q($n);return()=>n.scrollStrategies.reposition({scrollThrottle:xS})}});function zF(n){return()=>n.scrollStrategies.reposition({scrollThrottle:xS})}var UF={provide:wS,deps:[$n],useFactory:zF};function HF(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var WF=new Le("mat-tooltip-default-options",{providedIn:"root",factory:HF});var vS="tooltip-panel",yS=mo({passive:!0}),qF=8,$F=8,GF=24,YF=200,bo=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Su(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let i=Su(e);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Vl(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Vl(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){let i=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,l,d,m,_,x,w,I,D){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=l,this._platform=d,this._ariaDescriber=m,this._focusMonitor=_,this._dir=w,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=QF,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new Re,this._injector=q(Rt),this._scrollStrategy=x,this._document=D,I&&(this._showDelay=I.showDelay,this._hideDelay=I.hideDelay,I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures),I.tooltipClass&&(this.tooltipClass=I.tooltipClass)),w.change.pipe(dt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=qF}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(dt(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,yS)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Yl(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(dt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Ne)return this._overlayRef;this._detach()}let i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(dt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${vS}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(dt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(dt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(dt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===27&&!mw(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(X(X({},r.main),o.main)),this._addOffset(X(X({},r.fallback),o.fallback))])}_addOffset(e){let i=$F,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-i:e.originY==="bottom"?e.offsetY=i:e.originX==="start"?e.offsetX=r?-i:i:e.originX==="end"&&(e.offsetX=r?i:-i),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:l}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&e||i=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&e||i=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),un(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){let{overlayY:i,originX:r,originY:o}=e,l;if(i==="center"?this._dir&&this._dir.value==="rtl"?l=r==="end"?"left":"right":l=r==="start"?"left":"right":l=i==="bottom"&&o==="top"?"above":"below",l!==this._currentPosition){let d=this._overlayRef;if(d){let m=`${this._cssClassPrefix}-${vS}-`;d.removePanelClass(m+this._currentPosition),d.addPanelClass(m+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let i;e.x!==void 0&&e.y!==void 0&&(i=e),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,yS)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let i=this._elementRef.nativeElement,r=i.style;(e==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(i){return new(i||n)(T($n),T(Ne),T($l),T(Jn),T(Ze),T(Ti),T(xw),T(Cw),T(wS),T(Du),T(WF,8),T(Ye))}}static{this.\u0275dir=De({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&at("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),QF=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Re,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=r==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>GF&&e.width>=YF}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let l=getComputedStyle(i);(l.getPropertyValue("animation-duration")==="0s"||l.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(i){return new(i||n)(T(Ot),T(Ne),T(Do,8))}}static{this.\u0275cmp=G({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&gt(jF,7),i&2){let o;ze(o=Ue())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&v("mouseleave",function(l){return r._handleMouseLeave(l)})},standalone:!0,features:[J],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=S();a(0,"div",1,0),v("animationend",function(d){return f(o),g(r._handleAnimationEnd(d))}),a(2,"div",2),c(3),s()()}i&2&&(at("mdc-tooltip--multiline",r._isMultiline),h("ngClass",r.tooltipClass),u(3),L(r.message))},dependencies:[jn],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})();var Me=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[UF],imports:[Sw,oe,Yu,zt,zt,Nr]})}}return n})();var KF=["content"],JF=["scroll"],XF=["padding"],ES=["*"],ec=n=>({searchTerm:n});function ZF(n,t){if(n&1&&(a(0,"div",6),ha(1,7),s()),n&2){let e=p();u(),h("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",Ki(2,ec,e.filterValue))}}function eN(n,t){if(n&1&&(a(0,"div",8),ha(1,7),s()),n&2){let e=p();u(),h("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",Ki(2,ec,e.filterValue))}}var tN=["searchInput"],iN=["clearButton"],nN=(n,t,e)=>({item:n,clear:t,label:e}),rN=(n,t)=>({items:n,clear:t}),oN=(n,t,e,i)=>({item:n,item$:t,index:e,searchTerm:i});function aN(n,t){if(n&1){let e=S();a(0,"span",22),v("click",function(){f(e);let r=p().$implicit,o=p(2);return g(o.unselect(r))}),c(1,"\xD7"),s(),b(2,"span",23)}if(n&2){let e=p().$implicit,i=p(2);u(2),h("ngItemLabel",e.label)("escape",i.escapeHTML)}}function sN(n,t){}function lN(n,t){if(n&1&&(a(0,"div",20),k(1,aN,3,2,"ng-template",null,1,B)(3,sN,0,0,"ng-template",21),s()),n&2){let e=t.$implicit,i=E(2),r=p(2);at("ng-value-disabled",e.disabled),u(3),h("ngTemplateOutlet",r.labelTemplate||i)("ngTemplateOutletContext",qe(4,nN,e.value,r.clearItem,e.label))}}function cN(n,t){if(n&1&&(kt(0),k(1,lN,4,8,"div",19),Tt()),n&2){let e=p();u(),h("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function dN(n,t){}function uN(n,t){if(n&1&&k(0,dN,0,0,"ng-template",21),n&2){let e=p();h("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",vr(2,rN,e.selectedValues,e.clearItem))}}function mN(n,t){n&1&&b(0,"div",25)}function pN(n,t){}function hN(n,t){if(n&1&&(kt(0),k(1,mN,1,0,"ng-template",null,2,B)(3,pN,0,0,"ng-template",24),Tt()),n&2){let e=E(2),i=p();u(3),h("ngTemplateOutlet",i.loadingSpinnerTemplate||e)}}function fN(n,t){if(n&1&&(a(0,"span",26,3)(2,"span",27),c(3,"\xD7"),s()()),n&2){let e=p();Ln("title",e.clearAllText)}}function gN(n,t){if(n&1&&b(0,"span",32),n&2){let e=p().$implicit,i=p(2);h("ngItemLabel",e.label)("escape",i.escapeHTML)}}function _N(n,t){}function bN(n,t){if(n&1){let e=S();a(0,"div",31),v("click",function(){let r=f(e).$implicit,o=p(2);return g(o.toggleItem(r))})("mouseover",function(){let r=f(e).$implicit,o=p(2);return g(o.onItemHover(r))}),k(1,gN,1,2,"ng-template",null,4,B)(3,_N,0,0,"ng-template",21),s()}if(n&2){let e=t.$implicit,i=E(2),r=p(2);at("ng-option-disabled",e.disabled)("ng-option-selected",e.selected)("ng-optgroup",e.children)("ng-option",!e.children)("ng-option-child",!!e.parent)("ng-option-marked",e===r.itemsList.markedItem),lt("role",e.children?"group":"option")("aria-selected",e.selected)("id",e==null?null:e.htmlId),u(3),h("ngTemplateOutlet",e.children?r.optgroupTemplate||i:r.optionTemplate||i)("ngTemplateOutletContext",R_(17,oN,e.value,e,e.index,r.searchTerm))}}function vN(n,t){if(n&1&&(a(0,"span")(1,"span",34),c(2),s(),c(3),s()),n&2){let e=p(3);u(2),L(e.addTagText),u(),K('"',e.searchTerm,'"')}}function yN(n,t){}function xN(n,t){if(n&1){let e=S();a(0,"div",33),v("mouseover",function(){f(e);let r=p(2);return g(r.itemsList.unmarkItem())})("click",function(){f(e);let r=p(2);return g(r.selectTag())}),k(1,vN,4,2,"ng-template",null,5,B)(3,yN,0,0,"ng-template",21),s()}if(n&2){let e=E(2),i=p(2);at("ng-option-marked",!i.itemsList.markedItem),u(3),h("ngTemplateOutlet",i.tagTemplate||e)("ngTemplateOutletContext",Ki(4,ec,i.searchTerm))}}function wN(n,t){if(n&1&&(a(0,"div",35),c(1),s()),n&2){let e=p(3);u(),L(e.notFoundText)}}function CN(n,t){}function SN(n,t){if(n&1&&(kt(0),k(1,wN,2,1,"ng-template",null,6,B)(3,CN,0,0,"ng-template",21),Tt()),n&2){let e=E(2),i=p(2);u(3),h("ngTemplateOutlet",i.notFoundTemplate||e)("ngTemplateOutletContext",Ki(2,ec,i.searchTerm))}}function EN(n,t){if(n&1&&(a(0,"div",35),c(1),s()),n&2){let e=p(3);u(),L(e.typeToSearchText)}}function kN(n,t){}function TN(n,t){if(n&1&&(kt(0),k(1,EN,2,1,"ng-template",null,7,B)(3,kN,0,0,"ng-template",24),Tt()),n&2){let e=E(2),i=p(2);u(3),h("ngTemplateOutlet",i.typeToSearchTemplate||e)}}function MN(n,t){if(n&1&&(a(0,"div",35),c(1),s()),n&2){let e=p(3);u(),L(e.loadingText)}}function IN(n,t){}function DN(n,t){if(n&1&&(kt(0),k(1,MN,2,1,"ng-template",null,8,B)(3,IN,0,0,"ng-template",21),Tt()),n&2){let e=E(2),i=p(2);u(3),h("ngTemplateOutlet",i.loadingTextTemplate||e)("ngTemplateOutletContext",Ki(2,ec,i.searchTerm))}}function AN(n,t){if(n&1){let e=S();a(0,"ng-dropdown-panel",28),v("update",function(r){f(e);let o=p();return g(o.viewPortItems=r)})("scroll",function(r){f(e);let o=p();return g(o.scroll.emit(r))})("scrollToEnd",function(r){f(e);let o=p();return g(o.scrollToEnd.emit(r))})("outsideClick",function(){f(e);let r=p();return g(r.close())}),kt(1),k(2,bN,4,22,"div",29)(3,xN,4,6,"div",30),Tt(),k(4,SN,4,4,"ng-container",12)(5,TN,4,1,"ng-container",12)(6,DN,4,4,"ng-container",12),s()}if(n&2){let e=p();at("ng-select-multiple",e.multiple),h("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),u(2),h("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),u(),h("ngIf",e.showAddTag),u(),h("ngIf",e.showNoItemsFound()),u(),h("ngIf",e.showTypeToSearch()),u(),h("ngIf",e.loading&&e.itemsList.filteredItems.length===0)}}var kS=/[&<>"']/g,PN=RegExp(kS.source),ON={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function RN(n){return n&&PN.test(n)?n.replace(kS,t=>ON[t]):n}function li(n){return n!=null}function Zl(n){return typeof n=="object"&&li(n)}function VN(n){return n instanceof Promise}function sm(n){return n instanceof Function}var FN=(()=>{class n{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?RN(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(i){return new(i||n)(T(Ne))}}static{this.\u0275dir=De({type:n,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[Lt]})}}return n})(),NN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-option-tmp",""]]})}}return n})(),LN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-optgroup-tmp",""]]})}}return n})(),BN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-label-tmp",""]]})}}return n})(),jN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-multi-label-tmp",""]]})}}return n})(),zN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-header-tmp",""]]})}}return n})(),UN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-footer-tmp",""]]})}}return n})(),HN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-notfound-tmp",""]]})}}return n})(),WN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-typetosearch-tmp",""]]})}}return n})(),qN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-loadingtext-tmp",""]]})}}return n})(),$N=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-tag-tmp",""]]})}}return n})(),GN=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(T(St))}}static{this.\u0275dir=De({type:n,selectors:[["","ng-loadingspinner-tmp",""]]})}}return n})();function TS(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16))}var YN={"\u24B6":"A",\uFF21:"A",\u00C0:"A",\u00C1:"A",\u00C2:"A",\u1EA6:"A",\u1EA4:"A",\u1EAA:"A",\u1EA8:"A",\u00C3:"A",\u0100:"A",\u0102:"A",\u1EB0:"A",\u1EAE:"A",\u1EB4:"A",\u1EB2:"A",\u0226:"A",\u01E0:"A",\u00C4:"A",\u01DE:"A",\u1EA2:"A",\u00C5:"A",\u01FA:"A",\u01CD:"A",\u0200:"A",\u0202:"A",\u1EA0:"A",\u1EAC:"A",\u1EB6:"A",\u1E00:"A",\u0104:"A","\u023A":"A","\u2C6F":"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B",\uFF22:"B",\u1E02:"B",\u1E04:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0181:"B","\u24B8":"C",\uFF23:"C",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0187:"C","\u023B":"C","\uA73E":"C","\u24B9":"D",\uFF24:"D",\u1E0A:"D",\u010E:"D",\u1E0C:"D",\u1E10:"D",\u1E12:"D",\u1E0E:"D",\u0110:"D",\u018B:"D",\u018A:"D",\u0189:"D","\uA779":"D",\u01F1:"DZ",\u01C4:"DZ",\u01F2:"Dz",\u01C5:"Dz","\u24BA":"E",\uFF25:"E",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u1EC0:"E",\u1EBE:"E",\u1EC4:"E",\u1EC2:"E",\u1EBC:"E",\u0112:"E",\u1E14:"E",\u1E16:"E",\u0114:"E",\u0116:"E",\u00CB:"E",\u1EBA:"E",\u011A:"E",\u0204:"E",\u0206:"E",\u1EB8:"E",\u1EC6:"E",\u0228:"E",\u1E1C:"E",\u0118:"E",\u1E18:"E",\u1E1A:"E",\u0190:"E",\u018E:"E","\u24BB":"F",\uFF26:"F",\u1E1E:"F",\u0191:"F","\uA77B":"F","\u24BC":"G",\uFF27:"G",\u01F4:"G",\u011C:"G",\u1E20:"G",\u011E:"G",\u0120:"G",\u01E6:"G",\u0122:"G",\u01E4:"G",\u0193:"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H",\uFF28:"H",\u0124:"H",\u1E22:"H",\u1E26:"H",\u021E:"H",\u1E24:"H",\u1E28:"H",\u1E2A:"H",\u0126:"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I",\uFF29:"I",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u0128:"I",\u012A:"I",\u012C:"I",\u0130:"I",\u00CF:"I",\u1E2E:"I",\u1EC8:"I",\u01CF:"I",\u0208:"I",\u020A:"I",\u1ECA:"I",\u012E:"I",\u1E2C:"I",\u0197:"I","\u24BF":"J",\uFF2A:"J",\u0134:"J","\u0248":"J","\u24C0":"K",\uFF2B:"K",\u1E30:"K",\u01E8:"K",\u1E32:"K",\u0136:"K",\u1E34:"K",\u0198:"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L",\uFF2C:"L",\u013F:"L",\u0139:"L",\u013D:"L",\u1E36:"L",\u1E38:"L",\u013B:"L",\u1E3C:"L",\u1E3A:"L",\u0141:"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L",\u01C7:"LJ",\u01C8:"Lj","\u24C2":"M",\uFF2D:"M",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u019C:"M","\u24C3":"N",\uFF2E:"N",\u01F8:"N",\u0143:"N",\u00D1:"N",\u1E44:"N",\u0147:"N",\u1E46:"N",\u0145:"N",\u1E4A:"N",\u1E48:"N","\u0220":"N",\u019D:"N","\uA790":"N","\uA7A4":"N",\u01CA:"NJ",\u01CB:"Nj","\u24C4":"O",\uFF2F:"O",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u1ED2:"O",\u1ED0:"O",\u1ED6:"O",\u1ED4:"O",\u00D5:"O",\u1E4C:"O",\u022C:"O",\u1E4E:"O",\u014C:"O",\u1E50:"O",\u1E52:"O",\u014E:"O",\u022E:"O",\u0230:"O",\u00D6:"O",\u022A:"O",\u1ECE:"O",\u0150:"O",\u01D1:"O",\u020C:"O",\u020E:"O",\u01A0:"O",\u1EDC:"O",\u1EDA:"O",\u1EE0:"O",\u1EDE:"O",\u1EE2:"O",\u1ECC:"O",\u1ED8:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u0186:"O",\u019F:"O","\uA74A":"O","\uA74C":"O",\u01A2:"OI","\uA74E":"OO",\u0222:"OU","\u24C5":"P",\uFF30:"P",\u1E54:"P",\u1E56:"P",\u01A4:"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q",\uFF31:"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R",\uFF32:"R",\u0154:"R",\u1E58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1E5A:"R",\u1E5C:"R",\u0156:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S",\uFF33:"S","\u1E9E":"S",\u015A:"S",\u1E64:"S",\u015C:"S",\u1E60:"S",\u0160:"S",\u1E66:"S",\u1E62:"S",\u1E68:"S",\u0218:"S",\u015E:"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T",\uFF34:"T",\u1E6A:"T",\u0164:"T",\u1E6C:"T",\u021A:"T",\u0162:"T",\u1E70:"T",\u1E6E:"T",\u0166:"T",\u01AC:"T",\u01AE:"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U",\uFF35:"U",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u0168:"U",\u1E78:"U",\u016A:"U",\u1E7A:"U",\u016C:"U",\u00DC:"U",\u01DB:"U",\u01D7:"U",\u01D5:"U",\u01D9:"U",\u1EE6:"U",\u016E:"U",\u0170:"U",\u01D3:"U",\u0214:"U",\u0216:"U",\u01AF:"U",\u1EEA:"U",\u1EE8:"U",\u1EEE:"U",\u1EEC:"U",\u1EF0:"U",\u1EE4:"U",\u1E72:"U",\u0172:"U",\u1E76:"U",\u1E74:"U","\u0244":"U","\u24CB":"V",\uFF36:"V",\u1E7C:"V",\u1E7E:"V",\u01B2:"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W",\uFF37:"W",\u1E80:"W",\u1E82:"W",\u0174:"W",\u1E86:"W",\u1E84:"W",\u1E88:"W","\u2C72":"W","\u24CD":"X",\uFF38:"X",\u1E8A:"X",\u1E8C:"X","\u24CE":"Y",\uFF39:"Y",\u1EF2:"Y",\u00DD:"Y",\u0176:"Y",\u1EF8:"Y",\u0232:"Y",\u1E8E:"Y",\u0178:"Y",\u1EF6:"Y",\u1EF4:"Y",\u01B3:"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z",\uFF3A:"Z",\u0179:"Z",\u1E90:"Z",\u017B:"Z",\u017D:"Z",\u1E92:"Z",\u1E94:"Z",\u01B5:"Z",\u0224:"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a",\uFF41:"a",\u1E9A:"a",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u1EA7:"a",\u1EA5:"a",\u1EAB:"a",\u1EA9:"a",\u00E3:"a",\u0101:"a",\u0103:"a",\u1EB1:"a",\u1EAF:"a",\u1EB5:"a",\u1EB3:"a",\u0227:"a",\u01E1:"a",\u00E4:"a",\u01DF:"a",\u1EA3:"a",\u00E5:"a",\u01FB:"a",\u01CE:"a",\u0201:"a",\u0203:"a",\u1EA1:"a",\u1EAD:"a",\u1EB7:"a",\u1E01:"a",\u0105:"a","\u2C65":"a",\u0250:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b",\uFF42:"b",\u1E03:"b",\u1E05:"b",\u1E07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24D2":"c",\uFF43:"c",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0188:"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d",\uFF44:"d",\u1E0B:"d",\u010F:"d",\u1E0D:"d",\u1E11:"d",\u1E13:"d",\u1E0F:"d",\u0111:"d",\u018C:"d",\u0256:"d",\u0257:"d","\uA77A":"d",\u01F3:"dz",\u01C6:"dz","\u24D4":"e",\uFF45:"e",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u1EC1:"e",\u1EBF:"e",\u1EC5:"e",\u1EC3:"e",\u1EBD:"e",\u0113:"e",\u1E15:"e",\u1E17:"e",\u0115:"e",\u0117:"e",\u00EB:"e",\u1EBB:"e",\u011B:"e",\u0205:"e",\u0207:"e",\u1EB9:"e",\u1EC7:"e",\u0229:"e",\u1E1D:"e",\u0119:"e",\u1E19:"e",\u1E1B:"e","\u0247":"e",\u025B:"e",\u01DD:"e","\u24D5":"f",\uFF46:"f",\u1E1F:"f",\u0192:"f","\uA77C":"f","\u24D6":"g",\uFF47:"g",\u01F5:"g",\u011D:"g",\u1E21:"g",\u011F:"g",\u0121:"g",\u01E7:"g",\u0123:"g",\u01E5:"g",\u0260:"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h",\uFF48:"h",\u0125:"h",\u1E23:"h",\u1E27:"h",\u021F:"h",\u1E25:"h",\u1E29:"h",\u1E2B:"h",\u1E96:"h",\u0127:"h","\u2C68":"h","\u2C76":"h",\u0265:"h",\u0195:"hv","\u24D8":"i",\uFF49:"i",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u0129:"i",\u012B:"i",\u012D:"i",\u00EF:"i",\u1E2F:"i",\u1EC9:"i",\u01D0:"i",\u0209:"i",\u020B:"i",\u1ECB:"i",\u012F:"i",\u1E2D:"i",\u0268:"i",\u0131:"i","\u24D9":"j",\uFF4A:"j",\u0135:"j",\u01F0:"j","\u0249":"j","\u24DA":"k",\uFF4B:"k",\u1E31:"k",\u01E9:"k",\u1E33:"k",\u0137:"k",\u1E35:"k",\u0199:"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l",\uFF4C:"l",\u0140:"l",\u013A:"l",\u013E:"l",\u1E37:"l",\u1E39:"l",\u013C:"l",\u1E3D:"l",\u1E3B:"l",\u017F:"l",\u0142:"l",\u019A:"l",\u026B:"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l",\u01C9:"lj","\u24DC":"m",\uFF4D:"m",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m",\u026F:"m","\u24DD":"n",\uFF4E:"n",\u01F9:"n",\u0144:"n",\u00F1:"n",\u1E45:"n",\u0148:"n",\u1E47:"n",\u0146:"n",\u1E4B:"n",\u1E49:"n",\u019E:"n",\u0272:"n",\u0149:"n","\uA791":"n","\uA7A5":"n",\u01CC:"nj","\u24DE":"o",\uFF4F:"o",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u1ED3:"o",\u1ED1:"o",\u1ED7:"o",\u1ED5:"o",\u00F5:"o",\u1E4D:"o",\u022D:"o",\u1E4F:"o",\u014D:"o",\u1E51:"o",\u1E53:"o",\u014F:"o",\u022F:"o",\u0231:"o",\u00F6:"o",\u022B:"o",\u1ECF:"o",\u0151:"o",\u01D2:"o",\u020D:"o",\u020F:"o",\u01A1:"o",\u1EDD:"o",\u1EDB:"o",\u1EE1:"o",\u1EDF:"o",\u1EE3:"o",\u1ECD:"o",\u1ED9:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u0254:"o","\uA74B":"o","\uA74D":"o",\u0275:"o",\u01A3:"oi",\u0223:"ou","\uA74F":"oo","\u24DF":"p",\uFF50:"p",\u1E55:"p",\u1E57:"p",\u01A5:"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q",\uFF51:"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r",\uFF52:"r",\u0155:"r",\u1E59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1E5B:"r",\u1E5D:"r",\u0157:"r",\u1E5F:"r","\u024D":"r",\u027D:"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s",\uFF53:"s",\u00DF:"s",\u015B:"s",\u1E65:"s",\u015D:"s",\u1E61:"s",\u0161:"s",\u1E67:"s",\u1E63:"s",\u1E69:"s",\u0219:"s",\u015F:"s","\u023F":"s","\uA7A9":"s","\uA785":"s",\u1E9B:"s","\u24E3":"t",\uFF54:"t",\u1E6B:"t",\u1E97:"t",\u0165:"t",\u1E6D:"t",\u021B:"t",\u0163:"t",\u1E71:"t",\u1E6F:"t",\u0167:"t",\u01AD:"t",\u0288:"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u",\uFF55:"u",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u0169:"u",\u1E79:"u",\u016B:"u",\u1E7B:"u",\u016D:"u",\u00FC:"u",\u01DC:"u",\u01D8:"u",\u01D6:"u",\u01DA:"u",\u1EE7:"u",\u016F:"u",\u0171:"u",\u01D4:"u",\u0215:"u",\u0217:"u",\u01B0:"u",\u1EEB:"u",\u1EE9:"u",\u1EEF:"u",\u1EED:"u",\u1EF1:"u",\u1EE5:"u",\u1E73:"u",\u0173:"u",\u1E77:"u",\u1E75:"u",\u0289:"u","\u24E5":"v",\uFF56:"v",\u1E7D:"v",\u1E7F:"v",\u028B:"v","\uA75F":"v",\u028C:"v","\uA761":"vy","\u24E6":"w",\uFF57:"w",\u1E81:"w",\u1E83:"w",\u0175:"w",\u1E87:"w",\u1E85:"w",\u1E98:"w",\u1E89:"w","\u2C73":"w","\u24E7":"x",\uFF58:"x",\u1E8B:"x",\u1E8D:"x","\u24E8":"y",\uFF59:"y",\u1EF3:"y",\u00FD:"y",\u0177:"y",\u1EF9:"y",\u0233:"y",\u1E8F:"y",\u00FF:"y",\u1EF7:"y",\u1E99:"y",\u1EF5:"y",\u01B4:"y","\u024F":"y","\u1EFF":"y","\u24E9":"z",\uFF5A:"z",\u017A:"z",\u1E91:"z",\u017C:"z",\u017E:"z",\u1E93:"z",\u1E95:"z",\u01B6:"z",\u0225:"z","\u0240":"z","\u2C6C":"z","\uA763":"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038A:"\u0399",\u03AA:"\u0399",\u038C:"\u039F",\u038E:"\u03A5",\u03AB:"\u03A5",\u038F:"\u03A9",\u03AC:"\u03B1",\u03AD:"\u03B5",\u03AE:"\u03B7",\u03AF:"\u03B9",\u03CA:"\u03B9",\u0390:"\u03B9",\u03CC:"\u03BF",\u03CD:"\u03C5",\u03CB:"\u03C5",\u03B0:"\u03C5",\u03C9:"\u03C9",\u03C2:"\u03C3"};function am(n){let t=e=>YN[e]||e;return n.replace(/[^\u0000-\u007E]/g,t)}var $f=class{constructor(t,e){this._ngSelect=t,this._selectionModel=e,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){let e=this.selectedItems[t];if(!e.disabled)return e}return null}setItems(t){this._items=t.map((e,i)=>this.mapItem(e,i)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;let e=this._ngSelect.multiple;e||this.clearSelected(),this._selectionModel.select(t,e,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&li(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let e;return this._ngSelect.compareWith?e=i=>this._ngSelect.compareWith(i.value,t):this._ngSelect.bindValue?e=i=>!i.children&&this.resolveNested(i.value,this._ngSelect.bindValue)===t:e=i=>i.value===t||!i.children&&i.label&&i.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(i=>e(i))}addItem(t){let e=this.mapItem(t,this._items.length);return this._items.push(e),this._filteredItems.push(e),e}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(e=>{e.selected=t&&e.selected&&e.disabled,e.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=am(t).toLocaleLowerCase(),this.filteredItems.find(e=>am(e.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t){this.resetFilteredItems();return}this._filteredItems=[],t=this._ngSelect.searchFn?t:am(t).toLocaleLowerCase();let e=this._ngSelect.searchFn||this._defaultSearchFn,i=this._ngSelect.hideSelected;for(let r of Array.from(this._groups.keys())){let o=[];for(let l of this._groups.get(r)){if(i&&(l.parent&&l.parent.selected||l.selected))continue;let d=this._ngSelect.searchFn?l.value:l;e(t,d)&&o.push(l)}if(o.length>0){let[l]=o.slice(-1);if(l.parent){let d=this._items.find(m=>m===l.parent);this._filteredItems.push(d)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._ngSelect.hideSelected&&this.selectedItems.length>0?this._filteredItems=this._items.filter(t=>!t.selected):this._filteredItems=this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(this._filteredItems.length===0)return;let e=this._getLastMarkedIndex();e>-1?this._markedIndex=e:this._markedIndex=t?this.filteredItems.findIndex(i=>!i.disabled):-1}resolveNested(t,e){if(!Zl(t))return t;if(e.indexOf(".")===-1)return t[e];{let i=e.split("."),r=t;for(let o=0,l=i.length;o<l;++o){if(r==null)return null;r=r[i[o]]}return r}}mapItem(t,e){let i=li(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),r=li(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:e,label:li(i)?i.toString():"",value:r,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${e}`}}mapSelectedItems(){let t=this._ngSelect.multiple;for(let e of this.selectedItems){let i=this._ngSelect.bindValue?this.resolveNested(e.value,this._ngSelect.bindValue):e.value,r=li(i)?this.findItem(i):null;this._selectionModel.unselect(e,t),this._selectionModel.select(r||e,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>this.selectedItems.indexOf(e)===-1))}_showSelected(t){if(this._filteredItems.push(t),t.parent){let e=t.parent;this._filteredItems.find(r=>r===e)||this._filteredItems.push(e)}else if(t.children)for(let e of t.children)e.selected=!1,this._filteredItems.push(e);this._filteredItems=[...this._filteredItems.sort((e,i)=>e.index-i.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(e=>e!==t),t.parent?t.parent.children.every(i=>i.selected)&&(this._filteredItems=this._filteredItems.filter(i=>i!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(e=>e.parent!==t))}_defaultSearchFn(t,e){return am(e.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){this._filteredItems.length===0||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&this.markedItem===void 0)return-1;let t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,e){let i=new Map;if(t.length===0)return i;if(Array.isArray(t[0].value[e])){for(let l of t){let d=(l.value[e]||[]).map((m,_)=>this.mapItem(m,_));i.set(l,d)}return i}let r=sm(this._ngSelect.groupBy),o=l=>{let d=r?e(l.value):l.value[e];return li(d)?d:void 0};for(let l of t){let d=o(l),m=i.get(d);m?m.push(l):i.set(d,[l])}return i}_flatten(t){let e=sm(this._ngSelect.groupBy),i=[];for(let r of Array.from(t.keys())){let o=i.length;if(r===void 0){let w=t.get(void 0)||[];i.push(...w.map(I=>(I.index=o++,I)));continue}let l=Zl(r),d={label:l?"":String(r),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:TS()},m=e?this._ngSelect.bindLabel:this._ngSelect.groupBy,_=this._ngSelect.groupValue||(()=>l?r.value:{[m]:r}),x=t.get(r).map(w=>(w.parent=d,w.children=void 0,w.index=o++,w));d.children=x,d.value=_(r,x.map(w=>w.value)),i.push(d),i.push(...x)}return i}},pr=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowDown=40]="ArrowDown",n[n.Backspace=8]="Backspace",n}(pr||{}),MS=(()=>{class n{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,i,r){let o=this._dimensions,l=o.itemHeight*i,m=Math.max(0,e)/l*i,_=Math.min(i,Math.ceil(m)+(o.itemsPerViewport+1)),w=Math.max(0,_-o.itemsPerViewport),I=Math.min(w,Math.floor(m)),D=o.itemHeight*Math.ceil(I)-o.itemHeight*Math.min(I,r);return D=isNaN(D)?0:D,I=isNaN(I)?-1:I,_=isNaN(_)?-1:_,I-=r,I=Math.max(0,I),_+=r,_=Math.min(i,_),{topPadding:D,scrollHeight:l,start:I,end:_}}setDimensions(e,i){let r=Math.max(1,Math.floor(i/e));this._dimensions={itemHeight:e,panelHeight:i,itemsPerViewport:r}}getScrollTo(e,i,r){let{panelHeight:o}=this.dimensions,l=e+i,d=r,m=d+o;return o>=l&&r===e?null:l>m?d+l-m:e<=d?e:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),CS=["top","right","bottom","left"],QN=typeof requestAnimationFrame<"u"?hp:pp,SS=(()=>{class n{constructor(e,i,r,o,l){this._renderer=e,this._zone=i,this._panelService=r,this._document=l,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new Pe,this.scroll=new Pe,this.scrollToEnd=new Pe,this.outsideClick=new Pe,this._destroy$=new Re,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){let{itemHeight:e,panelHeight:i}=this._panelService.dimensions,r=this.markedItem.index*e;return i>r?0:r}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(e){if(e.items){let i=e.items;this._onItemsChange(i.currentValue,i.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,i=!1){if(!e)return;let r=this.items.indexOf(e);if(r<0||r>=this.itemsLength)return;let o;if(this.virtualScroll){let l=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(r*l,l,this._lastScrollPosition)}else{let l=this._dropdown.querySelector(`#${e.htmlId}`),d=i?l.offsetTop:this._lastScrollPosition;o=this._panelService.getScrollTo(l.offsetTop,l.clientHeight,d)}li(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){let e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),CS.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(e){CS.forEach(r=>{let o=`ng-select-${r}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});let i=`ng-select-${e}`;this._renderer.addClass(this._dropdown,i),this._renderer.addClass(this._select,i)}_handleScroll(){this._zone.runOutsideAngular(()=>{Ii(this.scrollElementRef.nativeElement,"scroll").pipe(dt(this._destroy$),ys(0,QN)).subscribe(e=>{let i=e.path||e.composedPath&&e.composedPath(),r=!i||i.length===0?e.target.scrollTop:i[0].scrollTop;this._onContentScrolled(r)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Mo(Ii(this._document,"touchstart",{capture:!0}),Ii(this._document,"mousedown",{capture:!0})).pipe(dt(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;let i=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&i&&i[0]&&this._select.contains(i[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,i){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(i):(this._setVirtualHeight(),this._updateItems(i))}_updateItems(e){this.update.emit(this.items),e!==!1&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{let i=this._scrollablePanel.clientHeight;this._panelService.setDimensions(0,i),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;e=e||this._scrollablePanel.scrollTop;let i=this._panelService.calculateItems(e,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(i.scrollHeight),this._contentPanel.style.transform=`translateY(${i.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(i.start,i.end)),this.scroll.emit({start:i.start,end:i.end})}),li(e)&&this._lastScrollPosition===0&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||this.itemsLength===0)return Promise.resolve(this._panelService.dimensions);let[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{let r=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;this._virtualPadding.style.height=`${r*this.itemsLength}px`;let o=this._scrollablePanel.clientHeight;return this._panelService.setDimensions(r,o),this._panelService.dimensions})}_fireScrollToEnd(e){if(this._scrollToEndFired||e===0)return;let i=this.virtualScroll?this._virtualPadding:this._contentPanel;e+this._dropdown.clientHeight>=i.clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if(this.position!=="auto")return this.position;let i=this._select.getBoundingClientRect(),r=document.documentElement.scrollTop||document.body.scrollTop,o=i.top+window.pageYOffset,l=i.height,d=e.getBoundingClientRect().height;return o+l+d>r+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.left-i.left;this._dropdown.style.left=r+"px",this._dropdown.style.width=e.width+"px",this._dropdown.style.minWidth=e.width+"px"}_updateYPosition(){let e=this._select.getBoundingClientRect(),i=this._parent.getBoundingClientRect(),r=e.height;if(this._currentPosition==="top"){let o=i.bottom-e.bottom;this._dropdown.style.bottom=o+r+"px",this._dropdown.style.top="auto"}else if(this._currentPosition==="bottom"){let o=e.top-i.top;this._dropdown.style.top=o+r+"px",this._dropdown.style.bottom="auto"}}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{Ii(this._dropdown,"mousedown").pipe(dt(this._destroy$)).subscribe(e=>{e.target.tagName!=="INPUT"&&e.preventDefault()})})}static{this.\u0275fac=function(i){return new(i||n)(T(Ui),T(Ze),T(MS),T(Ne),T(Ye,8))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-dropdown-panel"]],viewQuery:function(i,r){if(i&1&&(gt(KF,7,Ne),gt(JF,7,Ne),gt(XF,7,Ne)),i&2){let o;ze(o=Ue())&&(r.contentElementRef=o.first),ze(o=Ue())&&(r.scrollElementRef=o.first),ze(o=Ue())&&(r.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[Lt],ngContentSelectors:ES,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],["class","ng-dropdown-header",4,"ngIf"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(i,r){i&1&&(hi(),k(0,ZF,2,4,"div",3),a(1,"div",4,0),b(3,"div",null,1),a(5,"div",null,2),fi(7),s()(),k(8,eN,2,4,"div",5)),i&2&&(h("ngIf",r.headerTemplate),u(3),at("total-padding",r.virtualScroll),u(2),at("scrollable-content",r.virtualScroll&&r.items.length),u(3),h("ngIf",r.footerTemplate))},dependencies:[ae,qr],encapsulation:2,changeDetection:0})}}return n})(),gn=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}constructor(e){this.elementRef=e,this.stateChange$=new Re,this._disabled=!1}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return e!=null&&`${e}`!="false"}static{this.\u0275fac=function(i){return new(i||n)(T(Ne))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[Lt],ngContentSelectors:ES,decls:1,vars:0,template:function(i,r){i&1&&(hi(),fi(0))},encapsulation:2,changeDetection:0})}}return n})(),KN=(()=>{class n{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JN=(()=>{class n{warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IS=new Le("ng-select-selection-model"),Dn=(()=>{class n{get items(){return this._items}set items(e){e===null&&(e=[]),this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(e!=null&&!sm(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get clearSearchOnAdd(){return li(this._clearSearchOnAdd)?this._clearSearchOnAdd:li(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get deselectOnClick(){return li(this._deselectOnClick)?this._deselectOnClick:li(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(e){this._deselectOnClick=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}constructor(e,i,r,o,l,d,m){this.classes=e,this.autoFocus=i,this.config=r,this._cd=d,this._console=m,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=_=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new Pe,this.focusEvent=new Pe,this.changeEvent=new Pe,this.openEvent=new Pe,this.closeEvent=new Pe,this.searchEvent=new Pe,this.clearEvent=new Pe,this.addEvent=new Pe,this.removeEvent=new Pe,this.scroll=new Pe,this.scrollToEnd=new Pe,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=TS(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new Re,this._keyPress$=new Re,this._onChange=_=>{},this._onTouched=()=>{},this.clearItem=_=>{let x=this.selectedItems.find(w=>w.value===_);this.unselect(x)},this.trackByOption=(_,x)=>this.trackByFn?this.trackByFn(x.value):x,this._mergeGlobalConfig(r),this.itemsList=new $f(this,o()),this.element=l.nativeElement}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=li(e.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),li(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(pr[e.which]){if(this.keyDownFn(e)===!1)return;this.handleKeyCode(e)}else e.key&&e.key.length===1&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){let i=e.target;this.clearButton&&this.clearButton.nativeElement===i?this.handleKeyCodeClear(e):this.handleKeyCodeInput(e)}handleKeyCodeInput(e){switch(e.which){case pr.ArrowDown:this._handleArrowDown(e);break;case pr.ArrowUp:this._handleArrowUp(e);break;case pr.Space:this._handleSpace(e);break;case pr.Enter:this._handleEnter(e);break;case pr.Tab:this._handleTab(e);break;case pr.Esc:this.close(),e.preventDefault();break;case pr.Backspace:this._handleBackspace();break}}handleKeyCodeClear(e){switch(e.which){case pr.Enter:this.handleClearClick(),e.preventDefault();break}}handleMousedown(e){let i=e.target;if(i.tagName!=="INPUT"&&e.preventDefault(),i.classList.contains("ng-clear-wrapper")){this.handleClearClick();return}if(i.classList.contains("ng-arrow-wrapper")){this.handleArrowClick();return}i.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(e){!e||e.disabled||this.disabled||(this.deselectOnClick&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e.value))}selectTag(){let e;sm(this.addTag)?e=this.addTag(this.searchTerm):e=this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};let i=r=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(r,null):this.itemsList.addItem(r);VN(e)?e.then(r=>this.select(i(r))).catch(()=>{}):e&&this.select(i(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}get showAddTag(){if(!this._validTerm)return!1;let e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(i=>i.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(i=>i.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){let e=this.itemsList.filteredItems.length===0;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return this.itemsList.filteredItems.length===0&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,!this.searchWhileComposing&&this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||this.minTermLength===0)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(i=>i.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(e),this.focused=!0)}onInputBlur(e){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(e),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){let e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){let i=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=li(i)?!Zl(i):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&li(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){let e=r=>{this.items=r.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},i=()=>{let r=Mo(this.ngOptions.changes,this._destroy$);Mo(...this.ngOptions.map(o=>o.stateChange$)).pipe(dt(r)).subscribe(o=>{let l=this.itemsList.findItem(o.value);l.disabled=o.disabled,l.label=o.label||l.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(br(this.ngOptions),dt(this._destroy$)).subscribe(r=>{this.bindLabel=this._defaultLabel,e(r),i()})}_isValidWriteValue(e){if(!li(e)||this.multiple&&e===""||Array.isArray(e)&&e.length===0)return!1;let i=r=>!li(this.compareWith)&&Zl(r)&&this.bindValue?(this._console.warn(`Setting object(${JSON.stringify(r)}) as your model with bindValue is not allowed unless [compareWith] is used.`),!1):!0;return this.multiple?Array.isArray(e)?e.every(r=>i(r)):(this._console.warn("Multiple select ngModel should be array."),!1):i(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;let i=r=>{let o=this.itemsList.findItem(r);if(o)this.itemsList.select(o);else{let l=Zl(r),d=!l&&!this.bindValue;l||d?this.itemsList.select(this.itemsList.mapItem(r,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:r},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?e.forEach(r=>i(r)):i(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(dt(this._destroy$),ai(e=>this._pressedKeys.push(e)),xs(200),ii(()=>this._pressedKeys.length>0),mt(()=>this._pressedKeys.join(""))).subscribe(e=>{let i=this.itemsList.findByLabel(e);i&&(this.isOpen?(this.itemsList.markItem(i),this._scrollToMarked(),this._cd.markForCheck()):this.select(i)),this._pressedKeys=[]})}_setInputAttributes(){let e=this.searchInput.nativeElement,i=X({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(let r of Object.keys(i))e.setAttribute(r,i[r])}_updateNgModel(){let e=[];for(let r of this.selectedItems)if(this.bindValue){let o=null;if(r.children){let l=this.groupValue?this.bindValue:this.groupBy;o=r.value[l||this.groupBy]}else o=this.itemsList.resolveNested(r.value,this.bindValue);e.push(o)}else e.push(r.value);let i=this.selectedItems.map(r=>r.value);this.multiple?(this._onChange(e),this.changeEvent.emit(i)):(this._onChange(li(e[0])?e[0]:null),this.changeEvent.emit(i[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(e){if(this.isOpen===!1){if(this.showClear())this.focusOnClear(),e.preventDefault();else if(!this.addTag)return}this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close()}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else if(this.openOnEnter)this.open();else return;e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){let i=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(i<0||i===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){let e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=li(this.virtualScroll)?this.virtualScroll:li(e.disableVirtualScroll)?!e.disableVirtualScroll:!1,this.openOnEnter=li(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.bindLabel=this.bindLabel||e.bindLabel,this.appearance=this.appearance||e.appearance}static{this.\u0275fac=function(i){return new(i||n)(ln("class"),ln("autofocus"),T(KN),T(IS),T(Ne),T(Ot),T(JN))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-select"]],contentQueries:function(i,r,o){if(i&1&&(Kt(o,NN,5,St),Kt(o,LN,5,St),Kt(o,BN,5,St),Kt(o,jN,5,St),Kt(o,zN,5,St),Kt(o,UN,5,St),Kt(o,HN,5,St),Kt(o,WN,5,St),Kt(o,qN,5,St),Kt(o,$N,5,St),Kt(o,GN,5,St),Kt(o,gn,5)),i&2){let l;ze(l=Ue())&&(r.optionTemplate=l.first),ze(l=Ue())&&(r.optgroupTemplate=l.first),ze(l=Ue())&&(r.labelTemplate=l.first),ze(l=Ue())&&(r.multiLabelTemplate=l.first),ze(l=Ue())&&(r.headerTemplate=l.first),ze(l=Ue())&&(r.footerTemplate=l.first),ze(l=Ue())&&(r.notFoundTemplate=l.first),ze(l=Ue())&&(r.typeToSearchTemplate=l.first),ze(l=Ue())&&(r.loadingTextTemplate=l.first),ze(l=Ue())&&(r.tagTemplate=l.first),ze(l=Ue())&&(r.loadingSpinnerTemplate=l.first),ze(l=Ue())&&(r.ngOptions=l)}},viewQuery:function(i,r){if(i&1&&(gt(SS,5),gt(tN,7),gt(iN,5)),i&2){let o;ze(o=Ue())&&(r.dropdownPanel=o.first),ze(o=Ue())&&(r.searchInput=o.first),ze(o=Ue())&&(r.clearButton=o.first)}},hostVars:20,hostBindings:function(i,r){i&1&&v("keydown",function(l){return r.handleKeyDown(l)}),i&2&&at("ng-select-typeahead",r.typeahead)("ng-select-multiple",r.multiple)("ng-select-taggable",r.addTag)("ng-select-searchable",r.searchable)("ng-select-clearable",r.clearable)("ng-select-opened",r.isOpen)("ng-select",r.useDefaultClass)("ng-select-disabled",r.disabled)("ng-select-filtered",r.filtered)("ng-select-single",r.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[vt([{provide:Wi,useExisting:ni(()=>n),multi:!0},MS]),Lt],decls:14,vars:19,consts:[["searchInput",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"input","compositionstart","compositionend","focus","blur","change","readOnly","disabled","value"],["class","ng-clear-wrapper","tabindex","0",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],["tabindex","0",1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(i,r){if(i&1){let o=S();a(0,"div",9),v("mousedown",function(d){return f(o),g(r.handleMousedown(d))}),a(1,"div",10)(2,"div",11),c(3),s(),k(4,cN,2,2,"ng-container",12)(5,uN,1,5,null,12),a(6,"div",13)(7,"input",14,0),v("input",function(){f(o);let d=E(8);return g(r.filter(d.value))})("compositionstart",function(){return f(o),g(r.onCompositionStart())})("compositionend",function(){f(o);let d=E(8);return g(r.onCompositionEnd(d.value))})("focus",function(d){return f(o),g(r.onInputFocus(d))})("blur",function(d){return f(o),g(r.onInputBlur(d))})("change",function(d){return f(o),g(d.stopPropagation())}),s()()(),k(9,hN,4,1,"ng-container",12)(10,fN,4,1,"span",15),a(11,"span",16),b(12,"span",17),s()(),k(13,AN,7,19,"ng-dropdown-panel",18)}i&2&&(at("ng-appearance-outline",r.appearance==="outline")("ng-has-value",r.hasValue),u(3),L(r.placeholder),u(),h("ngIf",(!r.multiLabelTemplate||!r.multiple)&&r.selectedItems.length>0),u(),h("ngIf",r.multiple&&r.multiLabelTemplate&&r.selectedValues.length>0),u(),lt("aria-expanded",r.isOpen)("aria-owns",r.isOpen?r.dropdownId:null),u(),h("readOnly",!r.searchable||r.itemsList.maxItemsSelected)("disabled",r.disabled)("value",r.searchTerm?r.searchTerm:""),lt("id",r.labelForId)("tabindex",r.tabIndex)("aria-activedescendant",r.isOpen?r.itemsList==null||r.itemsList.markedItem==null?null:r.itemsList.markedItem.htmlId:null)("aria-controls",r.isOpen?r.dropdownId:null),u(2),h("ngIf",r.loading),u(),h("ngIf",r.showClear()),u(3),h("ngIf",r.isOpen))},dependencies:[jn,_e,ae,qr,SS,FN],styles:[`@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}
`],encapsulation:2,changeDetection:0})}}return n})();function XN(){return new Gf}var Gf=class{constructor(){this._selected=[]}get value(){return this._selected}select(t,e,i){if(t.selected=!0,(!t.children||!e&&i)&&this._selected.push(t),e)if(t.parent){let r=t.parent.children.length,o=t.parent.children.filter(l=>l.selected).length;t.parent.selected=r===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),i&&this._activeChildren(t)?this._selected=[...this._selected.filter(r=>r.parent!==t),t]:this._selected=[...this._selected,...t.children.filter(r=>!r.disabled)])}unselect(t,e){if(this._selected=this._selected.filter(i=>i!==t),t.selected=!1,e)if(t.parent&&t.parent.selected){let i=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...i.filter(r=>r!==t&&!r.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(t,e){for(let i of t)i.disabled||(i.selected=e)}_removeChildren(t){this._selected=[...this._selected.filter(e=>e.parent!==t),...t.children.filter(e=>e.parent===t&&e.disabled&&e.selected)]}_removeParent(t){this._selected=this._selected.filter(e=>e!==t)}_activeChildren(t){return t.children.every(e=>!e.disabled||e.selected)}},ke=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[{provide:IS,useValue:XN}],imports:[oe]})}}return n})();function ZN(n,t){if(n&1){let e=S();a(0,"a",12),v("keyup.enter",function(){f(e),p(3);let r=E(1);return g(r.previous())})("click",function(){f(e),p(3);let r=E(1);return g(r.previous())}),c(1),a(2,"span",13),c(3),s()()}if(n&2){let e=p(3);u(),K(" ",e.previousLabel," "),u(2),L(e.screenReaderPageLabel)}}function e6(n,t){if(n&1&&(a(0,"span",14),c(1),a(2,"span",13),c(3),s()()),n&2){let e=p(3);u(),K(" ",e.previousLabel," "),u(2),L(e.screenReaderPageLabel)}}function t6(n,t){if(n&1&&(a(0,"li",9),k(1,ZN,4,2,"a",10)(2,e6,4,2,"span",11),s()),n&2){p(2);let e=E(1);at("disabled",e.isFirstPage()),u(),h("ngIf",1<e.getCurrent()),u(),h("ngIf",e.isFirstPage())}}function i6(n,t){if(n&1){let e=S();a(0,"a",12),v("keyup.enter",function(){f(e);let r=p().$implicit;p(2);let o=E(1);return g(o.setCurrent(r.value))})("click",function(){f(e);let r=p().$implicit;p(2);let o=E(1);return g(o.setCurrent(r.value))}),a(1,"span",13),c(2),s(),a(3,"span"),c(4),ee(5,"number"),s()()}if(n&2){let e=p().$implicit,i=p(2);u(2),K("",i.screenReaderPageLabel," "),u(2),L(e.label==="..."?e.label:re(5,2,e.label,""))}}function n6(n,t){if(n&1&&(kt(0),a(1,"span",16)(2,"span",13),c(3),s(),a(4,"span"),c(5),ee(6,"number"),s()(),Tt()),n&2){let e=p().$implicit,i=p(2);u(3),K("",i.screenReaderCurrentLabel," "),u(2),L(e.label==="..."?e.label:re(6,2,e.label,""))}}function r6(n,t){if(n&1&&(a(0,"li"),k(1,i6,6,5,"a",10)(2,n6,7,5,"ng-container",15),s()),n&2){let e=t.$implicit;p(2);let i=E(1);at("current",i.getCurrent()===e.value)("ellipsis",e.label==="..."),u(),h("ngIf",i.getCurrent()!==e.value),u(),h("ngIf",i.getCurrent()===e.value)}}function o6(n,t){if(n&1){let e=S();a(0,"a",12),v("keyup.enter",function(){f(e),p(3);let r=E(1);return g(r.next())})("click",function(){f(e),p(3);let r=E(1);return g(r.next())}),c(1),a(2,"span",13),c(3),s()()}if(n&2){let e=p(3);u(),K(" ",e.nextLabel," "),u(2),L(e.screenReaderPageLabel)}}function a6(n,t){if(n&1&&(a(0,"span",14),c(1),a(2,"span",13),c(3),s()()),n&2){let e=p(3);u(),K(" ",e.nextLabel," "),u(2),L(e.screenReaderPageLabel)}}function s6(n,t){if(n&1&&(a(0,"li",17),k(1,o6,4,2,"a",10)(2,a6,4,2,"span",11),s()),n&2){p(2);let e=E(1);at("disabled",e.isLastPage()),u(),h("ngIf",!e.isLastPage()),u(),h("ngIf",e.isLastPage())}}function l6(n,t){if(n&1&&(a(0,"ul",4),k(1,t6,3,4,"li",5),a(2,"li",6),c(3),s(),k(4,r6,3,6,"li",7)(5,s6,3,4,"li",8),s()),n&2){let e=p(),i=E(1);at("responsive",e.responsive),u(),h("ngIf",e.directionLinks),u(2),Di(" ",i.getCurrent()," / ",i.getLastPage()," "),u(),h("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),u(),h("ngIf",e.directionLinks)}}var tc=class{constructor(){this.change=new Pe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return t.id==null&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t],r=Math.ceil(i.totalItems/i.itemsPerPage);e<=r&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}},c6=Number.MAX_SAFE_INTEGER,Je=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let w=i.id||this.service.defaultId();return this.state[w]?this.state[w].slice:e}let r=i.totalItems&&i.totalItems!==e.length,o=this.createInstance(e,i),l=o.id,d,m,_=o.itemsPerPage,x=this.service.register(o);if(!r&&e instanceof Array){if(_=+_||c6,d=(o.currentPage-1)*_,m=d+_,this.stateIsIdentical(l,e,d,m))return this.state[l].slice;{let I=e.slice(d,m);return this.saveState(l,e,I,d,m),this.service.change.emit(l),I}}else return x&&this.service.change.emit(l),this.saveState(l,e,e,d,m),e}createInstance(e,i){return this.checkConfig(i),{id:i.id!=null?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){let r=["itemsPerPage","currentPage"].filter(o=>!(o in e));if(0<r.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${r.join(", ")}`)}saveState(e,i,r,o,l){this.state[e]={collection:i,size:i.length,slice:r,start:o,end:l}}stateIsIdentical(e,i,r,o){let l=this.state[e];return!l||!(l.size===i.length&&l.start===r&&l.end===o)?!1:l.slice.every((m,_)=>m===i[r+_])}}return n.\u0275fac=function(e){return new(e||n)(T(tc,16))},n.\u0275pipe=Cs({name:"paginate",type:n,pure:!1}),n})();var d6=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this.pages=[],this.changeSub=this.service.change.subscribe(r=>{this.id===r&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,r,o){o=+o;let l=[],d=Math.max(Math.ceil(r/i),1),m=Math.ceil(o/2),_=e<=m,x=d-m<e,w=!_&&!x,I=o<d,D=1;for(;D<=d&&D<=o;){let P,A=this.calculatePageNumber(D,e,o,d),O=D===2&&(w||x),U=D===o-1&&(w||_);I&&(O||U)?P="...":P=A,l.push({label:P,value:A}),D++}return l}calculatePageNumber(e,i,r,o){let l=Math.ceil(r/2);return e===r?o:e===1?e:r<o?o-l<i?o-r+e:l<i?i-l+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(T(tc),T(Ot))},n.\u0275dir=De({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[Lt]}),n})();function Yf(n){return!!n&&n!=="false"}var Xe=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Pe,this.pageBoundsCorrection=new Pe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Yf(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Yf(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Yf(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(e&1){let r=S();a(0,"pagination-template",1,0),v("pageChange",function(l){return f(r),g(i.pageChange.emit(l))})("pageBoundsCorrection",function(l){return f(r),g(i.pageBoundsCorrection.emit(l))}),a(2,"nav",2),k(3,l6,6,8,"ul",3),s()()}if(e&2){let r=E(1);h("id",i.id)("maxSize",i.maxSize),u(2),lt("aria-label",i.screenReaderPaginationLabel),u(),h("ngIf",!(i.autoHide&&r.pages.length<=1))}},dependencies:[d6,ae,_e,Y_],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=be({providers:[tc],imports:[[oe]]}),n})();var He=class n{transform(t,e){return e!=""?t.filter(i=>i?.lastname?.toLowerCase().includes(e.toLowerCase())||i?.code?.toLowerCase().includes(e.toLowerCase())||i?.firstname?.toLowerCase().includes(e.toLowerCase())||i?.birthdate?.toLowerCase().includes(e.toLowerCase())||i?.birthplace?.toLowerCase().includes(e.toLowerCase())||i?.sex?.toLowerCase().includes(e.toLowerCase())||i?.address?.toLowerCase().includes(e.toLowerCase())||i?.fonction?.toLowerCase().includes(e.toLowerCase())||i?.email?.toLowerCase().includes(e.toLowerCase())||i?.phone?.toLowerCase().includes(e.toLowerCase())):t}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Cs({name:"sampleSearch",type:n,pure:!0,standalone:!0})};function u6(n,t){n&1&&b(0,"img",0)}var Ae=class n{isVisible=!1;constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-loading"]],inputs:{isVisible:"isVisible"},standalone:!0,features:[J],decls:1,vars:1,consts:[["src","assets/spinner.gif","alt","",2,"height","30px"]],template:function(e,i){e&1&&k(0,u6,1,0,"img",0),e&2&&Xn(i.isVisible?0:-1)},dependencies:[oe]})};var lm=class n{constructor(t){this.http=t}url=j.toApiUrl("agenda");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+`/get-by-prestation/${t}`)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}SendMail(t){return this.http.get(`${this.url}/mail/send/${t}`)}transUp(t){return this.http.get(`${this.url}/mail/trans-up/${t}`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Et=class n{constructor(t){this.http=t}url=j.toApiUrl("requete");getAll(){return this.http.get(this.url)}get(t,e,i){return this.http.get(`${this.url}/get-one/${t}/${e}?prestation_code=${i}`)}getByPrestationNew(t,e){return this.http.get(this.url+"/byPrestation/pending/"+t+"/new?code="+e)}getByPrestationTreated(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/treated?code="+e)}getByPrestationToSign(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/to-sign?code="+e)}getByPrestationSigned(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/signed?code="+e)}getByPrestationToReject(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/to-reject?code="+e)}getByPrestationRejected(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/rejected?code="+e)}getByPrestationPending(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/pending?code="+e)}getForAgenda(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/agenda?code="+e)}getByPrestationFinished(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/finished?code="+e)}getByPrestationAll(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/all?code="+e)}getByPrestationCorrect(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/correct?code="+e)}getByPrestationVisa(t,e){return this.http.get(this.url+"/byPrestation/"+t+"/visa?code="+e)}relance(t){return this.http.get(this.url+"/relance/"+t)}getCorrectionByPrestation(t,e){return this.http.get(this.url+"/correction/byPrestation/"+t+"?code="+e)}store(t){return this.http.post(this.url,t)}confirm(t,e,i){return this.http.post(this.url+"/confirm/byPrestation/"+e+"?code="+i,t)}concat(t){return this.http.post(this.url+"/concat",t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}getForTreatment(t,e,i){return this.http.get(`${this.url}/treatment/${t}/${e}?code=`+i)}update(t,e){return e._method="patch",this.http.patch(`${this.url}/${t}`,e)}geeratePDF(t,e,i,r){return this.http.post(`${this.url}/generate/${t}/${i}?code=`+r,e)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}verifyFile(t,e,i){return this.http.get(`${j.toApiUrl("requete-verify")}/${t}/${e}/${i}`)}requestProof(t){return this.http.post(`${j.toApiUrl("requete-file-proof-send")}`,t)}addContratFile(t){return this.http.post(`${j.toApiUrl("requete-add-contract-file")}`,t)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var p6=["dialog"],h6=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function f6(n,t){if(n&1){let e=S();a(0,"button",31),v("click",function(){f(e);let r=p(),o=E(48);return g(r.add(o))}),c(1,"Ajouter"),s()}}function g6(n,t){if(n&1){let e=S();a(0,"button",32),v("click",function(){f(e);let r=p(),o=E(50);return g(r.edit(o))}),c(1," Reprogrammer la rencontre "),s()}if(n&2){let e=p();h("disabled",e.loading)}}function _6(n,t){if(n&1){let e=S();a(0,"button",33),v("click",function(){f(e);let r=p();return g(r.delete())}),c(1," Annuler la rencontre "),s()}if(n&2){let e=p();h("disabled",e.loading)}}function b6(n,t){if(n&1){let e=S();a(0,"button",34),v("click",function(){f(e);let r=p();return g(r.transUp())}),c(1,"Transmettre"),s()}if(n&2){let e=p();h("disabled",e.loading)}}function v6(n,t){if(n&1){let e=S();a(0,"button",34),v("click",function(){f(e);let r=p();return g(r.sendMail())}),c(1,"Envoyer le mail"),s()}if(n&2){let e=p();h("disabled",e.loading)}}function y6(n,t){if(n&1){let e=S();a(0,"button",48),v("click",function(){f(e);let r=p(3),o=E(52);return g(r.show(o))}),b(1,"i",49),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function x6(n,t){if(n&1){let e=S();a(0,"button",50),v("click",function(){f(e);let r=p(3),o=E(50);return g(r.edit(o))}),b(1,"i",51),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function w6(n,t){if(n&1){let e=S();a(0,"button",52),v("click",function(){f(e);let r=p(3);return g(r.delete())}),b(1,"i",53),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function C6(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",55),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function S6(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",57),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function E6(n,t){if(n&1){let e=S();a(0,"div",39)(1,"button",40),v("click",function(){f(e);let r=p(2),o=E(48);return g(r.add(o))}),b(2,"i",41),s(),k(3,y6,2,1,"button",42)(4,x6,2,1,"button",43)(5,w6,2,1,"button",44)(6,C6,2,1,"button",45)(7,S6,2,1,"button",46),a(8,"button",47),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),s()()}if(n&2){let e=p(2);u(),h("disabled",e.loading),u(2),h("ngIf",e.buttonsPermission.show),u(),h("ngIf",e.buttonsPermission.edit),u(),h("ngIf",e.buttonsPermission.delete),u(),h("ngIf",e.is_active!=null&&!e.is_active),u(),h("ngIf",e.is_active!=null&&e.is_active)}}function k6(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,E6,9,6,"div",38),s(),a(5,"td"),c(6),ee(7,"date"),s(),a(8,"td"),c(9),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),a(14,"td"),c(15),s(),a(16,"td"),c(17),s(),a(18,"td"),c(19),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(re(7,13,e==null?null:e.date_start,"dd-MM-yyyy")),u(3),L(e==null||e.requete==null||e.requete.prestation==null?null:e.requete.prestation.name),u(2),L(e==null?null:e.description),u(2),L(e==null||e.unite_admin==null?null:e.unite_admin.libelle),u(2),L(i.getStatus(e==null?null:e.status)),u(2),L((e==null?null:e.usager_response)==null?"En attente de r\xE9ponse":(e==null?null:e.usager_response)==0?"Pas disponible":"Diponible"),u(2),Di("",e.user==null||e.user.agent==null?null:e.user.agent.lastname," ",e.user==null||e.user.agent==null?null:e.user.agent.firstname,"")}}function T6(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",58)(2,"p",59),c(3,"Recherche avanc\xE9e en cours..."),s(),a(4,"button",60),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),c(5," R\xE9initialiser la recherche "),s()()()}}function M6(n,t){if(n&1&&(a(0,"option",80),c(1),s()),n&2){let e=t.$implicit,i=p(2);h("selected",i.upId==e.id)("value",e.prestation.id),u(),L(e.prestation.name)}}function I6(n,t){if(n&1&&(a(0,"option",80),c(1),s()),n&2){let e=t.$implicit,i=p(3);h("selected",i.code==i.reqId)("value",e.id),u(),L(e.code)}}function D6(n,t){if(n&1&&(a(0,"div",67)(1,"label",68),c(2,"Choisir la requ\xEAte"),s(),a(3,"select",81),b(4,"option",70),k(5,I6,2,3,"option",71),s()()),n&2){let e=p(2);u(5),h("ngForOf",e.requetes)}}function A6(n,t){if(n&1&&(a(0,"option",84),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.code)}}function P6(n,t){if(n&1){let e=S();a(0,"div",67)(1,"label",68),c(2,"Choisir la requ\xEAte"),s(),a(3,"select",82),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.reqId,r)||(o.reqId=r),g(r)}),b(4,"option",70),k(5,A6,2,2,"option",83),s()()}if(n&2){let e=p(2);u(3),V("ngModel",e.reqId),u(2),h("ngForOf",e.requetes)}}function O6(n,t){n&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function R6(n,t){if(n&1&&(a(0,"span",85),k(1,O6,2,0,"small",86),s()),n&2){p();let e=E(21);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function V6(n,t){n&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function F6(n,t){if(n&1&&(a(0,"span",85),k(1,V6,2,0,"small",86),s()),n&2){p();let e=E(27);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function N6(n,t){if(n&1){let e=S();a(0,"form",61,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",62)(3,"h4",63),c(4,"Enregistrer un programme"),s(),a(5,"button",64),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",65),s()(),a(7,"div")(8,"div",66)(9,"div",67)(10,"label",68),c(11,"Choisir la prestation"),s(),a(12,"select",69),v("change",function(r){f(e);let o=p();return g(o.loadRequete(r))}),b(13,"option",70),k(14,M6,2,3,"option",71),s()(),k(15,D6,6,1,"div",72)(16,P6,6,2,"div",72),a(17,"div",67)(18,"label",73),c(19,"Texte"),s(),b(20,"textarea",74,4),k(22,R6,2,1,"span",75),s(),a(23,"div",67)(24,"label",73),c(25,"Date "),s(),b(26,"input",76,5),k(28,F6,2,1,"span",75),s()()(),a(29,"div",77)(30,"button",78),c(31,"Sauvegarder "),b(32,"app-loading",79),s()()()}if(n&2){let e=E(1),i=E(21),r=E(27),o=p();u(12),h("disabled",o.upId!=null),u(2),h("ngForOf",o.user_prestations),u(),h("ngIf",o.code==null),u(),h("ngIf",o.code!=null),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(6),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(2),h("disabled",e.invalid||o.loading),u(2),h("isVisible",o.loading)}}function L6(n,t){n&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function B6(n,t){if(n&1&&(a(0,"span",85),k(1,L6,2,0,"small",86),s()),n&2){p();let e=E(13);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function j6(n,t){n&1&&(a(0,"small",87),c(1,"Le libell\xE9 est requis."),s())}function z6(n,t){if(n&1&&(a(0,"span",85),k(1,j6,2,0,"small",86),s()),n&2){p();let e=E(19);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function U6(n,t){if(n&1){let e=S();a(0,"form",61,6),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",88)(3,"div")(4,"h6"),c(5,"Modification de programme "),a(6,"button",64),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(7,"i",65),s()()(),a(8,"div")(9,"div",67)(10,"label",73),c(11,"Texte"),s(),a(12,"textarea",89,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.description,r)||(o.selected_data.description=r),g(r)}),s(),k(14,B6,2,1,"span",75),s(),a(15,"div",67)(16,"label",73),c(17,"Date"),s(),a(18,"input",90,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.date_start,r)||(o.selected_data.date_start=r),g(r)}),s(),k(20,z6,2,1,"span",75),s()(),a(21,"div")(22,"button",78),c(23,"Sauvegarder "),b(24,"app-loading",79),s()()()()}if(n&2){let e=E(1),i=E(13),r=E(19),o=p();u(12),V("ngModel",o.selected_data.description),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(4),V("ngModel",o.selected_data.date_start),u(2),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(2),h("disabled",e.invalid||o.loading),u(2),h("isVisible",o.loading)}}function H6(n,t){if(n&1){let e=S();a(0,"div",62)(1,"h4",63),c(2,"D\xE9tails des informations"),s(),a(3,"button",91),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",66),b(5,"div",92),s()}}var Zo=class n{constructor(t,e,i,r,o,l,d){this.agendaService=t;this.locService=e;this.modalService=r;this.requeteService=o;this.toastrService=l;this.activatedRoute=d;i.backdrop="static",i.keyboard=!1}dialog;selected_data;data=[];user;permissions=[];user_prestations=[];requetes=[];loading=!1;error="";loading2=!1;canTransmit=!0;role="";canSendMail=!0;is_active=!0;code;codeP;slug;upId;reqId;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;ngAfterViewInit(){this.slug!=null&&(this.upId=this.user_prestations.find(t=>t.prestation.slug==this.slug)?.id),this.code!=null&&this.slug!=null&&(this.upId=this.user_prestations.find(t=>t.prestation.slug==this.slug).id,this.requeteService.getForAgenda(this.slug,this.codeP).subscribe(t=>{this.requetes=t,this.reqId=this.requetes.find(e=>e.code==this.code)?.id,this.add(this.dialog)}))}ngOnInit(){this.user=this.locService.get(Z.userName),this.user_prestations=this.user.userprestation,this.role=this.user.roles[0].name,this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.codeP=this.activatedRoute.snapshot.paramMap.get("codeP"),this.slug=this.activatedRoute.snapshot.paramMap.get("slug"),this.slug!=null&&this.slug!=null?this.getByPrestation():this.all()}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.agendaService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getByPrestation(){this.loading2=!0,this.agendaService.getByPrestation(this.slug).subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t,t.ua_up==this.user.agent.unite_admin.id?this.canTransmit=!0:this.canTransmit=!1,this.role=="Directeur"&&t.status==0?this.canSendMail=!0:this.canSendMail=!1}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){let e=mn(new Date,"yyyy-MM-dd","en_US");mn(t.date_start,"yyyy-MM-dd","en_US")<e?(this.error="Impossible de choisir une date ant\xE9rieure",this.toastrService.error("Impossible de choisir une date ant\xE9rieure")):(this.reqId!=null&&(t.requete_id=this.reqId),this.loading=!0,this.agendaService.store(t).subscribe(r=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Un programme enregistr\xE9e, mail envoy\xE9 \xE0 l'usager")},r=>{this.loading=!1}))}update(t){this.loading=!0,console.log(t),this.agendaService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.agendaService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}loadRequete(t){this.requeteService.getForAgenda(this.user_prestations.find(e=>e.prestation.id==t.target.value).prestation.slug).subscribe(e=>{this.requetes=e})}getStatus(t){switch(t){case 0:return"Ouvert";case 1:return"Envoy\xE9";case 2:return"Clotur\xE9";default:return""}}transUp(){this.agendaService.transUp(this.selected_data.id).subscribe(t=>{this.loading=!1,this.getByPrestation(),this.toastrService.success("Transmission de la proposition de rendez vous")},t=>{this.loading=!1})}sendMail(){this.toastrService.info("Op\xE9ration en cours"),this.agendaService.SendMail(this.selected_data.id).subscribe(t=>{this.toastrService.info("Mail Envoy\xE9"),this.loading=!1,this.all(),this.toastrService.success("Transmission de la proposition de rendez vous")},t=>{this.toastrService.info("Echec d'envoi du mail"),this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.agendaService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(lm),T(se),T(ut),T(fe),T(Et),T(de),T(Ke))};static \u0275cmp=G({type:n,selectors:[["ngx-agenda"]],viewQuery:function(e,i){if(e&1&&gt(p6,5),e&2){let r;ze(r=Ue())&&(i.dialog=r.first)}},standalone:!0,features:[J],decls:53,vars:31,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["description","ngModel"],["date_start","ngModel"],["editForm","ngForm"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"card","p-1"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],["class","btn btn-sm btn-warning mx-1","nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1","nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"disabled","click",4,"ngIf"],["class"," btn btn-sm btn-primary float-right mx-1",3,"disabled","click",4,"ngIf"],[1,"align-self-center","d-flex"],[1,"input-group"],["id","inputGroupSelect04","aria-label","Example select with button addon",1,"form-select"],["value",""],["type","text","name","search_text","placeholder","Rechercher..",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-rotate-left"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],["nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-warning","mx-1",3,"click","disabled"],["nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-danger","mx-1",3,"click","disabled"],[1,"btn","btn-sm","btn-primary","float-right","mx-1",3,"click","disabled"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],["colspan","5",1,"text-center"],[1,"text-muted"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for",""],["name","","id","",1,"form-control",3,"change","disabled"],["selected","","disabled",""],[3,"selected","value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["for","typeLabel"],["name","description","ngModel","","rows","5",1,"form-control"],["class","text-danger",4,"ngIf"],["type","datetime-local","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","date_start","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"selected","value"],["ngModel","","name","requete_id","required","",1,"form-control"],["name","requete_id","required","","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],[2,"height","80vh"],["name","description","rows","5",1,"form-control",3,"ngModelChange","ngModel"],["type","datetime-local","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),k(4,f6,2,0,"button",11)(5,g6,2,1,"button",12)(6,_6,2,1,"button",13)(7,b6,2,1,"button",14)(8,v6,2,1,"button",14),a(9,"div",15)(10,"div",16)(11,"select",17)(12,"option",18),c(13,"Filtrer Par"),s()(),a(14,"input",19),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(15,"button",20),v("click",function(){return f(r),g(i.resetSearch())}),b(16,"i",21),s()()()(),a(17,"div",22)(18,"p"),c(19),s(),a(20,"div",23)(21,"table",24)(22,"thead",25)(23,"tr")(24,"th",26),c(25,"#"),s(),a(26,"th",27),c(27,"Date"),s(),a(28,"th",27),c(29,"Prestation concern\xE9e"),s(),a(30,"th",27),c(31,"Texte"),s(),a(32,"th",27),c(33,"Etape"),s(),a(34,"th",27),c(35,"Statut"),s(),a(36,"th",27),c(37,"R\xE9ponse usager"),s(),a(38,"th",27),c(39,"Auteur"),s()()(),a(40,"tbody"),k(41,k6,20,16,"tr",28),ee(42,"paginate"),ee(43,"sampleSearch"),k(44,T6,6,0,"tr",29),ee(45,"sampleSearch"),s()()(),a(46,"pagination-controls",30),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()(),k(47,N6,33,8,"ng-template",null,0,B)(49,U6,25,6,"ng-template",null,1,B)(51,H6,6,0,"ng-template",null,2,B)}e&2&&(u(4),h("ngIf",i.buttonsPermission.add),u(),h("ngIf",i.selected_data!=null&&i.canTransmit),u(),h("ngIf",i.selected_data!=null&&i.canTransmit),u(),h("ngIf",i.canTransmit&&i.role!="Directeur"),u(),h("ngIf",i.canSendMail),u(6),V("ngModel",i.search_text),u(5),K("",i.isPaginate?i.pg.total:i.data.length," \xE9l\xE9ment(s)"),u(22),h("ngForOf",re(43,21,re(42,18,i.data,qe(27,h6,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&re(45,24,i.data,i.search_text).length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me,bo]})};var vo=class n{constructor(t){this.http=t}url=j.toApiUrl("billings");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}storeResponse(t){return this.http.post(j.toApiUrl("billings-response-store"),t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}setStatus(t,e){return this.http.get(`${this.url}/set-status/${t}/${e}`,j.httpHeader(localStorage.getItem(Z.token),!0))}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var W6=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function q6(n,t){if(n&1){let e=S();a(0,"button",58),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",59),s()}}function $6(n,t){if(n&1){let e=S();a(0,"button",60),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",61),s()}}function G6(n,t){if(n&1){let e=S();a(0,"div",44)(1,"div",45)(2,"button",46),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.add(o))}),b(3,"i",47),s(),a(4,"button",48),v("click",function(){f(e);let r=p(2),o=E(55);return g(r.show(o))}),b(5,"i",49),s(),a(6,"button",50),v("click",function(){f(e);let r=p(2),o=E(53);return g(r.edit(o))}),b(7,"i",51),s(),a(8,"button",52),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",53),s(),k(10,q6,2,0,"button",54)(11,$6,2,0,"button",55),a(12,"button",56),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",57),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function Y6(n,t){n&1&&(a(0,"span",62),c(1," Ouvert"),s())}function Q6(n,t){n&1&&(a(0,"span",63),c(1," Ferm\xE9"),s())}function K6(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,G6,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),k(12,Y6,2,0,"span",40)(13,Q6,2,0,"span",41),s(),a(14,"td")(15,"a",42),c(16," ouvrir "),b(17,"i",43),s()()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null||e.type==null?null:e.type.name),u(2),L(e==null?null:e.object),u(2),Di("",e==null||e.user==null||e.user.officer==null?null:e.user.officer.lastname," ",e==null||e.user==null||e.user.officer==null?null:e.user.officer.firstname,""),u(2),h("ngIf",e==null?null:e.is_open),u(),h("ngIf",!(e!=null&&e.is_open)),u(2),We("routerLink","/admin/support/details/",e.token,"")}}function J6(n,t){if(n&1){let e=S();a(0,"tr",64)(1,"td",65)(2,"div",66),b(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function X6(n,t){n&1&&(a(0,"small",86),c(1,"Le libell\xE9 est requis."),s())}function Z6(n,t){if(n&1&&(a(0,"span",84),k(1,X6,2,0,"small",85),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function eL(n,t){if(n&1){let e=S();a(0,"form",71,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),b(11,"input",79,4),k(13,Z6,2,1,"span",80),s()(),a(14,"div",81)(15,"button",82),c(16,"Sauvegarder "),b(17,"app-loading",83),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(13),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function tL(n,t){n&1&&(a(0,"small",86),c(1,"Le libell\xE9 est requis."),s())}function iL(n,t){if(n&1&&(a(0,"span",84),k(1,tL,2,0,"small",85),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function nL(n,t){if(n&1){let e=S();a(0,"form",71,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),a(11,"input",87,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.libelle,r)||(o.selected_data.libelle=r),g(r)}),s(),k(13,iL,2,1,"span",80),s()(),a(14,"div",81)(15,"button",82),c(16,"Sauvegarder "),b(17,"app-loading",83),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(11),V("ngModel",r.selected_data.libelle),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function rL(n,t){if(n&1){let e=S();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",88),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",76),b(5,"div",89),s()}}var cm=class n{constructor(t,e,i,r,o){this.billingService=t;this.modalService=i;this.locService=r;this.toastrService=o;e.backdrop="static",e.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.billingService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.billingService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.billingService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.billingService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(vo),T(ut),T(fe),T(se),T(de))};static \u0275cmp=G({type:n,selectors:[["app-billing"]],standalone:!0,features:[J],decls:56,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des tickets"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(51);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Type de sujet"),s(),a(35,"th",30),c(36,"Objet"),s(),a(37,"th",30),c(38,"Identit\xE9"),s(),a(39,"th",30),c(40,"Statut"),s(),a(41,"th",30),c(42,"Consulter"),s()()(),a(43,"tbody"),k(44,K6,18,13,"tr",31),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,J6,9,0,"tr",32),s()()(),a(48,"div",33)(49,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,eL,18,3,"ng-template",null,0,B)(52,nL,18,4,"ng-template",null,1,B)(54,rL,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,17,re(45,14,i.data,qe(20,W6,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me,Xi,Ji]})};var oL=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function aL(n,t){if(n&1){let e=S();a(0,"button",52),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",53),s()}}function sL(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",55),s()}}function lL(n,t){if(n&1){let e=S();a(0,"div",38)(1,"div",39)(2,"button",40),v("click",function(){f(e);let r=p(2),o=E(53);return g(r.add(o))}),b(3,"i",41),s(),a(4,"button",42),v("click",function(){f(e);let r=p(2),o=E(55);return g(r.show(o))}),b(5,"i",43),s(),a(6,"button",44),v("click",function(){f(e);let r=p(2),o=E(59);return g(r.edit(o))}),b(7,"i",45),s(),a(8,"button",46),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",47),s(),k(10,aL,2,0,"button",48)(11,sL,2,0,"button",49),a(12,"button",50),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",51),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function cL(n,t){n&1&&(a(0,"td")(1,"span",56),c(2,"oui"),s()())}function dL(n,t){n&1&&(a(0,"td")(1,"span",57),c(2,"non"),s()())}function uL(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function mL(n,t){if(n&1){let e=S();a(0,"tr",32)(1,"td",33)(2,"div",34)(3,"input",35),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,lL,14,2,"div",36),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),a(14,"td"),c(15),s(),k(16,cL,3,0,"td",37)(17,dL,3,0,"td",37)(18,uL,2,1,"td",37),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,13,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.name_structure),u(2),L(e==null?null:e.rccm),u(2),L(e==null?null:e.ifu),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function pL(n,t){if(n&1){let e=S();a(0,"tr",58)(1,"td",59)(2,"div",60),b(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function hL(n,t){if(n&1&&(a(0,"li")(1,"p",70),c(2),s()()),n&2){let e=t.$implicit;u(2),L(e.libelle)}}function fL(n,t){if(n&1){let e=S();a(0,"div",65)(1,"div")(2,"h4",66),c(3,"D\xE9tails des parcours "),a(4,"button",67),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(5,"i",68),s()()(),a(6,"div")(7,"ol"),k(8,hL,3,1,"li",69),s()()()}if(n&2){let e=p();u(8),h("ngForOf",e.selected_data.parcours)}}function gL(n,t){if(n&1){let e=S();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",74),b(5,"div",75),s()}}function _L(n,t){if(n&1){let e=S();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",74),b(5,"div",75),s()}}function bL(n,t){if(n&1){let e=S();a(0,"div",71)(1,"h4",72),c(2,"D\xE9tails des informations"),s(),a(3,"button",73),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",74),b(5,"div",75),s()}}var ic=class n{constructor(t,e,i,r,o,l,d,m){this.activatedRoute=t;this.requeteService=e;this.route=i;this._sanitizationService=r;this.locService=o;this.modalService=d;this.toastrService=m}user;data=[];slug;selected_data;loading2=!1;loading=!1;prestation;prestationName;doc_path="";doc_prefix="";dtTrigger=new Re;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selectedId=null;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;showPreview2=!1;showPreview=!1;pdfSrc;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.data=[],this.selected_data=null,this.slug=this.route.snapshot.paramMap.get("slug"),this.code=this.route.snapshot.paramMap.get("code"),this.prestation=this.slug,this.all(),this.getName(),this.user=this.locService.get(Z.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.requeteService.getByPrestationPending(this.slug,this.code).subscribe(t=>{this.loading2=!1,this.data=t},t=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}delete(){}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}authorized(){this.requeteService.update(this.selected_data.id,{}).subscribe(t=>{this.loading2=!1,this.all()},t=>{this.loading2=!1})}getName(){switch(this.prestation){case"attestation-de-non-litige":this.prestationName="d'attestation de non litige";break;case"declaration-etablissement":this.prestationName="de d\xE9claration d'\xE9tablissements";break;case"autorisation-de-stage":this.prestationName="d'autorisation de stage";break;case"attestation-de-stage":this.prestationName="d'attestation de stage";break;case"attestation-de-service-fait":this.prestationName="d'attestation de service fait";break;default:break}}ngOnDestroy(){this.dtTrigger.unsubscribe()}showFile(t){}showFile2(t){this.selected_data=t.code+"/"+t.filename}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(Et),T(Ke),T(Ct),T(se),T(ut),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-correction"]],standalone:!0,features:[J],decls:60,vars:24,consts:[["addContent",""],["showContent",""],["editContent",""],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"card","card-body",2,"overflow","auto","height","90vh"],["id","modal-basic-title",1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-dark","btn-sm",3,"click"],[1,"fa","fa-times"],[4,"ngFor","ngForOf"],[1,"lorem"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",3),c(1,"Liste des demandes suspendues"),s(),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9),v("click",function(){f(r);let l=E(53);return g(i.add(l))}),b(8,"i",10),c(9," Ajouter "),s(),a(10,"div",11)(11,"div",12)(12,"select",13),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",14),c(14,"Filtrer Par"),s(),a(15,"option",15),c(16,"R\xF4le"),s(),a(17,"option",16),c(18,"Statut"),s()(),a(19,"input",17),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",18),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",19),s()()()()(),a(22,"div",20)(23,"div",21)(24,"p",22),b(25,"i",23),c(26),s()(),a(27,"div",24)(28,"table",25)(29,"thead")(30,"tr")(31,"th",26),c(32,"#"),s(),a(33,"th",27),c(34,"Code demande"),s(),a(35,"th",27),c(36,"Date Enreg."),s(),a(37,"th",27),c(38,"Nom structure"),s(),a(39,"th",27),c(40,"Rccm"),s(),a(41,"th",27),c(42,"Ifu"),s(),a(43,"th",27),c(44,"Livrable disponible (Oui/Non)"),s()()(),a(45,"tbody"),k(46,mL,19,16,"tr",28),ee(47,"paginate"),ee(48,"sampleSearch"),k(49,pL,9,0,"tr",29),s()()(),a(50,"div",30)(51,"pagination-controls",31),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(52,fL,9,1,"ng-template",null,0,B)(54,gL,6,0,"ng-template",null,1,B)(56,_L,6,0,"ng-template",null,0,B)(58,bL,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(20),h("ngForOf",re(48,17,re(47,14,i.data,qe(20,oL,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,jt,ce,Ve,Fe,ue,$e,Qe,me,he,Ee,He,ke,Te,Je,Xe,Me]})};var vL=(n,t)=>({labels:n,datasets:t});function yL(n,t){if(n&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h6",6),c(5,"Nombre d'tilisateurs"),s(),a(6,"p",6),c(7),s()()(),a(8,"div",4)(9,"div",7)(10,"h6",6),c(11,"Nombre de prestations"),s(),a(12,"p",6),c(13),s()()(),a(14,"div",4)(15,"div",8)(16,"h6",6),c(17,"Nombre d'unit\xE9 administrative"),s(),a(18,"p",6),c(19),s()()()()()),n&2){let e=p();u(7),L(e.data==null?null:e.data.users),u(6),L(e.data==null?null:e.data.prestations),u(6),L(e.data==null?null:e.data.ua)}}function xL(n,t){if(n&1&&(a(0,"option",25),c(1),s()),n&2){let e=t.$implicit;h("value",e.prestation.code),u(),K("",e.prestation.name," ")}}function wL(n,t){if(n&1&&(a(0,"div",16)(1,"div",26)(2,"h6",6),c(3,"Demandes Valid\xE9es"),s(),a(4,"p",6),c(5),s()()()),n&2){let e=p(3);u(5),L(e.data==null?null:e.data.validated)}}function CL(n,t){if(n&1&&(a(0,"div",27),b(1,"canvas",28),s()),n&2){let e=p(3);u(),h("type","line")("data",vr(3,vL,e.chartLabels,e.chartData))("options",e.chartOptions)}}function SL(n,t){if(n&1){let e=S();a(0,"div",11)(1,"div",12)(2,"label",13),c(3,"S\xE9lectionner une prestation"),s(),a(4,"select",14),v("change",function(r){f(e);let o=p(2);return g(o.getNewStat(r))}),k(5,xL,2,2,"option",15),s()(),a(6,"div",3)(7,"div",16)(8,"div",17)(9,"h6",6),c(10,"Demandes Totales"),s(),a(11,"p",6),c(12),s()()(),a(13,"div",16)(14,"div",18)(15,"h6",6),c(16,"Nouvelles demandes"),s(),a(17,"p",6),c(18),s()()(),a(19,"div",16)(20,"div",19)(21,"h6",6),c(22,"Demandes Trait\xE9es"),s(),a(23,"p",6),c(24),s()()(),a(25,"div",16)(26,"div",20)(27,"h6",6),c(28,"Demandes mise en attente"),s(),a(29,"p",6),c(30),s()()(),a(31,"div",16)(32,"div",8)(33,"h6",6),c(34,"Demandes suspendues pour accord \xE0 l'amiable"),s(),a(35,"p",6),c(36),s()()(),a(37,"div",16)(38,"div",21)(39,"h6",6),c(40,"Demandes Rejet\xE9es"),s(),a(41,"p",6),c(42),s()()(),a(43,"div",16)(44,"div",19)(45,"h6",6),c(46,"Demandes accord\xE9es"),s(),a(47,"p",6),c(48),s()()(),a(49,"div",16)(50,"div",19)(51,"h6",6),c(52,"Demandes Finalis\xE9es"),s(),a(53,"p",6),c(54),s()()(),k(55,wL,6,1,"div",22),a(56,"div",16)(57,"div",23)(58,"h6",6),c(59,"Demandes Abandonn\xE9es"),s(),a(60,"p",6),c(61),s()()()(),a(62,"div",2)(63,"h4"),c(64,"Graphe d'\xE9volution des demandes au cours des mois"),s(),k(65,CL,2,6,"div",24),s()()}if(n&2){let e=p(2);u(5),h("ngForOf",e.user_prestations),u(7),L(e.data==null?null:e.data.total),u(6),L(e.data==null?null:e.data.news),u(6),L(e.data==null?null:e.data.treated),u(6),L(e.data==null?null:e.data.pending),u(6),L(e.data==null?null:e.data.pending),u(6),L(e.data==null?null:e.data.rejected),u(6),L(e.data==null?null:e.data.signed),u(6),L(e.data==null?null:e.data.finished),u(),h("ngIf",e.currentPrestation==null?null:e.currentPrestation.need_validation),u(6),L(e.data==null?null:e.data.leaved),u(4),h("ngIf",e.data!=null)}}function EL(n,t){if(n&1&&(a(0,"option",25),c(1),s()),n&2){let e=t.$implicit;h("value",e.prestation.code),u(),K("",e.prestation.name," ")}}function kL(n,t){if(n&1){let e=S();a(0,"div",11)(1,"div",12)(2,"label",13),c(3,"S\xE9lectionner une prestation"),s(),a(4,"select",14),v("change",function(r){f(e);let o=p(2);return g(o.getNewStat(r))}),k(5,EL,2,2,"option",15),s()(),a(6,"div",3)(7,"div",16)(8,"div",7)(9,"h6",6),c(10,"Demandes en attente de confirmation"),s(),a(11,"p",6),c(12),s()()()()()}if(n&2){let e=p(2);u(5),h("ngForOf",e.user_prestations),u(7),L(e.data==null?null:e.data.pending)}}function TL(n,t){if(n&1&&(a(0,"div",9),k(1,SL,66,12,"div",10)(2,kL,13,2,"div",10),s()),n&2){let e=p();u(),h("ngIf",e.role!="Directeur"),u(),h("ngIf",e.role=="Directeur")}}var nc=class n{constructor(t,e){this.locService=t;this.dashService=e}user;role;user_prestations=[];data;chartData=[];chartLabels=[];chartOptions={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!0}}};currentPrestation;ngOnDestroy(){}ngOnInit(){switch(this.user=this.locService.get(Z.userName),this.role=this.user.roles[0].name,this.user_prestations=this.user.user_prestations,this.currentPrestation=this.user_prestations[0],console.log(this.role),this.role){case"Admin Sectoriel":this.dashService.get("admin").subscribe(t=>{this.data=t.data.stats});break;case"Admin national":this.dashService.get("admin").subscribe(t=>{this.data=t.data.stats});break;default:this.dashService.get(this.user_prestations[0].prestation.code).subscribe(t=>{this.data=t.data.stats,this.chartData.push({label:this.user_prestations[0].prestation.name,data:t.data.stats_by_month,pointHitRadius:15,pointHoverRadius:8}),this.chartLabels=t.data.months});break}}getNewStat(t){this.currentPrestation=this.user_prestations.find(e=>e.prestation.code==t.target.value)?.prestation,this.dashService.get(t.target.value).subscribe(e=>{this.data=e.data.stats;let i=this.chartData.findIndex(r=>r.label==this.user_prestations.find(o=>o.prestation.code==t.target.value).prestation.name);(i=-1)?this.chartData.push({label:this.user_prestations.find(r=>r.prestation.code==t.target.value).prestation.name,data:e.data.stats_by_month}):this.chartData[i].data=e.data.stats_by_month,this.chartLabels=e.data.months})}static \u0275fac=function(e){return new(e||n)(T(se),T(mr))};static \u0275cmp=G({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[J],decls:2,vars:2,consts:[["class","",4,"ngIf"],["class","card",4,"ngIf"],[1,""],[1,"row"],[1,"col-12","col-lg-4","col-xxl-3","mb-3"],[1,"card","overflow-hidden","bg-primary","border-0","p-3"],[1,"text-center","text-white"],[1,"card","overflow-hidden","bg-warning","border-0","p-3"],[1,"card","overflow-hidden","bg-danger","border-0","p-3"],[1,"card"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"form-group","mb-5"],["for",""],[1,"form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","col-md-3","col-lg-3","col-xxl-3","mb-3"],[1,"card","overflow-hidden","border-0","bg-primary","p-3"],[1,"card","overflow-hidden","bg-secondary","border-0","p-3"],[1,"card","overflow-hidden","border-0","bg-success","p-3"],[1,"card","overflow-hidden","bg-warning","border-0","dash3","p-3"],[1,"card","overflow-hidden","border-0","p-3","bg-danger"],["class"," col-12 col-sm-6 col-md-3 col-lg-3 col-xxl-3 mb-3",4,"ngIf"],[1,"card","overflow-hidden","bg-secondary","border-0","bg-secondary","p-3"],["class","chart-wrapper text-center",4,"ngIf"],[3,"value"],[1,"card","overflow-hidden","bg-success","border-0","dash3","p-3"],[1,"chart-wrapper","text-center"],["baseChart","",3,"type","data","options"]],template:function(e,i){e&1&&k(0,yL,20,3,"div",0)(1,TL,3,2,"div",1),e&2&&(h("ngIf",i.role=="Admin Sectoriel"||i.role=="Admin national"),u(),h("ngIf",i.role!="Admin Sectoriel"&&i.role!="Admin national"))},dependencies:[oe,_e,ae,xu]})};var cs=class n{constructor(t){this.http=t}url=j.toApiUrl("departments");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var ML=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function IL(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",55),s()}}function DL(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",57),s()}}function AL(n,t){if(n&1){let e=S();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.add(o))}),b(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=p(2),o=E(49);return g(r.show(o))}),b(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.edit(o))}),b(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",49),s(),k(10,IL,2,0,"button",50)(11,DL,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",53),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function PL(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,AL,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(e==null?null:e.name)}}function OL(n,t){if(n&1){let e=S();a(0,"tr",58)(1,"td",59)(2,"div",60),b(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function RL(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function VL(n,t){if(n&1&&(a(0,"span",78),k(1,RL,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function FL(n,t){if(n&1){let e=S();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de d\xE9partement"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),b(11,"input",73,4),k(13,VL,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(13),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function NL(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function LL(n,t){if(n&1&&(a(0,"span",78),k(1,NL,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function BL(n,t){if(n&1){let e=S();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s(),k(13,LL,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(11),V("ngModel",r.selected_data.name),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function jL(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",83),s()}}var dm=class n{constructor(t,e,i,r,o){this.departmentService=t;this.modalService=i;this.locService=r;this.toastrService=o;e.backdrop="static",e.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.departmentService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.departmentService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.departmentService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.departmentService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.departmentService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.departmentService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(cs),T(ut),T(fe),T(se),T(de))};static \u0275cmp=G({type:n,selectors:[["app-department"]],standalone:!0,features:[J],decls:50,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des d\xE9partements"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(45);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Code"),s(),a(35,"th",30),c(36,"Libell\xE9"),s()()(),a(37,"tbody"),k(38,PL,9,7,"tr",31),ee(39,"paginate"),ee(40,"sampleSearch"),k(41,OL,9,0,"tr",32),s()()(),a(42,"div",33)(43,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(44,FL,18,3,"ng-template",null,0,B)(46,BL,18,4,"ng-template",null,1,B)(48,jL,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(12),h("ngForOf",re(40,17,re(39,14,i.data,qe(20,ML,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var ds=class n{constructor(t){this.http=t}url=j.toApiUrl("type-entity");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var zL=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function UL(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",55),s()}}function HL(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",57),s()}}function WL(n,t){if(n&1){let e=S();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=p(2),o=E(43);return g(r.add(o))}),b(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.show(o))}),b(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.edit(o))}),b(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",49),s(),k(10,UL,2,0,"button",50)(11,HL,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",53),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function qL(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,WL,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.libelle)}}function $L(n,t){if(n&1){let e=S();a(0,"tr",58)(1,"td",59)(2,"div",60),b(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function GL(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function YL(n,t){if(n&1&&(a(0,"span",78),k(1,GL,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function QL(n,t){if(n&1){let e=S();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),b(11,"input",73,4),k(13,YL,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(13),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function KL(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function JL(n,t){if(n&1&&(a(0,"span",78),k(1,KL,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function XL(n,t){if(n&1){let e=S();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.libelle,r)||(o.selected_data.libelle=r),g(r)}),s(),k(13,JL,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(11),V("ngModel",r.selected_data.libelle),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function ZL(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",83),s()}}var um=class n{constructor(t,e,i,r,o){this.toastrService=t;this.entityTypeService=e;this.modalService=r;this.locService=o;i.backdrop="static",i.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;is_active=!1;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.entityTypeService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.entityTypeService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.entityTypeService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.entityTypeService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.entityTypeService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.entityTypeService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(de),T(ds),T(ut),T(fe),T(se))};static \u0275cmp=G({type:n,selectors:[["ngx-entity-type"]],standalone:!0,features:[J],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des types entit\xE9"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(43);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),k(36,qL,7,6,"tr",31),ee(37,"paginate"),ee(38,"sampleSearch"),k(39,$L,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(42,QL,18,3,"ng-template",null,0,B)(44,XL,18,4,"ng-template",null,1,B)(46,ZL,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(10),h("ngForOf",re(38,17,re(37,14,i.data,qe(20,zL,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var hr=class n{constructor(t){this.http=t}url=j.toApiUrl("entity");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.post(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var e9=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function t9(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",57),s()}}function i9(n,t){if(n&1){let e=S();a(0,"button",58),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",59),s()}}function n9(n,t){if(n&1){let e=S();a(0,"div",42)(1,"div",43)(2,"button",44),v("click",function(){f(e);let r=p(2),o=E(43);return g(r.add(o))}),b(3,"i",45),s(),a(4,"button",46),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.show(o))}),b(5,"i",47),s(),a(6,"button",48),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.edit(o))}),b(7,"i",49),s(),a(8,"button",50),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",51),s(),k(10,t9,2,0,"button",52)(11,i9,2,0,"button",53),a(12,"button",54),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",55),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function r9(n,t){if(n&1){let e=S();a(0,"tr",37)(1,"td",38)(2,"div",39)(3,"input",40),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,n9,14,2,"div",41),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.libelle)}}function o9(n,t){if(n&1){let e=S();a(0,"tr",60)(1,"td",61)(2,"div",62),b(3,"i",63),a(4,"p",64),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",65),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",66),c(8," R\xE9initialiser la recherche "),s()()()()}}function a9(n,t){if(n&1&&(a(0,"option",82),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function s9(n,t){n&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function l9(n,t){if(n&1&&(a(0,"span",83),k(1,s9,2,0,"small",84),s()),n&2){p();let e=E(19);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function c9(n,t){n&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function d9(n,t){if(n&1&&(a(0,"span",83),k(1,c9,2,0,"small",84),s()),n&2){p();let e=E(25);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function u9(n,t){if(n&1){let e=S();a(0,"form",67,3),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.store(o.value,r))}),a(2,"div")(3,"div",68),c(4,"Enregistrement d' entit\xE9 "),a(5,"button",69),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",70),c(7,"\xD7"),s()()(),a(8,"div",71)(9,"div",72)(10,"label",73),c(11,"Type"),s(),a(12,"select",74,4),k(14,a9,2,2,"option",75),s()(),a(15,"div",72)(16,"label",73),c(17,"Libell\xE9"),s(),b(18,"input",76,5),k(20,l9,2,1,"span",77),s(),a(21,"div",72)(22,"label",73),c(23,"Sigle"),s(),b(24,"input",78,6),k(26,d9,2,1,"span",77),s()(),a(27,"div",79)(28,"button",80),c(29,"Sauvegarder "),b(30,"app-loading",81),s()()()()}if(n&2){let e=E(1),i=E(19),r=E(25),o=p();u(14),h("ngForOf",o.data2),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(6),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(2),h("disabled",e.invalid||o.loading),u(2),h("isVisible",o.loading)}}function m9(n,t){if(n&1&&(a(0,"p",90)(1,"ngb-alert",91),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function p9(n,t){if(n&1&&(a(0,"option",82),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function h9(n,t){n&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function f9(n,t){if(n&1&&(a(0,"span",83),k(1,h9,2,0,"small",84),s()),n&2){p();let e=E(20);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function g9(n,t){n&1&&(a(0,"small",85),c(1,"Le libell\xE9 est requis."),s())}function _9(n,t){if(n&1&&(a(0,"span",83),k(1,g9,2,0,"small",84),s()),n&2){p();let e=E(26);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function b9(n,t){if(n&1){let e=S();a(0,"form",67,7),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.update(o.value,r))}),a(2,"div")(3,"div",68),c(4,"Modification d' entit\xE9 "),a(5,"button",69),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",70),c(7,"\xD7"),s()()(),a(8,"div",71),k(9,m9,3,2,"p",86),a(10,"div",72)(11,"label",73),c(12,"Type"),s(),a(13,"select",87,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.type_entity_id,r)||(o.selected_data.type_entity_id=r),g(r)}),k(15,p9,2,2,"option",75),s()(),a(16,"div",72)(17,"label",73),c(18,"Libell\xE9"),s(),a(19,"input",88,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.libelle,r)||(o.selected_data.libelle=r),g(r)}),s(),k(21,f9,2,1,"span",77),s(),a(22,"div",72)(23,"label",73),c(24,"Sigle"),s(),a(25,"input",89,6),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.sigle,r)||(o.selected_data.sigle=r),g(r)}),s(),k(27,_9,2,1,"span",77),s()(),a(28,"div",79)(29,"button",80),c(30,"Sauvegarder "),b(31,"app-loading",81),s()()()()}if(n&2){let e=E(1),i=E(20),r=E(26),o=p();u(9),h("ngIf",o.error!=""),u(4),V("ngModel",o.selected_data.type_entity_id),u(2),h("ngForOf",o.data2),u(4),V("ngModel",o.selected_data.libelle),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(4),V("ngModel",o.selected_data.sigle),u(2),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(2),h("disabled",e.invalid||o.loading),u(2),h("isVisible",o.loading)}}function v9(n,t){if(n&1){let e=S();a(0,"div",68)(1,"h4",92),c(2,"D\xE9tails des informations"),s(),a(3,"button",93),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",71),b(5,"div",94),s()}}var pm=class n{constructor(t,e,i,r,o){this.entityService=t;this.entitytypeService=e;this.locService=i;this.toastrService=r;this.modalService=o}error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selected_data;user;data=[];permissions=[];data2=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.getTypeEntity(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.entityService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeEntity(){this.entitytypeService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t,e){this.loading=!0,this.entityService.store(t).subscribe(i=>{this.loading=!1,this.modalService.dismissAll(),this.all()},i=>{this.loading=!1})}update(t,e){this.loading=!0,this.entityService.update(t,this.selected_data.id).subscribe(i=>{this.loading=!1,this.modalService.dismissAll(),this.all()},i=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.entityService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.entityService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.entityService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}static \u0275fac=function(e){return new(e||n)(T(hr),T(ds),T(se),T(de),T(fe))};static \u0275cmp=G({type:n,selectors:[["ngx-entity"]],standalone:!0,features:[J],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["sigle","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],[1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_entity_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["class","lead mb-3",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_entity_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle",1,"form-control",3,"ngModelChange","ngModel"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",8),c(1,"Liste des entit\xE9s"),s(),a(2,"div",9)(3,"div",10)(4,"div",11)(5,"div",12)(6,"div",13)(7,"button",14),v("click",function(){f(r);let l=E(43);return g(i.add(l))}),b(8,"i",15),c(9," Ajouter "),s(),a(10,"div",16)(11,"div",17)(12,"select",18),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",19),c(14,"Filtrer Par"),s(),a(15,"option",20),c(16,"R\xF4le"),s(),a(17,"option",21),c(18,"Statut"),s()(),a(19,"input",22),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",23),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",24),s()()()()(),a(22,"div",25)(23,"div",26)(24,"p",27),b(25,"i",28),c(26),s()(),a(27,"div",29)(28,"table",30)(29,"thead")(30,"tr")(31,"th",31),c(32,"#"),s(),a(33,"th",32),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),k(36,r9,7,6,"tr",33),ee(37,"paginate"),ee(38,"sampleSearch"),k(39,o9,9,0,"tr",34),s()()(),a(40,"div",35)(41,"pagination-controls",36),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(42,u9,31,5,"ng-template",null,0,B)(44,b9,32,9,"ng-template",null,1,B)(46,v9,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(10),h("ngForOf",re(38,17,re(37,14,i.data,qe(20,e9,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,_o,Ae,He,ke,Te,Je,Xe,Me]})};var Bi={toFormatDate(n){return mn(n,"dd MMMM yyyy","fr_FR")},now(){return mn(new Date,"dd MMMM yyyy","fr_FR")},oldDate(n){var t=(new Date(n).getTime()-new Date().getTime())/1e3;return t/=60*60*24,Math.abs(Math.round(t/365.25))},closingDate(n){let t=new Date(n);return t.setDate(t.getDate()+55*365),t},splitGrade(n,t){if(n!=null||n!=null){var e=n.split("-");return e?.length>0&&e[t]!==void 0?e[t]:"....."}else return"....."}},it=[{name:"attestation de pr\xE9sence au poste",slug:"attestation-de-presence-au-poste",doc_path:"docs/adpap",desc(n){return` <section style="padding:15px">
                <div class="mb-3">
                   <p> Le Directeur de la Planification, de l'Administration et des Finances du Minist\xE8re du Travail et de la Fonction Publique, atteste que:</p>
                </div>
                <div>
                   <p><strong>${n?.adpap?.sex} ${n?.adpap?.identity},</strong></p>
                </div>
                <div>
                   <table>
                       <tbody>
                           <tr class="mb-3">
                               <td>CORPS :</td>
                               <td><strong>${n?.adpap?.corporate}</strong></td>
                           </tr>
                           <tr class="mb-3">
                            <td> MATRICULE :</td>
                            <td><strong>${n?.adpap?.matricule}</strong></td>
                        </tr>
                        <tr class="mb-3">
                            <td>DIRECTION: </td>
                            <td><strong>${n?.adpap?.structure?.libelle}</strong> </td>
                        </tr>
                       </tbody>
                   </table>
                </div>
        
                <div style="margin-top: 50px; ">
                   <p>est effectivement pr\xE9sent \xE0 son poste de travail le <strong>${Bi.toFormatDate(n?.adpap?.date_job)} </strong>, date de sa prise de service dans la fonction publique, jusqu'\xE0 ce jour.</p>
                </div>
        
                <div style="margin-top: 50px; ">
                   <p> En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
                    valoir ce que de droit.</p>
                </div>
               
            </section>
        `}},{name:"de stage",slug:"autorisation-de-stage",doc_path:"docs/ads",desc(n){return` <div style="margin-top: 15px; ">
                <p class=""><span class="mtab"></span> Monsieur/Madame, ${n.ads.identity} </p>
                <p>
                    <span class="mtab"></span>    J'accuse r\xE9ception de votre demande de stage  ${n.ads.nature} ci-dessus mentionn\xE9e et vous notifie mon accord de principe pour le d\xE9roulement dudit stage au sein de la ${n.ads.structure}, afin de vous permettre de confronter vos connaissances th\xE9oriques \xE0 celles pratiques.
                </p>
            </div>
  
            <div style="margin-top: 15px; ">
                    <p>
                        <span class="mtab"></span> Ce stage b\xE9n\xE9vole de (0${n.ads.delay}) mois qui s'effectuera du ${Bi.toFormatDate(n.ads.date_start)} au ${Bi.toFormatDate(n.ads.date_end)} n'ouvre pas droit \xE0 un recrutement dans la fonction publique et ne vous conf\xE8re pas la qualit\xE9 d'agent d'\xE9tat.</p>
            </div>
           
            <div style="margin-top: 15px; ">
                   <p> <span class="mtab"></span> Recevez, Madame / Monsieur mes meilleures salutations.</p>
            </div>
        `},desc2(n){return` <div style="margin-top: 15px; ">
            <p class=""><span class="mtab"></span> Monsieur le Directeur, </p>
            <p>
                <span class="mtab"></span>    J'ai l'honneur de vous informer que les \xE9tudiants en fin de formation du cycle I de l'ENAM dont les noms figurent dans la liste ci-jointe sont autoris\xE9es \xE0 effectuer un stage acad\xE9mique de trois (${n.delay}) mois, du ${Bi.toFormatDate(n.date_start)} au ${Bi.toFormatDate(n.date_end)} au Minist\xE8re du Travail et de la Fonction Publique ont effectivement d\xE9marr\xE9 le stage dans nos structures.
            </p>
        </div>
      
        <div style="margin-top: 15px; ">
               <p> <span class="mtab"></span> Veuillez agr\xE9er, Monsieur le Directeur, l'expression de mes meilleures salutations.</p>
        </div> 
    `},desc3(n){return` <div style="margin-top: 15px; ">
        <p>
            J'ai l'honneur de mettre \xE0 votre disposition pour un stage ${n.ads.nature} du ${Bi.toFormatDate(n.ads.date_start)} au ${Bi.toFormatDate(n.ads.date_end)} , M./Mme ${n.ads.identity}, \xE9tudiant(e:any) en fin de formation de ${n.ads.domain} Option: ${n.ads.graduation}\xE0 ${n.ads.school}.
        </p>
    </div>

    <div style="margin-top: 15px; ">
            <p>
                Ce stage permettra \xE0 l'int\xE9ress\xE9 d'acqu\xE9rir des connaissances compl\xE9mentaires indispensables \xE0 la ${n.ads.motif}.
            </p>
    </div>
    <div style="margin-top: 15px; ">
           <p>
            Je tiens \xE0 rappeler que l'autorisation qui est accord\xE9e d'effectuer le pr\xE9sent stage, ne saurait \xEAtre assimi\xE9e \xE0 un recrutement dans la fonction publique.
           </p>
    </div>
    <div style="margin-top: 15px; ">
    <p> En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
     valoir ce que de droit.</p>
</div>

`}},{name:"d'attestation de non litige",slug:"attestation-de-non-litige",doc_path:"docs/atn",desc(n){return`  <section>
                <div>
                    La Directrice G\xE9n\xE9rale du Travail soussign\xE9e atteste que :
                    <p class="articl">${n.atn.name_structure}
                    </p>
                    <p class="articl">${n.atn.address_structure}</p>
                    <p class="articl">${n.atn.rccm}</p>
                    <p class="articl">${n.atn.ifu}</p>
                    <p class="articl">${n.phone}</p>
                </div>
      
                <div style="margin-top: 50px; ">
                    est en r\xE8gle vis-\xE0-vis de la l\xE9gislation du travail en vigueur en R\xE9publique du B\xE9nin et n'a, \xE0 ce jour, aucun litige pendant devant ses services.
                </div>
      
                <div style="margin-top: 50px; ">
                    En foi de quoi, la pr\xE9sente attestation lui a \xE9t\xE9 d\xE9livr\xE9e pour servir et
                    valoir ce que de droit.
                </div>
      
            </section>
        `}},{name:"attestation de stage",slug:"attestation-de-stage",doc_path:"docs/as",desc(n){return` 
                Le Directeur de la Planification, de l\u2019Administration,  et des Finances du Minist\xE8re du Travail et de la Fonction Publique soussign\xE9, atteste que Monsieur / Madame ${n?.as.identity}, titulaire d\u2019une ${n?.as.domain}, sp\xE9cialit\xE9: ${n?.as.graduation}, obtenu \xE0 ${n?.as.school} a effectu\xE9(e) un stage ${n?.as.nature} de __________________, du ___________________________ au ___________________________\xE0 la ______________________________.
                <br/>
                En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.
            
            `}},{name:"attestation de service fait",slug:"attestation-de-service-fait",doc_path:"docs/asf",desc(n){return n?.asf.type=="service"?` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Sanny LAOUROU, Personne Responsables des March\xE9s Publics par int\xE9rim du Minist\xE8re du Travail et de la Fonction Publique, atteste que l'ETS / la soci\xE9t\xE9 ${n?.asf.name_structure} s'est effectivement acquitt\xE9 de ses obligations conform\xE9ment au contrat N\xB0 ${n?.asf.ref_marche} du  ${Bi.toFormatDate(n.asf.date_contrat)} relatif \xE0 la "......................................................................................" pour un montant toutes taxes comprises de...........................................francs CFA.</span></div><div style="text-align: justify;"><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div style="text-align: justify;"><br></div>
            `:` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Sanny LAOUROU, Personne Responsables des March\xE9s Publics par int\xE9rim, atteste que l'ETS / la soci\xE9t\xE9 ${n?.asf.name_structure} a ex\xE9cut\xE9 avec satisfaction le contrat n\xB0 ${n?.asf.ref_marche} du  ${Bi.toFormatDate(n.asf.date_contrat)} relatif \xE0 la "......................................................................................" pour un montant toutes taxes comprises de...........................................francs CFA.</span></div><div style="text-align: justify;"><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div style="text-align: justify;"><br></div>
            `}},{name:"de visa de d\xE9claration d'\xE9tablissement",slug:"declaration-etablissement",doc_path:"docs/detab",desc(n){return` 
                
            `}},{name:"Visa de contrat nationaux",slug:"visa-de-contrat-nationaux",doc_path:"docs",desc(n){return` 
                
            `}},{name:"certificat de non raidation",slug:"certificat-de-non-radiation",doc_path:"docs/cnr",desc(n){return` 
                <div><span style="font-size: 12.96px;">Le Directeur de la R\xE9glementation et du Suivi des Carri\xE8res certifie que Monsieur ${n?.cnr.adpap?.identity} de l'Etat, num\xE9ro matricule ${n?.cnr.adpap?.matricule} de la cat\xE9gorie ${n?.cnr.adpap?.category} , \xE9chelle ${n?.cnr.adpap?.scale}, \xE9chelon ${n?.cnr.adpap?.level}, en service au ${n?.cnr.adpap?.structure?.libelle}, n\xE9 \xE0 ${n?.cnr.adpap?.birthplace} le ${Bi.toFormatDate(n?.cnr.adpap?.birthday)}, n'est ni candidat au d\xE9part volontaire, ni radi\xE9 de la Fonction Publique B\xE9ninoise.</span></div><div><span style="font-size: 12.96px;"><br></span></div><div style="text-align: justify;"><span style="font-size: 12.96px;">En foi de quoi, le pr\xE9sent certificat lui est d\xE9livr\xE9 pour servir et valoir ce que de droit.</span></div> 
                
            `}},{name:"d'attestation de validit\xE9 des services",slug:"attestation-de-validite-des-services",doc_path:"docs/vsa",desc(n){return` 
                <div style="text-align: justify;"><span style="font-size: 12.96px;">Je soussign\xE9 Victorin V. HONVO, Directeur de Cabinet du Ministre du Travail et de la Fonction Publique, atteste que ${n?.vsa.sex} ${n?.vsa.identity} n\xE9 le ${Bi.toFormatDate(n?.vsa.birthday)} \xE0 ${n?.vsa.birthplace}, est ${n?.vsa.status} de ${n?.vsa.job} de l'Etat en poste au Minist\xE8re du Travail et de la Fonction Publique.</span></div><div style="text-align: justify;"><div><span style="font-size: 12.96px;">Les donn\xE9es relatives \xE0 sa carri\xE8re se d\xE9clinent comme suit:</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Corps/Emploi</b></span><span style="background-color: transparent; font-size: 0.81rem;">: ${n?.vsa.job}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Grade</b></span><span style="background-color: transparent; font-size: 0.81rem;"><b>:</b> ${n?.vsa.rank}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Num\xE9ro matricule : ${n?.vsa.matricule}</b></span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Date de prise de service: </b> ${Bi.toFormatDate(n?.vsa.job_date)}</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;"><b>Fonction</b></span><span style="background-color: transparent; font-size: 0.81rem;"><b>:</b> ${n?.vsa.function}</span><span style="background-color: transparent; font-size: 0.81rem;"></span></div><div><span style="background-color: transparent; font-size: 0.81rem;"><br></span></div><div><div><span style="font-size: 12.96px;">Anciennet\xE9 au ${Bi.now()}:${Bi.oldDate(n?.vsa.job_date)} an(s)</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">L'int\xE9ress\xE9 n'est ni candidat au d\xE9part volontaire, ni radi\xE9 de la fonction publique b\xE9ninoise. Il fera probablement valoir ses droits \xE0 une pension de retraite pour compter du</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">${Bi.toFormatDate(Bi.closingDate(n?.vsa.job_date))} pour limite d'\xE2ge des cinquante-cinq (55) ans.</span></div><div><span style="font-size: 12.96px;"><br></span></div><div><span style="font-size: 12.96px;">En foi de quoi, la pr\xE9sente attestation lui est d\xE9livr\xE9e pour servir et valoir ce que de droit.</span></div><div><br></div></div></div> 
                
            
            `}},{name:" de visa de contrat d'apprentissage",slug:"visa-contrat-apprentisage",doc_path:"docs/vca",desc(n){return` 
                
            `}},{name:" de r\xE8glement int\xE9rieur d'entreprise",slug:"visa-reglement-interieur-entreprise",doc_path:"docs/vri",desc(n){return` 
                
            `}},{name:" d'autorisation de licenciement",slug:"autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel",doc_path:"docs/al",desc(n){return` 
                
            `}},{name:" d'agr\xE9ment m\xE9decin",slug:"decision-agrement-exercice-medecin",doc_path:"docs/am",desc(n){return`<h5><font face="Calibri"><u><b> DECISION</b></u>&nbsp; &nbsp; N\xB0....................../MTFP/DC/SGM/DGAT/DSSMST&nbsp;</font></h5><div><font face="Calibri">&nbsp;portant agr\xE9ment du Docteur ${n?.am?.identity} en qualit\xE9 de M\xE9decin d'entreprise&nbsp;</font><div><font face="Calibri"><br></font></div><div style="text-align: left;"><div style="text-align: center;"><font face="Calibri"><b style="background-color: transparent; font-size: 0.81rem;">&nbsp;LE MINISTRE DU TRAVAIL ET DE LA FONCTION PUBLIQUE</b><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;</span></font></div><div style="text-align: center;"><span style="background-color: transparent; font-size: 0.81rem;"><font face="Calibri"><br></font></span></div><h5 style="text-align: left;"><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;Vu la loi n\xB0 90-32 du 11 d\xE9cembre 1990 portant Constitution de la R\xE9publique du B\xE9nin, telle que modifi\xE9e par la loi n\xB0 2019-40 du 07 novembre 2019&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu la loi n\xB0 98-004 du 27 janvier 1998 portant Code du Travail en
                
                R\xE9publique du B\xE9nin<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu la d\xE9cision portant proclamation, le 21 avril 2021 par la Cour Constitutionnelle, des r\xE9sultats d\xE9finitifs de l'\xE9lection pr\xE9sidentielle du 11 avril 2021 :&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2021-257 du 25 mai 2021 portant composition du Gouvernement ;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2019-430 du 02 octobre 2019 fixant la structure-type des Minist\xE8res ;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le d\xE9cret n\xB0 2020-241 d. 15 avril 2020 portant attributions, organisation et fonctionnement du Minist\xE8re du Travail et de la Fonction Publique<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu l'arr\xEAt\xE9 interminist\xE9riel n\xB0 2020-024/MTFP/MS/DC/SGM/DSSMST/SMT/011SGG20 du 09 juin 2020 portant attributions, organisation et fonctionnement des services de sant\xE9 au travail;&nbsp;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu l'arr\xEAt\xE9 n\xB0 074/MS/DC/SGM/CTJ/DNSP/SRS/SA/072SGG18 du 24 octobre 2018 portant autorisation de l'exercice en client\xE8le priv\xE9e de la profession m\xE9dicale;<br></span></font><font face="Calibri"><span style="background-color: transparent; font-size: 0.81rem;">&nbsp;vu le Certificat d'Etudes Sp\xE9cialis\xE9es de Sant\xE9 au Travail du 07 mars 2008 d\xE9livr\xE9 au Docteur ${n?.am?.identity} l'attestation d'inscription \xE0 l'Ordre National des M\xE9decins du B\xE9nin
                
                Apr\xE8s avis favorable du Ministre de la Sant\xE9, objet de la lettre n' 0564 2021/MS/DC/SGM/DNSP/SRS/SP du 10 juin 2021,</span></font></h5></div><div style="text-align: left;"><span style="background-color: transparent; font-size: 0.81rem;"><font face="Calibri"><br></font></span></div><div><h4 style="color: rgb(73, 80, 70);"><b><font face="Calibri">DECIDE&nbsp;</font></b></h4></div><div><b><font face="Calibri"><br></font></b></div><h5><font face="Calibri"><b><u>Article premier:</u></b>
                
                Monsieur Docteur en M\xE9decine, de Sant\xE9 au Travail, est agr\xE9\xE9 en
                
                titulaire du Certificat d'Etudes Sp\xE9cialis\xE9es qualit\xE9 de M\xE9decin d'Entreprise.</font></h5><h5><font face="Calibri"><br></font></h5><h5><font face="Calibri">&nbsp;<b style="text-decoration-line: underline;">Article 2:&nbsp;</b>&nbsp;Docteur&nbsp;${n?.am?.identity}
                
                M\xE9decin du Travail, doit, dans le cadre de ses interventions en entreprise, assurer une surveillance ad\xE9quate du milieu et des conditions de travail et exercer une action m\xE9dicale pr\xE9ventive sur les travailleurs, conform\xE9ment aux prescriptions de l'arr\xEAt\xE9 interminist\xE9riel n\xB02020 024/MTFP/MS/DC/SGM/DSSMST/SMT/011SGG20 du 09 juin 2020 portant attributions, organisation et fonctionnement des services de sant\xE9 au travail.</font></h5><h5><font face="Calibri"><br></font></h5><h5 style="text-align: left;"><font face="Calibri">&nbsp; &nbsp;<u><b>Article 3:</b></u> La pr\xE9sente d\xE9cision, qui prend effet pour compter de la date de sa signature, sera notifi\xE9e \xE0 l'int\xE9ress\xE9 et publi\xE9e au Journal officiel.</font></h5><h5 style="text-align: left;"><font face="Calibri"><br></font></h5><h5 style="text-align: right;"><font face="Calibri">&nbsp;Fait \xE0 Cotonou, le ..........................................................................</font></h5><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><div><font face="Calibri"><br></font></div><h5 style="text-align: right;"><font face="Calibri">&nbsp;Adidjatou A. MATHYS&nbsp;</font></h5><h5><font face="Calibri"><br></font></h5><h5 style="text-align: left;"><font face="Calibri">&nbsp;<b><u>Ampliations</u></b></font></h5><h5 style="text-align: left;"><font face="Calibri">JO............................................................... 02&nbsp;</font></h5><h5 style="text-align: left;"><font face="Calibri">PR.............................................................. 01</font></h5><h5 style="text-align: left;"><font face="Calibri">SGG........................................................... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">A.N............................................................. 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CC............................................................... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CS............................................... ............... 01</font></h5><h5 style="text-align: left;"><font face="Calibri">CES ............................................................ 01</font></h5><h5 style="text-align: left;"><font face="Calibri">MTFP ......................................................... 06</font></h5><h5 style="text-align: left;"><font face="Calibri">MS............................................................... 06</font></h5><h5 style="text-align: left;"><font face="Calibri">TOUS AUTRES MINISTERES ............ 23</font></h5><h5 style="text-align: left;"><font face="Calibri">CCIB .......................................................... 02</font></h5><h5 style="text-align: left;"><font face="Calibri">CNP-BENIN ............................................ 02</font></h5><h5 style="text-align: left;"><font face="Calibri">CONEB ..................................................... 02</font></h5><h5 style="text-align: left;"><font face="Calibri">SYNDICATS............................................. 10</font></h5><h5 style="text-align: left;"><font face="Calibri">TOUTES DIRECTIONS/MTFP............. 20</font></h5></div>                
            `}},{name:" d'autorisation de licenciement pour motif \xE9conomique ou non, salaire prot\xE9g\xE9 ou non ",slug:"autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel",doc_path:"docs/al",desc(n){return`
                Aucun contenu disponible pour le momment 
                
            `}}];var An=class n{constructor(t){this.http=t}url=j.toApiUrl("prestation");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.put(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}saveStartPoint(t){return this.http.post(this.url+"/start-point/store",t)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ut=class n{constructor(t){this.http=t}url=j.toApiUrl("affectation");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+"/byPrestation/"+t)}store(t){return this.http.post(this.url,t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ht=class n{constructor(t){this.http=t}url=j.toApiUrl("response");getAll(){return this.http.get(this.url)}getByPrestation(t){return this.http.get(this.url+"/byPrestation/"+t)}getCorrectionByPrestation(t){return this.http.get(this.url+"/correction/byPrestation/"+t)}store(t){return this.http.post(this.url,t)}authorized(t){return this.http.post(this.url+"/sign-authorized",t)}correction(t){return this.http.post(this.url+"/need-correction",t)}reachedAgreement(t){return this.http.post(this.url+"/reached-agreement",t)}decline(t){return this.http.post(this.url+"/decline/store",t)}validate(t){return this.http.post(this.url+"/validated/store",t)}storeResponse(t){return this.http.post(this.url+"/response/store",t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return e._method="patch",this.http.patch(`${this.url}/${t}`,e)}delete(t){return this.http.get(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}storeContent(t){return this.http.post(`${this.url}/store/content`,t)}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var y9=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function x9(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function w9(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function C9(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,x9,2,0,"button",66)(11,w9,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function S9(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function E9(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function k9(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function T9(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,C9,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,S9,3,0,"td",55)(15,E9,3,0,"td",55)(16,k9,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function M9(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function I9(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function D9(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function A9(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function P9(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function O9(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,P9,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function R9(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function V9(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function F9(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function N9(n,t){n&1&&b(0,"i",116)}function L9(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,N9,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function B9(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,L9,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function j9(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,B9,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function z9(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function U9(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function H9(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function W9(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function q9(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function $9(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",140),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function G9(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",140),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Y9(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var oc=class n{constructor(t,e,i,r,o,l,d,m,_,x){this.activatedRoute=t;this.prestationService=e;this.locService=i;this.affService=r;this.requeteService=o;this.toastrService=l;this.router=d;this.responseService=m;this.modalService=_;this._sanitizationService=x}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];stepContents=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;code;prestation;prestationName;activePrestation;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;dtTrigger=new Re;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user),this.code==null||this.prestationService.show(this.code).subscribe(e=>{this.activePrestation=e})}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationNew(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){this.dtTrigger.unsubscribe()}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1,this.toastrService.success("Pr\xE9sence au poste de l'agent confirm\xE9")},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}confirm(){confirm("Confirmer la pr\xE9sence au poste de l'agent")&&(this.loading=!0,this.requeteService.confirm({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id},this.prestation).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(An),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["ngx-eespace-traitement"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"float-right",3,"click"],["aria-hidden","true"],[1,"float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-primary"],[1,"btn","btn-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes \xE0 traiter"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,T9,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,M9,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,I9,8,1,"div",49)(51,D9,3,0,"ng-template",null,0,B)(53,A9,7,0,"ng-template",null,1,B)(55,O9,17,5,"ng-template",null,2,B)(57,R9,16,2,"ng-template",null,3,B)(59,V9,12,2,"ng-template",null,4,B)(61,F9,12,2,"ng-template",null,5,B)(63,j9,15,3,"ng-template",null,6,B)(65,z9,59,0,"ng-template",null,7,B)(67,U9,10,2,"div",49)(68,H9,12,3,"ng-template",null,8,B)(70,W9,12,2,"ng-template",null,9,B)(72,q9,6,0,"ng-template",null,10,B)(74,$9,12,2,"ng-template",null,0,B)(76,G9,12,2,"ng-template",null,11,B)(78,Y9,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,y9,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me],styles:["div.dataTables_wrapper[_ngcontent-%COMP%]   div.dataTables_length[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100px!important;display:inline-block}"]})};var Xf=["*"];function Q9(n,t){if(n&1&&(kt(0),sn(),a(1,"svg"),b(2,"use"),s(),Tt()),n&2){let e=p();u(2),lt("href","assets/ae-icons/icons.svg#"+e.iconName)("href","assets/ae-icons/icons.svg#"+e.iconName,null,"xlink")}}function K9(n,t){n&1&&fi(0)}var J9=["labelButton"],X9=n=>({"ae-expanded":n}),Z9=(n,t)=>({selected:n,focused:t});function e7(n,t){if(n&1){let e=S();a(0,"button",6),v("click",function(r){let o=f(e).$implicit,l=p();return g(l.optionSelect(o,r))}),c(1),s()}if(n&2){let e=t.$implicit,i=t.index,r=p();h("ngClass",vr(2,Z9,e.value===r.value,i===r.optionId)),u(),K(" ",e.label," ")}}function t7(n,t){n&1&&(a(0,"span",7),c(1,"No items for select"),s())}var i7=["fileInput"];function n7(n,t){if(n&1){let e=S();a(0,"div",5)(1,"ae-select",37),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.customClassId,r)||(o.customClassId=r),g(r)}),v("change",function(){f(e);let r=p(2);return g(r.setCustomClass(r.customClassId))}),s()()}if(n&2){let e=p(2);u(),h("options",e.customClassList),V("ngModel",e.customClassId),h("disabled",e.htmlMode)("hidden",e.isButtonHidden("customClasses"))}}function r7(n,t){if(n&1){let e=S();a(0,"div",4)(1,"div",5)(2,"button",6),v("click",function(){f(e);let r=p();return g(r.triggerCommand("undo"))}),s(),a(3,"button",7),v("click",function(){f(e);let r=p();return g(r.triggerCommand("redo"))}),s()(),a(4,"div",5)(5,"button",8),v("click",function(){f(e);let r=p();return g(r.triggerCommand("bold"))}),s(),a(6,"button",9),v("click",function(){f(e);let r=p();return g(r.triggerCommand("italic"))}),s(),a(7,"button",10),v("click",function(){f(e);let r=p();return g(r.triggerCommand("underline"))}),s(),a(8,"button",11),v("click",function(){f(e);let r=p();return g(r.triggerCommand("strikeThrough"))}),s(),a(9,"button",12),v("click",function(){f(e);let r=p();return g(r.triggerCommand("subscript"))}),s(),a(10,"button",13),v("click",function(){f(e);let r=p();return g(r.triggerCommand("superscript"))}),s()(),a(11,"div",5)(12,"button",14),v("click",function(){f(e);let r=p();return g(r.triggerCommand("justifyLeft"))}),s(),a(13,"button",15),v("click",function(){f(e);let r=p();return g(r.triggerCommand("justifyCenter"))}),s(),a(14,"button",16),v("click",function(){f(e);let r=p();return g(r.triggerCommand("justifyRight"))}),s(),a(15,"button",17),v("click",function(){f(e);let r=p();return g(r.triggerCommand("justifyFull"))}),s()(),a(16,"div",5)(17,"button",18),v("click",function(){f(e);let r=p();return g(r.triggerCommand("indent"))}),s(),a(18,"button",19),v("click",function(){f(e);let r=p();return g(r.triggerCommand("outdent"))}),s()(),a(19,"div",5)(20,"button",20),v("click",function(){f(e);let r=p();return g(r.triggerCommand("insertUnorderedList"))}),s(),a(21,"button",21),v("click",function(){f(e);let r=p();return g(r.triggerCommand("insertOrderedList"))}),s()(),a(22,"div",5)(23,"ae-select",22),N("ngModelChange",function(r){f(e);let o=p();return F(o.block,r)||(o.block=r),g(r)}),v("change",function(){f(e);let r=p();return g(r.triggerCommand(r.block))}),s()(),a(24,"div",5)(25,"ae-select",23),N("ngModelChange",function(r){f(e);let o=p();return F(o.fontName,r)||(o.fontName=r),g(r)}),v("change",function(){f(e);let r=p();return g(r.setFontName(r.fontName))}),s()(),a(26,"div",5)(27,"ae-select",24),N("ngModelChange",function(r){f(e);let o=p();return F(o.fontSize,r)||(o.fontSize=r),g(r)}),v("change",function(){f(e);let r=p();return g(r.setFontSize(r.fontSize))}),s()(),a(28,"div",5)(29,"input",25,0),v("change",function(){f(e);let r=E(30),o=p();return g(o.insertColor(r.value,"textColor"))}),s(),a(31,"button",26),v("click",function(){f(e);let r=E(30);return p().focus(),g(r.click())}),s(),a(32,"input",25,1),v("change",function(){f(e);let r=E(33),o=p();return g(o.insertColor(r.value,"backgroundColor"))}),s(),a(34,"button",27),v("click",function(){f(e);let r=E(33);return p().focus(),g(r.click())}),s()(),k(35,n7,2,4,"div",28),a(36,"div",5)(37,"button",29),v("click",function(){f(e);let r=p();return g(r.insertUrl())}),s(),a(38,"button",30),v("click",function(){f(e);let r=p();return g(r.triggerCommand("unlink"))}),s(),a(39,"input",31,2),v("change",function(r){f(e);let o=p();return g(o.onFileChanged(r))}),s(),a(41,"button",32),v("click",function(){f(e);let r=E(40);return p().focus(),g(r.click())}),s(),a(42,"button",33),v("click",function(){f(e);let r=p();return g(r.insertVideo())}),s(),a(43,"button",34),v("click",function(){f(e);let r=p();return g(r.triggerCommand("insertHorizontalRule"))}),s()(),a(44,"div",5)(45,"button",35),v("click",function(){f(e);let r=p();return g(r.triggerCommand("removeFormat"))}),s()(),a(46,"div",5)(47,"button",36),v("click",function(){f(e);let r=p();return g(r.triggerCommand("toggleEditorMode"))}),s()(),fi(48),s()}if(n&2){let e=p();u(2),h("hidden",e.isButtonHidden("undo")),u(),h("hidden",e.isButtonHidden("redo")),u(2),h("id","bold-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("bold")),u(),h("id","italic-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("italic")),u(),h("id","underline-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("underline")),u(),h("id","strikeThrough-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("strikeThrough")),u(),h("id","subscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("subscript")),u(),h("id","superscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("superscript")),u(2),h("id","justifyLeft-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyLeft")),u(),h("id","justifyCenter-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyCenter")),u(),h("id","justifyRight-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyRight")),u(),h("id","justifyFull-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyFull")),u(2),h("id","indent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("indent")),u(),h("id","outdent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("outdent")),u(2),h("id","insertUnorderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertUnorderedList")),u(),h("id","insertOrderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertOrderedList")),u(2),h("options",e.headings),V("ngModel",e.block),h("disabled",e.htmlMode)("hidden",e.isButtonHidden("heading")),u(2),h("options",e.fonts),V("ngModel",e.fontName),h("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontName")),u(2),h("options",e.fontSizes),V("ngModel",e.fontSize),h("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontSize")),u(4),h("id","foregroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("textColor")),u(3),h("id","backgroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("backgroundColor")),u(),h("ngIf",e._customClasses),u(2),h("id","link-"+e.id)("disabled",e.isLinkButtonDisabled)("hidden",e.isButtonHidden("link")),u(),h("id","unlink-"+e.id)("disabled",e.htmlMode||!e.linkSelected)("hidden",e.isButtonHidden("unlink")),u(3),h("id","insertImage-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertImage")),u(),h("id","insertVideo-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertVideo")),u(),h("id","insertHorizontalRule-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertHorizontalRule")),u(2),h("id","clearFormatting-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("removeFormat")),u(2),h("id","toggleEditorMode-"+e.id)("hidden",e.isButtonHidden("toggleEditorMode"))}}var o7=["customButtons"],a7=["editor"],s7=["editorWrapper"],l7=["editorToolbar"],c7=n=>({bottom:n}),d7=n=>({executeCommandFn:n}),Jf=(()=>{class n{constructor(e,i){this.http=e,this.doc=i,this.saveSelection=()=>{if(this.doc.getSelection){let r=this.doc.getSelection();r.getRangeAt&&r.rangeCount&&(this.savedSelection=r.getRangeAt(0),this.selectedText=r.toString())}else this.doc.getSelection&&this.doc.createRange?this.savedSelection=document.createRange():this.savedSelection=null}}executeCommand(e,i){if(["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)){this.doc.execCommand("formatBlock",!1,e);return}this.doc.execCommand(e,!1,i)}createLink(e){if(!e.includes("http"))this.doc.execCommand("createlink",!1,e);else{let i='<a href="'+e+'" target="_blank">'+this.selectedText+"</a>";this.insertHtml(i)}}insertColor(e,i){this.restoreSelection()&&(i==="textColor"?this.doc.execCommand("foreColor",!1,e):this.doc.execCommand("hiliteColor",!1,e))}setFontName(e){this.doc.execCommand("fontName",!1,e)}setFontSize(e){this.doc.execCommand("fontSize",!1,e)}insertHtml(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}restoreSelection(){if(this.savedSelection){if(this.doc.getSelection){let e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}else if(this.doc.getSelection)return!0}else return!1}executeInNextQueueIteration(e,i=100){setTimeout(e,i)}checkSelection(){if(this.savedSelection.toString().length===0)throw new Error("No Selection Made");return!0}uploadImage(e){let i=new FormData;return i.append("file",e,e.name),this.http.post(this.uploadUrl,i,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(e){this.doc.execCommand("insertImage",!1,e)}setDefaultParagraphSeparator(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}createCustomClass(e){let i=this.selectedText;if(e){let r=e.tag?e.tag:"span";i="<"+r+' class="'+e.class+'">'+this.selectedText+"</"+r+">"}this.insertHtml(i)}insertVideo(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}insertYouTubeVideoTag(e){let r=`https://img.youtube.com/vi/${e.split("v=")[1]}/0.jpg`,o=`
      <div style='position: relative'>
        <a href='${e}' target='_blank'>
          <img src="${r}" alt="click to watch"/>
          <img style='position: absolute; left:200px; top:140px'
          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>
        </a>
      </div>`;this.insertHtml(o)}insertVimeoVideoTag(e){let i=this.http.get(`https://vimeo.com/api/oembed.json?url=${e}`).subscribe(r=>{let o=r.thumbnail_url_with_play_button,l=`<div>
        <a href='${e}' target='_blank'>
          <img src="${o}" alt="${r.title}"/>
        </a>
      </div>`;this.insertHtml(l),i.unsubscribe()})}nextNode(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}getRangeSelectedNodes(e,i){let r=e.startContainer,o=e.endContainer,l=[];if(r===o)l=[r];else{for(;r&&r!==o;)l.push(r=this.nextNode(r));for(r=e.startContainer;r&&r!==e.commonAncestorContainer;)l.unshift(r),r=r.parentNode}if(i)for(r=e.commonAncestorContainer;r;)l.push(r),r=r.parentNode;return l}getSelectedNodes(){let e=[];if(this.doc.getSelection){let i=this.doc.getSelection();for(let r=0,o=i.rangeCount;r<o;++r)e.push.apply(e,this.getRangeSelectedNodes(i.getRangeAt(r),!0))}return e}replaceWithOwnChildren(e){let i=e.parentNode;for(;e.hasChildNodes();)i.insertBefore(e.firstChild,e);i.removeChild(e)}removeSelectedElements(e){let i=e.toLowerCase().split(",");this.getSelectedNodes().forEach(r=>{r.nodeType===1&&i.indexOf(r.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(r)})}}return n.\u0275fac=function(e){return new(e||n)(z(et),z(Ye))},n.\u0275prov=W({token:n,factory:n.\u0275fac}),n})(),Kf={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function PS(n){return n!=null}var u7=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ae-toolbar-set"],["","aeToolbarSet",""]],hostAttrs:[1,"angular-editor-toolbar-set"],ngContentSelectors:Xf,decls:1,vars:0,template:function(e,i){e&1&&(hi(),fi(0))},styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar-set[_nghost-%COMP%]{display:flex;gap:1px;width:fit-content;vertical-align:baseline}"]}),n})(),m7=(()=>{class n{constructor(){this.iconName=""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=G({type:n,selectors:[["ae-button"],["button","aeButton",""]],hostAttrs:[1,"angular-editor-button"],hostVars:2,hostBindings:function(e,i){e&2&&fa("tabIndex",-1)("type","button")},inputs:{iconName:"iconName"},ngContentSelectors:Xf,decls:3,vars:2,consts:[["contentTemplate",""],[4,"ngIf","ngIfElse"]],template:function(e,i){if(e&1&&(hi(),k(0,Q9,3,2,"ng-container",1)(1,K9,1,0,"ng-template",null,0,B)),e&2){let r=E(2);h("ngIf",i.iconName)("ngIfElse",r)}},dependencies:[ae],styles:["a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-button[_nghost-%COMP%]{background-color:var(--ae-button-bg-color, white);vertical-align:middle;border:var(--ae-button-border, 1px solid #ddd);border-radius:var(--ae-button-radius, 4px);padding:.4rem;float:left;width:2rem;height:2rem}.angular-editor-button[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.angular-editor-button[_nghost-%COMP%]:hover{cursor:pointer;background-color:var(--ae-button-hover-bg-color, #f1f1f1);transition:.2s ease}.angular-editor-button[_nghost-%COMP%]:focus, .angular-editor-button.focus[_nghost-%COMP%]{outline:0}.angular-editor-button[_nghost-%COMP%]:disabled{background-color:var(--ae-button-disabled-bg-color, #f5f5f5);pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555555}.angular-editor-button[_nghost-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%]{background:#555555}.angular-editor-button.active[_nghost-%COMP%]{background:var(--ae-button-active-bg-color, #fffbd3)}.angular-editor-button.active[_nghost-%COMP%]:hover{background-color:var(--ae-button-active-hover-bg-color, #fffaad)}"]}),n})(),p7=(()=>{class n{constructor(e,i){this.elRef=e,this.r=i,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new Pe,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],PS(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(e,i){i.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(e){this.disabled||(this.opened=!this.opened)}onClick(e){this.elRef.nativeElement.contains(e.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(e){!e||typeof e!="string"||this.setValue(e)}setValue(e){let i=0,r=this.options.find((o,l)=>(i=l,o.value===e));r&&(this.selectedOption=r,this.optionId=i)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.labelButton.nativeElement.disabled=e;let i=this.labelButton.nativeElement,r=e?"addClass":"removeClass";this.r[r](i,"disabled"),this.disabled=e}handleKeyDown(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace();break}}_handleArrowDown(e){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(e){this.optionId>=1&&this.optionId--}_handleSpace(e){}_handleEnter(e){this.optionSelect(this.options[this.optionId],e)}_handleTab(e){}_handleBackspace(){}}return n.\u0275fac=function(e){return new(e||n)(T(Ne),T(Ui))},n.\u0275cmp=G({type:n,selectors:[["ae-select"]],viewQuery:function(e,i){if(e&1&&gt(J9,7),e&2){let r;ze(r=Ue())&&(i.labelButton=r.first)}},hostVars:2,hostBindings:function(e,i){e&1&&v("click",function(o){return i.onClick(o)},!1,T_)("keydown",function(o){return i.handleKeyDown(o)}),e&2&&Qi("display",i.hidden)},inputs:{options:"options",isHidden:[0,"hidden","isHidden"]},outputs:{changeEvent:"change"},features:[vt([{provide:Wi,useExisting:ni(()=>n),multi:!0}])],decls:9,vars:9,consts:[["labelButton",""],[1,"ae-picker",3,"ngClass"],["tabindex","-1","type","button","role","button",1,"ae-picker-label",3,"click","tabIndex"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"click","ngClass"],[1,"dropdown-item"]],template:function(e,i){if(e&1){let r=S();a(0,"span",1)(1,"button",2,0),v("click",function(l){return f(r),g(i.toggleOpen(l))}),c(3),sn(),a(4,"svg"),b(5,"use"),s()(),Wr(),a(6,"span",3),k(7,e7,2,5,"button",4)(8,t7,2,0,"span",5),s()()}e&2&&(h("ngClass",Ki(7,X9,i.isOpen)),u(),h("tabIndex",-1),u(2),K("",i.label," "),u(2),lt("href","assets/ae-icons/icons.svg#sort")("href","assets/ae-icons/icons.svg#sort",null,"xlink"),u(2),h("ngForOf",i.options),u(),h("ngIf",!i.options.length))},dependencies:[jn,_e,ae],styles:['a[_ngcontent-%COMP%]{cursor:pointer}svg[_ngcontent-%COMP%]{width:100%;height:100%}.ae-picker[_ngcontent-%COMP%]{color:var(--ae-picker-color, #444);display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-picker-label[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding-left:8px;padding-right:10px;position:relative;width:100%;line-height:1.8rem;vertical-align:middle;font-size:85%;text-align:left;background-color:var(--ae-picker-label-color, white);min-width:2rem;float:left;border:1px solid #ddd;border-radius:var(--ae-button-radius, 4px);text-overflow:clip;overflow:hidden;white-space:nowrap;height:2rem}.ae-picker-label[_ngcontent-%COMP%]:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(to right,var(--ae-picker-label-color, white),var(--ae-picker-label-color, white) 100%)}.ae-picker-label[_ngcontent-%COMP%]:focus{outline:none}.ae-picker-label[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-picker-label[_ngcontent-%COMP%]:hover:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-picker-label[_ngcontent-%COMP%]:disabled:before{background:linear-gradient(to right,#f5f5f5 100%,#ffffff 100%)}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:0;width:1rem}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:not(:root){overflow:hidden}.ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-picker-options[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-bg-color, #fff);display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.selected[_ngcontent-%COMP%]{color:#06c;background-color:var(--ae-picker-option-active-bg-color, #fff4c2)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item.focused[_ngcontent-%COMP%]{background-color:var(--ae-picker-option-focused-bg-color, #fbf9b0)}.ae-picker-options[_ngcontent-%COMP%]   .ae-picker-item[_ngcontent-%COMP%]:hover{background-color:var(--ae-picker-option-hover-bg-color, #fffa98)}.ae-expanded[_ngcontent-%COMP%]{display:block;margin-top:-1px;z-index:1}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#ccc;z-index:2}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   .ae-stroke[_ngcontent-%COMP%]{stroke:#ccc}.ae-expanded[_ngcontent-%COMP%]   .ae-picker-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}']}),n})(),h7=(()=>{class n{constructor(e,i,r,o){this.r=e,this.editorService=i,this.er=r,this.doc=o,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new Pe}set customClasses(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map((i,r)=>({label:i.name,value:r.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(e){e&&(this.fontName=e)}set defaultFontSize(e){e&&(this.fontSize=e)}get isLinkButtonDisabled(){return this.htmlMode||!this.editorService.selectedText}triggerCommand(e){this.execute.emit(e)}triggerButtons(){this.showToolbar&&this.buttons.forEach(e=>{let i=this.doc.queryCommandState(e),r=this.doc.getElementById(e+"-"+this.id);i?this.r.addClass(r,"active"):this.r.removeClass(r,"active")})}triggerBlocks(e){if(!this.showToolbar)return;this.linkSelected=e.findIndex(r=>r.nodeName==="A")>-1;let i=!1;this.select.forEach(r=>{let o=e.find(l=>l.nodeName===r);o!==void 0&&r===o.nodeName?i===!1&&(this.block=o.nodeName.toLowerCase(),i=!0):i===!1&&(this.block="default")}),i=!1,this._customClasses&&this._customClasses.forEach((r,o)=>{e.find(d=>{if(d instanceof Element)return d.className===r.class})!==void 0?i===!1&&(this.customClassId=o.toString(),i=!0):i===!1&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(r=>{let o=this.doc.getElementById(this.tagMap[r]+"-"+this.id),l=e.find(d=>d.nodeName===r);l!==void 0&&r===l.nodeName?this.r.addClass(o,"active"):this.r.removeClass(o,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let e="https://",i=this.editorService.savedSelection;if(i&&i.commonAncestorContainer.parentElement.nodeName==="A"){let r=i.commonAncestorContainer.parentElement;r.href!==""&&(e=r.href)}e=prompt("Insert URL link",e),e&&e!==""&&e!=="https://"&&this.editorService.createLink(e)}insertVideo(){this.execute.emit("");let e=prompt("Insert Video link","https://");e&&e!==""&&e!=="https://"&&this.editorService.insertVideo(e)}insertColor(e,i){this.editorService.insertColor(e,i),this.execute.emit("")}setFontName(e){this.editorService.setFontName(e),this.execute.emit("")}setFontSize(e){this.editorService.setFontSize(e),this.execute.emit("")}setEditorMode(e){let i=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(i,"active"):this.r.removeClass(i,"active"),this.htmlMode=e}onFileChanged(e){let i=e.target.files[0];if(i.type.includes("image/"))if(this.upload)this.upload(i).subscribe(r=>this.watchUploadImage(r,e));else if(this.uploadUrl)this.editorService.uploadImage(i).subscribe(r=>this.watchUploadImage(r,e));else{let r=new FileReader;r.onload=o=>{let l=o.currentTarget;this.editorService.insertImage(l.result.toString())},r.readAsDataURL(i)}}watchUploadImage(e,i){let{imageUrl:r}=e.body;this.editorService.insertImage(r),i.srcElement.value=null}setCustomClass(e){e==="-1"?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}isButtonHidden(e){if(!e||!(this.hiddenButtons instanceof Array))return!1;let i;for(let r of this.hiddenButtons)if(r instanceof Array&&(i=r.find(o=>o===e)),i)break;return i!==void 0}focus(){this.execute.emit("focus"),console.log("focused")}}return n.\u0275fac=function(e){return new(e||n)(T(Ui),T(Jf),T(Ne),T(Ye))},n.\u0275cmp=G({type:n,selectors:[["angular-editor-toolbar"],["ae-toolbar"],["div","aeToolbar",""]],viewQuery:function(e,i){if(e&1&&gt(i7,7),e&2){let r;ze(r=Ue())&&(i.myInputFile=r.first)}},inputs:{id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},ngContentSelectors:Xf,decls:1,vars:1,consts:[["fgInput",""],["bgInput",""],["fileInput",""],["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],["aeToolbarSet",""],["aeButton","","title","Undo","iconName","undo",3,"click","hidden"],["aeButton","","title","Redo","iconName","redo",3,"click","hidden"],["aeButton","","title","Bold","iconName","bold",3,"click","id","disabled","hidden"],["aeButton","","iconName","italic","title","Italic",3,"click","id","disabled","hidden"],["aeButton","","title","Underline","iconName","underline",3,"click","id","disabled","hidden"],["aeButton","","iconName","strikeThrough","title","Strikethrough",3,"click","id","disabled","hidden"],["aeButton","","title","Subscript","iconName","subscript",3,"click","id","disabled","hidden"],["aeButton","","iconName","superscript","title","Superscript",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyLeft","title","Justify Left",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyCenter","title","Justify Center",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyRight","title","Justify Right",3,"click","id","disabled","hidden"],["aeButton","","iconName","justifyFull","title","Justify Full",3,"click","id","disabled","hidden"],["aeButton","","iconName","indent","title","Indent",3,"click","id","disabled","hidden"],["aeButton","","iconName","outdent","title","Outdent",3,"click","id","disabled","hidden"],["aeButton","","iconName","unorderedList","title","Unordered List",3,"click","id","disabled","hidden"],["aeButton","","iconName","orderedList","title","Ordered List",3,"click","id","disabled","hidden"],["tabindex","-1",1,"select-heading",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["tabindex","-1",1,"select-font",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["tabindex","-1",1,"select-font-size",3,"ngModelChange","change","options","ngModel","disabled","hidden"],["type","color",2,"display","none",3,"change"],["aeButton","","iconName","textColor","title","Text Color",3,"click","id","disabled","hidden"],["aeButton","","iconName","backgroundColor","title","Background Color",3,"click","id","disabled","hidden"],["aeToolbarSet","",4,"ngIf"],["aeButton","","iconName","link","title","Insert Link",3,"click","id","disabled","hidden"],["aeButton","","iconName","unlink","title","Unlink",3,"click","id","disabled","hidden"],["accept","image/*","type","file",2,"display","none",3,"change"],["aeButton","","iconName","image","title","Insert Image",3,"click","id","disabled","hidden"],["aeButton","","iconName","video","title","Insert Video",3,"click","id","disabled","hidden"],["aeButton","","iconName","horizontalLine","title","Horizontal Line",3,"click","id","disabled","hidden"],["aeButton","","iconName","removeFormat","title","Clear Formatting",1,"angular-editor-button",3,"click","id","disabled","hidden"],["aeButton","","iconName","htmlCode","title","HTML Code",3,"click","id","hidden"],["tabindex","-1",1,"select-custom-style",3,"ngModelChange","change","options","ngModel","disabled","hidden"]],template:function(e,i){e&1&&(hi(),k(0,r7,49,83,"div",3)),e&2&&h("ngIf",i.showToolbar)},dependencies:[u7,m7,p7,ae,me,he],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:var(--ae-toolbar-bg-color, #f5f5f5);font-size:.8rem;padding:var(--ae-toolbar-padding, .2rem);border:var(--ae-toolbar-border-radius, 1px solid #ddd);display:flex;flex-wrap:wrap;gap:4px}.select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance: none){.select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance: none){.select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";inset:auto auto -3px -1px;width:15px;height:2px;z-index:0;background:#1b1b1b}']}),n})(),OS=(()=>{class n{constructor(e,i,r,o,l,d,m){this.r=e,this.editorService=i,this.doc=r,this.sanitizer=o,this.cdRef=l,this.autoFocus=m,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=Kf,this.placeholder="",this.executeCommandFn=this.executeCommand.bind(this),this.viewMode=new Pe,this.blurEvent=new Pe,this.focusEvent=new Pe,this.tabindex=-1;let _=Number(d);this.tabIndex=_||_===0?_:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:Kf.toolbarPosition}ngAfterViewInit(){PS(this.autoFocus)&&this.focus()}onPaste(e){if(this.config.rawPaste){e.preventDefault();let i=e.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,i),i}}executeCommand(e,i){this.focus(),e!=="focus"&&(e==="toggleEditorMode"?this.toggleEditorMode(this.modeVisual):e!==""&&(e==="clear"?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):e==="default"?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e,i),this.exec()))}onTextAreaFocus(e){if(this.focused){e.stopPropagation();return}this.focused=!0,this.focusEvent.emit(e),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0})}onTextAreaMouseOut(e){this.editorService.saveSelection()}onTextAreaBlur(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),typeof this.onTouched=="function"&&this.onTouched(),e.relatedTarget!==null){let i=e.relatedTarget.parentElement;!i.classList.contains("angular-editor-toolbar-set")&&!i.classList.contains("ae-picker")&&(this.blurEvent.emit(e),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(e){let i="";this.modeVisual?i=e.innerHTML:i=e.innerText,(!i||i==="<br>")&&(i=""),typeof this.onChange=="function"&&(this.onChange(this.config.sanitize||this.config.sanitize===void 0?this.sanitizer.sanitize(Nn.HTML,i):i),!i!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(e){this.onChange=i=>e(i==="<br>"?"":i)}registerOnTouched(e){this.onTouched=e}writeValue(e){(!e||e==="<br>"||e==="")!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(e===void 0||e===""||e==="<br>")&&(e=null),this.refreshView(e)}refreshView(e){let i=e===null?"":e;this.r.setProperty(this.textArea.nativeElement,"innerHTML",i)}togglePlaceholder(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(e){let i=this.textArea.nativeElement,r=e?"addClass":"removeClass";this.r[r](i,"disabled"),this.disabled=e}toggleEditorMode(e){let i,r=this.textArea.nativeElement;if(e){i=this.r.createText(r.innerHTML),this.r.setProperty(r,"innerHTML",""),this.r.setProperty(r,"contentEditable",!1);let o=this.r.createElement("pre");this.r.setStyle(o,"margin","0"),this.r.setStyle(o,"outline","none");let l=this.r.createElement("code");this.r.setProperty(l,"id","sourceText"+this.id),this.r.setStyle(l,"display","block"),this.r.setStyle(l,"white-space","pre-wrap"),this.r.setStyle(l,"word-break","keep-all"),this.r.setStyle(l,"outline","none"),this.r.setStyle(l,"margin","0"),this.r.setStyle(l,"background-color","#fff5b9"),this.r.setProperty(l,"contentEditable",!0),this.r.appendChild(l,i),this.focusInstance=this.r.listen(l,"focus",d=>this.onTextAreaFocus(d)),this.blurInstance=this.r.listen(l,"blur",d=>this.onTextAreaBlur(d)),this.r.appendChild(o,l),this.r.appendChild(r,o),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),l.focus()}else this.doc.querySelectorAll?this.r.setProperty(r,"innerHTML",r.innerText):(i=this.doc.createRange(),i.selectNodeContents(r.firstChild),this.r.setProperty(r,"innerHTML",i.toString())),this.r.setProperty(r,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(r),r.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){this.editorToolbar.triggerButtons();let e;this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let i=e.focusNode,r=[];for(;i&&i.id!=="editor";)r.unshift(i),i=i.parentNode;this.editorToolbar.triggerBlocks(r)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:Kf.fonts).map(i=>({label:i.name,value:i.name}))}getCustomTags(){let e=["span"];return this.config.customClasses.forEach(i=>{i.tag!==void 0&&(e.includes(i.tag)||e.push(i.tag))}),e.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(e){return e=e.replace("position: fixed;",""),e}}return n.\u0275fac=function(e){return new(e||n)(T(Ui),T(Jf),T(Ye),T(Ct),T(Ot),ln("tabindex"),ln("autofocus"))},n.\u0275cmp=G({type:n,selectors:[["angular-editor"]],contentQueries:function(e,i,r){if(e&1&&Kt(r,o7,5),e&2){let o;ze(o=Ue())&&(i.customButtonsTemplateRef=o.first)}},viewQuery:function(e,i){if(e&1&&(gt(a7,7),gt(s7,7),gt(l7,5)),e&2){let r;ze(r=Ue())&&(i.textArea=r.first),ze(r=Ue())&&(i.editorWrapper=r.first),ze(r=Ue())&&(i.editorToolbar=r.first)}},hostVars:1,hostBindings:function(e,i){e&1&&v("focus",function(){return i.onFocus()}),e&2&&lt("tabindex",i.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{html:"html",viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus"},features:[vt([{provide:Wi,useExisting:ni(()=>n),multi:!0},Jf])],decls:11,vars:33,consts:[["angularEditor",""],["editorToolbar",""],["editorWrapper",""],["editor",""],[1,"angular-editor",3,"ngClass"],[3,"execute","id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"angular-editor-wrapper"],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],[1,"angular-editor-placeholder"]],template:function(e,i){if(e&1){let r=S();a(0,"div",4,0)(2,"angular-editor-toolbar",5,1),v("execute",function(l){return f(r),g(i.executeCommand(l))}),ha(4,6),s(),a(5,"div",7,2)(7,"div",8,3),v("input",function(l){return f(r),g(i.onContentChange(l.target))})("focus",function(l){return f(r),g(i.onTextAreaFocus(l))})("blur",function(l){return f(r),g(i.onTextAreaBlur(l))})("click",function(){return f(r),g(i.exec())})("keyup",function(){return f(r),g(i.exec())})("mouseout",function(l){return f(r),g(i.onTextAreaMouseOut(l))})("paste",function(l){return f(r),g(i.onPaste(l))}),s(),a(9,"span",9),c(10),s()()()}e&2&&(Qi("width",i.config.width)("min-width",i.config.minWidth),h("ngClass",Ki(29,c7,i.config.toolbarPosition==="bottom")),u(2),h("id",i.id)("uploadUrl",i.config.uploadUrl)("upload",i.config.upload)("showToolbar",i.config.showToolbar!==void 0?i.config.showToolbar:!0)("fonts",i.getFonts())("customClasses",i.config.customClasses)("defaultFontName",i.config.defaultFontName)("defaultFontSize",i.config.defaultFontSize)("hiddenButtons",i.config.toolbarHiddenButtons),u(2),h("ngTemplateOutlet",i.customButtonsTemplateRef)("ngTemplateOutletContext",Ki(31,d7,i.executeCommandFn)),u(3),Qi("height",i.config.height)("min-height",i.config.minHeight)("max-height",i.config.maxHeight)("outline",i.config.outline===!1?"none":void 0),lt("contenteditable",i.config.editable)("tabindex",i.disabled?-1:i.tabIndex)("translate",i.config.translate)("spellcheck",i.config.spellcheck),u(3),L(i.placeholder||i.config.placeholder))},dependencies:[h7,jn,qr],styles:['a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--ae-gap, 5px)}.angular-editor.bottom[_ngcontent-%COMP%]{flex-direction:column-reverse}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;resize:vertical}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:#ffffff80}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border-radius:var(--ae-text-area-border-radius, .3rem);border:var(--ae-text-area-border, 1px solid #ddd);background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]:focus, .angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea.focus[_ngcontent-%COMP%]{outline:var(--ae-focus-outline-color, -webkit-focus-ring-color auto 1px)}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.6rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),n})(),hm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ve({type:n}),n.\u0275inj=be({imports:[[oe,ce,Uu]]}),n})();var Pn=class n{constructor(t){this.http=t}url=j.toApiUrl("unity-admin");getAll(){return this.http.get(this.url)}getPrincipal(){return this.http.get(this.url+"/principal/all")}getUaCollabs(){return this.http.get(this.url+"/collabs/all")}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.put(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var g7=["pdfView"];function _7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function b7(n,t){if(n&1){let e=S();a(0,"button",23),v("click",function(){f(e);let r=p(2);return g(r.transUp())}),b(1,"i",24),c(2," Soumettre mon avis "),k(3,_7,3,0,"div",25),s()}if(n&2){let e=p(2);h("disabled",e.loading),u(3),h("ngIf",e.loading)}}function v7(n,t){if(n&1){let e=S();a(0,"button",28),v("click",function(){f(e);let r=p(2);return g(r.validate())}),b(1,"i",29),c(2," Envoyer une notification provisoire de demande accept\xE9e "),s()}}function y7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function x7(n,t){if(n&1){let e=S();a(0,"button",23),v("click",function(){f(e);let r=p(2);return g(r.delivered())}),b(1,"i",30),c(2," Cl\xF4turer la demande "),k(3,y7,3,0,"div",25),s()}if(n&2){let e=p(2);h("disabled",!e.isTreated||e.loading),u(3),h("ngIf",e.loading)}}function w7(n,t){if(n&1){let e=S();a(0,"button",31),v("click",function(){f(e);let r=p(2),o=E(9);return g(r.open(o))}),b(1,"i",32),c(2," Signer l'attestation / D\xE9livrer mon visa "),s()}}function C7(n,t){if(n&1){let e=S();a(0,"button",33),v("click",function(){f(e);let r=p(2);return g(r.delivered())}),b(1,"i",34),c(2," D\xE9livrer l'attestation / le document vis\xE9 "),s()}if(n&2){let e=p(2);h("disabled",e.loading)}}function S7(n,t){if(n&1&&(a(0,"div",35)(1,"div",36,1)(3,"object",37)(4,"p",38),b(5,"i",39)(6,"br"),c(7," Impossible d'afficher le PDF. "),a(8,"a",40),c(9," Ouvrir dans un nouvel onglet "),s()()()()()),n&2){let e=p(2);u(3),h("data",e.pdfSrc,xt),u(5),h("href",e.pdfSrc,ma)}}function E7(n,t){if(n&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Motif"),s(),a(4,"dd"),c(5),s()()()),n&2){let e=p(4);u(5),L(e.responseUATreated.motif)}}function k7(n,t){if(n&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Note"),s(),a(4,"dd"),c(5),s()()()),n&2){let e=p(4);u(5),L(e.responseUATreated.reason)}}function T7(n,t){if(n&1&&(a(0,"div",62)(1,"div",54)(2,"dt",55),c(3,"Observation compl\xE8te sur l'analyse de la demande"),s(),a(4,"dd"),c(5),s()()()),n&2){let e=p(4);u(5),L(e.responseUATreated.observation)}}function M7(n,t){if(n&1){let e=S();a(0,"button",63),v("click",function(){f(e);let r=p(4);return g(r.showResponseFile(r.responseUATreated.note))}),b(1,"i",64),c(2," Voir la note de service "),s()}}function I7(n,t){if(n&1){let e=S();a(0,"div",65)(1,"div",66)(2,"button",67),v("click",function(){f(e);let r=p(4);return g(r.back())}),b(3,"i",68),c(4," Fermer "),s()(),a(5,"div",35),b(6,"object",69),s()()}if(n&2){let e=p(4);u(6),h("data",e.pdfSrc,xt)}}function D7(n,t){if(n&1&&(a(0,"div",50)(1,"h4",43),b(2,"i",51),c(3," Avis du collaborateur "),s(),a(4,"div",52)(5,"div",53)(6,"div",54)(7,"dt",55),c(8,"D\xE9cision"),s(),a(9,"dd",56),b(10,"i",57),c(11),s()()(),k(12,E7,6,1,"div",58)(13,k7,6,1,"div",58)(14,T7,6,1,"div",58),s(),a(15,"div",59),k(16,M7,3,0,"button",60),s(),k(17,I7,7,1,"div",61),s()),n&2){let e=p(3);u(9),Qt(e.responseUATreated.hasPermission?"text-success":"text-danger"),u(),Qt(e.responseUATreated.hasPermission?"bi bi-check-circle":"bi bi-x-circle"),u(),K(" ",e.getDecision(e.responseUATreated.hasPermission)," "),u(),h("ngIf",!e.responseUATreated.hasPermission),u(),h("ngIf",e.responseUATreated.hasPermission),u(),h("ngIf",e.responseUATreated.hasPermission),u(2),h("ngIf",e.responseUATreated.note),u(),h("ngIf",e.showResponseFilePreview)}}function A7(n,t){n&1&&(a(0,"option",49),c(1,"Mise en attente"),s()),n&2&&h("value",2)}function P7(n,t){if(n&1){let e=S();a(0,"div",82),b(1,"hr"),a(2,"h6",83),b(3,"i",84),c(4," Compl\xE8ter ces informations "),s(),a(5,"div",85)(6,"div",53)(7,"div",71)(8,"label",86),c(9,"Direction"),s(),a(10,"input",87),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.structure,r)||(o.selected_data.structure=r),g(r)}),s()()(),a(11,"div",53)(12,"div",71)(13,"label",86),c(14,"Date d\xE9but de stage"),s(),a(15,"input",88),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.date_start,r)||(o.selected_data.date_start=r),g(r)}),s()()(),a(16,"div",53)(17,"div",71)(18,"label",86),c(19,"Date fin de stage"),s(),a(20,"input",89),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.date_end,r)||(o.selected_data.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(4);u(10),V("ngModel",e.selected_data.structure),u(5),V("ngModel",e.selected_data.date_start),u(5),V("ngModel",e.selected_data.date_end)}}function O7(n,t){if(n&1){let e=S();a(0,"div",82),b(1,"hr"),a(2,"h6",83),b(3,"i",84),c(4," Compl\xE8ter ces informations "),s(),a(5,"div",85)(6,"div",53)(7,"div",71)(8,"label",86),c(9,"Statut"),s(),a(10,"select",90),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.status,r)||(o.selected_data.adpap.status=r),g(r)}),a(11,"option",91),c(12,"Fontionnaire"),s(),a(13,"option",92),c(14,"ACE"),s()()()(),a(15,"div",53)(16,"div",71)(17,"label",86),c(18,"Date de naissance"),s(),a(19,"input",93),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.birthday,r)||(o.selected_data.adpap.birthday=r),g(r)}),s()()(),a(20,"div",53)(21,"div",71)(22,"label",86),c(23,"Lieu de naissance"),s(),a(24,"input",94),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.birthplace,r)||(o.selected_data.adpap.birthplace=r),g(r)}),s()()(),a(25,"div",95)(26,"div",71)(27,"label",86),c(28,"Civilit\xE9"),s(),a(29,"select",96),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.sex,r)||(o.selected_data.adpap.sex=r),g(r)}),a(30,"option",97),c(31,"Monsieur"),s(),a(32,"option",98),c(33,"Madame"),s()()()(),a(34,"div",53)(35,"div",71)(36,"label",86),c(37,"Corps"),s(),a(38,"input",99),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.corporate,r)||(o.selected_data.adpap.corporate=r),g(r)}),s()()(),a(39,"div",53)(40,"div",71)(41,"label",86),c(42,"Poste occup\xE9"),s(),a(43,"input",100),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.function,r)||(o.selected_data.adpap.function=r),g(r)}),s()()(),a(44,"div",95)(45,"div",71)(46,"label",86),c(47,"Grade"),s(),a(48,"input",101),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.category,r)||(o.selected_data.adpap.category=r),g(r)}),s()()(),a(49,"div",95)(50,"div",71)(51,"label",86),c(52,"Echelle"),s(),a(53,"input",102),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.scale,r)||(o.selected_data.adpap.scale=r),g(r)}),s()()(),a(54,"div",95)(55,"div",71)(56,"label",86),c(57,"Echelon"),s(),a(58,"input",103),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.selected_data.adpap.level,r)||(o.selected_data.adpap.level=r),g(r)}),s()()()()()}if(n&2){let e=p(4);u(10),V("ngModel",e.selected_data.adpap.status),u(9),V("ngModel",e.selected_data.adpap.birthday),u(5),V("ngModel",e.selected_data.adpap.birthplace),u(5),V("ngModel",e.selected_data.adpap.sex),u(9),V("ngModel",e.selected_data.adpap.corporate),u(5),V("ngModel",e.selected_data.adpap.function),u(5),V("ngModel",e.selected_data.adpap.category),u(5),V("ngModel",e.selected_data.adpap.scale),u(5),V("ngModel",e.selected_data.adpap.level)}}function R7(n,t){if(n&1){let e=S();a(0,"div")(1,"label",86),c(2,"Charger le contrat"),s(),a(3,"input",77),v("change",function(r){f(e);let o=p(),l=o.$implicit,d=o.index,m=p(5);return g(m.upload2(r,d,l.identity))}),s()()}}function V7(n,t){if(n&1){let e=S();a(0,"div")(1,"button",109),v("click",function(){f(e);let r=p().$implicit,o=p(5);return g(o.openContract(r.file==null?null:r.file.file))}),b(2,"i",110),c(3," Ouvrir le fichier "),s()()}}function F7(n,t){if(n&1&&(a(0,"div",62)(1,"div",107)(2,"div",41)(3,"h6",108),c(4),s(),k(5,R7,4,0,"div",11)(6,V7,4,0,"div",11),s()()()),n&2){let e=t.$implicit;u(4),L(e.identity),u(),h("ngIf",!e.has_contract),u(),h("ngIf",e.has_contract)}}function N7(n,t){if(n&1&&(a(0,"fieldset",82)(1,"legend",104),b(2,"i",105),c(3," Charger les contrats "),s(),a(4,"div",85),k(5,F7,7,3,"div",106),s()()),n&2){let e=p(4);u(5),h("ngForOf",e.contractFiles)}}function L7(n,t){if(n&1){let e=S();a(0,"div",82),b(1,"hr"),a(2,"div",111)(3,"h6",112),b(4,"i",64),c(5," Une note disponible "),s(),a(6,"button",113),v("click",function(){f(e);let r=p(4);return g(r.showResponseFile(r.responseUA.note))}),c(7," Voir la note de service "),s()()()}}function B7(n,t){if(n&1){let e=S();a(0,"div",114)(1,"label",46),c(2,"Contenu du document"),s(),a(3,"textarea",115),N("ngModelChange",function(r){f(e);let o=p(4);return F(o.desc,r)||(o.desc=r),g(r)}),s()()}if(n&2){let e=p(4);u(3),V("ngModel",e.desc)}}function j7(n,t){n&1&&(a(0,"div",116)(1,"h5",117),b(2,"i",84),c(3," Pas de contenu \xE0 \xE9diter pour cette prestation "),s(),a(4,"p",118),c(5,"Vous pouvez proc\xE9der \xE0 la g\xE9n\xE9ration du document"),s()())}function z7(n,t){if(n&1){let e=S();a(0,"div",114)(1,"div",119)(2,"h6",112),b(3,"i",120),c(4," Chargement du document final scann\xE9 (PDF) "),s(),a(5,"input",121),v("change",function(r){f(e);let o=p(4);return g(o.upload(r))}),s()()()}}function U7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function H7(n,t){if(n&1){let e=S();kt(0),a(1,"form",70,2),v("ngSubmit",function(){f(e);let r=E(2),o=p(3);return g(o.stepAction(r.value))}),a(3,"div",52)(4,"div",62)(5,"div",71)(6,"label",46),c(7,"Note"),s(),a(8,"textarea",72),N("ngModelChange",function(r){f(e);let o=p(3);return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()()(),a(9,"div",62)(10,"div",71)(11,"label",46),c(12,"Observation compl\xE8te sur l'analyse de la demande"),s(),a(13,"textarea",73),N("ngModelChange",function(r){f(e);let o=p(3);return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()()()(),k(14,P7,21,3,"div",74)(15,O7,59,9,"div",74)(16,N7,6,1,"fieldset",74)(17,L7,8,0,"div",74),a(18,"div",75)(19,"label",46),b(20,"i",76),c(21," Attacher une note si disponible "),s(),a(22,"input",77),v("change",function(r){f(e);let o=p(3);return g(o.upload(r))}),s()(),k(23,B7,4,1,"div",78)(24,j7,6,0,"div",79)(25,z7,6,0,"div",78),a(26,"div",80)(27,"button",81),b(28,"i",24),c(29),k(30,U7,3,0,"div",25),s()()(),Tt()}if(n&2){let e=E(2),i=p(3);u(8),V("ngModel",i.responseUA.reason),u(5),V("ngModel",i.responseUA.observation),u(),h("ngIf",i.selected_data&&i.responseUA.hasPermission==1&&i.prestation=="autorisation-de-stage"),u(),h("ngIf",i.selectedData&&i.responseUA.hasPermission==1&&i.prestation=="attestation-de-presence-au-poste"),u(),h("ngIf",i.selectedData&&(i.myPrestation==null?null:i.myPrestation.content_type)==2&&(i.contractFiles==null?null:i.contractFiles.length)!=0),u(),h("ngIf",i.responseUA.note),u(6),h("ngIf",(i.myPrestation==null?null:i.myPrestation.content_type)==0),u(),h("ngIf",(i.myPrestation==null?null:i.myPrestation.content_type)==2),u(),h("ngIf",(i.myPrestation==null?null:i.myPrestation.content_type)==1&&i.isTreated&&(i.selected_data==null?null:i.selected_data.status)==5),u(2),h("disabled",i.loading||e.invalid),u(2),K(" ",i.getText()," "),u(),h("ngIf",i.loading)}}function W7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function q7(n,t){if(n&1){let e=S();kt(0),a(1,"form",70,3),v("ngSubmit",function(){f(e);let r=E(2),o=p(3);return g(o.stepAction(r.value))}),a(3,"div",122)(4,"h6",112),b(5,"i",123),c(6," Motif du rejet "),s(),a(7,"div",124)(8,"label",86),c(9,"Laissez le motif du rejet"),s(),a(10,"textarea",125),N("ngModelChange",function(r){f(e);let o=p(3);return F(o.responseUA.motif,r)||(o.responseUA.motif=r),g(r)}),s()(),a(11,"div",126)(12,"button",127),b(13,"i",123),c(14),k(15,W7,3,0,"div",25),s()()()(),Tt()}if(n&2){let e=E(2),i=p(3);u(10),V("ngModel",i.responseUA.motif),u(2),h("disabled",i.loading||e.invalid),u(2),K(" ",i.getText()," "),u(),h("ngIf",i.loading)}}function $7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function G7(n,t){if(n&1){let e=S();kt(0),a(1,"form",70,4),v("ngSubmit",function(){f(e);let r=E(2),o=p(3);return g(o.stepAction(r.value))}),a(3,"div",119)(4,"h6",112),b(5,"i",128),c(6," Mise en attente "),s(),a(7,"div",124)(8,"label",86),c(9,"Laissez le motif de mise en attente"),s(),a(10,"textarea",129),N("ngModelChange",function(r){f(e);let o=p(3);return F(o.responseUA.motif,r)||(o.responseUA.motif=r),g(r)}),s()(),a(11,"div",126)(12,"button",130),b(13,"i",128),c(14),k(15,$7,3,0,"div",25),s()()()(),Tt()}if(n&2){let e=E(2),i=p(3);u(10),V("ngModel",i.responseUA.motif),u(2),h("disabled",i.loading||e.invalid),u(2),K(" ",i.getText()," "),u(),h("ngIf",i.loading)}}function Y7(n,t){if(n&1){let e=S();a(0,"div",13)(1,"div",41),k(2,D7,18,10,"div",42),a(3,"div")(4,"h4",43),b(5,"i",44),c(6),s(),a(7,"div",45)(8,"label",46),c(9,"D\xE9cision"),s(),a(10,"select",47),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.responseUA.hasPermission,r)||(o.responseUA.hasPermission=r),g(r)}),v("change",function(r){f(e);let o=p(2);return g(o.btnChange(r))}),k(11,A7,2,1,"option",48),a(12,"option",49),c(13,"Favorable"),s(),a(14,"option",49),c(15,"D\xE9favorable"),s()()(),k(16,H7,31,12,"ng-container",11)(17,q7,16,4,"ng-container",11)(18,G7,16,4,"ng-container",11),s()()()}if(n&2){let e=p(2);u(2),h("ngIf",e.responseUaCode),u(4),K(" ",e.isSigner()?"D\xE9cision finale":"Mon Avis"," "),u(4),V("ngModel",e.responseUA.hasPermission),u(),h("ngIf",!e.isSigner()),u(),h("value",1),u(2),h("value",0),u(2),h("ngIf",e.responseUA.hasPermission==1),u(),h("ngIf",e.responseUA.hasPermission==0),u(),h("ngIf",e.responseUA.hasPermission==2)}}function Q7(n,t){if(n&1&&(a(0,"div")(1,"div",13)(2,"div",14)(3,"div",15),k(4,b7,4,2,"button",16)(5,v7,3,0,"button",17)(6,x7,4,2,"button",16)(7,w7,3,0,"button",18)(8,C7,3,1,"button",19),s()(),k(9,S7,10,2,"div",20),s(),a(10,"div",21),k(11,Y7,19,9,"div",22),s()()),n&2){let e=p();u(4),h("ngIf",e.isTreated&&!e.isSigner()),u(),h("ngIf",e.isTreated&&(e.myPrestation==null?null:e.myPrestation.need_validation)&&(e.responseUA==null?null:e.responseUA.hasPermission)&&(e.selected_data==null?null:e.selected_data.status)!=5&&e.hasPermission("validation")),u(),h("ngIf",(e.myPrestation==null?null:e.myPrestation.need_validation)&&(e.selected_data==null?null:e.selected_data.status)==5),u(),h("ngIf",e.hasPermission("autorisation")&&!(e.selected_data!=null&&e.selected_data.isAutorized)&&e.isTreated&&!(e.myPrestation!=null&&e.myPrestation.need_validation)),u(),h("ngIf",e.hasPermission("autorisation")&&(e.selected_data==null?null:e.selected_data.isAutorized)&&e.isTreated&&!(e.myPrestation!=null&&e.myPrestation.need_validation)),u(),h("ngIf",(e.selected_data==null?null:e.selected_data.filename)!=null),u(2),h("ngIf",e.responseUA)}}function K7(n,t){n&1&&(a(0,"div",131)(1,"div",132)(2,"span",27),c(3,"Chargement..."),s()(),a(4,"p",133),c(5,"Chargement des donn\xE9es..."),s()())}function J7(n,t){n&1&&(a(0,"div",26)(1,"span",27),c(2,"Chargement..."),s()())}function X7(n,t){if(n&1){let e=S();a(0,"form",70,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div",134)(3,"h4",135),b(4,"i",32),c(5," Signer ce document "),s(),a(6,"button",136),v("click",function(){let r=f(e).$implicit;return g(r.dismiss())}),s()(),a(7,"div",137)(8,"div",71)(9,"label",46),b(10,"i",138),c(11," Saisissez votre mot de passe de d\xE9livrance "),s(),b(12,"input",139),s()(),a(13,"div",140)(14,"button",67),v("click",function(){let r=f(e).$implicit;return g(r.dismiss())}),c(15," Annuler "),s(),a(16,"button",141),b(17,"i",32),c(18," Signer "),k(19,J7,3,0,"div",25),s()()()}if(n&2){let e=E(1),i=p();u(16),h("disabled",e.invalid||i.loading),u(3),h("ngIf",i.loading)}}var sc=class n{constructor(t,e,i,r,o,l,d,m,_,x,w,I){this.activatedRoute=t;this.locService=e;this.requeteService=i;this.router=r;this.modalService=l;this.responseService=d;this.toastrService=m;this.affService=_;this._sanitizationService=x;this.uaService=w;this.prestationService=I;o.backdrop="static",o.keyboard=!1}pdfView;selected_data;user;selected_file;prestation;reload=!0;code;desc="";permissions=[];responseUA={hasPermission:null,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};isTreated=!1;loading=!1;fileUploaded;fileUploaded2;doc_path;btnShow="";transit=!1;currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];showPreview2=!1;showResponseFilePreview=!1;pdfSrc="https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf";editorConfig={editable:!0,spellcheck:!0,height:"500px",minHeight:"",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]};myPrestation;uas=[];contractFiles=[];storeResponseActionState=!1;genActionState=!1;transUpActionState=!1;needActionState=!1;rejetActionState=!1;selectedData={filename:"sample.pdf",status:1,isAutorized:!1};responseData={hasPermission:1,reason:"Demande conforme aux exigences",observation:"Tous les documents requis sont pr\xE9sents et valides.",note:"note-service.pdf"};currentDecision={hasPermission:-1};actionButtonsConfig={isTreated:!0,isSigner:!1,loading:!1,hasValidationPermission:!0,hasAuthorizationPermission:!0,needValidation:!0,isAuthorized:!1,status:1};showDecisionForm=!0;prestationName;responseUATreated={hasPermission:null,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};responseUaCode;ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation)?.prestation,this.responseUaCode=this.activatedRoute.snapshot.paramMap.get("isTreated"),console.log(this.myPrestation)}),this.getName(this.prestation),this.get(),this.getMyCollab()}getPrestation(){}showResponseFile(t){}get(){this.requeteService.get(this.code,this.prestation,this.myPrestation?.code).subscribe(t=>{if(this.selected_data=t.data,this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.getDetailsFiles(),this.selected_data.reponses.length!=0&&this.selected_data.reponses.length>0)if(this.responseUaCode==null){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user?.agent?.unite_admin?.id);e&&(console.log(e,"test ici"),this.isTreated=!0,this.responseUA=e,this.responseUA.hasPermission==1&&this.showFile2())}else{this.responseUATreated=this.selected_data.reponses.find(r=>r.unite_admin_id==this.responseUaCode),this.responseUA.motif=this.responseUATreated.motif;var e=this.selected_data.reponses.find(r=>r.unite_admin_id==this.user?.agent?.unite_admin?.id);e?(this.isTreated=!0,this.responseUA=e,this.responseUA.hasPermission==1&&this.showFile2()):this.responseUATreated.hasPermission==1&&this.showFile2()}this.prepareDesc(this.selected_data),this.genActionState&&(this.showFile2(),this.genActionState=!1),this.needActionState=!1,this.rejetActionState=!1},t=>{})}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}storeResponse(t){this.loading=!0,this.responseUA.unite_admin_id=this.user?.agent?.unite_admin?.id,this.responseUA.requete_id=this.selected_data.id;var e=new FormData;e.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&e.append("file",this.fileUploaded),this.fileUploaded2!=null&&e.append("filename",this.fileUploaded2),e.append("requete_id",JSON.stringify(this.selected_data.id)),this.prestation=="autorisation-de-stage"&&(e.append("structure",t.structure),e.append("service",t.service),e.append("date_start",t.date_start),e.append("date_end",t.date_end)),this.prestation=="attestation-de-presence-au-poste"&&(e.append("status",t.status),e.append("sex",t.sex),e.append("corporate",t.corporate),e.append("category",t.category),e.append("scale",t.scale),e.append("level",t.level),e.append("birthday",t.birthday),e.append("birthplace",t.birthplace)),e.append("prestation",this.prestation),this.requeteService.storeResponse(e).subscribe(i=>{this.genActionState?this.deliveryrDoc():this.needActionState?this.needCorrection():this.rejetActionState?this.decline():this.transUpActionState?this.transUp():(this.toastrService.success("Avis","Votre avis a \xE9t\xE9 sauvegard\xE9"),this.get(),this.pdfView.nativeElement.scrollIntoView(),this.loading=!1)},i=>{this.toastrService.error("Veuillez contactee l'administrateur")})}upload(t){t.target.files.length>0&&(this.fileUploaded=t.target.files[0])}upload2(t,e,i){if(t.target.files.length>0){this.fileUploaded2=t.target.files[0];let r=new FormData;r.append("file",this.fileUploaded2),r.append("code",this.selected_data.code),r.append("index",e),r.append("name",e),this.requeteService.addContratFile(r).subscribe(o=>{this.contractFiles[e].has_contract=!0,this.contractFiles[e].file.file=o.data})}}openContract(t){window.open(j.toFile("docs/responses/"+t),"_blank")}back(){this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}open(t){this.modalService.open(t)}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.reload=!1,pe.confirmBox("Voulez vous vraiment mettre en attente pour compl\xE9ment d'information cet enregistrement ?").then(e=>{e.isConfirmed&&this.responseService.correction({requete_id:this.selected_data.id,commentaire:this.responseUA.motif}).subscribe(i=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation+"/"+this.code]),this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 suspendu avec succ\xE8s`)},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})})}decline(t){pe.confirmBox("Voulez vous vraiment rejeter cette demande ?").then(e=>{this.toastrService.info("Annulation en cours"),this.reload=!1,e.isConfirmed&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:this.responseUA.motif}).subscribe(i=>{this.loading=!1,this.selected_data=null,this.toastrService.info("Demandes rejet\xE9es"),this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success(`La demande de code ${this.selected_data.code} a \xE9t\xE9 rejet\xE9e avec succ\xE8s`)},i=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}btnChange(t){this.responseUaCode!=null&&t.target.value==1&&(this.responseUA.reason=this.responseUATreated.reason),console.log(this.btnShow)}tansUpStart(t){pe.confirmBox("Voulez vous vraiment transmettre cette demande ?").then(e=>{e.isConfirmed&&(this.transit=!0)})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.loading=!0,this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user?.agent?.unite_admin?.id,sens:-1}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation+"/"+this.myPrestation?.code]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e","Veuillez contactee l'administrateur")})}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.selected_data.content!=null?this.desc=this.selected_data.content:this.desc=i.desc(e))}}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(this.selected_data.filename),this.showPreview2=!0}deliveryrDoc(){this.loading=!0;var t=new FormData;t.append("content",this.desc),t.append("currentDescId",this.currentDescId),this.fileUploaded&&t.append("file",this.fileUploaded),t.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(t).subscribe(e=>{var i=this.selected_data.reponses.find(o=>o.unite_admin_id==this.user?.agent?.unite_admin?.id);i>=0&&(this.selected_data.reponses[i]=e),this.toastrService.success("Avis","Votre avis a \xE9t\xE9 sauvegard\xE9 et le document mis \xE0 jour"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.get(),this.pdfView.nativeElement.scrollIntoView()},e=>{this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}back2(){this.showPreview2=!1,this.showResponseFilePreview=!1}delivered(){this.toastrService.success("Autorisation en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-signature/"+this.prestation+"/"+this.myPrestation?.code]),this.toastrService.success(`L'attestaion issue de la demande ${this.selected_data.code} a \xE9t\xE9 envoy\xE9ee avec succ\xE8s`)},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")})}authorized(t){this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")})}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}getDecision(t){switch(t){case 0:return"D\xE9favorable";case 1:return"Favorable";case 2:return"Mise en attente";default:return""}}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}isSigner(){return this.myPrestation?.signer==this.user?.agent?.unite_admin?.id}getDetailsFiles(){this.selected_data.details&&(this.contractFiles=JSON.parse(this.selected_data.details).list)}stepAction(t){console.log(t),this.loading=!0,this.toastrService.info("Op\xE9ration en cours","Info"),this.responseUA.hasPermission==1&&!this.isTreated?(this.myPrestation?.content_type==0&&this.selected_data.content!=this.desc?this.genActionState=!0:this.myPrestation?.content_type==2&&this.selected_data.file==null&&this.myPrestation?.from_pns&&(this.genActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==1&&this.isTreated?(this.myPrestation?.content_type==0&&this.selected_data.content!=this.desc?this.genActionState=!0:this.myPrestation?.content_type==2&&this.selected_data.file==null&&this.myPrestation?.from_pns&&(this.genActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==2?(this.hasPermission("suspension")&&(this.needActionState=!0),this.storeResponse(t)):this.responseUA.hasPermission==0&&(this.hasPermission("rejet")?this.rejetActionState=!0:this.transUpActionState=!0,this.storeResponse(t)),this.loading=!1}getText(){return this.responseUA.hasPermission==1&&!this.isSigner()&&!this.isTreated?"Enregistrer mon avis":this.responseUA.hasPermission==1&&!this.isSigner()&&this.isTreated?"Modifier mon avis":(this.responseUA.hasPermission==1||this.responseUA.hasPermission==0||this.responseUA.hasPermission==2)&&this.isSigner()?"Confirmer ma d\xE9cision finale":this.responseUA.hasPermission==2&&!this.isSigner()&&this.hasPermission("suspension")?"Mettre en attente la demande":this.responseUA.hasPermission==2&&!this.isSigner()&&!this.hasPermission("suspension")?"Soumettre mon avis":this.responseUA.hasPermission==0&&!this.isSigner()&&this.hasPermission("rejet")?"Rejeter la demande":this.responseUA.hasPermission==0&&!this.isSigner()&&!this.hasPermission("rejet")?"Soumettre mon avis":"Soumettre"}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Et),T(Be),T(ut),T(fe),T(Ht),T(de),T(Ut),T(Ct),T(Pn),T(An))};static \u0275cmp=G({type:n,selectors:[["ngx-eservice-traitement-edit"]],viewQuery:function(e,i){if(e&1&&gt(g7,5),e&2){let r;ze(r=Ue())&&(i.pdfView=r.first)}},standalone:!0,features:[J],decls:10,vars:2,consts:[["dialogAffectation",""],["pdfView",""],["addResponse","ngForm"],["addRejet","ngForm"],["addSusp","ngForm"],["addInstruction","ngForm"],[1,"container","mb-4"],[1,"d-flex","justify-content-end"],[1,"btn","btn-dark",3,"click"],[1,"bi","bi-arrow-left","me-2"],[1,"container-fluid"],[4,"ngIf"],["class","text-center py-5",4,"ngIf"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"d-flex","flex-wrap","justify-content-center","gap-3","align-items-center"],["type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","card-body p-0",4,"ngIf"],[1,"container","mt-4"],["class","card shadow-sm",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-send","me-2"],["class","spinner-border spinner-border-sm ms-2","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","ms-2"],[1,"visually-hidden"],["type","button","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",1,"btn","btn-success",3,"click"],[1,"bi","bi-check-circle","me-2"],[1,"bi","bi-check-square","me-2"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-pen","me-2"],[1,"btn","btn-success",3,"click","disabled"],[1,"bi","bi-file-earmark-check","me-2"],[1,"card-body","p-0"],[1,"pdf-viewer"],["type","application/pdf","width","100%","height","800px",3,"data"],[1,"text-center","p-4"],[1,"bi","bi-file-earmark-pdf","text-danger",2,"font-size","3rem"],["target","_blank",1,"btn","btn-primary","btn-sm","mt-2",3,"href"],[1,"card-body"],["class","mb-5",4,"ngIf"],[1,"text-primary","mb-4"],[1,"bi","bi-clipboard-check","me-2"],[1,"form-group","mb-4"],[1,"form-label","fw-semibold"],["name","hasPermission",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngIf"],[3,"value"],[1,"mb-5"],[1,"bi","bi-person-check","me-2"],[1,"row","g-4"],[1,"col-md-6"],[1,"info-card"],[1,"fw-bold","text-secondary","mb-2"],[1,"fs-5"],[1,"me-2"],["class","col-12",4,"ngIf"],[1,"d-flex","gap-3","mt-4"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","card mt-4",4,"ngIf"],[1,"col-12"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-file-earmark-text","me-2"],[1,"card","mt-4"],[1,"card-header","text-center","bg-light"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-x-lg","me-2"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],[1,"form-group"],["rows","3","name","reason","placeholder","Saisissez votre note...",1,"form-control",3,"ngModelChange","ngModel"],["rows","5","name","observation","placeholder","Saisissez votre observation d\xE9taill\xE9e...",1,"form-control",3,"ngModelChange","ngModel"],["class","mt-4",4,"ngIf"],[1,"form-group","mt-4"],[1,"bi","bi-paperclip","me-2"],["type","file",1,"form-control",3,"change"],["class","form-group text-center mt-4",4,"ngIf"],["class","alert alert-info text-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","mt-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"mt-4"],[1,"text-info","mb-3"],[1,"bi","bi-info-circle","me-2"],[1,"row","g-3"],[1,"form-label"],["type","text","required","","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","required","","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["required","","name","status",1,"form-control",3,"ngModelChange","ngModel"],["value","Fontionnaire"],["value","ACE"],["type","date","name","birthday",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","birthplace",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["required","","name","sex",1,"form-control",3,"ngModelChange","ngModel"],["value","Monsieur"],["value","Madame"],["type","text","name","corporate",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","function",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","category",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","scale",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","level",1,"form-control",3,"ngModelChange","ngModel"],[1,"bg-info","p-2","text-white","rounded","mb-3"],[1,"bi","bi-file-earmark-contract","me-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"card"],[1,"card-title"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"bi","bi-file-earmark","me-2"],[1,"alert","alert-info"],[1,"alert-heading"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"form-group","text-center","mt-4"],["rows","10","name","desc","placeholder","Saisissez le contenu du document...",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-info","text-center","mt-4"],[1,"text-info"],[1,"mb-0"],[1,"alert","alert-warning"],[1,"bi","bi-upload","me-2"],["type","file","accept","application/pdf",1,"form-control","mt-2",3,"change"],[1,"alert","alert-danger"],[1,"bi","bi-x-circle","me-2"],[1,"form-group","mt-3"],["name","commentaire","rows","4","required","","placeholder","Expliquez les raisons du rejet...",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"bi","bi-pause-circle","me-2"],["name","commentaire","rows","4","required","","placeholder","Expliquez les raisons de la mise en attente...",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-warning",3,"disabled"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary",2,"width","3rem","height","3rem"],[1,"mt-3","text-muted"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"bi","bi-key","me-2"],["name","password","type","password","required","","ngModel","","placeholder","Mot de passe s\xE9curis\xE9",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,i){if(e&1){let r=S();a(0,"div",6)(1,"div",7)(2,"button",8),v("click",function(){return f(r),g(i.back())}),b(3,"i",9),c(4," Retourner aux d\xE9tails de la demande "),s()()(),a(5,"div",10),k(6,Q7,12,7,"div",11)(7,K7,6,0,"div",12),s(),k(8,X7,20,2,"ng-template",null,0,B)}e&2&&(u(6),h("ngIf",i.selectedData),u(),h("ngIf",!i.selectedData))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,me,xe,Oe,he,Ce,Ee,ke,Te,Me,hm],styles:[".btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);border-color:var(--primary-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#083056;border-color:#083056}.btn-warning[_ngcontent-%COMP%]{background-color:var(--warning-color);border-color:var(--warning-color);color:var(--dark-color)}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e6bc3d;border-color:#e6bc3d;color:var(--dark-color)}.btn-success[_ngcontent-%COMP%]{background-color:var(--success-color);border-color:var(--success-color)}.btn-success[_ngcontent-%COMP%]:hover{background-color:#1a7538;border-color:#1a7538}.btn-danger[_ngcontent-%COMP%]{background-color:var(--danger-color);border-color:var(--danger-color)}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#d40000;border-color:#d40000}.text-primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.bg-primary[_ngcontent-%COMP%]{background-color:var(--primary-color)!important}.bg-info[_ngcontent-%COMP%]{background-color:var(--info-color)!important}.text-info[_ngcontent-%COMP%]{color:var(--info-color)!important}.alert-info[_ngcontent-%COMP%]{background-color:#0dcaf01a;border-color:var(--info-color);color:var(--dark-color)}.alert-warning[_ngcontent-%COMP%]{background-color:#fcd3431a;border-color:var(--warning-color);color:var(--dark-color)}.alert-danger[_ngcontent-%COMP%]{background-color:#eb00001a;border-color:var(--danger-color);color:var(--dark-color)}.pdf-viewer[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:.375rem;overflow:hidden}.info-card[_ngcontent-%COMP%]{background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:.375rem;padding:1rem;transition:all .2s ease}.info-card[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.card[_ngcontent-%COMP%]{border-radius:.5rem;box-shadow:0 .125rem .25rem #00000013;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem 1rem #00000026}.card-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.125);background-color:#00000008}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--dark-color);margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]{border-radius:.375rem;border:1px solid #ced4da;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .2rem #0a376440}.form-select[_ngcontent-%COMP%]{border-radius:.375rem;border:1px solid #ced4da;transition:all .2s ease}.form-select[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 .2rem #0a376440}.btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;transition:all .2s ease;display:inline-flex;align-items:center}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.btn-lg[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.1rem}.alert[_ngcontent-%COMP%]{border-radius:.5rem;border-width:1px;border-left-width:4px}.alert-heading[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.125)}.modal-footer[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.125)}fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}legend[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:1rem;border-radius:.375rem;display:inline-flex;align-items:center;padding:.5rem 1rem}.spinner-border[_ngcontent-%COMP%]{border-width:.2em}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.15em}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.pdf-viewer[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{height:400px!important}.row.g-3[_ngcontent-%COMP%] > .col-md-6[_ngcontent-%COMP%], .row.g-3[_ngcontent-%COMP%] > .col-md-4[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.card-body[_ngcontent-%COMP%]{padding:1rem}.pdf-viewer[_ngcontent-%COMP%]   object[_ngcontent-%COMP%]{height:300px!important}}.info-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{transition:all .2s cubic-bezier(.4,0,.2,1)}dt[_ngcontent-%COMP%]{font-weight:600;color:var(--secondary-color)}dd[_ngcontent-%COMP%]{color:var(--dark-color);margin-bottom:0}.bi[_ngcontent-%COMP%]{font-size:1rem;vertical-align:-.125em}.gap-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.75rem;margin-bottom:.75rem}.gap-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}.text-success[_ngcontent-%COMP%]{color:var(--success-color)!important}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)!important}.text-warning[_ngcontent-%COMP%]{color:var(--warning-color)!important}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.alert-heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2em}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.py-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}"]})};function Z7(n,t){if(n&1){let e=S();a(0,"button",8),v("click",function(){f(e);let r=p();return g(r.showFile2())}),c(1,"Visualiser le document"),s()}}function e8(n,t){n&1&&b(0,"i",28)}function t8(n,t){if(n&1&&(a(0,"li")(1,"strong",26),c(2),s(),k(3,e8,1,0,"i",27),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function i8(n,t){if(n&1){let e=S();a(0,"div",18)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,t8,4,2,"li",19),s(),a(5,"div",20)(6,"label",21),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",22),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",23),c(10,"Lettre d'acception"),s(),a(11,"option",24),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",25),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function n8(n,t){if(n&1){let e=S();a(0,"div",29)(1,"angular-editor",30),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.desc,r)||(o.desc=r),g(r)}),s()()}if(n&2){let e=p(2);u(),h("placeholder","Enter text here..."),V("ngModel",e.desc),h("config",e.editorConfig)}}function r8(n,t){n&1&&(a(0,"p",31),c(1,"Pas de contenu \xE0 \xE9diter pour cette prestation, Vous pouvez prod\xE9der \xE0 la g\xE9n\xE9ration du document"),s())}function o8(n,t){if(n&1&&(a(0,"button",32),c(1,"G\xE9n\xE9rer le document "),b(2,"app-loading",33),s()),n&2){p();let e=E(4),i=p();h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function a8(n,t){if(n&1){let e=S();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"form",12,1),v("ngSubmit",function(){f(e);let r=E(4),o=p();return g(o.deliveryrDoc(r.value))}),a(5,"div")(6,"div",13),k(7,i8,15,1,"div",14)(8,n8,2,3,"div",15)(9,r8,2,0,"p",16),s(),a(10,"div"),k(11,o8,3,2,"button",17),s()()()()()()}if(n&2){let e=p();u(7),h("ngIf",e.prestation=="autorisation-de-stage"),u(),h("ngIf",e.myPrestation.content_type==0&&e.isTreated),u(),h("ngIf",e.myPrestation.content_type==2&&e.isTreated),u(2),h("ngIf",e.isTreated)}}function s8(n,t){if(n&1){let e=S();a(0,"button",39),v("click",function(){f(e);let r=p(2),o=E(7);return g(r.open(o))}),c(1,"Signer l'attestation"),s()}}function l8(n,t){if(n&1){let e=S();a(0,"button",39),v("click",function(){f(e);let r=p(2);return g(r.delivered())}),c(1,"D\xE9livrer l'attestation"),s()}}function c8(n,t){if(n&1){let e=S();a(0,"div",34)(1,"div")(2,"div")(3,"div",35)(4,"button",36),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),k(6,s8,2,0,"button",37)(7,l8,2,0,"button",37),s()(),a(8,"div"),b(9,"object",38),s()()()}if(n&2){let e=p();u(6),h("ngIf",e.hasPermission("autorisation")&&!e.selected_data.isAutorized&&e.isSigner()),u(),h("ngIf",e.hasPermission("autorisation")&&e.selected_data.isAutorized&&e.isSigner()),u(2),h("data",e.pdfSrc,xt)}}function d8(n,t){if(n&1){let e=S();a(0,"form",12,2),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div",40)(3,"h4",41),c(4,"Signer ce document"),s(),a(5,"button",42),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",43),s()(),a(7,"div",44)(8,"div",20)(9,"label",21),c(10,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(11,"input",45),s()(),a(12,"div",46)(13,"button",32),c(14,"Signer "),b(15,"app-loading",33),s()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}var fm=class n{constructor(t,e,i,r,o,l,d,m,_,x){this.activatedRoute=t;this.locService=e;this.requeteService=i;this._sanitizationService=r;this.router=o;this.toastrService=l;this.affService=d;this.responseService=m;this.modalService=x;_.backdrop="static",_.keyboard=!1}selected_data;currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;user;selected_file;prestation;code;permissions=[];desc="";doc_path;showPreview2=!1;pdfSrc;prestationName;myPrestation;isTreated=!1;editorConfig={editable:!0,spellcheck:!0,height:"500px",minHeight:"",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]};ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation}),this.selected_data=this.locService.get("selected_data"),this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.prepareDesc(this.selected_data),this.getName(this.prestation),this.get()}get(){this.requeteService.get(this.code,this.prestation).subscribe(t=>{if(this.selected_data=t.data,this.selected_data.reponses.length!=0&&this.selected_data.reponses.length>0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e?this.isTreated=!0:(this.user.roles[0].name="Directeur")&&(this.isTreated=!0)}},t=>{})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(i=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}prepareDesc(t){if(this.selected_data?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}back(){this.showPreview2=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.success("Autorisation en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success(`L'attestaion issue de la demande ${this.selected_data.code} a \xE9t\xE9 envoy\xE9ee avec succ\xE8s`)},t=>{this.selected_data=null,this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}isSigner(){return this.myPrestation.signer2.id==this.user.agent.unite_admin.id}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Et),T(Ct),T(Be),T(de),T(Ut),T(Ht),T(ut),T(fe))};static \u0275cmp=G({type:n,selectors:[["ngx-eservice-traitement-generator"]],standalone:!0,features:[J],decls:8,vars:3,consts:[["dialogAffectation",""],["addAttestation","ngForm"],["addInstruction","ngForm"],[1,"d-flex","justify-content-end","p-3"],[1,"btn","btn-sm","btn-dark","mx-1",3,"click"],["class","btn btn-sm btn-primary mx-1",3,"click",4,"ngIf"],["class","container p-3",4,"ngIf"],["class","container",4,"ngIf"],[1,"btn","btn-sm","btn-primary","mx-1",3,"click"],[1,"container","p-3"],[1,"card"],[1,"card-body"],[3,"ngSubmit"],[1,"p-3"],["class","",4,"ngIf"],["class","form-group text-center",4,"ngIf"],["class","h4 text-center text-info p-5",4,"ngIf"],["type","submit","class","btn btn-outline-primary",3,"disabled",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-group"],["for",""],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[1,"form-group","text-center"],["name","desc",3,"ngModelChange","placeholder","ngModel","config"],[1,"h4","text-center","text-info","p-5"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["class","btn btn-outline-success mb-3 ",3,"click",4,"ngIf"],["type","application/pdf","width","100%","height","600px",3,"data"],[1,"btn","btn-outline-success","mb-3",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],["name","password","type","password","required","","ngModel","",1,"form-control"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"div",3)(1,"button",4),v("click",function(){return f(r),g(i.back2())}),c(2,"Retour"),s(),k(3,Z7,2,0,"button",5),s(),k(4,a8,12,4,"div",6)(5,c8,10,3,"div",7)(6,d8,16,2,"ng-template",null,0,B)}e&2&&(u(3),h("ngIf",i.selected_data!=null&&i.selected_data.filename!=null),u(),h("ngIf",!i.showPreview2),u(),h("ngIf",i.showPreview2))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,me,xe,Oe,he,Ce,Ee,Ae,ke,Te,Me,hm,OS]})};var u8=["pdfView"];function m8(n,t){n&1&&(a(0,"div")(1,"button",20),b(2,"i",21),c(3," Cr\xE9er un rendez-vous "),s()())}function p8(n,t){if(n&1){let e=S();a(0,"button",22),v("click",function(){f(e);let r=p(),o=E(18);return g(r.open(o))}),b(1,"i",23),c(2),s()}if(n&2){let e=p();u(2),K(" ",e.isTreated&&!e.isMyTreated?"Retourner pour correction":"Affecter"," ")}}function h8(n,t){if(n&1){let e=S();a(0,"button",24),v("click",function(){f(e);let r=p();return g(r.open2())}),b(1,"i",25),c(2," Traiter la demande "),s()}}function f8(n,t){if(n&1){let e=S();a(0,"button",26),v("click",function(){f(e);let r=p();return g(r.open2())}),b(1,"i",25),c(2),s()}if(n&2){let e=p();u(2),K(" ",e.isMyTreated?"Modifier mon avis":"Voir la r\xE9ponse du collaborateur"," ")}}function g8(n,t){if(n&1){let e=S();a(0,"button",27),v("click",function(){f(e);let r=p();return g(r.transUp())}),b(1,"i",28),c(2," Transmettre au sup\xE9rieur "),s()}}function _8(n,t){if(n&1){let e=S();a(0,"button",29),v("click",function(){f(e);let r=p();return g(r.validate())}),b(1,"i",28),c(2," Valider provisoirement "),s()}}function b8(n,t){if(n&1){let e=S();a(0,"button",30),v("click",function(){f(e);let r=p();return g(r.sendReachedAgreement())}),b(1,"i",31),c(2," Suspendre pour accord "),s()}}function v8(n,t){if(n&1&&(a(0,"div",43)(1,"div",44),b(2,"i",45),a(3,"div")(4,"p",46)(5,"strong"),c(6,"Instruction :"),s(),c(7),s(),a(8,"p",47)(9,"strong"),c(10,"Pour au plus tard, le"),s(),c(11),s()()()()),n&2){let e=p(2);u(7),K(" ",e.selected_data==null||e.selected_data.affectation==null?null:e.selected_data.affectation.instruction,""),u(4),K(" ",e.selected_data.affectation==null?null:e.selected_data.affectation.delay,"")}}function y8(n,t){if(n&1&&(a(0,"div",51)(1,"div",52)(2,"dt",53),b(3,"i",48),c(4),s(),a(5,"dd",54),c(6),s()()()),n&2){let e=t.$implicit;u(4),K(" ",e.key," "),u(2),L(e.value)}}function x8(n,t){if(n&1&&(a(0,"fieldset",36)(1,"legend",37),b(2,"i",48),c(3),s(),a(4,"div",49),k(5,y8,7,2,"div",50),ee(6,"keyvalue"),s()()),n&2){let e=t.$implicit;u(3),K(" ",e.title," "),u(2),h("ngForOf",Uc(6,2,e.content))}}function w8(n,t){if(n&1){let e=S();a(0,"div",55)(1,"div",56)(2,"div",57)(3,"dt",58),b(4,"i",59),c(5),s(),a(6,"dd",60)(7,"button",61),v("click",function(){let r=f(e).$implicit,o=p(2);return g(o.showFile(r))}),b(8,"i",62),c(9," Voir fichier "),s()()()()()}if(n&2){let e=t.$implicit;u(5),K(" ",e.name," ")}}function C8(n,t){if(n&1){let e=S();a(0,"button",75),v("click",function(){f(e);let r=p().$implicit,o=p(2);return g(o.showResponseFile(r.note))}),b(1,"i",76),c(2," Voir la note de service "),s()}}function S8(n,t){if(n&1){let e=S();a(0,"button",75),v("click",function(){f(e);let r=p().$implicit,o=p(2);return g(o.showResponseFile(r.preview_file))}),b(1,"i",76),c(2," Voir le prototype livrable "),s()}}function E8(n,t){if(n&1&&(a(0,"div",63)(1,"div",64)(2,"div",65)(3,"div",66)(4,"span",67),c(5),s(),a(6,"h5",68),c(7),s()(),a(8,"div",69)(9,"h6",46)(10,"strong",70),c(11,"Accord :"),s(),a(12,"span",71),c(13),s()(),a(14,"div",69)(15,"strong",70),c(16,"Argumentaire :"),s(),a(17,"p",72),c(18),s()(),a(19,"div",69)(20,"strong",70),c(21,"Observation :"),s(),a(22,"p",72),c(23),s()()(),a(24,"div",73),k(25,C8,3,0,"button",74)(26,S8,3,0,"button",74),s()()()()),n&2){let e=t.$implicit,i=p(2);u(4),h("ngClass",i.getDecisionClass(e.hasPermission)),u(),K(" ",i.getDecisionIcon(e.hasPermission)," "),u(2),L(e.unite_admin.libelle),u(5),h("ngClass",i.getDecisionClass(e.hasPermission)),u(),K(" ",i.getDecision(e.hasPermission)," "),u(5),L(e.reason),u(5),L(e.observation),u(2),h("ngIf",e.note!=null),u(),h("ngIf",e.preview_file!=null)}}function k8(n,t){if(n&1&&(a(0,"div",32)(1,"div",33),c(2,"D\xE9tails de la demande"),s(),k(3,v8,12,2,"div",34)(4,x8,7,4,"fieldset",35),a(5,"fieldset",36)(6,"legend",37),b(7,"i",38),c(8," Pi\xE8ces jointes "),s(),a(9,"div",39),k(10,w8,10,1,"div",40),s()(),a(11,"fieldset")(12,"legend",37),b(13,"i",41),c(14," Historique des avis "),s(),a(15,"div",39),k(16,E8,27,9,"div",42),s()()()),n&2){let e=p();u(3),h("ngIf",(e.selected_data==null||e.selected_data.affectation==null?null:e.selected_data.affectation.instruction)!=null),u(),h("ngForOf",e.stepContents),u(6),h("ngForOf",e.selected_data==null?null:e.selected_data.files),u(6),h("ngForOf",e.selected_data.reponses)}}function T8(n,t){n&1&&b(0,"div")}function M8(n,t){if(n&1&&(kt(0),k(1,T8,1,0,"div",10),Tt()),n&2){let e=p();u(),h("ngIf",!e.showPreview2&&!e.showPreview)}}function I8(n,t){n&1&&(a(0,"div",77),b(1,"img",78),s())}function D8(n,t){if(n&1&&(a(0,"option",94),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function A8(n,t){if(n&1){let e=S();a(0,"form",79,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.transDown(r.value))}),a(2,"div",80)(3,"h4",81),c(4),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",83),s()(),a(7,"div",84)(8,"div")(9,"div",85)(10,"label",86),c(11,"Choisir un collaborateur"),s(),a(12,"select",87),k(13,D8,2,2,"option",88),s()(),a(14,"div",85)(15,"label",86),c(16,"Laissez une instruction"),s(),b(17,"textarea",89),s(),a(18,"div",85)(19,"label",86),c(20,"Pour au plus tard, le "),s(),b(21,"input",90),s()()(),a(22,"div",91)(23,"button",92),c(24,"Sauvegarder "),b(25,"app-loading",93),s()()()}if(n&2){let e=E(1),i=p();u(4),K(" ",i.isTreated&&!i.isMyTreated?"Retour pour correction":"Affecter la demande"," "),u(9),h("ngForOf",i.uas),u(10),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function P8(n,t){if(n&1){let e=S();a(0,"div",95)(1,"div")(2,"div")(3,"div",96)(4,"button",97),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),b(7,"object",98),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function O8(n,t){if(n&1){let e=S();a(0,"form",79,6),v("ngSubmit",function(){f(e);let r=p();return g(r.storeAmend())}),a(2,"div",80)(3,"h4",81),c(4,"Observation sur pi\xE8ce analys\xE9e"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"observation"),s(),a(11,"textarea",99),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),b(15,"app-loading",93),s()()()}if(n&2){let e=E(1),i=p();u(11),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function R8(n,t){if(n&1){let e=S();a(0,"form",79,7),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.decline(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Rejet de la demande"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Laissez le motif"),s(),b(11,"textarea",100),s()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),b(15,"app-loading",93),s()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function V8(n,t){if(n&1){let e=S();a(0,"form",79,8),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.needCorrection(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Suspension de la demande"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Laissez le motif"),s(),b(11,"textarea",100),s()(),a(12,"div",91)(13,"button",92),c(14,"Sauvegarder "),b(15,"app-loading",93),s()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function F8(n,t){if(n&1){let e=S();a(0,"button",102),v("click",function(){f(e);let r=p(2),o=E(28);return g(r.open(o))}),c(1,"Signer l'attestation / D\xE9livrer mon visa"),s()}if(n&2){let e=p(2);h("disabled",e.loading)}}function N8(n,t){if(n&1){let e=S();a(0,"button",102),v("click",function(){f(e);let r=p(2);return g(r.delivered())}),c(1,"D\xE9livrer l'attestation / D\xE9livrer le document final"),s()}if(n&2){let e=p(2);h("disabled",e.loading)}}function L8(n,t){if(n&1){let e=S();a(0,"div",95)(1,"div")(2,"div")(3,"div",96)(4,"button",97),v("click",function(){f(e);let r=p();return g(r.back3())}),c(5,"Fermer le visualiseur"),s(),k(6,F8,2,1,"button",101)(7,N8,2,1,"button",101),s()(),a(8,"div"),b(9,"object",98),s()()()}if(n&2){let e=p();u(6),h("ngIf",e.hasPermission("autorisation")&&!(e.selected_data!=null&&e.selected_data.isAutorized)&&e.isSigner()&&(e.selected_data==null?null:e.selected_data.status)!=7),u(),h("ngIf",e.hasPermission("autorisation")&&(e.selected_data==null?null:e.selected_data.isAutorized)&&e.isSigner()&&(e.selected_data==null?null:e.selected_data.status)!=7),u(2),h("data",e.pdfSrc,xt)}}function B8(n,t){if(n&1){let e=S();a(0,"form",79,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div",80)(3,"h4",81),c(4,"Signer ce document"),s(),a(5,"button",82),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",83),s()(),a(7,"div",84)(8,"div",85)(9,"label",86),c(10,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(11,"input",103),s()(),a(12,"div",91)(13,"button",92),c(14,"Signer "),b(15,"app-loading",93),s()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}var gm=class n{constructor(t,e,i,r,o,l,d,m,_,x,w,I){this.activatedRoute=t;this.locService=e;this.requeteService=i;this._sanitizationService=r;this.router=o;this._location=l;this.toastrService=d;this.uaService=m;this.affService=_;this.responseService=x;this.modalService=I;w.backdrop="static",w.keyboard=!1}pdfView;selected_data;user;selected_file;myPrestation;code;fileUploaded;prestationName;permissions=[];doc_path;showPreview2=!1;showPreview=!1;showResponseFilePreview=!1;pdfSrc;activeobsPanel=!1;observation;stepContents=[];currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;uas=[];responseUA={hasPermission:!0,reason:"",motif:"",observation:"",unite_admin_id:"",requete_id:"",note:null,preview_file:null};isTreated=!1;isMyTreated=!1;prestation="autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.fileUploaded=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,console.log(this.myPrestation),this.getName(this.prestation)}),this.locService.remove("curreent_response"),this.get(),this.getMyCollab()}getName(t){let e=it.find(i=>i.code==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}get(){this.requeteService.get(this.code,this.prestation,this.myPrestation.code).subscribe(t=>{this.modalService.dismissAll(),this.selected_data=t.data,this.stepContents=t.data?.step_contents,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin.ua_parent_code==this.user.agent?.unite_admin?.id),console.log("orceeeeeeeeeee",this.responseUA,this.user.agent?.unite_admin?.id)))},t=>{})}showFile(t){var e=t.url;window.open(e,"_blank")}showFileContract(t){window.open(t,"_blank")}showResponseFile(t){this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showResponseFilePreview=!0,this.showPreview=!0}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}open2(){this.locService.set("selected_data",this.selected_data),this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}open3(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){if(this.user.roles[0].name!="Directeur"){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.router.navigate(["admin/eservice/espace-traitement-generation-doc/"+this.selected_data.code+"/"+this.prestation])}transDown(t){let e=mn(new Date,"yyyy-MM-dd","en_US"),i=mn(t.delay,"yyyy-MM-dd","en_US"),r=new Date(t.delay).getDay();if(i<e){this.toastrService.error("Veuillez choisir une date ult\xE9rieure ");return}if(r===6||r===0){this.toastrService.error("Veuillez choisir une date de jour ouvr\xE9 ");return}this.modalService.dismissAll(),pe.confirmBox("Voulez vous vraiment affecter/retourner cet enregistrement ?").then(o=>{o.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent?.unite_admin?.id,unite_admin_down_id:t.ua_down_id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(l=>{this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s`),this.router.navigate(["/admin/eservice/espace-traitement/"+this.prestation])},l=>{this.toastrService.error("Veuillez contactee l'administrateur")}))})}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},e=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.selected_data=null},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent?.unite_admin?.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}pe.confirmBox("Voulez vous vraiment transmettre cet enregistrement ?").then(e=>{e.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent?.unite_admin?.id,sens:-1}).subscribe(i=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},i=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}decline(t){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},e=>{this.loading=!1}))}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeAmend(){this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,this.locService.set("curreent_response",this.responseUA.toString()),this.activeobsPanel=!0}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent?.unite_admin?.id);e&&(this.responseUA=e)}}back(){this.showPreview=!1,this.showResponseFilePreview=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.info("Documen en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.selected_data=null,this.loading=!1}))}back3(){this.showPreview2=!1}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t.data,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(i=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contacter l'administrateur")}))}isSigner(){return this.myPrestation?.signer2?.id==this.user.agent?.unite_admin?.id}getDecision(t){return t?"Favorable":"D\xE9favorable"}getDecisionClass(t){return t?"text-success":"text-danger"}getDecisionIcon(t){return t?"\u2713":"\u2717"}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Et),T(Ct),T(Be),T(yr),T(de),T(Pn),T(Ut),T(Ht),T(ut),T(fe))};static \u0275cmp=G({type:n,selectors:[["ngx-eservice-traitement-show"]],viewQuery:function(e,i){if(e&1&&gt(u8,5),e&2){let r;ze(r=Ue())&&(i.pdfView=r.first)}},standalone:!0,features:[vt([ut,fe]),J],decls:29,vars:12,consts:[["dialogAffectation",""],["contentTemplateAmendement",""],["dialogRejet",""],["dialogSuspension",""],["dialogSign",""],["addInstruction","ngForm"],["addAmend","ngForm"],["addRejet","ngForm"],["addSusp","ngForm"],[1,"d-flex","justify-content-between","mb-5","flex-wrap","gap-2"],[4,"ngIf"],["class","btn btn-primary","data-bs-toggle","tooltip","data-bs-placement","top","title","Affecter cette demande",3,"click",4,"ngIf"],["class","btn btn-warning","data-bs-toggle","tooltip","data-bs-placement","top","title","Traiter la demande",3,"click",4,"ngIf"],["class","btn btn-warning","data-bs-toggle","tooltip","data-bs-placement","top","title","Editer un projet de r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Transmettre au sup\xE9rieur",3,"click",4,"ngIf"],["class","btn btn-success","data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",3,"click",4,"ngIf"],["class","btn btn-info","data-bs-toggle","tooltip","data-bs-placement","top","title","Suspendre pour accord \xE0 l'amiable",3,"click",4,"ngIf"],["class","card card-body",4,"ngIf"],["class","text-center",4,"ngIf"],["class","container",4,"ngIf"],["type","button",1,"btn","btn-dark","text-white"],[1,"bi","bi-calendar","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Affecter cette demande",1,"btn","btn-primary",3,"click"],[1,"bi","bi-arrow-down-right","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Traiter la demande",1,"btn","btn-warning",3,"click"],[1,"bi","bi-pencil","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Editer un projet de r\xE9ponse",1,"btn","btn-warning",3,"click"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Transmettre au sup\xE9rieur",1,"btn","btn-success",3,"click"],[1,"bi","bi-arrow-up-right","me-2"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Valider r\xE9ponse",1,"btn","btn-success",3,"click"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Suspendre pour accord \xE0 l'amiable",1,"btn","btn-info",3,"click"],[1,"bi","bi-info-circle","me-2"],[1,"card","card-body"],[1,"h3","mb-4"],["class","alert alert-info border-start border-info border-4",4,"ngIf"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"bg-info","p-2","text-white","rounded","mb-3"],[1,"bi","bi-paperclip","me-2"],[1,"row","g-3"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"bi","bi-clock-history","me-2"],["class","col-12",4,"ngFor","ngForOf"],[1,"alert","alert-info","border-start","border-info","border-4"],[1,"d-flex","align-items-start"],[1,"bi","bi-info-circle","me-3","mt-1"],[1,"mb-2"],[1,"mb-0"],[1,"bi","bi-building","me-2"],[1,"row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"info-item"],[1,"dt","fw-semibold","text-muted","mb-1"],[1,"dd","text-dark"],[1,"col-md-3"],[1,"card","h-100","border"],[1,"card-body","p-3"],[1,"dt","fw-semibold","text-muted","mb-2"],[1,"bi","bi-file-earmark-text","me-2"],[1,"dd"],[1,"btn","btn-sm","btn-dark",3,"click"],[1,"bi","bi-eye","me-1"],[1,"col-12"],[1,"card","border","shadow-sm"],[1,"card-body","p-4"],[1,"d-flex","align-items-center","mb-3"],[1,"badge","me-3","fs-6",3,"ngClass"],[1,"text-primary","mb-0"],[1,"mb-3"],[1,"text-secondary","me-1"],[3,"ngClass"],[1,"mb-0","mt-1"],[1,"d-flex","gap-2","flex-wrap"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-file-earmark-text","me-1"],[1,"text-center"],["src","assets/spinner.gif","alt","","height","50"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for",""],["name","ua_down_id","id","","ngModel","","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["name","instruction","rows","3","required","","ngModel","","maxlength","200",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],["class","btn btn-success mb-3 ",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success","mb-3",3,"click","disabled"],["name","password","type","password","required","","ngModel","",1,"form-control"]],template:function(e,i){e&1&&(a(0,"div",9),k(1,m8,4,0,"div",10),a(2,"div"),k(3,p8,3,1,"button",11),s(),a(4,"div"),k(5,h8,3,0,"button",12),s(),a(6,"div"),k(7,f8,3,1,"button",13),s(),a(8,"div"),k(9,g8,3,0,"button",14),s(),a(10,"div"),k(11,_8,3,0,"button",15),s(),a(12,"div"),k(13,b8,3,0,"button",16),s()(),k(14,k8,17,4,"div",17)(15,M8,2,1,"ng-container",10)(16,I8,2,0,"div",18)(17,A8,26,4,"ng-template",null,0,B)(19,P8,8,1,"div",19)(20,O8,16,3,"ng-template",null,1,B)(22,R8,16,2,"ng-template",null,2,B)(24,V8,16,2,"ng-template",null,3,B)(26,L8,10,3,"div",19)(27,B8,16,2,"ng-template",null,4,B)),e&2&&(u(),h("ngIf",i.myPrestation.need_meeting&&(i.selected_data==null?null:i.selected_data.status)==5||i.myPrestation.need_meeting&&!i.myPrestation.from_pns),u(2),h("ngIf",(!i.isTreated||!i.isMyTreated)&&(i.selected_data==null?null:i.selected_data.status)!=7&&i.uas.length!=0&&(i.selected_data==null?null:i.selected_data.status)!=6),u(2),h("ngIf",i.hasPermission("modification")&&!i.isTreated&&(i.selected_data==null?null:i.selected_data.status)!=7),u(2),h("ngIf",(i.selected_data==null?null:i.selected_data.status)!=7&&(i.selected_data==null?null:i.selected_data.status)!=4&&i.hasPermission("modification")&&i.isTreated),u(2),h("ngIf",(i.selected_data==null?null:i.selected_data.status)!=7&&i.isMyTreated&&!i.isSigner()&&(i.selected_data==null?null:i.selected_data.status)!=9),u(2),h("ngIf",i.isTreated&&i.myPrestation.need_validation&&(i.responseUA==null?null:i.responseUA.hasPermission)&&(i.selected_data==null?null:i.selected_data.status)!=5),u(2),h("ngIf",i.hasPermission("suspension")&&i.prestation=="autorisation-de-licenciement-pour-motif-economique-ou-motif-personnel"&&(i.selected_data==null?null:i.selected_data.status)!=7),u(),h("ngIf",i.selected_data),u(),h("ngIf",i.selected_data!=null),u(),h("ngIf",i.selected_data==null),u(3),h("ngIf",i.showPreview),u(7),h("ngIf",i.showPreview2))},dependencies:[oe,jn,_e,ae,G_,ce,we,Ve,Fe,ue,$e,me,xe,Oe,vf,he,Ce,Ee,Ae,ke,Te,Me,Xi],styles:[".info-item[_ngcontent-%COMP%]{padding:.75rem;border-radius:.375rem;background-color:#f8f9fa;border:1px solid #e9ecef;transition:all .2s ease}.info-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef;transform:translateY(-1px)}.dt[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;margin-bottom:.25rem}.dd[_ngcontent-%COMP%]{font-size:.95rem;margin-bottom:0;word-break:break-word}fieldset[_ngcontent-%COMP%]{border:none;padding:0;margin:0}legend[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:1rem;border-radius:.375rem;display:inline-flex;align-items:center}.card[_ngcontent-%COMP%]{border-radius:.5rem;transition:all .2s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1rem #00000026!important}.badge[_ngcontent-%COMP%]{padding:.5rem;border-radius:50%;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;font-weight:700}.text-success[_ngcontent-%COMP%]{color:var(--success-color)!important}.text-danger[_ngcontent-%COMP%]{color:var(--danger-color)!important}@media (max-width: 768px){.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%]{margin-bottom:1rem}}.btn[_ngcontent-%COMP%]{transition:all .2s ease;border-radius:.375rem}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 .25rem .5rem #0000001a}.gap-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.5rem;margin-bottom:.5rem}.gap-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.75rem;margin-bottom:.75rem}.gap-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem}"]})};var j8=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function z8(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function U8(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function H8(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,z8,2,0,"button",66)(11,U8,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function W8(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function q8(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function $8(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function G8(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,H8,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,W8,3,0,"td",55)(15,q8,3,0,"td",55)(16,$8,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function Y8(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function Q8(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function K8(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function J8(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function X8(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function Z8(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,X8,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function eB(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function tB(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function iB(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function nB(n,t){n&1&&b(0,"i",116)}function rB(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,nB,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function oB(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,rB,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function aB(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,oB,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function sB(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function lB(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function cB(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function dB(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function uB(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function mB(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function pB(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function hB(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var lc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationFinished(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-finish"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes finalis\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,G8,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,Y8,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,Q8,8,1,"div",49)(51,K8,3,0,"ng-template",null,0,B)(53,J8,7,0,"ng-template",null,1,B)(55,Z8,17,5,"ng-template",null,2,B)(57,eB,16,2,"ng-template",null,3,B)(59,tB,12,2,"ng-template",null,4,B)(61,iB,12,2,"ng-template",null,5,B)(63,aB,15,3,"ng-template",null,6,B)(65,sB,59,0,"ng-template",null,7,B)(67,lB,10,2,"div",49)(68,cB,12,3,"ng-template",null,8,B)(70,dB,12,2,"ng-template",null,9,B)(72,uB,6,0,"ng-template",null,10,B)(74,mB,12,2,"ng-template",null,0,B)(76,pB,12,2,"ng-template",null,11,B)(78,hB,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,j8,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var fB=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function gB(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function _B(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function bB(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,gB,2,0,"button",66)(11,_B,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function vB(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function yB(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function xB(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function wB(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,bB,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,vB,3,0,"td",55)(15,yB,3,0,"td",55)(16,xB,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function CB(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function SB(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function EB(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function kB(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function TB(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function MB(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,TB,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function IB(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function DB(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function AB(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function PB(n,t){n&1&&b(0,"i",116)}function OB(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,PB,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function RB(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,OB,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function VB(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,RB,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function FB(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function NB(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function LB(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function BB(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function jB(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function zB(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function UB(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function HB(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var cc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];isTreated=!1;isMyTreated=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationToReject(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:this.responseUA=this.selected_data.reponses.find(i=>i.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log(this.selected_data,this.user.agent.unite_admin.id))}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-reject"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes \xE0 signer"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,wB,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,CB,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,SB,8,1,"div",49)(51,EB,3,0,"ng-template",null,0,B)(53,kB,7,0,"ng-template",null,1,B)(55,MB,17,5,"ng-template",null,2,B)(57,IB,16,2,"ng-template",null,3,B)(59,DB,12,2,"ng-template",null,4,B)(61,AB,12,2,"ng-template",null,5,B)(63,VB,15,3,"ng-template",null,6,B)(65,FB,59,0,"ng-template",null,7,B)(67,NB,10,2,"div",49)(68,LB,12,3,"ng-template",null,8,B)(70,BB,12,2,"ng-template",null,9,B)(72,jB,6,0,"ng-template",null,10,B)(74,zB,12,2,"ng-template",null,0,B)(76,UB,12,2,"ng-template",null,11,B)(78,HB,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,fB,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var WB=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function qB(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function $B(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function GB(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,qB,2,0,"button",66)(11,$B,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function YB(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function QB(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function KB(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function JB(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,GB,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,YB,3,0,"td",55)(15,QB,3,0,"td",55)(16,KB,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function XB(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function ZB(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function ej(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function tj(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function ij(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function nj(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,ij,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function rj(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function oj(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function aj(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function sj(n,t){n&1&&b(0,"i",116)}function lj(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,sj,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function cj(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,lj,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function dj(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,cj,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function uj(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function mj(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function pj(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function hj(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function fj(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function gj(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function _j(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function bj(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var dc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationRejected(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-rejected"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes rejet\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,JB,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,XB,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,ZB,8,1,"div",49)(51,ej,3,0,"ng-template",null,0,B)(53,tj,7,0,"ng-template",null,1,B)(55,nj,17,5,"ng-template",null,2,B)(57,rj,16,2,"ng-template",null,3,B)(59,oj,12,2,"ng-template",null,4,B)(61,aj,12,2,"ng-template",null,5,B)(63,dj,15,3,"ng-template",null,6,B)(65,uj,59,0,"ng-template",null,7,B)(67,mj,10,2,"div",49)(68,pj,12,3,"ng-template",null,8,B)(70,hj,12,2,"ng-template",null,9,B)(72,fj,6,0,"ng-template",null,10,B)(74,gj,12,2,"ng-template",null,0,B)(76,_j,12,2,"ng-template",null,11,B)(78,bj,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,WB,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var vj=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function yj(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function xj(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function wj(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(48);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(73);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,yj,2,0,"button",66)(11,xj,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function Cj(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function Sj(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function Ej(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function kj(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,wj,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,Cj,3,0,"td",55)(15,Sj,3,0,"td",55)(16,Ej,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function Tj(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function Mj(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function Ij(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function Dj(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function Aj(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function Pj(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,Aj,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Oj(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Rj(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Vj(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Fj(n,t){n&1&&b(0,"i",116)}function Nj(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,Fj,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function Lj(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,Nj,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function Bj(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,Lj,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function jj(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function zj(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(65);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function Uj(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Hj(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Wj(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function qj(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function $j(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Gj(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var uc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationCorrect(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-retour-correction"]],standalone:!0,features:[J],decls:76,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes corrig\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(48);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Livrable disponible (Oui/Non)"),s()()(),a(39,"tbody"),k(40,kj,17,15,"tr",45),ee(41,"paginate"),ee(42,"sampleSearch"),k(43,Tj,9,0,"tr",46),s()()(),a(44,"div",47)(45,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(46,Mj,8,1,"div",49)(47,Ij,3,0,"ng-template",null,0,B)(49,Dj,7,0,"ng-template",null,1,B)(51,Pj,17,5,"ng-template",null,2,B)(53,Oj,16,2,"ng-template",null,3,B)(55,Rj,12,2,"ng-template",null,4,B)(57,Vj,12,2,"ng-template",null,5,B)(59,Bj,15,3,"ng-template",null,6,B)(61,jj,59,0,"ng-template",null,7,B)(63,zj,10,2,"div",49)(64,Uj,12,3,"ng-template",null,8,B)(66,Hj,12,2,"ng-template",null,9,B)(68,Wj,6,0,"ng-template",null,10,B)(70,qj,12,2,"ng-template",null,0,B)(72,$j,12,2,"ng-template",null,11,B)(74,Gj,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(14),h("ngForOf",re(42,19,re(41,16,i.data,qe(22,vj,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var mc=class n{constructor(t,e,i,r,o,l,d,m,_,x,w){this.activatedRoute=t;this.locService=e;this.requeteService=i;this._sanitizationService=r;this.router=o;this.toastrService=l;this.uaService=d;this.affService=m;this.responseService=_;this.modalService=w;x.backdrop="static",x.keyboard=!1}selected_data;user;selected_file;prestation;code;fileUploaded;prestationName;isTreated=!1;isMyTreated=!1;permissions=[];doc_path;showPreview2=!1;showPreview=!1;showResponseFilePreview=!1;pdfSrc;activeobsPanel=!1;observation;responseUA={hasPermission:null,reason:"",observation:"",unite_admin_id:"",requete_id:""};currentDescId=0;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];loading=!1;uas=[];myPrestation;ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.fileUploaded=null,this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.getName(this.prestation)}),this.locService.remove("curreent_response"),this.get(),this.getMyCollab()}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}get(){this.requeteService.get(this.code,this.prestation).subscribe(t=>{this.modalService.dismissAll(),this.selected_data=t.data,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:(this.responseUA=this.selected_data.reponses.find(e=>e.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log("orceeeeeeeeeee",this.responseUA,this.user.agent.unite_admin.id))),this.showFile2()},t=>{})}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}showResponseFile(t){var e=j.toFile("docs/responses/"+t);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showResponseFilePreview=!0,this.showPreview=!0}showFile2(){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var t=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(t),this.showPreview2=!0}open(t){this.modalService.open(t)}open2(){this.locService.set("selected_data",this.selected_data),this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}open3(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){if(this.user.roles[0].name!="Directeur"){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.router.navigate(["admin/eservice/espace-traitement-generation-doc/"+this.selected_data.code+"/"+this.prestation])}transDown(t){let e=mn(new Date,"yyyy-MM-dd","en_US"),i=mn(t.delay,"yyyy-MM-dd","en_US"),r=new Date(t.delay).getDay();if(i<e){this.toastrService.error("Veuillez choisir une date ult\xE9rieure ");return}if(r===6||r===0){this.toastrService.error("Veuillez choisir une date de jour ouvr\xE9 ");return}this.modalService.dismissAll(),pe.confirmBox("Voulez vous vraiment affecter/retourner cet enregistrement ?").then(o=>{o.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,unite_admin_down_id:t.ua_down_id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(l=>{this.toastrService.success(`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s`),this.router.navigate(["/admin/eservice/espace-traitement/"+this.prestation])},l=>{this.toastrService.error("Veuillez contactee l'administrateur")}))})}needCorrection(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},e=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.selected_data=null},t=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}pe.confirmBox("Voulez vous vraiment transmettre cet enregistrement ?").then(e=>{e.isConfirmed&&(this.toastrService.info("Op\xE9ration en cours"),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(i=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation]),this.toastrService.info(`La demande ${this.selected_data.code} a \xE9t\xE9 transmise avec succ\xE8s`)},i=>{this.loading=!1,this.toastrService.error("Veuillez contactee l'administrateur")}))})}decline(t){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(e=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},e=>{this.loading=!1}))}validate(){confirm("Envoyer le mail de validation")&&(this.loading=!0,this.responseService.validate({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:""}).subscribe(t=>{this.loading=!1,this.selected_data=null,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.loading=!1}))}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeAmend(){this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,this.locService.set("curreent_response",this.responseUA.toString()),this.activeobsPanel=!0}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}back(){this.showPreview=!1,this.showResponseFilePreview=!1}back2(){this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.toastrService.info("Documen en cours d'envoi"),this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.loading=!1,this.router.navigate(["admin/eservice/espace-traitement/"+this.prestation])},t=>{this.selected_data=null,this.loading=!1}))}back3(){this.showPreview2=!1}getMyCollab(){this.uaService.getUaCollabs().subscribe(t=>{this.loading=!1,this.modalService.dismissAll(),this.uas=t,console.log(t)},t=>{this.toastrService.error("Veuillez contactee l'administrateur")})}deliveryrDoc(t){var e=new FormData;e.append("content",t.desc),e.append("currentDescId",this.currentDescId),e.append("id",JSON.stringify(this.selected_data.id)),this.toastrService.info("Op\xE9ration en cours"),this.loading=!0,this.responseService.storeContent(e).subscribe(i=>{this.toastrService.success("L'attestation est pr\xEAte \xE0 \xEAtre d\xE9livr\xE9e"),this.loading=!1;let r=this.docs.findIndex(o=>o.id==parseInt(this.currentDescId));this.docs[r].content=t.contenu,console.log(r,parseInt(this.currentDescId),this.docs),this.get()},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.get(),this.toastrService.success("Signature autoris\xE9e")},e=>{this.loading=!1,this.toastrService.error("Veuillez contacter l'administrateur")}))}isSigner(){return this.myPrestation.signer2.id==this.user.agent.unite_admin.id}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Et),T(Ct),T(Be),T(de),T(Pn),T(Ut),T(Ht),T(ut),T(fe))};static \u0275cmp=G({type:n,selectors:[["app-espace-signature-show"]],standalone:!0,features:[vt([ut,fe]),J],decls:0,vars:0,template:function(e,i){},dependencies:[oe,ce,Ee,ke,Te,Me]})};var Yj=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function Qj(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function Kj(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function Jj(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,Qj,2,0,"button",66)(11,Kj,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function Xj(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function Zj(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function ez(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function tz(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,Jj,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,Xj,3,0,"td",55)(15,Zj,3,0,"td",55)(16,ez,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function iz(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function nz(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function rz(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function oz(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function az(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function sz(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,az,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function lz(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function cz(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function dz(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function uz(n,t){n&1&&b(0,"i",116)}function mz(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,uz,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function pz(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,mz,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function hz(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,pz,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function fz(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function gz(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function _z(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function bz(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function vz(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function yz(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function xz(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function wz(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var pc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];isTreated=!1;isMyTreated=!1;code;myPrestation;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationToSign(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3,this.selected_data.reponses.length>0&&(this.responseUA=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id),this.isTreated=!0,this.responseUA?this.isMyTreated=!0:this.responseUA=this.selected_data.reponses.find(i=>i.unite_admin.ua_parent_code==this.user.agent.unite_admin.id),console.log(this.selected_data,this.user.agent.unite_admin.id))}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.isTreated&&!this.isMyTreated?this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation+"/"+this.responseUA.unite_admin_id]):this.router.navigate(["admin/eservice/espace-traitement-edit/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}store(t){}update(t){}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-signature"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes \xE0 signer"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,tz,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,iz,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,nz,8,1,"div",49)(51,rz,3,0,"ng-template",null,0,B)(53,oz,7,0,"ng-template",null,1,B)(55,sz,17,5,"ng-template",null,2,B)(57,lz,16,2,"ng-template",null,3,B)(59,cz,12,2,"ng-template",null,4,B)(61,dz,12,2,"ng-template",null,5,B)(63,hz,15,3,"ng-template",null,6,B)(65,fz,59,0,"ng-template",null,7,B)(67,gz,10,2,"div",49)(68,_z,12,3,"ng-template",null,8,B)(70,bz,12,2,"ng-template",null,9,B)(72,vz,6,0,"ng-template",null,10,B)(74,yz,12,2,"ng-template",null,0,B)(76,xz,12,2,"ng-template",null,11,B)(78,wz,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,Yj,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var Cz=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function Sz(n,t){if(n&1){let e=S();a(0,"button",70),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",71),s()}}function Ez(n,t){if(n&1){let e=S();a(0,"button",72),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",73),s()}}function kz(n,t){if(n&1){let e=S();a(0,"div",56)(1,"div",57)(2,"button",58),v("click",function(){f(e);let r=p(2),o=E(52);return g(r.add(o))}),b(3,"i",59),s(),a(4,"button",60),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",61),s(),a(6,"button",62),v("click",function(){f(e);let r=p(2),o=E(77);return g(r.edit(o))}),b(7,"i",63),s(),a(8,"button",64),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",65),s(),k(10,Sz,2,0,"button",66)(11,Ez,2,0,"button",67),a(12,"button",68),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",69),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function Tz(n,t){n&1&&(a(0,"td")(1,"span",74),c(2,"oui"),s()())}function Mz(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"non"),s()())}function Iz(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function Dz(n,t){if(n&1){let e=S();a(0,"tr",50)(1,"td",51)(2,"div",52)(3,"input",53),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,kz,14,2,"div",54),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,Tz,3,0,"td",55)(15,Mz,3,0,"td",55)(16,Iz,2,1,"td",55),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function Az(n,t){if(n&1){let e=S();a(0,"tr",76)(1,"td",77)(2,"div",78),b(3,"i",79),a(4,"p",80),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",81),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",82),c(8," R\xE9initialiser la recherche "),s()()()()}}function Pz(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),b(7,"object",86),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function Oz(n,t){if(n&1){let e=S();a(0,"button",87),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",88),c(2,"\xD7"),s()()}}function Rz(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",88),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function Vz(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",21)(6,"div",98)(7,"div",92)(8,"label",93),c(9,"Direction"),s(),a(10,"input",99),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d\xE9but de stage"),s(),a(15,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date fin de stage"),s(),a(20,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function Fz(n,t){if(n&1){let e=S();a(0,"form",90,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",91)(3,"div",92)(4,"label",93),c(5,"Argumentaire"),s(),a(6,"textarea",94),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",92)(8,"label",93),c(9,"observation"),s(),a(10,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,Vz,21,3,"div",55),a(14,"button",96),c(15,"Sauvegarder "),b(16,"app-loading",97),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Nz(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez une instruction"),s(),b(7,"textarea",102),s(),a(8,"div",92)(9,"label",93),c(10,"Pour au plus tard, le "),s(),b(11,"input",103),s()(),a(12,"div")(13,"button",96),c(14,"Sauvegarder "),b(15,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Lz(n,t){if(n&1){let e=S();a(0,"form",90,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Bz(n,t){if(n&1){let e=S();a(0,"form",90,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Laissez le motif"),s(),b(7,"textarea",104),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function jz(n,t){n&1&&b(0,"i",116)}function zz(n,t){if(n&1&&(a(0,"li")(1,"strong",114),c(2),s(),k(3,jz,1,0,"i",115),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function Uz(n,t){if(n&1){let e=S();a(0,"div",108)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,zz,4,2,"li",109),s(),a(5,"div",92)(6,"label",93),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",110),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",111),c(10,"Lettre d'acception"),s(),a(11,"option",112),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",113),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function Hz(n,t){if(n&1){let e=S();a(0,"form",90,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",105)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",88),c(7,"\xD7"),s()()(),a(8,"div",106),k(9,Uz,15,1,"div",107),b(10,"div",92),s(),a(11,"div")(12,"button",96),c(13,"Sauvegarder "),b(14,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Wz(n,t){if(n&1){let e=S();a(0,"form")(1,"div",117)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",89),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",88),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",118),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",21)(11,"div",98)(12,"div",92)(13,"label",93),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",119),s()(),a(16,"div",98)(17,"div",92)(18,"label",93),c(19,"Date de cessation des fonctions"),s(),b(20,"input",119),s()(),a(21,"div",98)(22,"div",120)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",121),b(26,"input",122),a(27,"label",123),c(28,"Oui"),s()(),a(29,"div",121),b(30,"input",124),a(31,"label",125),c(32,"Non"),s()()()(),a(33,"div",98)(34,"div",92)(35,"label",93),c(36,"Dernier salaire net"),s(),b(37,"input",126),s()(),a(38,"div",98)(39,"div",92)(40,"label",93),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",126),s()(),a(43,"div",98)(44,"div",92)(45,"label",93),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",127)(48,"option",31),c(49,"Moins de 11"),s(),a(50,"option",31),c(51,"Entre 11 et 49"),s(),a(52,"option",31),c(53,"Moins 50 et 499"),s(),a(54,"option",31),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",128),c(58,"Calculer "),s()()()()}}function qz(n,t){if(n&1){let e=S();a(0,"div",83)(1,"div")(2,"div")(3,"div",84)(4,"button",85),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",129),v("click",function(){f(e);let r=p(),o=E(69);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",86),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function $z(n,t){if(n&1){let e=S();a(0,"div",130)(1,"form",90,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",91)(4,"div",92)(5,"label",93),c(6,"observation"),s(),a(7,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Gz(n,t){if(n&1){let e=S();a(0,"form",90,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",92)(5,"label",93),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",131),s()(),a(8,"div")(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Yz(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}function Qz(n,t){if(n&1){let e=S();a(0,"form",90,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Kz(n,t){if(n&1){let e=S();a(0,"form",90,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",132)(3,"h4",133),c(4,"Modification d'un agent"),s(),a(5,"button",137),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",138),s()(),b(7,"div",135),a(8,"div",139)(9,"button",96),c(10,"Sauvegarder "),b(11,"app-loading",97),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Jz(n,t){if(n&1){let e=S();a(0,"div",132)(1,"h4",133),c(2,"D\xE9tails des informations"),s(),a(3,"button",134),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",135),b(5,"div",136),s()}}var hc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;is_active=!1;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationSigned(this.prestation,this.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}store(t){}update(t){}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-signed"]],standalone:!0,features:[J],decls:80,vars:26,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",20),c(1,"Liste des demandes sign\xE9es"),s(),a(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"div",25)(7,"button",26),v("click",function(){f(r);let l=E(52);return g(i.add(l))}),b(8,"i",27),c(9," Ajouter "),s(),a(10,"div",28)(11,"div",29)(12,"select",30),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",31),c(14,"Filtrer Par"),s(),a(15,"option",32),c(16,"R\xF4le"),s(),a(17,"option",33),c(18,"Statut"),s()(),a(19,"input",34),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",35),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",36),s()()()()(),a(22,"div",37)(23,"div",38)(24,"p",39),b(25,"i",40),c(26),s()(),a(27,"div",41)(28,"table",42)(29,"thead")(30,"tr")(31,"th",43),c(32,"#"),s(),a(33,"th",44),c(34,"Code demande"),s(),a(35,"th",44),c(36,"Date Enreg."),s(),a(37,"th",44),c(38,"Email"),s(),a(39,"th",44),c(40,"Contact"),s(),a(41,"th",44),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,Dz,17,15,"tr",45),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,Az,9,0,"tr",46),s()()(),a(48,"div",47)(49,"pagination-controls",48),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,Pz,8,1,"div",49)(51,Oz,3,0,"ng-template",null,0,B)(53,Rz,7,0,"ng-template",null,1,B)(55,Fz,17,5,"ng-template",null,2,B)(57,Nz,16,2,"ng-template",null,3,B)(59,Lz,12,2,"ng-template",null,4,B)(61,Bz,12,2,"ng-template",null,5,B)(63,Hz,15,3,"ng-template",null,6,B)(65,Wz,59,0,"ng-template",null,7,B)(67,qz,10,2,"div",49)(68,$z,12,3,"ng-template",null,8,B)(70,Gz,12,2,"ng-template",null,9,B)(72,Yz,6,0,"ng-template",null,10,B)(74,Qz,12,2,"ng-template",null,0,B)(76,Kz,12,2,"ng-template",null,11,B)(78,Jz,6,0,"ng-template",null,10,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,19,re(45,16,i.data,qe(22,Cz,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var Xz=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function Zz(n,t){if(n&1){let e=S();a(0,"button",55),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",56),s()}}function eU(n,t){if(n&1){let e=S();a(0,"button",57),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",58),s()}}function tU(n,t){if(n&1){let e=S();a(0,"div",41)(1,"div",42)(2,"button",43),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.add(o))}),b(3,"i",44),s(),a(4,"button",45),v("click",function(){f(e);let r=p(2);return g(r.show())}),b(5,"i",46),s(),a(6,"button",47),v("click",function(){f(e);let r=p(2),o=E(56);return g(r.edit(o))}),b(7,"i",48),s(),a(8,"button",49),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",50),s(),k(10,Zz,2,0,"button",51)(11,eU,2,0,"button",52),a(12,"button",53),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",54),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function iU(n,t){n&1&&(a(0,"td")(1,"span",59),c(2,"oui"),s()())}function nU(n,t){n&1&&(a(0,"td")(1,"span",60),c(2,"non"),s()())}function rU(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function oU(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,tU,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,iU,3,0,"td",40)(15,nU,3,0,"td",40)(16,rU,2,1,"td",40),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function aU(n,t){if(n&1){let e=S();a(0,"tr",61)(1,"td",62)(2,"div",63),b(3,"i",64),a(4,"p",65),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",66),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",67),c(8," R\xE9initialiser la recherche "),s()()()()}}function sU(n,t){if(n&1&&(a(0,"li")(1,"p",75),c(2),s()()),n&2){let e=t.$implicit;u(2),L(e.libelle)}}function lU(n,t){if(n&1){let e=S();a(0,"div",68)(1,"h4",69),c(2,"D\xE9tails des parcours"),s(),a(3,"button",70),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(4,"i",71),s()(),a(5,"div",72)(6,"ol"),k(7,sU,3,1,"li",73),s()(),b(8,"div",74)}if(n&2){let e=p();u(7),h("ngForOf",e.selected_data.parcours)}}function cU(n,t){if(n&1){let e=S();a(0,"div",76)(1,"div")(2,"div")(3,"div",77)(4,"button",78),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s()()(),a(6,"div"),b(7,"object",79),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function dU(n,t){if(n&1){let e=S();a(0,"form",80,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",68)(3,"h4",69),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",70),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",71),s()(),b(7,"div",72),a(8,"div",74)(9,"button",81),c(10,"Sauvegarder "),b(11,"app-loading",82),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function uU(n,t){if(n&1){let e=S();a(0,"form",80,4),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",68)(3,"h4",69),c(4,"Modification d'un agent"),s(),a(5,"button",70),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",71),s()(),b(7,"div",72),a(8,"div",74)(9,"button",81),c(10,"Sauvegarder "),b(11,"app-loading",82),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function mU(n,t){if(n&1){let e=S();a(0,"div",68)(1,"h4",69),c(2,"D\xE9tails des informations"),s(),a(3,"button",83),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",72),b(5,"div",84),s()}}var fc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];search_text="";remoteSearchData=[];is_active=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationVisa(this.prestation).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}store(t){}update(t){}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-validation-visa"]],standalone:!0,features:[J],decls:59,vars:25,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"lorem"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],[3,"ngSubmit"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",5),c(1,"Liste de validation avec visa"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=E(51);return g(i.add(l))}),b(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),b(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Code demande"),s(),a(35,"th",29),c(36,"Date Enreg."),s(),a(37,"th",29),c(38,"Email"),s(),a(39,"th",29),c(40,"Contact"),s(),a(41,"th",29),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,oU,17,15,"tr",30),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,aU,9,0,"tr",31),s()()(),a(48,"div",32)(49,"pagination-controls",33),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,lU,9,1,"ng-template",null,0,B)(52,cU,8,1,"div",34)(53,dU,12,2,"ng-template",null,0,B)(55,uU,12,2,"ng-template",null,1,B)(57,mU,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,18,re(45,15,i.data,qe(21,Xz,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(3),h("ngIf",i.showPreview2))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var pU=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function hU(n,t){if(n&1){let e=S();a(0,"button",71),v("click",function(){f(e);let r=p(4);return g(r.setStatus(1))}),b(1,"i",72),s()}}function fU(n,t){if(n&1){let e=S();a(0,"button",73),v("click",function(){f(e);let r=p(4);return g(r.setStatus(0))}),b(1,"i",74),s()}}function gU(n,t){if(n&1){let e=S();a(0,"div",57)(1,"div",58)(2,"button",59),v("click",function(){f(e);let r=p(3),o=E(5);return g(r.add(o))}),b(3,"i",60),s(),a(4,"button",61),v("click",function(){f(e);let r=p(3);return g(r.show())}),b(5,"i",62),s(),a(6,"button",63),v("click",function(){f(e);let r=p(3),o=E(30);return g(r.edit(o))}),b(7,"i",64),s(),a(8,"button",65),v("click",function(){f(e);let r=p(3);return g(r.delete())}),b(9,"i",66),s(),k(10,hU,2,0,"button",67)(11,fU,2,0,"button",68),a(12,"button",69),v("click",function(){f(e);let r=p(3);return g(r.selectedId=null)}),b(13,"i",70),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function _U(n,t){n&1&&(a(0,"td")(1,"span",75),c(2,"oui"),s()())}function bU(n,t){n&1&&(a(0,"td")(1,"span",76),c(2,"non"),s()())}function vU(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function yU(n,t){if(n&1){let e=S();a(0,"tr",51)(1,"td",52)(2,"div",53)(3,"input",54),v("click",function(){let r=f(e).$implicit,o=p(2);return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,gU,14,2,"div",55),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,_U,3,0,"td",56)(15,bU,3,0,"td",56)(16,vU,2,1,"td",56),s()}if(n&2){let e=t.$implicit,i=p(2);u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function xU(n,t){if(n&1){let e=S();a(0,"tr",77)(1,"td",78)(2,"div",79),b(3,"i",80),a(4,"p",81),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",82),v("click",function(){f(e);let r=p(2);return g(r.resetSearch())}),b(7,"i",83),c(8," R\xE9initialiser la recherche "),s()()()()}}function wU(n,t){if(n&1){let e=S();a(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"button",28),v("click",function(){f(e);let r=p(),o=E(5);return g(r.add(o))}),b(6,"i",29),c(7," Ajouter "),s(),a(8,"div",30)(9,"div",31)(10,"select",32),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedFilter,r)||(o.selectedFilter=r),g(r)}),a(11,"option",33),c(12,"Filtrer Par"),s(),a(13,"option",34),c(14,"R\xF4le"),s(),a(15,"option",35),c(16,"Statut"),s()(),a(17,"input",36),N("ngModelChange",function(r){f(e);let o=p();return F(o.search_text,r)||(o.search_text=r),g(r)}),v("ngModelChange",function(){f(e);let r=p();return g(r.onSearchChange())}),s(),a(18,"button",37),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(19,"i",38),s()()()()(),a(20,"div",39)(21,"div",40)(22,"p",41),b(23,"i",42),c(24),s()(),a(25,"div",43)(26,"table",44)(27,"thead")(28,"tr")(29,"th",45),c(30,"#"),s(),a(31,"th",46),c(32,"Code demande"),s(),a(33,"th",46),c(34,"Date Enreg."),s(),a(35,"th",46),c(36,"Email"),s(),a(37,"th",46),c(38,"Contact"),s(),a(39,"th",46),c(40,"Livrable disponible (Oui/Non)"),s()()(),a(41,"tbody"),k(42,yU,17,15,"tr",47),ee(43,"paginate"),ee(44,"sampleSearch"),k(45,xU,9,0,"tr",48),s()()(),a(46,"div",49)(47,"pagination-controls",50),v("pageChange",function(r){f(e);let o=p();return g(o.getPage(r))}),s()()()()()()}if(n&2){let e=p();u(10),V("ngModel",e.selectedFilter),u(7),V("ngModel",e.search_text),u(7),K(" ",e.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(44,17,re(43,14,e.data,qe(20,pU,e.pg.pageSize,e.pg.p,e.pg.total)),e.search_text)),u(3),h("ngIf",e.search_text!==""&&e.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page")}}function CU(n,t){if(n&1){let e=S();a(0,"div",84)(1,"div")(2,"div")(3,"div",85)(4,"button",86),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le pr\xE9visualiseur"),s()()(),a(6,"div"),b(7,"object",87),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function SU(n,t){if(n&1){let e=S();a(0,"button",88),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(1,"span",89),c(2,"\xD7"),s()()}}function EU(n,t){if(n&1){let e=S();a(0,"div")(1,"div"),c(2,"Projet de r\xE9ponse de la demande "),a(3,"button",90),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(4,"span",89),c(5,"\xD7"),s()()(),b(6,"div"),s()}}function kU(n,t){if(n&1){let e=S();a(0,"div"),b(1,"hr"),a(2,"h6"),c(3,"Compl\xE8ter ces informations"),s(),b(4,"hr"),a(5,"div",23)(6,"div",99)(7,"div",93)(8,"label",94),c(9,"Direction"),s(),a(10,"input",100),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.structure,r)||(o.selected_data.ads.structure=r),g(r)}),s()()(),a(11,"div",99)(12,"div",93)(13,"label",94),c(14,"Date d\xE9but de stage"),s(),a(15,"input",101),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_start,r)||(o.selected_data.ads.date_start=r),g(r)}),s()()(),a(16,"div",99)(17,"div",93)(18,"label",94),c(19,"Date fin de stage"),s(),a(20,"input",102),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.ads.date_end,r)||(o.selected_data.ads.date_end=r),g(r)}),s()()()()()}if(n&2){let e=p(2);u(10),V("ngModel",e.selected_data.ads.structure),u(5),V("ngModel",e.selected_data.ads.date_start),u(5),V("ngModel",e.selected_data.ads.date_end)}}function TU(n,t){if(n&1){let e=S();a(0,"form",91,12),v("ngSubmit",function(){let r=f(e).windowRef,o=E(1),l=p();return g(l.storeResponse(r,o.value))}),a(2,"div",92)(3,"div",93)(4,"label",94),c(5,"Argumentaire"),s(),a(6,"textarea",95),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.reason,r)||(o.responseUA.reason=r),g(r)}),s()(),a(7,"div",93)(8,"label",94),c(9,"observation"),s(),a(10,"textarea",96),N("ngModelChange",function(r){f(e);let o=p();return F(o.responseUA.observation,r)||(o.responseUA.observation=r),g(r)}),s()(),a(11,"h6"),c(12,"D\xE9cision finale"),s()(),k(13,kU,21,3,"div",56),a(14,"button",97),c(15,"Sauvegarder "),b(16,"app-loading",98),s()()}if(n&2){let e=E(1),i=p();u(6),V("ngModel",i.responseUA.reason),u(4),V("ngModel",i.responseUA.observation),u(3),h("ngIf",i.selected_data!=null&&i.responseUA.hasPermission==!0&&i.prestation=="autorisation-de-stage"),u(),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function MU(n,t){if(n&1){let e=S();a(0,"form",91,13),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.transDown(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez une instruction"),s(),b(7,"textarea",103),s(),a(8,"div",93)(9,"label",94),c(10,"Pour au plus tard, le "),s(),b(11,"input",104),s()(),a(12,"div")(13,"button",97),c(14,"Sauvegarder "),b(15,"app-loading",98),s()()()()}if(n&2){let e=E(1),i=p();u(13),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function IU(n,t){if(n&1){let e=S();a(0,"form",91,14),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.needCorrection(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez le motif"),s(),b(7,"textarea",105),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function DU(n,t){if(n&1){let e=S();a(0,"form",91,15),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.decline(o.value,r))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Laissez le motif"),s(),b(7,"textarea",105),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function AU(n,t){n&1&&b(0,"i",117)}function PU(n,t){if(n&1&&(a(0,"li")(1,"strong",115),c(2),s(),k(3,AU,1,0,"i",116),s()),n&2){let e=t.$implicit;u(2),L(e==null?null:e.name),u(),h("ngIf",(e==null?null:e.content)!=null)}}function OU(n,t){if(n&1){let e=S();a(0,"div",109)(1,"h6"),c(2,"Point des contenus g\xE9n\xE9r\xE9s"),s(),a(3,"ul"),k(4,PU,4,2,"li",110),s(),a(5,"div",93)(6,"label",94),c(7,"Veuillez s\xE9lection le contenu \xE0 g\xE9n\xE9rer"),s(),a(8,"select",111),v("change",function(r){f(e);let o=p(2);return g(o.changeDesc(r))}),a(9,"option",112),c(10,"Lettre d'acception"),s(),a(11,"option",113),c(12,"Lettre d'agr\xE9ment"),s(),a(13,"option",114),c(14,"Autorisation de stage"),s()()()()}if(n&2){let e=p(2);u(4),h("ngForOf",e.docs)}}function RU(n,t){if(n&1){let e=S();a(0,"form",91,16),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.deliveryrDoc(o.value,r))}),a(2,"div",106)(3,"div"),c(4," Cr\xE9ation du document "),a(5,"button",90),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",89),c(7,"\xD7"),s()()(),a(8,"div",107),k(9,OU,15,1,"div",108),b(10,"div",93),s(),a(11,"div")(12,"button",97),c(13,"Sauvegarder "),b(14,"app-loading",98),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("ngIf",i.prestation=="autorisation-de-stage"),u(3),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function VU(n,t){if(n&1){let e=S();a(0,"form")(1,"div",118)(2,"div"),c(3," Simuler d'indenminit\xE9 "),a(4,"button",90),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(5,"span",89),c(6,"\xD7"),s()()(),a(7,"div")(8,"i",119),c(9,"Informations sur le contrat de travail"),s(),a(10,"div",23)(11,"div",99)(12,"div",93)(13,"label",94),c(14,"Date d'entr\xE9e dans l'entreprise"),s(),b(15,"input",120),s()(),a(16,"div",99)(17,"div",93)(18,"label",94),c(19,"Date de cessation des fonctions"),s(),b(20,"input",120),s()(),a(21,"div",99)(22,"div",121)(23,"span"),c(24,"Contrat de travail \xE9crit"),s(),a(25,"div",122),b(26,"input",123),a(27,"label",124),c(28,"Oui"),s()(),a(29,"div",122),b(30,"input",125),a(31,"label",126),c(32,"Non"),s()()()(),a(33,"div",99)(34,"div",93)(35,"label",94),c(36,"Dernier salaire net"),s(),b(37,"input",127),s()(),a(38,"div",99)(39,"div",93)(40,"label",94),c(41,"Montant moyen des 3 derniers mois de salaire net"),s(),b(42,"input",127),s()(),a(43,"div",99)(44,"div",93)(45,"label",94),c(46,"Nombre de salari\xE9s"),s(),a(47,"select",128)(48,"option",33),c(49,"Moins de 11"),s(),a(50,"option",33),c(51,"Entre 11 et 49"),s(),a(52,"option",33),c(53,"Moins 50 et 499"),s(),a(54,"option",33),c(55,"500 et plus"),s()()()()()(),a(56,"div")(57,"button",129),c(58,"Calculer "),s()()()()}}function FU(n,t){if(n&1){let e=S();a(0,"div",84)(1,"div")(2,"div")(3,"div",85)(4,"button",86),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Retour"),s(),a(6,"button",130),v("click",function(){f(e);let r=p(),o=E(22);return g(r.openWindow(o))}),c(7,"Faire des observations"),s()()(),a(8,"div"),b(9,"object",87),s()()()}if(n&2){let e=p();u(6),h("disabled",!e.activeobsPanel),u(3),h("data",e.pdfSrc,xt)}}function NU(n,t){if(n&1){let e=S();a(0,"div",131)(1,"form",91,17),v("ngSubmit",function(){let r=f(e).windowRef,o=p();return g(o.storeAmend(r))}),a(3,"div",92)(4,"div",93)(5,"label",94),c(6,"observation"),s(),a(7,"textarea",96),N("ngModelChange",function(r){f(e);let o=p();return F(o.observation,r)||(o.observation=r),g(r)}),s()()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()()}if(n&2){let e=E(2),i=p();u(7),V("ngModel",i.observation),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function LU(n,t){if(n&1){let e=S();a(0,"form",91,13),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.authorized(r.value))}),a(2,"div")(3,"div")(4,"div",93)(5,"label",94),c(6,"Saisissez votre mot de passe de d\xE9livrance"),s(),b(7,"textarea",132),s()(),a(8,"div")(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function BU(n,t){if(n&1){let e=S();a(0,"div",133)(1,"h4",134),c(2,"D\xE9tails des informations"),s(),a(3,"button",135),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",136),b(5,"div",137),s()}}function jU(n,t){if(n&1){let e=S();a(0,"form",91,18),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",133)(3,"h4",134),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",138),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",139),s()(),b(7,"div",136),a(8,"div",140)(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function zU(n,t){if(n&1){let e=S();a(0,"form",91,19),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",133)(3,"h4",134),c(4,"Modification d'un agent"),s(),a(5,"button",138),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",139),s()(),b(7,"div",136),a(8,"div",140)(9,"button",97),c(10,"Sauvegarder "),b(11,"app-loading",98),s()()()}if(n&2){let e=E(1),i=p();u(9),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function UU(n,t){if(n&1){let e=S();a(0,"div",133)(1,"h4",134),c(2,"D\xE9tails des informations"),s(),a(3,"button",135),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",136),b(5,"div",137),s()}}var gc=class n{constructor(t,e,i,r,o,l,d,m,_){this.activatedRoute=t;this.locService=e;this.affService=i;this.requeteService=r;this.toastrService=o;this.router=l;this.responseService=d;this.modalService=m;this._sanitizationService=_}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];loading=!1;loading2=!1;permissions=[];radioGroupValue;responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""};content=null;user;currentDescId="0";selected_file;prestation;prestationName;desc="";doc_path="";doc_prefix="";observation="";activeobsPanel=!1;showPreview2=!1;showPreview=!1;myPrestation;showResponseFilePreview=!1;code;pg={pageSize:10,p:1,total:0};isPaginate=!0;is_active=!1;pdfSrc;fileUploaded;fileUploaded2;docs=[{id:0,name:"Contenu lettre d'acceptation",content:null},{id:1,name:"Contenu lettre d'agr\xE9ment",content:null},{id:2,name:"Contenu autorisation de stage",content:null}];search_text="";remoteSearchData=[];selectedId=null;buttonsPermission;showLastLevel=!1;selectedFilter="";ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.selected_data=null,this.data=[],this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""},this.fileUploaded=null,this.prestation=this.activatedRoute.snapshot.paramMap.get("slug"),this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.myPrestation=this.user.user_prestations.find(e=>e.prestation.code==this.prestation).prestation,this.all(),this.getName(this.prestation),console.log(this.user)}),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){}all(){console.log(this.prestation),this.loading2=!0,this.requeteService.getByPrestationTreated(this.prestation,this.myPrestation.code).subscribe(t=>{this.data=t.data,this.loading2=!1,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){if(this.selected_data=t,console.log(this.selected_data),this.selected_data?.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}this.docs[0].content=this.selected_data.content,this.docs[1].content=this.selected_data.content2,this.docs[2].content=this.selected_data.content3}open(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}}open2(t){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);if(e==null&&this.user.roles[0].name!="Directeur"){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.content=this.selected_data.content,console.log(this.content),this.prepareDesc()}open3(){}openWindow(t){if(this.activeobsPanel=!1,this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var e=this.selected_data.reponses.find(i=>i.unite_admin_id==this.user.agent.unite_admin.id);e&&(this.responseUA=e)}}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}storeResponse(t,e){this.loading=!0,this.responseUA.unite_admin_id=this.user.agent.unite_admin.id,this.responseUA.requete_id=this.selected_data.id;var i=new FormData;i.append("responseUA",JSON.stringify(this.responseUA)),this.fileUploaded!=null&&(i.append("file",this.fileUploaded),i.append("requete_id",JSON.stringify(this.selected_data.id))),i.append("structure",e.structure),i.append("service",e.service),i.append("date_start",e.date_start),i.append("date_end",e.date_end),i.append("prestation",this.prestation),console.log(e),this.requeteService.storeResponse(i).subscribe(r=>{this.loading=!1,t.close(),this.all(),this.responseUA={hasPermission:!0,reason:"",observation:"",unite_admin_id:"",requete_id:""}},r=>{this.loading=!1})}deliveryrDoc(t,e){var i=new FormData;i.append("content",t.contenu),i.append("currentDescId",this.currentDescId),i.append("id",JSON.stringify(this.selected_data.id)),this.responseService.storeContent(i).subscribe(r=>{this.loading=!1;let o=this.docs.findIndex(l=>l.id==parseInt(this.currentDescId));this.docs[o].content=t.contenu,console.log(o,parseInt(this.currentDescId),this.docs),this.all()},r=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}transDown(t,e){var i=new Date(t.delay),r=new Date;i<r||(e.close(),this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:1,instruction:t.instruction,delay:t.delay}).subscribe(o=>{this.toastrService.success("`La demande ${this.selected_data.code} a \xE9t\xE9 affect\xE9e avec succ\xE8s"),this.loading=!1,this.all()},o=>{this.loading=!1}))}decline(t,e){confirm("Envoyer le mail de rejet")&&(this.loading=!0,this.responseService.decline({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.all(),this.loading=!1,e.close(),this.selected_data=null},i=>{this.loading=!1}))}authorized(t){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||(this.loading=!0,this.responseService.authorized({password:t.password,requete_id:this.selected_data.id}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.selected_data=null,this.loading=!1}))}transUp(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}if(this.selected_data.reponses.length!=0){var t=this.selected_data.reponses.find(e=>e.unite_admin_id==this.user.agent.unite_admin.id);if(t==null){this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}}else{this.toastrService.warning("`Votre projet de r\xE9ponse est requis");return}this.affService.store({requete_id:this.selected_data.id,unite_admin_id:this.user.agent.unite_admin.id,sens:-1}).subscribe(e=>{this.loading=!1,this.all()},e=>{this.loading=!1})}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}showFile3(t){if(this.selected_data!=null){var e=j.toFile(this.doc_path)+"/"+t;window.open(e,"_blank")}}showFile(t){var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+t.filename;this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}storeAmend(t){console.log(this.selected_file),this.responseUA.observation=`Les observations suivantes sont \xE0 prendre en compte sur le fichier suivant ${this.selected_file.filename}: 
 ${this.observation} 
`,t.close(),this.activeobsPanel=!0}getName(t){let e=it.find(i=>i.slug==t);e&&(this.prestationName=e.name,this.doc_path=e.doc_path)}prepareDesc(t){if(this.selected_data.content?.content!=null)this.desc=this.selected_data.content;else{let e=this.selected_data;this.prestation=="attestation-de-stage"&&(e=t);let i=it.find(r=>r.slug==this.prestation);console.log(this.selected_data,i),i&&(this.desc=i.desc(e))}}upload(t){this.fileUploaded=t.target.files[0],console.log(this.fileUploaded)}upload2(t){this.fileUploaded2=t.target.files[0]}getAddress(t){var e=JSON.parse(t);return e.departement+"~"+e.commune+"~"+e.arrondissement+"~"+e.quartier+"~"+e.rue+"~"+e.address}treat(t,e){this.router.navigateByUrl("/admin/eservice/treatment/"+t+"/"+e+"/"+this.prestation)}back(){this.showPreview=!1,this.showPreview2=!1,this.selected_data=null,this.all()}ngOnDestroy(){}needCorrection(t,e){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.responseService.correction({requete_id:this.selected_data.id,commentaire:t.commentaire}).subscribe(i=>{this.loading=!1,this.all(),e.close(),this.selected_data=null,this.toastrService.success("La demande ${this.selected_data.code} a \xE9t\xE9 suspension avec succ\xE8s")},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}sendReachedAgreement(t,e){this.responseService.reachedAgreement({requete_id:this.selected_data.id}).subscribe(i=>{this.loading=!1,this.all(),this.selected_data=null},i=>{this.loading=!1,this.toastrService.error("Op\xE9ration \xE9chou\xE9e")})}delivered(){this.prestation=="autorisation-de-stage"&&(this.selected_data.content==null||this.selected_data.content2==null||this.selected_data.content3==null)||confirm("Envoyer l'attestation au demandeur")&&(this.loading=!0,this.responseService.store({prestation:this.prestation,prestation_name:this.prestationName,requete_id:this.selected_data.id}).subscribe(t=>{this.all(),this.loading=!1},t=>{this.selected_data=null,this.loading=!1}))}changeDesc(t){let e=it.find(i=>i.slug==this.prestation);if(e)switch(this.currentDescId=t.target.value,this.currentDescId){case"0":this.desc=e.desc(this.selected_data);break;case"1":this.desc=e.desc2(this.selected_data);break;case"2":this.desc=e.desc3(this.selected_data);break;default:this.desc=e.desc(this.selected_data),console.log(this.desc);break}}show(){if(this.selected_data==null){this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9");return}this.locService.set("selected_data",this.selected_data),this.router.navigate(["admin/eservice/espace-traitement-show/"+this.selected_data.code+"/"+this.prestation])}store(t){}update(t){}showFileContract(t){var e=j.toFile("storage/"+this.selected_data.code+"/"+t.file64);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),console.log(e,this.pdfSrc),this.showPreview=!0,this.observation="",this.selected_file=t,this.activeobsPanel=!0}showResponseFile(t){var e=j.toFile("docs/responses/"+t);this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showResponseFilePreview=!0,this.showPreview=!0}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(Ke),T(se),T(Ut),T(Et),T(de),T(Be),T(Ht),T(fe),T(Ct))};static \u0275cmp=G({type:n,selectors:[["app-espace-validation"]],standalone:!0,features:[J],decls:33,vars:3,consts:[["addContent",""],["dialogEdit",""],["contentTemplate",""],["dialogAffectation",""],["dialogSuspension",""],["dialogRejet",""],["dialogAttestation",""],["dialogSimulation",""],["contentTemplateAmendement",""],["dialogPass",""],["showContent",""],["editContent",""],["addResponse","ngForm"],["addInstruction","ngForm"],["addSusp","ngForm"],["addRejet","ngForm"],["addAttestation","ngForm"],["addAmend","ngForm"],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],["class","row",4,"ngIf"],["class","container",4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["id","cBtn",1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],[1,"btn-sm","float-right",3,"click"],[3,"ngSubmit"],["size","large"],[1,"form-group"],["for",""],["name","","id","","cols","30","rows","2","name","reason",1,"form-control",3,"ngModelChange","ngModel"],["name","","id","","cols","30","rows","5","name","observation",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"col-12","col-md-6"],["type","text","name","structure",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_start",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","date_end",1,"form-control",3,"ngModelChange","ngModel"],["name","instruction","rows","3","required","","ngModel","",1,"form-control"],["type","date","nbInput","","name","delay","required","","ngModel",""],["name","commentaire","rows","3","required","","ngModel","",1,"form-control"],[2,"height","90vh","width","800px","margin-left","10%","margin-right","10%"],[1,"p-3"],["class","",4,"ngIf"],[1,""],[4,"ngFor","ngForOf"],[1,"form-control",3,"change"],["value","0"],["value","1"],["value","2"],[1,"mr-2"],["class","fa fa-check",4,"ngIf"],[1,"fa","fa-check"],[2,"height","90vh","width","80%","margin-left","10%","margin-right","10%"],["icon","shopping-bag-outline"],["type","date",1,"form-control"],[1,"form-group","row"],[1,"form-check","form-check-inline"],["type","radio","name","inlineRadioOptions","id","inlineRadio1","value","option1",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","inlineRadioOptions","id","inlineRadio2","value","option2",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["type","text",1,"form-control"],["name","","id","",1,"form-control"],["type","button",1,"btn","btn-outline-primary"],[1,"btn","btn-outline-success","mb-3",3,"click","disabled"],[1,"list-card"],["name","password","rows","3","required","","ngModel","",1,"form-control"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-footer"]],template:function(e,i){e&1&&(a(0,"h2",20),c(1,"Liste de validation"),s(),k(2,wU,48,24,"div",21)(3,CU,8,1,"div",22)(4,SU,3,0,"ng-template",null,0,B)(6,EU,7,0,"ng-template",null,1,B)(8,TU,17,5,"ng-template",null,2,B)(10,MU,16,2,"ng-template",null,3,B)(12,IU,12,2,"ng-template",null,4,B)(14,DU,12,2,"ng-template",null,5,B)(16,RU,15,3,"ng-template",null,6,B)(18,VU,59,0,"ng-template",null,7,B)(20,FU,10,2,"div",22)(21,NU,12,3,"ng-template",null,8,B)(23,LU,12,2,"ng-template",null,9,B)(25,BU,6,0,"ng-template",null,10,B)(27,jU,12,2,"ng-template",null,0,B)(29,zU,12,2,"ng-template",null,11,B)(31,UU,6,0,"ng-template",null,10,B)),e&2&&(u(2),h("ngIf",!i.showPreview2),u(),h("ngIf",i.showPreview2),u(17),h("ngIf",i.showPreview))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var HU=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function WU(n,t){if(n&1){let e=S();a(0,"button",34),v("click",function(){f(e);let r=p(),o=E(72);return g(r.add(o))}),c(1,"Ajouter"),s()}}function qU(n,t){if(n&1){let e=S();a(0,"button",50),v("click",function(){f(e);let r=p(3),o=E(76);return g(r.show(o))}),b(1,"i",51),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function $U(n,t){if(n&1){let e=S();a(0,"button",52),v("click",function(){f(e);let r=p(3),o=E(74);return g(r.edit(o))}),b(1,"i",53),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function GU(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.delete())}),b(1,"i",55),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function YU(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",57),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function QU(n,t){if(n&1){let e=S();a(0,"button",58),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",59),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function KU(n,t){if(n&1){let e=S();a(0,"div",41)(1,"button",42),v("click",function(){f(e);let r=p(2),o=E(72);return g(r.add(o))}),b(2,"i",43),s(),k(3,qU,2,1,"button",44)(4,$U,2,1,"button",45)(5,GU,2,1,"button",46)(6,YU,2,1,"button",47)(7,QU,2,1,"button",48),a(8,"button",49),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),s()()}if(n&2){let e=p(2);u(),h("disabled",e.loading),u(2),h("ngIf",e.buttonsPermission.show),u(),h("ngIf",e.buttonsPermission.edit),u(),h("ngIf",e.buttonsPermission.delete),u(),h("ngIf",e.is_active!=null&&!e.is_active),u(),h("ngIf",e.is_active!=null&&e.is_active)}}function JU(n,t){n&1&&(a(0,"span",60),c(1,"Actif"),s())}function XU(n,t){n&1&&(a(0,"span",61),c(1,"Bloqu\xE9"),s())}function ZU(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,KU,9,6,"div",38),s(),b(5,"td")(6,"td")(7,"td"),a(8,"td"),k(9,JU,2,0,"span",39)(10,XU,2,0,"span",40),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(5),h("ngIf",e.is_active),u(),h("ngIf",!e.is_active)}}function eH(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",62)(2,"p",63),c(3,"Recherche avanc\xE9e en cours..."),s(),a(4,"button",64),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),c(5," R\xE9initialiser la recherche "),s()()()}}function tH(n,t){if(n&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s()()),n&2){let e=p();u(2),L(e.data.totale),u(2),L(e.data.treated),u(2),L(e.data.noTreated),u(2),L(e.data.finished)}}function iH(n,t){n&1&&(a(0,"tr"),b(1,"img",65),s())}function nH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",70),s()}}function rH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",70),s()}}function oH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",70),s()}}var _c=class n{constructor(t,e,i,r){this.dashService=t;this.route=e;this.modalService=i;this.toastrService=r}data;slug;selected_data;loading=!1;is_active=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;buttonsPermission;search_text="";remoteSearchData=[];ngOnInit(){this.slug=this.route.snapshot.paramMap.get("slug"),this.all(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.dashService.show(this.slug).subscribe(t=>{this.loading2=!1,this.data=t.data,console.log(this.data)},t=>{this.loading2=!1})}loadStat(t){this.loading2=!0,console.log(t),this.dashService.update(t,this.slug).subscribe(e=>{this.loading2=!1,this.data=e.data,console.log(this.data)},e=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}store(t,e){this.loading=!0,this.dashService.store(t).subscribe(i=>{this.loading=!1,e.close(),this.all()},i=>{this.loading=!1})}update(t,e){this.loading=!0,this.dashService.update(t,this.selected_data.id).subscribe(i=>{this.loading=!1,e.close(),this.all()},i=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.dashService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.dashService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading2=!0,this.dashService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading2=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading2=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(mr),T(Ke),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-statistiques"]],standalone:!0,features:[J],decls:77,vars:30,consts:[["formStat","ngForm"],["addContent",""],["editContent",""],["showContent",""],[1,"row"],[1,"col-lg-12","mb-3"],[1,"card","p-1"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center","d-flex"],[1,"input-group"],["id","inputGroupSelect04","aria-label","Example select with button addon",1,"form-select"],["value",""],["type","text","name","search_text","placeholder","Rechercher..",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],["aria-hidden","true",1,"fa","fa-rotate-left"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,""],[2,"width","10px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"card","card-body"],[3,"ngSubmit"],[1,"d-flex","justify-content-between","flex-sm-column"],[1,"d-flex","justify-content-center"],[1,"form-group"],["for",""],["type","date","ngModel","","name","date_start","id","",1,"form-control-sm"],["type","date","ngModel","","name","date_end","id","",1,"form-control-sm"],["type","submit",1,"btn","btn-sm","btn-info",3,"disabled"],["scope","col"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","p-1 rounded text-white  bg-success",4,"ngIf"],["class","p-1 rounded text-white bg-danger",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[1,"p-1","rounded","text-white","bg-success"],[1,"p-1","rounded","text-white","bg-danger"],["colspan","5",1,"text-center"],[1,"text-muted"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],["src","assets/spinner.gif",2,"width","180px","height","150px"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),k(4,WU,2,0,"button",8),a(5,"div",9)(6,"div",10)(7,"select",11)(8,"option",12),c(9,"Filtrer Par"),s()(),a(10,"input",13),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(11,"button",14),v("click",function(){return f(r),g(i.resetSearch())}),b(12,"i",15),s()()()(),a(13,"div",16)(14,"p"),c(15),s(),a(16,"div",17)(17,"table",18)(18,"thead",19)(19,"tr")(20,"th",20),c(21,"#"),s(),a(22,"th"),c(23,"Identit\xE9"),s(),a(24,"th"),c(25,"email"),s(),a(26,"th"),c(27,"R\xF4le"),s(),a(28,"th"),c(29,"status"),s()()(),a(30,"tbody"),k(31,ZU,11,7,"tr",21),ee(32,"paginate"),ee(33,"sampleSearch"),k(34,eH,6,0,"tr",22),ee(35,"sampleSearch"),s()()(),a(36,"pagination-controls",23),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()(),a(37,"div",24)(38,"div")(39,"form",25,0),v("ngSubmit",function(){f(r);let l=E(40);return g(i.loadStat(l.value))}),a(41,"div",26)(42,"span"),c(43,"Statitistique Globale"),s(),a(44,"div",27)(45,"div",28)(46,"label",29),c(47,"DU"),s(),b(48,"input",30),s(),a(49,"div",28)(50,"label",29),c(51,"AU"),s(),b(52,"input",31),s(),a(53,"div",19)(54,"button",32),c(55," Rechercher"),s()()()()()(),a(56,"div")(57,"table",18)(58,"thead")(59,"tr")(60,"th",33),c(61,"Demandes Totales"),s(),a(62,"th",33),c(63,"Demandes Trait\xE9es"),s(),a(64,"th",33),c(65,"Demandes Non Trait\xE9es"),s(),a(66,"th",33),c(67,"Demandes finalis\xE9es"),s()()(),a(68,"tbody"),k(69,tH,9,4,"tr",22)(70,iH,2,0,"tr",22),s()()()(),k(71,nH,6,0,"ng-template",null,1,B)(73,rH,6,0,"ng-template",null,2,B)(75,oH,6,0,"ng-template",null,3,B)}e&2&&(u(4),h("ngIf",i.buttonsPermission.add),u(6),V("ngModel",i.search_text),u(5),K("",i.isPaginate?i.pg.total:i.data.length," \xE9l\xE9ment(s)"),u(16),h("ngForOf",re(33,20,re(32,17,i.data,qe(26,HU,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&re(35,23,i.data,i.search_text).length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(18),h("disabled",i.loading2),u(15),h("ngIf",i.data!=null),u(),h("ngIf",i.loading2))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,Qe,me,xe,he,Ce,Ee,He,ke,Te,Je,Xe,Me,bo]})};var _m=class n{constructor(t){this.http=t}url=j.toApiUrl("files");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}getFromPrestationName(t){return this.http.get(`${this.url}/by-prestation/${t}`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function sH(n,t){if(n&1){let e=S();a(0,"button",21),v("click",function(){f(e);let r=p(),o=E(31);return g(r.edit(o))}),b(1,"i",22),s()}}function lH(n,t){if(n&1){let e=S();a(0,"button",23),v("click",function(){f(e);let r=p();return g(r.delete())}),b(1,"i",24),s()}}function cH(n,t){if(n&1&&(a(0,"option",25),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function dH(n,t){if(n&1){let e=S();a(0,"tr")(1,"th")(2,"input",26),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),s()(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit;u(4),L(e==null?null:e.name),u(2),L(e==null?null:e.slug)}}function uH(n,t){n&1&&(a(0,"tr")(1,"td",27),c(2,"Aucun \xE9l\xE9ment trouv\xE9"),s()())}function mH(n,t){n&1&&(a(0,"tr"),b(1,"img",28),s())}function pH(n,t){if(n&1&&(a(0,"p",40)(1,"ngb-alert",41),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function hH(n,t){if(n&1&&(a(0,"option",25),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function fH(n,t){n&1&&(a(0,"small",44),c(1,"Le libell\xE9 est requis."),s())}function gH(n,t){if(n&1&&(a(0,"span",42),k(1,fH,2,0,"small",43),s()),n&2){p();let e=E(20);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function _H(n,t){if(n&1){let e=S();a(0,"form",29,3),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.store(o.value,r))}),a(2,"div")(3,"div"),c(4,"Enregistrement de Fichier requis pour la prestation "),a(5,"button",30),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",31),c(7,"\xD7"),s()()(),a(8,"div"),k(9,pH,3,2,"p",32),a(10,"div",33)(11,"label",34),c(12,"Prestation"),s(),a(13,"select",35,4),k(15,hH,2,2,"option",15),s()(),a(16,"div",33)(17,"label",34),c(18,"Libell\xE9"),s(),b(19,"input",36,5),k(21,gH,2,1,"span",37),s()(),a(22,"div")(23,"button",38),c(24,"Sauvegarder "),b(25,"app-loading",39),s()()()()}if(n&2){let e=E(1),i=E(20),r=p();u(9),h("ngIf",r.error!=""),u(6),h("ngForOf",r.data2),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function bH(n,t){if(n&1&&(a(0,"p",40)(1,"ngb-alert",41),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function vH(n,t){if(n&1&&(a(0,"option",25),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function yH(n,t){n&1&&(a(0,"small",44),c(1,"Le libell\xE9 est requis."),s())}function xH(n,t){if(n&1&&(a(0,"span",42),k(1,yH,2,0,"small",43),s()),n&2){p();let e=E(20);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function wH(n,t){n&1&&(a(0,"small",44),c(1,"Le slug est requis."),s())}function CH(n,t){if(n&1&&(a(0,"span",42),k(1,wH,2,0,"small",43),s()),n&2){p();let e=E(26);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function SH(n,t){if(n&1){let e=S();a(0,"form",29,6),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.update(o.value,r))}),a(2,"div")(3,"div"),c(4,"Modification de Fichier requis pour la prestation "),a(5,"button",30),v("click",function(){let r=f(e).dialogRef;return g(r.close())}),a(6,"span",31),c(7,"\xD7"),s()()(),a(8,"div"),k(9,bH,3,2,"p",32),a(10,"div",33)(11,"label",34),c(12,"Prestation"),s(),a(13,"select",45,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.prestation_id,r)||(o.selected_data.prestation_id=r),g(r)}),k(15,vH,2,2,"option",15),s()(),a(16,"div",33)(17,"label",34),c(18,"Libell\xE9"),s(),a(19,"input",46,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s(),k(21,xH,2,1,"span",37),s(),a(22,"div",33)(23,"label",34),c(24,"Slug"),s(),a(25,"input",47,7),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.slug,r)||(o.selected_data.slug=r),g(r)}),s(),k(27,CH,2,1,"span",37),s()(),a(28,"div")(29,"button",38),c(30,"Sauvegarder "),b(31,"app-loading",39),s()()()()}if(n&2){let e=E(1),i=E(20),r=E(26),o=p();u(9),h("ngIf",o.error!=""),u(4),V("ngModel",o.selected_data.prestation_id),u(2),h("ngForOf",o.data2),u(4),V("ngModel",o.selected_data.name),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(4),V("ngModel",o.selected_data.slug),u(2),h("ngIf",r.invalid&&(i.dirty||r.touched)),u(2),h("disabled",e.invalid||o.loading),u(2),h("isVisible",o.loading)}}function EH(n,t){if(n&1){let e=S();a(0,"div",48)(1,"h4",49),c(2,"D\xE9tails des informations"),s(),a(3,"button",50),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",51),b(5,"div",52),s()}}var bm=class n{constructor(t,e,i,r,o){this.fileService=t;this.prestationService=e;this.toastrService=i;this.modalService=r;this.locService=o}error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selected_data;user;data=[];data2=[];data3=[];permissions=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;ngOnInit(){this.all(),this.getPrestations(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.fileService.getAll().subscribe(t=>{this.data=t,this.data3=this.data,this.loading2=!1},t=>{this.loading2=!1})}getPrestations(){this.prestationService.getAll().subscribe(t=>{this.data2=t},t=>{})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t,e){this.loading=!0,this.fileService.store(t).subscribe(i=>{this.loading=!1,e.close(),this.all()},i=>{this.loading=!1})}update(t,e){this.loading=!0,this.fileService.update(t,this.selected_data.id).subscribe(i=>{this.loading=!1,e.close(),this.all()},i=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.fileService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.fileService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.fileService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}sortBy(t){this.data3=this.data.filter(e=>e.prestation_id==t.target.value)}static \u0275fac=function(e){return new(e||n)(T(_m),T(An),T(de),T(fe),T(se))};static \u0275cmp=G({type:n,selectors:[["ngx-files"]],standalone:!0,features:[J],decls:34,vars:6,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["editForm","ngForm"],["slug","ngModel"],[1,"row"],[1,"col-lg-12","mb-3"],[1,"buttons-row"],["class","btn btn-sm btn-warning mx-1","nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"click",4,"ngIf"],["class","btn btn-sm btn-danger mx-1","nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",3,"click",4,"ngIf"],["type","text",1,"form-control-sm",3,"change"],["selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-primary","float-right",3,"click"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nbTooltip","Modifier l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-warning","mx-1",3,"click"],["icon","edit-2-outline"],["nbTooltip","Supprimer l'\xE9l\xE9ment","nbTooltipPlacement","top",1,"btn","btn-sm","btn-danger","mx-1",3,"click"],["icon","trash-2-outline"],[3,"value"],["name","flexRadioDefault","type","radio",1,"form-check-input",3,"click"],["colspan","3",1,"text-center"],["src","assets/spinner.gif",2,"width","180px","height","150px"],[3,"ngSubmit"],[1,"btn-sm","float-right",3,"click"],["aria-hidden","true"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","slug",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"div")(1,"div"),c(2," Gestion des fichiers requis par prestation "),s(),a(3,"div")(4,"div",8)(5,"div",9)(6,"div",10),k(7,sH,2,0,"button",11)(8,lH,2,0,"button",12),a(9,"select",13),v("change",function(l){return f(r),g(i.sortBy(l))}),a(10,"option",14),c(11,"Filtrer par prestation"),s(),k(12,cH,2,2,"option",15),s(),a(13,"button",16),v("click",function(){f(r);let l=E(29);return g(i.add(l))}),c(14,"Ajouter un nouveau fichier requis "),s()()()(),a(15,"table",17)(16,"thead")(17,"tr")(18,"th",18),c(19,"#"),s(),a(20,"th",18),c(21,"Libell\xE9"),s(),a(22,"th",18),c(23,"slug"),s()()(),a(24,"tbody"),k(25,dH,7,2,"tr",19)(26,uH,3,0,"tr",20)(27,mH,2,0,"tr",20),s()()()(),k(28,_H,26,5,"ng-template",null,0,B)(30,SH,32,9,"ng-template",null,1,B)(32,EH,6,0,"ng-template",null,2,B)}e&2&&(u(7),h("ngIf",i.hasPermission("modification")),u(),h("ngIf",i.hasPermission("suppression")),u(4),h("ngForOf",i.data2),u(13),h("ngForOf",i.data3),u(),h("ngIf",i.data.length==0&&!i.loading2),u(),h("ngIf",i.loading2))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,me,xe,Oe,he,Ce,Ee,_o,Ae,ke,Te,Me]})};var kH=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function TH(n,t){if(n&1){let e=S();a(0,"button",53),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",54),s()}}function MH(n,t){if(n&1){let e=S();a(0,"button",55),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",56),s()}}function IH(n,t){if(n&1){let e=S();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.add(o))}),b(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=p(2),o=E(58);return g(r.show(o))}),b(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=p(2),o=E(56);return g(r.edit(o))}),b(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",48),s(),k(10,TH,2,0,"button",49)(11,MH,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",52),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function DH(n,t){n&1&&(a(0,"td")(1,"span",57),c(2,"oui"),s()())}function AH(n,t){n&1&&(a(0,"td")(1,"span",58),c(2,"non"),s()())}function PH(n,t){if(n&1&&(a(0,"td"),c(1),s()),n&2){let e=p().$implicit;u(),L(e==null||e.parcours[(e==null?null:e.parcours.length)-1]==null?null:e.parcours[(e==null?null:e.parcours.length)-1].libelle)}}function OH(n,t){if(n&1){let e=S();a(0,"tr",33)(1,"td",34)(2,"div",35)(3,"input",36),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,IH,14,2,"div",37),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),ee(9,"date"),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),k(14,DH,3,0,"td",38)(15,AH,3,0,"td",38)(16,PH,2,1,"td",38),s()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.code),u(2),L(re(9,12,e==null?null:e.created_at,"dd-MM-yyyy HH:mm:ss")),u(3),L(e==null?null:e.email),u(2),L(e==null?null:e.phone),u(),h("ngIf",(e==null?null:e.filename)!=null),u(),h("ngIf",(e==null?null:e.filename)==null),u(),h("ngIf",i.showLastLevel)}}function RH(n,t){if(n&1){let e=S();a(0,"tr",59)(1,"td",60)(2,"div",61),b(3,"i",62),a(4,"p",63),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",64),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",65),c(8," R\xE9initialiser la recherche "),s()()()()}}function VH(n,t){if(n&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),ee(7,"date"),s(),a(8,"td"),c(9),s()()),n&2){let e=t.$implicit,i=t.index;u(2),L(i+1),u(2),L(e.libelle),u(2),L(re(7,5,e.created_at,"dd-MM-yyyy hh:mm:ss")),u(3),Di("",e.user==null||e.user.agent==null?null:e.user.agent.firstname," ",e.user==null||e.user.agent==null?null:e.user.agent.lastname,"")}}function FH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des parcours"),s(),a(3,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(4,"i",69),s()(),a(5,"div",70)(6,"table",71)(7,"thead")(8,"th"),c(9,"#"),s(),a(10,"th"),c(11,"Libell\xE9"),s(),a(12,"th"),c(13,"Date et heure"),s(),a(14,"th"),c(15," Auteur"),s()(),a(16,"tbody"),k(17,VH,10,8,"tr",72),s()()(),b(18,"div",73)}if(n&2){let e=p();u(17),h("ngForOf",e.selected_data.parcours)}}function NH(n,t){if(n&1){let e=S();a(0,"div",74)(1,"div")(2,"div")(3,"div",75)(4,"button",76),v("click",function(){f(e);let r=p();return g(r.back())}),c(5,"Fermer le visualiseur"),s()()(),a(6,"div"),b(7,"object",77),s()()()}if(n&2){let e=p();u(7),h("data",e.pdfSrc,xt)}}function LH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",79),s()}}function BH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",79),s()}}function jH(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",78),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",79),s()}}var bc=class n{constructor(t,e,i,r,o,l,d,m){this.activatedRoute=t;this.requeteService=e;this.route=i;this._sanitizationService=r;this.locService=o;this.modalService=d;this.toastrService=m;l.backdrop="static",l.keyboard=!1}isDtInitialized=!1;user;data=[];slug;selected_data;loading=!1;loading2=!1;prestation;prestationName;doc_path="";doc_prefix="";error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;showPreview2=!1;showPreview=!1;pdfSrc;selectedId=null;showLastLevel=!1;selectedFilter="";ngAfterViewInit(){}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.data=[],this.selected_data=null,this.slug=this.route.snapshot.paramMap.get("slug"),this.prestation=this.slug,this.all()}),this.user=this.locService.get(Z.userName),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.requeteService.getByPrestationAll(this.slug).subscribe(t=>{this.loading2=!1,this.data=t.data},t=>{this.loading2=!1})}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t,console.log(this.selected_data)}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.requeteService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading2=!0,this.requeteService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading2=!1,this.all()},e=>{this.loading2=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading2=!0,this.requeteService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading2=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading2=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}showFile2(t){if(this.selected_data==null){alert("Veuillez s\xE9lectionner une ligne !");return}var e=j.toFile(this.doc_path)+"/"+this.selected_data.code+"/"+this.selected_data.filename;console.log(e),this.pdfSrc=this._sanitizationService.bypassSecurityTrustResourceUrl(e),this.showPreview2=!0}ngOnDestroy(){}back(){this.all(),this.showPreview2=!1,this.selected_data=null}static \u0275fac=function(e){return new(e||n)(T(Ke),T(Et),T(Ke),T(Ct),T(se),T(ut),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-historique"]],standalone:!0,features:[J],decls:59,vars:25,consts:[["addContent",""],["editContent",""],["showContent",""],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],["class","container",4,"ngIf"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"badge","bg-warning","text-white"],[1,"badge","bg-secondary","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"modal-footer"],[1,"container"],[1,"d-flex","justify-content-around"],[1,"btn","btn-outline-dark","mb-3",3,"click"],["type","application/pdf","width","100%","height","600px",3,"data"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",3),c(1,"Parcours des demandes"),s(),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"button",9),v("click",function(){f(r);let l=E(51);return g(i.add(l))}),b(8,"i",10),c(9," Ajouter "),s(),a(10,"div",11)(11,"div",12)(12,"select",13),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",14),c(14,"Filtrer Par"),s(),a(15,"option",15),c(16,"R\xF4le"),s(),a(17,"option",16),c(18,"Statut"),s()(),a(19,"input",17),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",18),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",19),s()()()()(),a(22,"div",20)(23,"div",21)(24,"p",22),b(25,"i",23),c(26),s()(),a(27,"div",24)(28,"table",25)(29,"thead")(30,"tr")(31,"th",26),c(32,"#"),s(),a(33,"th",27),c(34,"Code demande"),s(),a(35,"th",27),c(36,"Date Enreg."),s(),a(37,"th",27),c(38,"Email"),s(),a(39,"th",27),c(40,"phone"),s(),a(41,"th",27),c(42,"Livrable disponible (Oui/Non)"),s()()(),a(43,"tbody"),k(44,OH,17,15,"tr",28),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,RH,9,0,"tr",29),s()()(),a(48,"div",30)(49,"pagination-controls",31),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,FH,19,1,"ng-template",null,0,B)(52,NH,8,1,"div",32)(53,LH,6,0,"ng-template",null,0,B)(55,BH,6,0,"ng-template",null,1,B)(57,jH,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,18,re(45,15,i.data,qe(21,kH,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"),u(3),h("ngIf",i.showPreview2))},dependencies:[oe,_e,ae,jt,ce,Ve,Fe,ue,$e,Qe,me,he,Ee,He,ke,Te,Je,Xe,Me]})};var yo=class n{constructor(t){this.http=t}url=j.toApiUrl("officers");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var us=class n{constructor(t){this.http=t}url=j.toApiUrl("fonction-agent");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return t._method="patch",this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var zH=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function UH(n,t){if(n&1){let e=S();a(0,"button",53),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",54),s()}}function HH(n,t){if(n&1){let e=S();a(0,"button",55),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",56),s()}}function WH(n,t){if(n&1){let e=S();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=p(2),o=E(49);return g(r.add(o))}),b(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=p(2),o=E(53);return g(r.show(o))}),b(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.edit(o))}),b(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",48),s(),k(10,UH,2,0,"button",49)(11,HH,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",52),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function qH(n,t){if(n&1){let e=S();a(0,"tr",34)(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,WH,14,2,"div",38),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.numero_matricule),u(2),Di("",e==null?null:e.lastname," ",e==null?null:e.firstname,""),u(2),L(e==null||e.fonction_agent==null?null:e.fonction_agent.libelle),u(2),L(e==null||e.unite_admin==null?null:e.unite_admin.libelle)}}function $H(n,t){if(n&1){let e=S();a(0,"tr",57)(1,"td",58)(2,"div",59),b(3,"i",60),a(4,"p",61),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",62),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",63),c(8," R\xE9initialiser la recherche "),s()()()()}}function GH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function YH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function QH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function KH(n,t){if(n&1){let e=S();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement d'un nouvel agent"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",68),s()(),a(7,"div",69)(8,"div",70)(9,"label",71),c(10,"Matricule "),a(11,"span",72),c(12,"(*)"),s()(),b(13,"input",73),s(),a(14,"div",70)(15,"label",71),c(16,"Nom "),a(17,"span",72),c(18,"(*)"),s()(),b(19,"input",74),s(),a(20,"div",70)(21,"label",71),c(22,"Pr\xE9noms "),a(23,"span",72),c(24,"(*)"),s()(),b(25,"input",75),s(),a(26,"div",70)(27,"label",71),c(28,"Fonction "),a(29,"span",72),c(30,"(*)"),s()(),a(31,"ng-select",76),k(32,GH,2,2,"ng-option",77),s()(),a(33,"div",70)(34,"label",71),c(35,"Entit\xE9 administrative "),a(36,"span",72),c(37,"(*)"),s()(),a(38,"ng-select",78),v("change",function(r){f(e);let o=p();return g(o.loadUas(r))}),k(39,YH,2,2,"ng-option",77),s()(),a(40,"div",70)(41,"label",71),c(42,"Unit\xE9 administrative "),a(43,"span",72),c(44,"(*)"),s()(),a(45,"ng-select",79),k(46,QH,2,2,"ng-option",77),s()()(),a(47,"div",80)(48,"button",81),c(49,"Sauvegarder "),b(50,"app-loading",82),s()()()}if(n&2){let e=E(1),i=p();u(32),h("ngForOf",i.data3),u(7),h("ngForOf",i.data2),u(7),h("ngForOf",i.uas),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function JH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function XH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit,i=p().dismiss;h("value",i.id),u(),L(e.name)}}function ZH(n,t){if(n&1&&(a(0,"ng-option",83),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function eW(n,t){if(n&1){let e=S();a(0,"form",64,4),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Modification d'un agent"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",68),s()(),a(7,"div",69)(8,"div",70)(9,"label",71),c(10,"Matricule "),a(11,"span",72),c(12,"(*)"),s()(),a(13,"input",84),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.numero_matricule,r)||(o.selected_data.numero_matricule=r),g(r)}),s()(),a(14,"div",70)(15,"label",71),c(16,"Nom "),a(17,"span",72),c(18,"(*)"),s()(),a(19,"input",85),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.lastname,r)||(o.selected_data.lastname=r),g(r)}),s()(),a(20,"div",70)(21,"label",71),c(22,"Pr\xE9noms "),a(23,"span",72),c(24,"(*)"),s()(),a(25,"input",86),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.firstname,r)||(o.selected_data.firstname=r),g(r)}),s()(),a(26,"div",70)(27,"label",71),c(28,"Fonction "),a(29,"span",72),c(30,"(*)"),s()(),a(31,"ng-select",87),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.fonction_agent_id,r)||(o.selected_data.fonction_agent_id=r),g(r)}),k(32,JH,2,2,"ng-option",77),s()(),a(33,"div",70)(34,"label",71),c(35,"Entit\xE9 administrative "),a(36,"span",72),c(37,"(*)"),s()(),a(38,"ng-select",88),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),g(r)}),k(39,XH,2,2,"ng-option",77),s()(),a(40,"div",70)(41,"label",71),c(42,"Unit\xE9 administrative "),a(43,"span",72),c(44,"(*)"),s()(),a(45,"ng-select",89),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.unite_admin_id,r)||(o.selected_data.unite_admin_id=r),g(r)}),k(46,ZH,2,2,"ng-option",77),s()()(),a(47,"div",80)(48,"button",81),c(49,"Sauvegarder "),b(50,"app-loading",82),s()()()}if(n&2){let e=E(1),i=p();u(13),V("ngModel",i.selected_data.numero_matricule),u(6),V("ngModel",i.selected_data.lastname),u(6),V("ngModel",i.selected_data.firstname),u(6),V("ngModel",i.selected_data.fonction_agent_id),u(),h("ngForOf",i.data3),u(6),V("ngModel",i.selected_data.entite_admin_id),u(),h("ngForOf",i.data2),u(6),V("ngModel",i.selected_data.unite_admin_id),u(),h("ngForOf",i.uas),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function tW(n,t){if(n&1){let e=S();a(0,"div",65)(1,"h4",66),c(2,"D\xE9tails des informations"),s(),a(3,"button",90),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",91),s()}}var vm=class n{constructor(t,e,i,r,o,l,d){this.offcerService=t;this.entityAdminService=e;this.fonctionAgentService=i;this.locService=r;this.modalService=l;this.toastrService=d;o.backdrop="static",o.keyboard=!1}isDtInitialized=!1;selected_data;user;data=[];data2=[];data3=[];uas=[];permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.getFonctionAgent(),this.getEntityAdmin(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.offcerService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}loadUas(t){this.uas=this.data2.find(e=>e.id==t)?.uas,console.log(this.uas,t)}getEntityAdmin(){this.entityAdminService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}getFonctionAgent(){this.fonctionAgentService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}checked(t){this.selected_data=t,this.uas=this.data2.find(e=>e.id==t.entite_admin_id)?.uas}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.offcerService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,this.offcerService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.offcerService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.offcerService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.offcerService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(yo),T(hr),T(us),T(se),T(ut),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-officer"]],standalone:!0,features:[J],decls:54,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","numero_matricule","ngModel","",1,"form-control"],["type","text","name","lastname","ngModel","",1,"form-control"],["type","text","name","firstname","ngModel","",1,"form-control"],["name","fonction_agent_id","ngModel",""],[3,"value",4,"ngFor","ngForOf"],["name","entite_admin_id","ngModel","",3,"change"],["name","unite_admin_id","ngModel",""],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["type","text","name","numero_matricule",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","firstname",1,"form-control",3,"ngModelChange","ngModel"],["name","fonction_agent_id",3,"ngModelChange","ngModel"],["name","entite_admin_id",3,"ngModelChange","ngModel"],["name","unite_admin_id",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",5),c(1,"Liste des agents"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=E(49);return g(i.add(l))}),b(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),b(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Matricule"),s(),a(35,"th",29),c(36,"Identit\xE9"),s(),a(37,"th",29),c(38,"Fonction"),s(),a(39,"th",29),c(40,"Unit\xE9 administrative"),s()()(),a(41,"tbody"),k(42,qH,13,10,"tr",30),ee(43,"paginate"),ee(44,"sampleSearch"),k(45,$H,9,0,"tr",31),s()()(),a(46,"div",32)(47,"pagination-controls",33),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(48,KH,51,5,"ng-template",null,0,B)(50,eW,51,11,"ng-template",null,1,B)(52,tW,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(16),h("ngForOf",re(44,17,re(43,14,i.data,qe(20,zH,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,he,Ce,Ee,Ae,He,ke,Dn,gn,Te,Je,Xe,Me]})};var yi={showError(n,t){let e="";if(console.log(t.error),t.error.errorsList!=null){e=`<h4><b>${t.error.message}</b></><ul>`;for(let i in t.error.errorsList)Object.prototype.hasOwnProperty.call(t.error.errorsList,i)&&t.error.errorsList[i].forEach(o=>{e+=`<li> ${o}</li> `});e+="</ul>",pe.simpleAlertWithHtml("error",n,e)}else e=t.error.message,pe.simpleAlert("error",n,e)}};var VS=[{name:"Tableau de bord admin",link:"/admin/dashboard",tag:"tdb-admin"},{name:"Gestion des ann\xE9es acad\xE9miques",link:"/admin/configurations/academic-year",tag:"g-ay"},{name:"Gestion des param\xE8tres d'\xE9cole",link:"/admin/configurations/school",tag:"g-school-setting"},{name:"Gestion des param\xE8tres g\xE9n\xE9raux",link:"/admin/configurations/settings",tag:"g-general-settings"},{name:"Gestion des cycles",link:"/admin/configurations/cycles",tag:"g-cycles"},{name:"Gestion des salles",link:"/admin/configurations/rooms",tag:"g-rooms"},{name:"Gestion des p\xE9riodes",link:"/admin/configurations/periods",tag:"g-periods"},{name:"Gestion des s\xE9ries de classe",link:"/admin/configurations/levels",tag:"g-levels"},{name:"Gestion des classes",link:"/admin/configurations/classrooms",tag:"g-classrooms"},{name:"Gestion des documents pour inscription",link:"/admin/configurations/documents",tag:"g-documents"},{name:"Organisation des documents par classe ",link:"/admin/configurations/inscription-files",tag:"g-ins-files"},{name:"Gestion des inscriptions par classe",link:"/admin/configurations/inscription-validations",tag:"g-ins-validation"},{name:"Gestion des mati\xE8res",link:"/admin/configurations/courses",tag:"g-courses"},{name:"Gestion du personnel",link:"/admin/configurations/personals",tag:"g-personals"},{name:"Attricution des mati\xE8res au professeurs",link:"/admin/professors/courses",tag:"g-prof-courses"},{name:"Gestion des professeurs",link:"/admin/professors/list",tag:"g-prof-list"},{name:"Assignation de mati\xE8res au professeur par classe",link:"/admin/professors/classrooms",tag:"g-prof-classrooms"},{name:"Organisation des emplois",link:"/admin/timetable",tag:"g-prof-timetable"},{name:"Gestion des bulletins",link:"/admin/bulletins",tag:"g-bulletins"},{name:"Gestion des inscriptions",link:"/admin/inscription",tag:"g-inscription"},{name:"Gestion des utilisateurs",link:"/admin/users",tag:"g-users"},{name:"Gestion des r\xF4les",link:"/admin/roles",tag:"g-roles"},{name:"Gestion des permissions",link:"/admin/permissions",tag:"g-permissions"},{name:"profiles",link:"/admin/profiles",tag:"g-profiles"},{name:"Gestion des notes",link:"/admin/note-index",tag:"g-note-index"},{name:"Gestion des compositions",link:"/admin/composition-index",tag:"g-composition-index"},{name:"Suivi des compositions",link:"/admin/composition-by-classrooms",tag:"g-composition-by-classrooms"},{name:"Tableau de bord Apprenant",link:"/child-module/accueil",tag:"tdb-child"},{name:"Gestion du compte apprenant",link:"/child-module/student-account",tag:"g-student-account"},{name:"Consultation des ressources apprenant",link:"/child-module/student-docs",tag:"g-student-docs"},{name:"Consultation du cahier de texte apprenant",link:"/child-module/textbooks",tag:"g-student-textbooks"},{name:"Consultation de notes apprenant",link:"/child-module/notes",tag:"g-student-notes"},{name:"Consultation donn\xE9e de classe",link:"/child-module/classroom-infos",tag:"g-student-classroom-infos"},{name:"Inbox apprenant",link:"/child-module/inbox",tag:"g-student-inbox"},{name:"Consultation de l'agenda apprenant",link:"/child-module/agenda",tag:"g-student-agenda"},{name:"Consultation des fora",link:"/child-module/educational-fora",tag:"g-student-educational-fora"},{name:"Tableau de bord professeur",link:"/professor-module/accueil",tag:"tdb-professor"},{name:"Consultation d'emploi du temps",link:"/professor-module/timetables",tag:"g-professor-timetables"},{name:"Consultation des listes apprenant par classe",link:"/professor-module/claasroom-students-list",tag:"g-professor-claasroom-students-list"},{name:"Consultation des listes professors par classe",link:"/professor-module/claasroom-professors-list",tag:"g-professor-claasroom-professors-list"},{name:"Consultation de la liste du personel | vue enseigant",link:"/professor-module/professors-personal-list",tag:"g-professors-personal-list"},{name:"Consultation des appr\xE9ciation",link:"/professor-module/professors-appreciation",tag:"g-professors-appreciation"},{name:"Gestion de compte | vue enseignant",link:"/professor-module/professors-account",tag:"g-professor-professors-account"},{name:"Gestion des ressources | vue enseigant",link:"/professor-module/educational-resources",tag:"g-professor-educational-resources"},{name:"Gestion de fora \xE9diucatifs | vue enseignant",link:"/professor-module/educational-forum",tag:"g-educational-forum"},{name:"Gestion du cahier de texte",link:"/professor-module/textbook",tag:"g-professor-textbook"},{name:"Gestion des devoirs de maison",link:"/professor-module/tasklists",tag:"g-professor-tasklists"},{name:"Consultation des devoirs de maison",link:"/professor-module/tasklists-student-view",tag:"g-professor-tasklists-student-view"},{name:"Saisie de note",link:"/professor-module/note-create",tag:"g-professor-note-create"},{name:"Consultation de note",link:"/professor-module/",tag:"g-professor-note-index"}];var ym=class n{constructor(t){this.http=t}url=j.toApiUrl("permissions/");getAll(){return this.http.get(`${this.url}`,j.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,j.addAction("add"))}update(t,e){return e._method="patch",this.http.post(`${this.url}${t}/`,e,j.addAction("edit"))}delete(t){return this.http.delete(`${this.url}${t}`,j.addAction("delete"))}get(t){return this.http.get(`${this.url}`,j.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var nW=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function rW(n,t){if(n&1){let e=S();a(0,"button",20),v("click",function(){f(e);let r=p(),o=E(29);return g(r.add(o))}),c(1,"Ajouter"),s()}}function oW(n,t){if(n&1){let e=S();a(0,"button",34),v("click",function(){f(e);let r=p(3),o=E(33);return g(r.show(o))}),b(1,"i",35),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function aW(n,t){if(n&1){let e=S();a(0,"button",36),v("click",function(){f(e);let r=p(3),o=E(31);return g(r.edit(o))}),b(1,"i",37),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function sW(n,t){if(n&1){let e=S();a(0,"button",38),v("click",function(){f(e);let r=p(3);return g(r.delete())}),b(1,"i",39),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function lW(n,t){if(n&1){let e=S();a(0,"button",40),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",41),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function cW(n,t){if(n&1){let e=S();a(0,"button",42),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",43),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function dW(n,t){if(n&1){let e=S();a(0,"div",25)(1,"button",26),v("click",function(){f(e);let r=p(2),o=E(29);return g(r.add(o))}),b(2,"i",27),s(),k(3,oW,2,1,"button",28)(4,aW,2,1,"button",29)(5,sW,2,1,"button",30)(6,lW,2,1,"button",31)(7,cW,2,1,"button",32),a(8,"button",33),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),s()()}if(n&2){let e=p(2);u(),h("disabled",e.loading),u(2),h("ngIf",e.buttonsPermission.add),u(),h("ngIf",e.buttonsPermission.edit),u(),h("ngIf",e.buttonsPermission.delete),u(),h("ngIf",e.is_active!=null&&!e.is_active),u(),h("ngIf",e.is_active!=null&&e.is_active)}}function uW(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",21)(2,"div",22)(3,"input",23),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,dW,9,6,"div",24),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e.name)}}function mW(n,t){if(n&1&&(a(0,"ng-option",59),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),Di("",e.name," | ",e.space,"")}}function pW(n,t){if(n&1&&(a(0,"ng-option",59),c(1),s()),n&2){let e=t.$implicit;h("value",e),u(),L(e)}}function hW(n,t){if(n&1){let e=S();a(0,"form",44,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.create(r.value))}),a(2,"div",45)(3,"h6",46),c(4,"Cr\xE9er une permission"),s(),a(5,"button",47),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),c(10,"Fonctionnalit\xE9 du syst\xE8me "),a(11,"span",52),c(12,"(*)"),s()(),a(13,"ng-select",53),k(14,mW,2,3,"ng-option",54),s()(),a(15,"div",50)(16,"label",51),c(17,"Action permises "),a(18,"span",52),c(19,"(*)"),s()(),a(20,"ng-select",55),N("ngModelChange",function(r){f(e);let o=p();return F(o.actions2,r)||(o.actions2=r),g(r)}),k(21,pW,2,2,"ng-option",54),s()()()(),a(22,"div",56)(23,"button",57),c(24,"Sauvegarder "),b(25,"app-loading",58),s()()()}if(n&2){let e=E(1),i=p();u(14),h("ngForOf",i.features),u(6),V("ngModel",i.actions2),h("multiple",!0),u(),h("ngForOf",i.actions),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function fW(n,t){if(n&1&&(a(0,"ng-option",59),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),Di("",e.name," | ",e.space,"")}}function gW(n,t){if(n&1&&(a(0,"ng-option",59),c(1),s()),n&2){let e=t.$implicit;h("value",e),u(),L(e)}}function _W(n,t){if(n&1){let e=S();a(0,"form",44,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",45)(3,"h6",46),c(4,"Modifiier une permission"),s(),a(5,"button",47),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",48)(7,"div",49)(8,"div",50)(9,"label",51),c(10,"Fonctionnalit\xE9 du syst\xE8me "),a(11,"span",52),c(12,"(*)"),s()(),a(13,"ng-select",60),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.feature_id,r)||(o.selected_data.feature_id=r),g(r)}),k(14,fW,2,3,"ng-option",54),s()(),a(15,"div",50)(16,"label",51),c(17,"Action "),a(18,"span",52),c(19,"(*)"),s()(),a(20,"ng-select",61),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.action,r)||(o.selected_data.action=r),g(r)}),k(21,gW,2,2,"ng-option",54),s()()()(),a(22,"div",56)(23,"button",57),c(24,"Sauvegarder "),b(25,"app-loading",58),s()()()}if(n&2){let e=E(1),i=p();u(13),V("ngModel",i.selected_data.feature_id),u(),h("ngForOf",i.features),u(6),V("ngModel",i.selected_data.action),u(),h("ngForOf",i.actions),u(2),h("disabled",e.invalid),u(2),h("isVisible",i.loading)}}function bW(n,t){if(n&1){let e=S();a(0,"div",62)(1,"h4",63),c(2,"D\xE9tails"),s(),a(3,"button",47),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(4,"div",48)(5,"dl",64)(6,"dt"),c(7,"Nom"),s(),a(8,"dd"),c(9),s()()()}if(n&2){let e=p();u(9),L(e.selected_data.name)}}var xm=class n{constructor(t,e,i,r,o){this.cdRef=t;this.permissionService=e;this.toastrService=i;this.modalService=r;this.localService=o}selectedId=null;is_active=null;buttonsPermission;actionTemplate;selected_data;loading=!1;feature;search_text="";title="frontend";data=[];features=[];actions;actions2=["list","add","show","edit","delete","status"];actionChosen;tag="admin-permissions";pg={pageSize:10,p:0,total:0};ngOnInit(){this.features=VS,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.init()}init(){this.getAll()}getAll(){this.permissionService.getAll().subscribe(t=>{this.data=t.data,this.pg.total=t.data.length,this.modalService.dismissAll(),this.selectedId=null},t=>{yi.showError("Gestion des permissions",t)})}add(t){this.modalService.open(t,{size:"lg"})}edit(t){if(!this.verifyIfElementChecked())return;this.feature=JSON.parse(this.selected_data.menu);let e=JSON.parse(this.selected_data.actions);this.actionChosen=this.actions;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(this.actionChosen[i]=!0);console.log(this.actionChosen),this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t}create(t){this.loading=!0,this.permissionService.store(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,yi.showError("Gestion des permissions",e)})}getPage(t){this.pg.p=t}update(t){this.loading=!0,this.permissionService.update(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,yi.showError("Gestion des permissions",e)})}delete(){pe.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.permissionService.delete(this.selected_data.id).subscribe(i=>{this.toastrService.success(i.message),this.getAll()},i=>{yi.showError("Gestion des permissions",i)})})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.permissionService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}getJson(t){return JSON.parse(t)}static \u0275fac=function(e){return new(e||n)(T(Ot),T(ym),T(de),T(fe),T(se))};static \u0275cmp=G({type:n,selectors:[["app-permission"]],standalone:!0,features:[J],decls:34,vars:23,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],[1,"text-center","mb-3"],[1,"row"],[1,"p-1","mb-3","card"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center"],["name","","id","",1,"form-control","me-2"],["value",""],[1,""],["type","text","name","search_text","placeholder","Rechercher..",1,"input-search",3,"ngModelChange","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[2,"width","10px"],[4,"ngFor","ngForOf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-goup","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["name","feature_id","ngModel","","required",""],[3,"value",4,"ngFor","ngForOf"],["name","actions","required","",3,"ngModelChange","ngModel","multiple"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[3,"value"],["name","feature_id",3,"ngModelChange","ngModel"],["name","action",3,"ngModelChange","ngModel"],[1,"modal-header","bg-primary","text-white","text-center"],[1,"modal-title"],[1,"mb-3"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",4),c(1,"Liste des permissions"),s(),a(2,"div",5)(3,"div",6)(4,"div",7),k(5,rW,2,0,"button",8),a(6,"div",9)(7,"select",10)(8,"option",11),c(9,"Filtrer"),s()()(),a(10,"div",12)(11,"input",13),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),s()()(),a(12,"div",14)(13,"p"),c(14),s(),a(15,"div",15)(16,"table",16)(17,"thead",12)(18,"tr")(19,"th",17),c(20,"#"),s(),a(21,"th"),c(22,"Libell\xE9"),s()()(),a(23,"tbody"),k(24,uW,7,6,"tr",18),ee(25,"sampleSearch"),ee(26,"paginate"),s()()(),a(27,"pagination-controls",19),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()(),k(28,hW,26,6,"ng-template",null,0,B)(30,_W,26,6,"ng-template",null,1,B)(32,bW,10,1,"ng-template",null,2,B)}e&2&&(u(5),h("ngIf",i.buttonsPermission.add),u(6),V("ngModel",i.search_text),u(3),K("",i.data.length," \xE9l\xE9ment(s)"),u(10),h("ngForOf",re(26,16,re(25,13,i.data,i.search_text),qe(19,nW,i.pg.pageSize,i.pg.p,i.pg.total))),u(3),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Dn,gn,Te,Je,Xe,Me,bo]})};var vW=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function yW(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",55),s()}}function xW(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",57),s()}}function wW(n,t){if(n&1){let e=S();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=p(2),o=E(43);return g(r.add(o))}),b(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.show(o))}),b(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.edit(o))}),b(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",49),s(),k(10,yW,2,0,"button",50)(11,xW,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",53),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function CW(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,wW,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.libelle)}}function SW(n,t){if(n&1){let e=S();a(0,"tr",58)(1,"td",59)(2,"div",60),b(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function EW(n,t){n&1&&(a(0,"small",79),c(1,"Le libell\xE9 est requis."),s())}function kW(n,t){if(n&1&&(a(0,"span",77),k(1,EW,2,0,"small",78),s()),n&2){p();let e=E(11);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function TW(n,t){if(n&1){let e=S();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,'Enregistrement d"une nouvelle fonction'),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",69)(7,"div",70)(8,"label",71),c(9,"Libell\xE9"),s(),b(10,"input",72,4),k(12,kW,2,1,"span",73),s()(),a(13,"div",74)(14,"button",75),c(15,"Sauvegarder "),b(16,"app-loading",76),s()()()}if(n&2){let e=E(1),i=E(11),r=p();u(12),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function MW(n,t){n&1&&(a(0,"small",79),c(1,"Le libell\xE9 est requis."),s())}function IW(n,t){if(n&1&&(a(0,"span",77),k(1,MW,2,0,"small",78),s()),n&2){p();let e=E(11);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function DW(n,t){if(n&1){let e=S();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,'Modification d"une nouvelle fonction'),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",69)(7,"div",70)(8,"label",71),c(9,"Libell\xE9"),s(),a(10,"input",80,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.libelle,r)||(o.selected_data.libelle=r),g(r)}),s(),k(12,IW,2,1,"span",73),s()(),a(13,"div",74)(14,"button",75),c(15,"Sauvegarder "),b(16,"app-loading",76),s()()()}if(n&2){let e=E(1),i=E(11),r=p();u(10),V("ngModel",r.selected_data.libelle),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function AW(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",68),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",81),s()}}var wm=class n{constructor(t,e,i,r,o){this.fonctionAgentService=t;this.locService=e;this.modalService=r;this.toastrService=o;i.backdrop="static",i.keyboard=!1}selected_data;user;data=[];permissions=[];loading=!1;loading2=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.fonctionAgentService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null,this.modalService.dismissAll()},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.fonctionAgentService.store(t).subscribe(e=>{this.loading=!1,this.all(),this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}update(t){this.loading=!0,this.fonctionAgentService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.all(),this.toastrService.success("Enregistrement effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.fonctionAgentService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all(),this.toastrService.success("Suppression de type entit\xE9")},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.fonctionAgentService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.fonctionAgentService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(us),T(se),T(ut),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-post"]],standalone:!0,features:[J],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des fonctions agents"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(43);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),k(36,CW,7,6,"tr",31),ee(37,"paginate"),ee(38,"sampleSearch"),k(39,SW,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(42,TW,17,3,"ng-template",null,0,B)(44,DW,17,4,"ng-template",null,1,B)(46,AW,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(10),h("ngForOf",re(38,17,re(37,14,i.data,qe(20,vW,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var PW=n=>({"ng-toggle-focused":n});function OW(n,t){if(n&1&&(a(0,"span",7),c(1),s()),n&2){let e=p(2);h("ngStyle",e.labelLeftStyle),u(),K(" ",e.labelChecked," ")}}function RW(n,t){if(n&1&&(a(0,"span",8),c(1),s()),n&2){let e=p(2);h("ngStyle",e.labelRightStyle),u(),K(" ",e.labelUnchecked," ")}}function VW(n,t){if(n&1&&(kt(0),k(1,OW,2,2,"span",5)(2,RW,2,2,"span",6),Tt()),n&2){let e=p();u(),h("ngIf",e.toggled),u(),h("ngIf",!e.toggled)}}var eg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FS="#0099CC",FW="#e0e0e0",NW="",LW="",ea="#fff",BW="#dbdbdb",jW="silver",zW=0,ta=(()=>{class n{constructor(e,i){this.config=e,this._elementRef=i,this.value=this.config.value||!0,this.name=this.config.name||"",this.disabled=this.config.disabled||!1,this.height=this.config.height||25,this.width=this.config.width||45,this.margin=this.config.margin||2,this.fontSize=this.config.fontSize||void 0,this.speed=this.config.speed||300,this.color=this.config.color,this.switchColor=this.config.switchColor,this.labels=this.config.labels||!0,this.fontColor=this.config.fontColor||void 0,this.values=this.config.values||{checked:!0,unchecked:!1},this.textAlign=this.config.textAlign||{checked:"left",unchecked:"right"},this.id="",this.ariaLabel=null,this.ariaLabelledby=null,this.cssColors=!1,this.change=new Pe,this.valueChange=new Pe,this.onChange=r=>{},this.onTouch=()=>{},this._uniqueId="ng-toggle-"+ ++zW,this.id=this.id||this._uniqueId,this.ariaLabel=this.ariaLabel||this.name||this.id}ngOnInit(){this.setToogle()}onInput(e){this.value=e,this.onTouch(),this.onChange(this.value)}writeValue(e){this.value=e,this.setToogle()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouch=e}setDisabledState(e){this.disabled=e}setToogle(){let e=this.value,i=Object.values(this.values).findIndex(r=>r==e);i>-1&&(this.toggled=Object.keys(this.values)[i]=="checked")}ngOnChanges(e){for(let i in e){let r=e[i];i=="value"&&this.writeValue(r.currentValue)}}get coreStyle(){return{width:fr(this.width),height:fr(this.height),transition:`all ${this.speed}ms`,backgroundColor:this.cssColors?null:this.disabled?this.colorDisabled:this.colorCurrent,borderRadius:fr(Math.round(this.height/2))}}get buttonRadius(){let e=this.height-this.margin*2;return e>0?e:0}get distance(){return fr(this.width-this.height+this.margin)}get buttonStyle(){let e=`all ${this.speed}ms`,i=fr(this.margin),r=this.toggled?NS(this.distance,i):NS(i,i),o=this.switchColor?this.switchColorCurrent:null;return o=this.disabled?this.switchColorDisabled:o,{width:fr(this.buttonRadius),height:fr(this.buttonRadius),transition:e,transform:r,background:o}}get labelStyle(){return{lineHeight:fr(this.height),fontSize:this.fontSize?fr(this.fontSize):null,color:this.fontColor?this.fontColorCurrent:null,width:fr(this.width-this.buttonRadius-this.margin)}}get labelLeftStyle(){return tt(X({},this.labelStyle),{textAlign:this.textAlign.checked||this.textAlign})}get labelRightStyle(){return tt(X({},this.labelStyle),{textAlign:this.textAlign.unchecked||this.textAlign})}get colorChecked(){let{color:e}=this;return Cm(e)?Gn(e,"checked",FS):e||FS}get colorUnchecked(){return Gn(this.color,"unchecked",FW)}get colorDisabled(){return Gn(this.color,"disabled",BW)}get colorCurrent(){return this.toggled?this.colorChecked:this.colorUnchecked}get labelChecked(){return Gn(this.labels,"checked",NW)}get labelUnchecked(){return Gn(this.labels,"unchecked",LW)}get switchColorChecked(){return Gn(this.switchColor,"checked",ea)}get switchColorUnchecked(){return Gn(this.switchColor,"unchecked",ea)}get switchColorDisabled(){return Gn(this.switchColor,"disabled",jW)}get switchColorCurrent(){return Cm(this.switchColor)?this.toggled?this.switchColorChecked:this.switchColorUnchecked:this.switchColor||ea}get fontColorChecked(){return Gn(this.fontColor,"checked",ea)}get fontColorUnchecked(){return Gn(this.fontColor,"unchecked",ea)}get fontColorDisabled(){return Gn(this.fontColor,"disabled",ea)}get fontColorCurrent(){return Cm(this.fontColor)?this.disabled?this.fontColorDisabled:this.toggled?this.fontColorChecked:this.fontColorUnchecked:this.fontColor||ea}get label(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:`${this._uniqueId}-label`}toggle(e){let i=!this.toggled;this.toggled=i,this.value=this.getValue(i),this.onTouch(),this.onChange(this.value),this.valueChange.emit(this.value)}getValue(e){return e===!0?this.values.checked:this.values.unchecked}onFocus(e){!this.focused&&e.relatedTarget&&(this.focused=!0)}onFocusout(e){this._elementRef.nativeElement.contains(e.relatedTarget)||(this.focused=!1,this.onTouch())}static{this.\u0275fac=function(i){return new(i||n)(T(eg),T(Ne))}}static{this.\u0275cmp=G({type:n,selectors:[["ng-toggle"]],inputs:{value:"value",name:"name",disabled:"disabled",height:"height",width:"width",margin:"margin",fontSize:"fontSize",speed:"speed",color:"color",switchColor:"switchColor",labels:"labels",fontColor:"fontColor",values:"values",textAlign:"textAlign",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"]},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[vt([{provide:Wi,useExisting:ni(()=>n),multi:!0}]),Lt,J],decls:5,vars:16,consts:[[1,"ng-toggle-switch",3,"for"],["type","checkbox","role","checkbox",1,"ng-toggle-switch-input",3,"change","focusin","focusout","checked","disabled"],[1,"ng-toggle-switch-core",3,"ngClass","ngStyle"],[1,"ng-toggle-switch-button",3,"ngStyle"],[4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-left",3,"ngStyle",4,"ngIf"],["class","ng-toggle-switch-label ng-toggle-right",3,"ngStyle",4,"ngIf"],[1,"ng-toggle-switch-label","ng-toggle-left",3,"ngStyle"],[1,"ng-toggle-switch-label","ng-toggle-right",3,"ngStyle"]],template:function(i,r){i&1&&(a(0,"label",0)(1,"input",1),v("change",function(l){return r.toggle(l)})("focusin",function(l){return r.onFocus(l)})("focusout",function(l){return r.onFocusout(l)}),s(),a(2,"div",2),b(3,"div",3),s(),k(4,VW,3,2,"ng-container",4),s()),i&2&&(h("for",r.id),lt("id",r.label),u(),h("checked",r.value)("disabled",r.disabled),lt("id",r.id)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r.label)("aria-describedby",r.ariaDescribedby)("aria-checked",r.toggled),u(),h("ngClass",Ki(14,PW,r.focused))("ngStyle",r.coreStyle),u(),h("ngStyle",r.buttonStyle),u(),h("ngIf",r.labels))},dependencies:[oe,jn,ae,$_],styles:["label[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}.ng-toggle-switch[_ngcontent-%COMP%]{display:inline-block;position:relative;vertical-align:middle;-webkit-user-select:none;user-select:none;font-size:10px;cursor:pointer}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-input[_ngcontent-%COMP%]{opacity:0;position:absolute;width:1px;height:1px}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label[_ngcontent-%COMP%]{position:absolute;top:0;font-weight:600;color:#fff;z-index:1;padding:0 10px;box-sizing:border-box}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-left[_ngcontent-%COMP%]{left:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-label.ng-toggle-right[_ngcontent-%COMP%]{right:0}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]{display:block;position:relative;box-sizing:border-box;outline:0;margin:0;transition:border-color .3s,background-color .3s;-webkit-user-select:none;user-select:none}.ng-toggle-switch[_ngcontent-%COMP%]   .ng-toggle-switch-core[_ngcontent-%COMP%]   .ng-toggle-switch-button[_ngcontent-%COMP%]{display:block;position:absolute;overflow:hidden;top:0;left:0;border-radius:100%;background-color:#fff;z-index:2}.ng-toggle-switch.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.ng-toggle-focused[_ngcontent-%COMP%]{box-shadow:0 0 4px 3px #999}"]})}}return n})(),Cm=n=>typeof n=="object",UW=(n,t)=>Cm(n)&&n.hasOwnProperty(t),Gn=(n,t,e)=>UW(n,t)?n[t]:e,fr=n=>`${n}px`,NS=(n,t)=>`translate(${n}, ${t})`,LS=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[{provide:eg,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=ve({type:n})}static{this.\u0275inj=be({providers:[eg],imports:[ta]})}}return n})();var WW=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e}),tg=()=>({unchecked:"#939da2",checked:"#0C574E"}),ig=()=>({checked:!0,unchecked:!1});function qW(n,t){if(n&1){let e=S();a(0,"button",60),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",61),s()}}function $W(n,t){if(n&1){let e=S();a(0,"button",62),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",63),s()}}function GW(n,t){if(n&1){let e=S();a(0,"div",46)(1,"div",47)(2,"button",48),v("click",function(){f(e);let r=p(2),o=E(61);return g(r.add(o))}),b(3,"i",49),s(),a(4,"button",50),v("click",function(){f(e);let r=p(2),o=E(67);return g(r.show(o))}),b(5,"i",51),s(),a(6,"button",52),v("click",function(){f(e);let r=p(2),o=E(63);return g(r.edit(o))}),b(7,"i",53),s(),a(8,"button",54),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",55),s(),k(10,qW,2,0,"button",56)(11,$W,2,0,"button",57),a(12,"button",58),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",59),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function YW(n,t){if(n&1&&(a(0,"li"),c(1),s()),n&2){let e=t.$implicit;u(),L(e==null||e.unite_admin==null?null:e.unite_admin.libelle)}}function QW(n,t){if(n&1){let e=S();a(0,"tr",39)(1,"td",40)(2,"div",41)(3,"input",42),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,GW,14,2,"div",43),s(),a(5,"td"),c(6),s(),a(7,"td"),b(8,"p",44),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s(),a(13,"td"),c(14),s(),a(15,"td")(16,"b"),c(17,"Point d'entr\xE9e central"),s(),b(18,"br"),c(19),b(20,"br"),a(21,"b"),c(22,"Point d'entr\xE9e Secondaire"),s(),b(23,"br")(24,"br"),a(25,"ul"),k(26,YW,2,1,"li",45),s()(),a(27,"td"),c(28),s(),a(29,"td"),c(30),s(),a(31,"td"),c(32),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.name),u(2),h("innerHTML",e==null?null:e.desc,ua),u(2),L(i.getContentType(e==null?null:e.content_type)),u(2),L(e==null||e.unite_admin==null?null:e.unite_admin.libelle),u(2),L(e==null||e.signer2==null?null:e.signer2.libelle),u(5),K(" ",e==null||e.start_point2==null?null:e.start_point2.libelle," "),u(7),h("ngForOf",e==null?null:e.start_points),u(2),L(e!=null&&e.need_meeting?"oui":"non"),u(2),L(e!=null&&e.need_validation?"oui":"non"),u(2),K("",e==null?null:e.delay," jr(s)")}}function KW(n,t){if(n&1){let e=S();a(0,"tr",64)(1,"td",65)(2,"div",66),b(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function JW(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function XW(n,t){if(n&1&&(a(0,"div",77)(1,"label",78),c(2,"Entit\xE9 Admin"),s(),a(3,"select",106,5),k(5,JW,2,2,"option",82),s()()),n&2){let e=p(2);u(5),h("ngForOf",e.data3)}}function ZW(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function eq(n,t){n&1&&(a(0,"small",110),c(1,"Le libell\xE9 est requis."),s())}function tq(n,t){if(n&1&&(a(0,"span",108),k(1,eq,2,0,"small",109),s()),n&2){p();let e=E(23);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function iq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function nq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function rq(n,t){if(n&1&&(a(0,"ng-option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function oq(n,t){if(n&1){let e=S();a(0,"form",71,4),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de prestation"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Code de la prestation"),s(),b(11,"input",79),s(),k(12,XW,6,1,"div",80),a(13,"div",77)(14,"label",78),c(15,"Structure"),s(),a(16,"select",81,5),k(18,ZW,2,2,"option",82),s()(),a(19,"div",77)(20,"label",78),c(21,"Libell\xE9"),s(),b(22,"input",83,6),k(24,tq,2,1,"span",84),s(),a(25,"div",77)(26,"label",85),c(27,"Laissez une description de la prestation"),s(),b(28,"textarea",86),s(),a(29,"div",77)(30,"label",78),c(31,"Signataire"),s(),a(32,"select",87,5),k(34,iq,2,2,"option",82),s()(),a(35,"div",77)(36,"label",78),c(37,"Point d'entr\xE9e"),s(),a(38,"select",88,5),k(40,nq,2,2,"option",82),s()(),a(41,"div",77)(42,"label",78),c(43,"Type de contenu"),s(),a(44,"select",89,5)(46,"option",90),c(47,"A \xE9diter"),s(),a(48,"option",91),c(49,"A Charger"),s(),a(50,"option",92),c(51,"Pas de contenu"),s()()(),a(52,"div",77)(53,"label",78),c(54,"N\xE9cessit\xE9 de rendez vous pour cette prestation ?"),s(),a(55,"select",93,5)(57,"option",91),c(58,"OUI"),s(),a(59,"option",90),c(60,"NON"),s()()(),a(61,"div",77)(62,"label",78),c(63,"Besoin de validation pour chargement de pi\xE8ce finale"),s(),a(64,"select",94,5)(66,"option",91),c(67,"OUI"),s(),a(68,"option",90),c(69,"NON"),s()()(),a(70,"div",77)(71,"label",78),c(72,"D\xE9livrance automatique"),s(),a(73,"select",95,5)(75,"option",91),c(76,"OUI"),s(),a(77,"option",90),c(78,"NON"),s()()(),a(79,"div",96)(80,"label",85),c(81,"Unit\xE9 signataire "),a(82,"span",97),c(83,"(*)"),s()(),a(84,"ng-select",98),k(85,rq,2,2,"ng-option",82),s()(),a(86,"div",77)(87,"label",78),c(88,"G\xE9n\xE9ration de librable n\xE9cessaire"),s(),a(89,"select",99,5)(91,"option",91),c(92,"OUI"),s(),a(93,"option",90),c(94,"NON"),s()()(),a(95,"div",77)(96,"label",78),c(97,"D\xE9lai avant mise en abandon"),s(),b(98,"input",100,6),s(),a(100,"div",101)(101,"span"),c(102,"Formulaire sur le portail national ?"),s(),b(103,"ng-toggle",102),s()(),a(104,"div",103)(105,"button",104),c(106,"Sauvegarder "),b(107,"app-loading",105),s()()()}if(n&2){let e=E(1),i=E(23),r=p();u(12),h("ngIf",r.roles=="Admin national"),u(6),h("ngForOf",r.data2),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(10),h("ngForOf",r.data2),u(6),h("ngForOf",r.data4),u(45),h("ngForOf",r.data2),u(18),h("color",xi(10,tg))("values",xi(11,ig)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function aq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function sq(n,t){if(n&1){let e=S();a(0,"div",77)(1,"label",78),c(2,"Entit\xE9 Admin"),s(),a(3,"select",126,5),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),g(r)}),k(5,aq,2,2,"option",82),s()()}if(n&2){let e=p(2);u(3),V("ngModel",e.selected_data.entite_admin_id),u(2),h("ngForOf",e.data3)}}function lq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function cq(n,t){n&1&&(a(0,"small",110),c(1,"Le libell\xE9 est requis."),s())}function dq(n,t){if(n&1&&(a(0,"span",108),k(1,cq,2,0,"small",109),s()),n&2){p();let e=E(23);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function uq(n,t){if(n&1&&(a(0,"ng-option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function mq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function pq(n,t){if(n&1){let e=S();a(0,"div",77)(1,"label",78),c(2,"Point d'entr\xE9e"),s(),a(3,"select",127,5),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.start_point2.id,r)||(o.selected_data.start_point2.id=r),g(r)}),k(5,mq,2,2,"option",82),s()()}if(n&2){let e=p(2);u(3),V("ngModel",e.selected_data.start_point2.id),u(2),h("ngForOf",e.data4)}}function hq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function fq(n,t){if(n&1&&(a(0,"div",77)(1,"label",78),c(2,"Point d'entr\xE9e"),s(),a(3,"select",88,5),k(5,hq,2,2,"option",82),s()()),n&2){let e=p(2);u(5),h("ngForOf",e.data4)}}function gq(n,t){if(n&1){let e=S();a(0,"form",71,7),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification de prestation"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Code de la prestation"),s(),a(11,"input",111),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.code,r)||(o.selected_data.code=r),g(r)}),s()(),k(12,sq,6,2,"div",80),a(13,"div",77)(14,"label",78),c(15,"Structure"),s(),a(16,"select",112,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.unite_admin_id,r)||(o.selected_data.unite_admin_id=r),g(r)}),k(18,lq,2,2,"option",82),s()(),a(19,"div",77)(20,"label",78),c(21,"Libell\xE9"),s(),a(22,"input",113,6),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s(),k(24,dq,2,1,"span",84),s(),a(25,"div",77)(26,"label",85),c(27,"Laissez une description de la prestation"),s(),a(28,"textarea",114),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.desc,r)||(o.selected_data.desc=r),g(r)}),s()(),a(29,"div",96)(30,"label",85),c(31,"Unit\xE9 signataire "),a(32,"span",97),c(33,"(*)"),s()(),a(34,"ng-select",115),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.signer2.id,r)||(o.selected_data.signer2.id=r),g(r)}),k(35,uq,2,2,"ng-option",82),s()(),k(36,pq,6,2,"div",80)(37,fq,6,1,"div",80),a(38,"div",77)(39,"label",78),c(40,"Type de contenu"),s(),a(41,"select",116,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.content_type,r)||(o.selected_data.content_type=r),g(r)}),a(43,"option",90),c(44,"A \xE9diter"),s(),a(45,"option",91),c(46,"A Charger"),s(),a(47,"option",92),c(48,"Pas de contenu"),s()()(),a(49,"div",77)(50,"label",78),c(51,"N\xE9cessit\xE9 de rendez vous pour cette prestation ?"),s(),a(52,"select",117,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.need_meeting,r)||(o.selected_data.need_meeting=r),g(r)}),a(54,"option",91),c(55,"OUI"),s(),a(56,"option",90),c(57,"NON"),s()()(),a(58,"div",77)(59,"label",78),c(60,"Besoin de validation pour chargement de pi\xE8ce finale"),s(),a(61,"select",118,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.need_validation,r)||(o.selected_data.need_validation=r),g(r)}),a(63,"option",91),c(64,"OUI"),s(),a(65,"option",90),c(66,"NON"),s()()(),a(67,"div",77)(68,"label",78),c(69,"D\xE9livrance automatique"),s(),a(70,"select",119,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.is_automatic_delivered,r)||(o.selected_data.is_automatic_delivered=r),g(r)}),a(72,"option",91),c(73,"OUI"),s(),a(74,"option",90),c(75,"NON"),s()()(),a(76,"div",77)(77,"label",78),c(78,"Unit\xE9 signataire"),s(),a(79,"select",120,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.signer,r)||(o.selected_data.signer=r),g(r)}),a(81,"option",91),c(82,"OUI"),s(),a(83,"option",90),c(84,"NON"),s()()(),a(85,"div",77)(86,"label",78),c(87,"G\xE9n\xE9ration de librable n\xE9cessaire"),s(),a(88,"select",121,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.needOut,r)||(o.selected_data.needOut=r),g(r)}),a(90,"option",91),c(91,"OUI"),s(),a(92,"option",90),c(93,"NON"),s()()(),a(94,"div",77)(95,"label",78),c(96,"D\xE9lai avant mise en abandon"),s(),a(97,"input",122,6),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.delay,r)||(o.selected_data.delay=r),g(r)}),s()(),a(99,"div",123)(100,"span"),c(101,"Prestation \xE0 d\xE9livrance auto"),s(),a(102,"ng-toggle",124),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.is_automatic_delivered,r)||(o.selected_data.is_automatic_delivered=r),g(r)}),s()(),a(103,"div",101)(104,"span"),c(105,"Formulaire sur le portail national ?"),s(),a(106,"ng-toggle",125),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.from_pns,r)||(o.selected_data.from_pns=r),g(r)}),s()()(),a(107,"div",103)(108,"button",104),c(109,"Sauvegarder "),b(110,"app-loading",105),s()()()}if(n&2){let e=E(1),i=E(23),r=p();u(11),V("ngModel",r.selected_data.code),u(),h("ngIf",r.roles=="Admin national"),u(4),V("ngModel",r.selected_data.unite_admin_id),u(2),h("ngForOf",r.data4),u(4),V("ngModel",r.selected_data.name),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(4),V("ngModel",r.selected_data.desc),u(6),V("ngModel",r.selected_data.signer2.id),u(),h("ngForOf",r.data2),u(),h("ngIf",r.selected_data.start_point!=null),u(),h("ngIf",r.selected_data.start_point==null),u(4),V("ngModel",r.selected_data.content_type),u(11),V("ngModel",r.selected_data.need_meeting),u(9),V("ngModel",r.selected_data.need_validation),u(9),V("ngModel",r.selected_data.is_automatic_delivered),u(9),V("ngModel",r.selected_data.signer),u(9),V("ngModel",r.selected_data.needOut),u(9),V("ngModel",r.selected_data.delay),u(5),V("ngModel",r.selected_data.is_automatic_delivered),h("color",xi(26,tg))("values",xi(27,ig)),u(4),V("ngModel",r.selected_data.from_pns),h("color",xi(28,tg))("values",xi(29,ig)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function _q(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function bq(n,t){if(n&1&&(a(0,"option",107),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function vq(n,t){if(n&1){let e=S();a(0,"form",71,8),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.addSP(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Ajout des points d'entr\xE9e"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Prestation"),s(),a(11,"select",128,5),k(13,_q,2,2,"option",82),s()(),a(14,"div",77)(15,"label",78),c(16,"Unit\xE9 administrative"),s(),a(17,"select",81,5),k(19,bq,2,2,"option",82),s()()(),a(20,"div",103)(21,"button",104),c(22,"Sauvegarder "),b(23,"app-loading",105),s()()()}if(n&2){let e=E(1),i=p();u(13),h("ngForOf",i.data),u(6),h("ngForOf",i.data4),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function yq(n,t){if(n&1){let e=S();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",129),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",76),b(5,"div",130),s()}}var Sm=class n{constructor(t,e,i,r,o,l,d){this.unityAdminService=t;this.prestationService=e;this.locService=i;this.entityService=r;this.modalService=l;this.toastrService=d;o.backdrop="static",o.keyboard=!1}isDtInitialized=!1;selected_data;user;roles;data=[];permissions=[];data2=[];data3=[];data4=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;exampleData=[];options;value=[];selectedFilter="";ngOnInit(){this.roles=this.locService.get(Z.role),this.all(),this.getUnityAdmins(),this.getEntities(),this.getUnityAdminsAll(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.options={width:"500",multiple:!0,tags:!0}}all(){this.loading2=!0,this.prestationService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}getUnityAdmins(){this.unityAdminService.getPrincipal().subscribe(t=>{this.data2=t.data},t=>{})}getUnityAdminsAll(){this.unityAdminService.getAll().subscribe(t=>{this.data4=t.data,this.data4.forEach(e=>{this.exampleData.push({id:e.id,text:e.libelle})})},t=>{})}checked(t){this.selected_data=t}getEntities(){this.entityService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}open(t){this.modalService.open(t)}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.prestationService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Enregistrement effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.prestationService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.prestationService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all(),this.toastrService.success("Suppression effectu\xE9e avec succ\xE8s")},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.prestationService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.prestationService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}getContentType(t){switch(t){case 0:return"A \xE9diter";case 1:return"A Charger";case 2:return"Pas de contenu";default:return"A \xE9diter"}}addSP(t){this.loading=!0,this.prestationService.saveStartPoint(t).subscribe(e=>{this.modalService.dismissAll(),this.all(),this.loading=!1},e=>{this.loading=!1})}static \u0275fac=function(e){return new(e||n)(T(Pn),T(An),T(se),T(hr),T(ut),T(fe),T(de))};static \u0275cmp=G({type:n,selectors:[["ngx-prestation"]],standalone:!0,features:[J],decls:68,vars:24,consts:[["addContent",""],["editContent",""],["dialogSP",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["editForm","ngForm"],["addSPForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","code","ngModel","",1,"form-control"],["class","form-group",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","unite_admin_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["for",""],["name","desc","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","signer","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","start_point","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","content_type","ngModel","",1,"form-control"],["value","0"],["value","1"],["value","2"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_meeting","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_validation","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","is_automatic_delivered","ngModel","",1,"form-control"],[1,"form-group","col-12","mb-3"],[1,"text-danger","ml-2"],["name","signer","ngModel",""],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","needOut","ngModel","",1,"form-control"],["type","number","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","delay","ngModel","","min","1","max","30",1,"form-control"],[1,"d-flex","justify-content-between"],["name","from_pns","ngModel","",3,"color","values"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id","ngModel","",1,"form-control"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","code",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","unite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["name","desc",1,"form-control",3,"ngModelChange","ngModel"],["name","signer","name","signer",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","content_type",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_meeting",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","need_validation",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","is_automatic_delivered",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","signer",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","needOut",1,"form-control",3,"ngModelChange","ngModel"],["type","number","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","delay","min","1","max","30",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","mb-3"],["name","is_automatic_delivered",3,"ngModelChange","ngModel","color","values"],["name","from_pns",3,"ngModelChange","ngModel","color","values"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","start_point",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","prestation_id","ngModel","",1,"form-control"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",9),c(1,"Liste des agents"),s(),a(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"div",14)(7,"button",15),v("click",function(){f(r);let l=E(61);return g(i.add(l))}),b(8,"i",16),c(9," Ajouter "),s(),a(10,"button",17),v("click",function(){f(r);let l=E(65);return g(i.open(l))}),c(11,"Ajouter de nouveaux points d'entr\xE9es"),s(),a(12,"div",18)(13,"div",19)(14,"select",20),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(15,"option",21),c(16,"Filtrer Par"),s(),a(17,"option",22),c(18,"R\xF4le"),s(),a(19,"option",23),c(20,"Statut"),s()(),a(21,"input",24),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(22,"button",25),v("click",function(){return f(r),g(i.resetSearch())}),b(23,"i",26),s()()()()(),a(24,"div",27)(25,"div",28)(26,"p",29),b(27,"i",30),c(28),s()(),a(29,"div",31)(30,"table",32)(31,"thead")(32,"tr")(33,"th",33),c(34,"#"),s(),a(35,"th",34),c(36,"Libell\xE9"),s(),a(37,"th",34),c(38,"Description"),s(),a(39,"th",34),c(40,"type de contenu"),s(),a(41,"th",34),c(42,"Structure"),s(),a(43,"th",34),c(44,"Signataire"),s(),a(45,"th",34),c(46,"Point d'entr\xE9e"),s(),a(47,"th",34),c(48,"N\xE9ceesit\xE9 de rencontre"),s(),a(49,"th",34),c(50,"Besoin de validation"),s(),a(51,"th",34),c(52,"Mise en abandon"),s()()(),a(53,"tbody"),k(54,QW,33,15,"tr",35),ee(55,"paginate"),ee(56,"sampleSearch"),k(57,KW,9,0,"tr",36),s()()(),a(58,"div",37)(59,"pagination-controls",38),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(60,oq,108,12,"ng-template",null,0,B)(62,gq,111,30,"ng-template",null,1,B)(64,vq,24,4,"ng-template",null,2,B)(66,yq,6,0,"ng-template",null,3,B)}e&2&&(u(14),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(26),h("ngForOf",re(56,17,re(55,14,i.data,qe(20,WW,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,hf,$e,Qe,me,xe,Oe,bf,_f,he,Ce,Ee,Ae,He,ke,Dn,gn,Te,Je,Xe,Me,ta]})};var Em=class n{constructor(t){this.http=t}url=j.toApiUrl("profiles");getAll(){return this.http.get(this.url,j.addAction("list"))}store(t){return this.http.post(this.url,t,j.addAction("add"))}copyStore(t){return this.http.post(this.url+"-copy",t,j.addAction("add"))}show(t){return this.http.get(`${this.url}/${t}`,j.addAction("show"))}update(t,e){return this.http.patch(`${this.url}/${e}`,t,j.addAction("edit"))}delete(t){return this.http.delete(`${this.url}/${t}`,j.addAction("delete"))}state(t){return this.http.get(`${this.url}/${t}/status`,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var BS="primary",vc=class n{constructor(t){Object.assign(this,t)}static create(t){return!t?.template&&!t?.type&&console.warn(`[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component
        and ensure css is added to angular.json file`),new n(t)}},km=(()=>{class n{constructor(){this.spinnerObservable=new ci(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(ii(i=>i&&i.name===e))}show(e=BS,i){return new Promise((r,o)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=e,this.spinnerObservable.next(new vc(tt(X({},i),{show:!0}))),r(!0)):(this.spinnerObservable.next(new vc({name:e,show:!0})),r(!0))},10)})}hide(e=BS,i=10){return new Promise((r,o)=>{setTimeout(()=>{this.spinnerObservable.next(new vc({name:e,show:!1})),r(!0)},i)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),phe=new Le("NGX_SPINNER_CONFIG");function wq(n,t){if(n&1){let e=S();a(0,"button",14),v("click",function(){f(e);let r=p().$implicit,o=p(),l=E(6);return g(o.open(l,r))}),c(1,"Ajouter un droit "),s()}}function Cq(n,t){if(n&1){let e=S();a(0,"div",15)(1,"div",16),b(2,"i",17),c(3),s(),a(4,"div",18)(5,"span",19),v("click",function(){let r=f(e).$implicit,o=p().$implicit,l=p();return g(l.revoke(o.id,r.id))}),a(6,"u"),c(7,"Retirer"),s()()(),b(8,"hr",20),s()}if(n&2){let e=t.$implicit;u(3),K(" ",e.name," ")}}function Sq(n,t){if(n&1){let e=S();a(0,"div",5)(1,"div",6)(2,"h5"),c(3),s(),a(4,"div",7)(5,"label",8)(6,"strong"),c(7,"Rechercher:"),s()(),a(8,"input",9),N("ngModelChange",function(r){f(e);let o=p();return F(o.search_text,r)||(o.search_text=r),g(r)}),s()(),a(9,"button",10),v("click",function(){let r=f(e).$implicit,o=p(),l=E(8);return g(o.open(l,r))}),c(10,"Copier vers "),s(),k(11,wq,2,0,"button",11),s(),a(12,"div",12),k(13,Cq,9,1,"div",13),ee(14,"sampleSearch"),s()()}if(n&2){let e=t.$implicit,i=p();u(3),K(" ",e.name,""),u(5),V("ngModel",i.search_text),u(3),h("ngIf",i.buttonsPermission.add),u(2),h("ngForOf",re(14,4,e.permissions,i.search_text))}}function Eq(n,t){if(n&1&&(a(0,"ng-option",31),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function kq(n,t){if(n&1){let e=S();a(0,"form",21,2),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.store(o.value,r))}),a(2,"div",22)(3,"h6",23),c(4," Ajout de droit"),s(),a(5,"button",24),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",25)(7,"div",26)(8,"label",8),c(9,"Permission"),s(),a(10,"ng-select",27),k(11,Eq,2,2,"ng-option",28),s()(),a(12,"div")(13,"button",29),c(14,"Sauvegarder "),b(15,"app-loading",30),s()()()()}if(n&2){let e=E(1),i=p();u(10),h("multiple",!0),u(),h("ngForOf",i.permissions),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Tq(n,t){if(n&1&&(a(0,"ng-option",31),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function Mq(n,t){if(n&1){let e=S();a(0,"form",21,2),v("ngSubmit",function(){let r=f(e).dialogRef,o=E(1),l=p();return g(l.copyStore(o.value,r))}),a(2,"div",22)(3,"h6",23),c(4," Copie de droit vers "),s(),a(5,"button",24),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",25)(7,"div",26)(8,"label",8),c(9,"R\xF4le"),s(),a(10,"ng-select",32),k(11,Tq,2,2,"ng-option",28),s()(),a(12,"div")(13,"button",29),c(14,"Sauvegarder "),b(15,"app-loading",30),s()()()()}if(n&2){let e=E(1),i=p();u(11),h("ngForOf",i.data),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}var yc=class n{constructor(t,e,i,r,o,l){this.locService=t;this.profileService=e;this.toastrService=i;this.dialogService=r;this.modalService=o;this.spinnerService=l}selected_data;selectedId=null;is_active=null;buttonsPermission;data=[];user;actions;features=[];permissions=[];permissionsChosen=[];loading=!1;loading2=!1;tag="admin-profiles";search_text="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0]?.permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.permissionsChosen=[],this.loading2=!0,this.spinnerService.show(),this.profileService.getAll().subscribe(t=>{this.data=t.data?.roles,this.permissions=t.data?.permissions,this.loading2=!1,this.spinnerService.hide(),this.selectedId=null},t=>{this.spinnerService.hide(),this.loading2=!1})}getJson(t){return JSON.parse(t)}checked(t){this.selected_data=t}open(t,e){this.selected_data=e,this.dialogService.open(t,{size:"lg"})}store(t,e){this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),this.loading=!0,t.id=this.selected_data.id,this.profileService.store(t).subscribe(i=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Profil","Ajout de droit")},i=>{this.loading=!1,yi.showError("Gestion des profils",i)})}copyStore(t,e){this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),t.id=this.selected_data.id,this.loading=!0,this.profileService.copyStore(t).subscribe(i=>{this.loading=!1,this.modalService.dismissAll(),this.all(),this.toastrService.success("Profil","Ajout de droit")},i=>{this.loading=!1,yi.showError("Gestion des profils",i)})}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}revoke(t,e){this.loading=!0,confirm("Voulez vous retirer ce droit ?")&&(this.toastrService.info("Profil","Ajout de Op\xE9ration en cours"),this.profileService.update({id:e},t).subscribe(i=>{this.loading=!1,this.all(),this.toastrService.success("Profil","Retrait de droit")},i=>{this.loading=!1,yi.showError("Gestion des profils",i)}))}getActions(t){console.log(t),this.actions=JSON.parse(this.permissions.find(e=>e.id==t)?.actions??""),console.log(this.actions)}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.profileService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}static \u0275fac=function(e){return new(e||n)(T(se),T(Em),T(de),T(fe),T(fe),T(km))};static \u0275cmp=G({type:n,selectors:[["ngx-profile"]],standalone:!0,features:[J],decls:9,vars:1,consts:[["addContent",""],["dialog2",""],["addForm","ngForm"],[1,"text-center","mb-3"],["class","card mb-3",4,"ngFor","ngForOf"],[1,"card","mb-3"],[1,"card-header","d-flex","flex-column","flex-md-row","justify-content-md-between"],[1,"form-group"],["for",""],["type","text","name","search_text",3,"ngModelChange","ngModel"],[1,"btn","btn-warning","btn-sm","mb-1",3,"click"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],[1,"card-body",2,"height","50vh","overflow-y","scroll","overflow-x","hidden"],["class","row",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row"],[1,"col-12","col-md-11"],["icon","arrowhead-right-outline"],[1,"col-12","col-md-1"],[1,"float-right","text-danger","hand",3,"click"],[1,"col-12"],[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"form-group","mb-3"],["name","permissions","ngModel","",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["name","role_id","ngModel",""]],template:function(e,i){e&1&&(a(0,"h2",3),c(1,"R\xF4les & Permissions"),s(),a(2,"div")(3,"div"),k(4,Sq,15,7,"div",4),s()(),k(5,kq,16,4,"ng-template",null,0,B)(7,Mq,16,3,"ng-template",null,1,B)),e&2&&(u(4),h("ngForOf",i.data))},dependencies:[oe,_e,ae,ce,we,ue,me,xe,he,Ce,Ee,Ae,He,Te,ke,Dn,gn],styles:[".hand[_ngcontent-%COMP%]{cursor:pointer}"]})};var ms=class n{constructor(t){this.http=t}url=j.toApiUrl("roles/");getAll(){return this.http.get(`${this.url}`,j.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,j.addAction("add"))}update(t,e){return this.http.put(`${this.url}${t}/`,e,j.addAction("list"))}delete(t){return this.http.delete(`${this.url}${t}`,j.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,j.addAction("show"))}copy(t){return this.http.post(`${j.toApiUrl("roles-windows-copy")}`,t,j.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var Iq=["contentAdd"],Dq=["contentEdit"],Aq=["contentShow"],Pq=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function Oq(n,t){if(n&1){let e=S();a(0,"button",22),v("click",function(){f(e);let r=p(),o=E(29);return g(r.add(o))}),c(1,"Ajouter"),s()}}function Rq(n,t){if(n&1){let e=S();a(0,"button",36),v("click",function(){f(e);let r=p(3),o=E(37);return g(r.show(o))}),b(1,"i",37),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function Vq(n,t){if(n&1){let e=S();a(0,"button",38),v("click",function(){f(e);let r=p(3),o=E(33);return g(r.edit(o))}),b(1,"i",39),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function Fq(n,t){if(n&1){let e=S();a(0,"button",40),v("click",function(){f(e);let r=p(3);return g(r.delete())}),b(1,"i",41),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function Nq(n,t){if(n&1){let e=S();a(0,"button",42),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",43),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function Lq(n,t){if(n&1){let e=S();a(0,"button",44),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",45),s()}if(n&2){let e=p(3);h("disabled",e.loading)}}function Bq(n,t){if(n&1){let e=S();a(0,"div",27)(1,"button",28),v("click",function(){f(e);let r=p(2),o=E(29);return g(r.add(o))}),b(2,"i",29),s(),k(3,Rq,2,1,"button",30)(4,Vq,2,1,"button",31)(5,Fq,2,1,"button",32)(6,Nq,2,1,"button",33)(7,Lq,2,1,"button",34),a(8,"button",35),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),s()()}if(n&2){let e=p(2);u(),h("disabled",e.loading),u(2),h("ngIf",e.buttonsPermission.show),u(),h("ngIf",e.buttonsPermission.edit),u(),h("ngIf",e.buttonsPermission.delete),u(),h("ngIf",e.is_active!=null&&!e.is_active),u(),h("ngIf",e.is_active!=null&&e.is_active)}}function jq(n,t){if(n&1){let e=S();a(0,"tr")(1,"td",23)(2,"div",24)(3,"input",25),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,Bq,9,6,"div",26),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e.name)}}function zq(n,t){if(n&1){let e=S();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.create(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Cr\xE9er un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",52)(9,"label",53),c(10,"Libell\xE9"),s(),b(11,"input",54),s()(),a(12,"div",55)(13,"div",56)(14,"label",57),c(15," Fixer ce r\xF4le ? "),s(),b(16,"input",58),s()()(),a(17,"div",59)(18,"button",60),c(19,"Sauvegarder "),b(20,"app-loading",61),s()()()}if(n&2){let e=E(1),i=p();u(18),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function Uq(n,t){if(n&1&&(a(0,"ng-option",66),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function Hq(n,t){if(n&1&&(a(0,"ng-option",66),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function Wq(n,t){if(n&1){let e=S();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.copy(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Copier un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",62)(9,"label",53),c(10,"Ancien r\xF4le"),s(),a(11,"ng-select",63),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.id,r)||(o.selected_data.id=r),g(r)}),k(12,Uq,2,2,"ng-option",64),s()(),a(13,"div",62)(14,"label",53),c(15,"Ancien r\xF4le"),s(),a(16,"ng-select",65),k(17,Hq,2,2,"ng-option",64),s()()()(),a(18,"div",59)(19,"button",60),c(20,"Faire la copie "),b(21,"app-loading",61),s()()()}if(n&2){let e=E(1),i=p();u(11),V("ngModel",i.selected_data.id),u(),h("ngForOf",i.data),u(5),h("ngForOf",i.data),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function qq(n,t){if(n&1){let e=S();a(0,"form",46,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",47)(3,"h6",48),c(4,"Modifiier un r\xF4le"),s(),a(5,"button",49),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),s()(),a(6,"div",50)(7,"div",51)(8,"div",52)(9,"label",53),c(10,"Libell\xE9"),s(),a(11,"input",67),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s()()()(),a(12,"div",59)(13,"button",60),c(14,"Sauvegarder "),b(15,"app-loading",61),s()()()}if(n&2){let e=E(1),i=p();u(11),V("ngModel",i.selected_data.name),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function $q(n,t){if(n&1&&(a(0,"li",76),c(1),s()),n&2){let e=p().$implicit;u(),L(e.title)}}function Gq(n,t){if(n&1&&(a(0,"li")(1,"a",79),b(2,"i",80),c(3),s()()),n&2){let e=p().$implicit;u(),h("routerLink",e.route),u(2),K("",e.name," ")}}function Yq(n,t){if(n&1&&(a(0,"li")(1,"a",85),b(2,"i",86),c(3),s()()),n&2){let e=p().$implicit;u(),Ln("routerLink",e==null?null:e.route),u(2),K("",e==null?null:e.name," ")}}function Qq(n,t){if(n&1&&(kt(0),k(1,Yq,4,2,"li",77),Tt()),n&2){let e=t.$implicit;u(),h("ngIf",e.status)}}function Kq(n,t){if(n&1&&(a(0,"li",14)(1,"a",81),b(2,"i",82),c(3),b(4,"i",83),s(),a(5,"ul",84),k(6,Qq,2,1,"ng-container",20),s()()),n&2){let e=p(),i=e.$implicit,r=e.index,o=p().index;u(),D_("aria-controls","collapseExample",r,""),kp("href","#collapseExample",o,"",r,"",ma),u(2),K("",i.name," "),u(2),kp("id","collapseExample",o,"",r,""),u(),h("ngForOf",i.children)}}function Jq(n,t){if(n&1&&(kt(0),k(1,Gq,4,2,"li",77)(2,Kq,7,10,"li",78),Tt()),n&2){let e=t.$implicit;u(),h("ngIf",!e.isTitle&&!e.hasChildren&&e.status),u(),h("ngIf",!e.isTitle&&e.hasChildren&&e.status)}}function Xq(n,t){if(n&1&&(kt(0),k(1,$q,2,1,"li",75)(2,Jq,3,2,"ng-container",20),Tt()),n&2){let e=t.$implicit;u(),h("ngIf",e.status),u(),h("ngForOf",e.elements)}}function Zq(n,t){if(n&1){let e=S();a(0,"div",68)(1,"h4",69),c(2,"Visualiseur de menu"),s(),a(3,"button",70),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",71)(5,"div",72)(6,"div",73)(7,"ul",74),k(8,Xq,3,2,"ng-container",20),s()()()()}if(n&2){let e=p();u(8),h("ngForOf",e.menu)}}function e$(n,t){if(n&1){let e=S();a(0,"div",47)(1,"h4",48),c(2,"D\xE9tails des informations"),s(),a(3,"button",49),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),b(4,"div",50)}}var Tm=class n{constructor(t,e,i,r,o,l){this.cdRef=t;this.roleService=e;this.router=i;this.toastrService=r;this.modalService=o;this.offcanvasService=l}contentAdd;contentEdit;contentShow;menu=[];selectedId=null;is_active=null;buttonsPermission;actionTemplate;selected_data;loading=!1;tag="admin-roles";title="frontend";search_text="";data=[];pg={pageSize:10,p:0,total:0};ngOnInit(){this.init(),this.buttonsPermission={show:!1,add:!0,edit:!0,delete:!0}}ngAfterViewInit(){this.actionTemplate={add:{type:0,path:this.contentAdd},edit:{type:0,path:this.contentEdit},show:{type:0,path:this.contentShow}},this.cdRef.detectChanges()}init(){this.getAll()}getAll(){this.roleService.getAll().subscribe(t=>{this.data=t.data,this.modalService.dismissAll(),this.selectedId=null},t=>{yi.showError("Gestion des r\xF4les",t)})}add(t){this.modalService.open(t,{size:"lg"})}openMenu(t){this.verifyIfElementChecked()&&this.selected_data.windows&&(this.menu=this.selected_data.windows,this.offcanvasService.open(t,{position:"end"}))}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}checked(t){this.selected_data=t}create(t){console.log(t),this.loading=!0,t.canOverwrite==""&&(t.canOverwrite=!1),t.guard_name="api",this.roleService.store(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,yi.showError("Gestion des r\xF4les",e)})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}copy(t){this.loading=!0,t.old_id=this.selected_data.id,this.roleService.copy(t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,yi.showError("Gestion des r\xF4les",e)})}update(t){console.log(t),this.loading=!0,t.canOverwrite==""&&(t.canOverwrite=!1),t.guard_name="api",this.roleService.update(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.getAll(),this.loading=!1},e=>{this.loading=!1,yi.showError("Gestion des r\xF4les",e)})}delete(){pe.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.roleService.delete(this.selected_data.id).subscribe(i=>{this.toastrService.success(i.message),this.getAll()},i=>{yi.showError("Gestion des r\xF4les",i)})})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.roleService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}getPage(t){this.pg.p=t}goToWindows(){this.router.navigate(["/admin/profiles/"+this.selected_data.id])}static \u0275fac=function(e){return new(e||n)(T(Ot),T(ms),T(Be),T(de),T(fe),T(pS))};static \u0275cmp=G({type:n,selectors:[["app-role"]],viewQuery:function(e,i){if(e&1&&(gt(Iq,5),gt(Dq,5),gt(Aq,5)),e&2){let r;ze(r=Ue())&&(i.contentAdd=r.first),ze(r=Ue())&&(i.contentEdit=r.first),ze(r=Ue())&&(i.contentShow=r.first)}},standalone:!0,features:[J],decls:38,vars:23,consts:[["addContent",""],["contentCopy",""],["editContent",""],["contentMenu",""],["showContent",""],["addForm","ngForm"],[1,"text-center","mb-3"],[1,"row"],[1,"card","p-1","mb-3","card"],[1,"d-flex","justify-content-between"],["class","btn btn-sm btn-info",3,"click",4,"ngIf"],[1,"align-self-center"],["name","","id","",1,"form-control","me-2"],["value",""],[1,""],["type","text","name","search_text","placeholder","Rechercher..",1,"input-search",3,"ngModelChange","ngModel"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[2,"width","10px"],[4,"ngFor","ngForOf"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"position-relative",2,"z-index","10"],[1,"form-check","mb-2"],["type","radio","name","selectedDoc",1,"form-check-input",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],["title","Ajouter","matTooltip","Ajouter",1,"btn","btn-info","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-plus-lg"],["type","button","class","btn btn-outline-primary btn-sm btn-label waves-effect waves-light mb-1 me-3","title","Consulter","matTooltip","Consulter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-warning btn-sm btn-label waves-effect waves-light mb-1 me-3","title","\xC9diter","matTooltip","\xC9diter",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Supprimer","matTooltip","Supprimer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-success btn-sm btn-label waves-effect waves-light me-3 mb-1","title","Activer","matTooltip","Activer",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-outline-danger btn-sm btn-label waves-effect waves-light me-3 mb-1","title","D\xE9sactiver","matTooltip","D\xE9sactiver",3,"disabled","click",4,"ngIf"],["type","button","title","Fermer","matTooltip","Fermer",1,"btn-close","float-end",3,"click"],["type","button","title","Consulter","matTooltip","Consulter",1,"btn","btn-outline-primary","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-eye"],["type","button","title","\xC9diter","matTooltip","\xC9diter",1,"btn","btn-outline-warning","btn-sm","btn-label","waves-effect","waves-light","mb-1","me-3",3,"click","disabled"],[1,"bi","bi-pencil"],["type","button","title","Supprimer","matTooltip","Supprimer",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-trash"],["type","button","title","Activer","matTooltip","Activer",1,"btn","btn-outline-success","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver","matTooltip","D\xE9sactiver",1,"btn","btn-outline-danger","btn-sm","btn-label","waves-effect","waves-light","me-3","mb-1",3,"click","disabled"],[1,"bi","bi-toggle-off"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-group"],["for",""],["type","text","name","name","ngModel","",1,"form-control"],[1,"container"],[1,"form-check"],["for","flexCheckChecked",1,"form-check-label","me-5"],["type","checkbox","name","canOverwrite","ngModel","","id","flexCheckChecked",1,"form-check-input"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[1,"form-group","col-12"],["name","old_id","required","","disabled","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","new_id","ngModel","","required",""],[3,"value"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],[1,"offcanvas-header"],[1,"offcanvas-title"],["id","closePDFBtn","type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body"],[1,"scrollbar-sidebar","ag-bg-red",2,"overflow","scroll","height","90vh"],[1,"app-sidebar__inner"],[1,"vertical-nav-menu"],["class","app-sidebar__heading g-text-yellow",4,"ngIf"],[1,"app-sidebar__heading","g-text-yellow"],[4,"ngIf"],["class","",4,"ngIf"],["routerLinkActive","mm-active",1,"text-white",3,"routerLink"],[1,"metismenu-icon","pe-7s-graph2"],["data-bs-toggle","collapse","role","button","aria-expanded","false",1,"text-white",3,"href"],[1,"metismenu-icon","pe-7s-rocket"],[1,"metismenu-state-icon","pe-7s-angle-down","caret-left"],[1,"collapse",3,"id"],["routerLinkActive","mm-active",1,"",2,"color","aliceblue",3,"routerLink"],[1,"metismenu-icon"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des r\xF4les"),s(),a(2,"div",7)(3,"div",8)(4,"div",9),k(5,Oq,2,0,"button",10),a(6,"div",11)(7,"select",12)(8,"option",13),c(9,"Filtrer"),s()()(),a(10,"div",14)(11,"input",15),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),s()()(),a(12,"div",16)(13,"p"),c(14),s(),a(15,"div",17)(16,"table",18)(17,"thead",14)(18,"tr")(19,"th",19),c(20,"#"),s(),a(21,"th"),c(22,"Libell\xE9"),s()()(),a(23,"tbody"),k(24,jq,7,6,"tr",20),ee(25,"sampleSearch"),ee(26,"paginate"),s()()(),a(27,"pagination-controls",21),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()(),k(28,zq,21,2,"ng-template",null,0,B)(30,Wq,22,5,"ng-template",null,1,B)(32,qq,16,3,"ng-template",null,2,B)(34,Zq,9,1,"ng-template",null,3,B)(36,e$,5,0,"ng-template",null,4,B)}e&2&&(u(5),h("ngIf",i.buttonsPermission.add),u(6),V("ngModel",i.search_text),u(3),K("",i.data.length," \xE9l\xE9ment(s)"),u(10),h("ngForOf",re(26,16,re(25,13,i.data,i.search_text),qe(19,Pq,i.pg.pageSize,i.pg.p,i.pg.total))),u(3),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,Ul,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Dn,gn,Te,Je,Xe,Xi,Ji,wd,Me,bo],styles:[".vertical-nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.mm-active[_ngcontent-%COMP%], .vertical-nav-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#c14f44!important}"]})};function t$(n,t){if(n&1&&(a(0,"p",23)(1,"ngb-alert",24),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function i$(n,t){if(n&1){let e=S();a(0,"form",15,1),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),k(2,t$,3,2,"p",16),a(3,"div",17)(4,"label",18),c(5,"Matricule"),s(),a(6,"input",19,2),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.numero_matricule,r)||(o.selected_data.numero_matricule=r),g(r)}),s()(),a(8,"div",17)(9,"label",18),c(10,"Nom"),s(),a(11,"input",20,3),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.lastname,r)||(o.selected_data.lastname=r),g(r)}),s()(),a(13,"div",17)(14,"label",18),c(15,"Pr\xE9noms"),s(),a(16,"input",21,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.firstname,r)||(o.selected_data.firstname=r),g(r)}),s()(),a(18,"button",22),c(19,"Sauvegarder "),s()()}if(n&2){let e=E(1),i=p();u(2),h("ngIf",i.error!=""),u(4),V("ngModel",i.selected_data.numero_matricule),u(5),V("ngModel",i.selected_data.lastname),u(5),V("ngModel",i.selected_data.firstname),u(2),h("disabled",e.invalid||i.loading)}}function n$(n,t){if(n&1){let e=S();a(0,"form",15,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.changePassword(r.value,r))}),a(2,"div",17)(3,"label",18),c(4,"Votre mot de passe"),s(),b(5,"input",25),s(),a(6,"div",17)(7,"label",18),c(8,"Nouveau"),s(),b(9,"input",26),s(),a(10,"div",17)(11,"label",18),c(12,"Confirmer"),s(),b(13,"input",27),s(),a(14,"button",22),c(15,"Sauvegarder "),s()()}if(n&2){let e=E(1),i=p();u(14),h("disabled",e.invalid||i.loading)}}function r$(n,t){if(n&1){let e=S();a(0,"div",28)(1,"button",29),v("click",function(){f(e);let r=p();return g(r.generateCode())}),c(2,"Envoyer le lien de g\xE9n\xE9ration du code de signature "),b(3,"app-loading",30),s()(),a(4,"div",31)(5,"form",15,6),v("ngSubmit",function(){f(e);let r=E(6),o=p();return g(o.changeCode(r.value,r))}),a(7,"div",17)(8,"label",18),c(9,"Saisissez le code"),s(),b(10,"input",26),s(),a(11,"div",17)(12,"label",18),c(13,"Retapez le code"),s(),b(14,"input",27),s(),a(15,"button",22),c(16,"Sauvegarder "),s()()()}if(n&2){let e=E(6),i=p();u(),h("disabled",i.loading),u(2),h("isVisible",i.loading),u(12),h("disabled",e.invalid||i.loading)}}var xc=class n{constructor(t,e,i,r,o,l,d){this.localService=t;this.offcerService=e;this.authService=i;this.toastrService=r;this.router=o;this.auth=l;this.router2=d}role="";error="";user;loading=!1;selected_data={numero_matricule:""};fileUploaded;token;active=1;buttonsPermission;ngOnInit(){this.user=this.localService.get(Z.userName),this.role=this.user?.roles[0].name,this.selected_data=this.user?.agent,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}update(t){this.loading=!0,this.offcerService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.toastrService.success("Modification effectu\xE9e avec succ\xE8s")},e=>{this.loading=!1})}upload(t){this.fileUploaded=t.target.files[0]}changePassword(t,e){this.loading=!0;var i=new FormData;i.append("old_password",t.old_password),i.append("new_password",t.password),i.append("confirm_password",t.c_password),this.authService.changePassword(i).subscribe(r=>{this.loading=!1,this.toastrService.success("Modification effectu\xE9e avec succ\xE8s"),e.resetForm(),this.auth.logout().subscribe(o=>{console.log(o),o&&(localStorage.removeItem(Z.token),localStorage.removeItem(Z.user),localStorage.removeItem(Z.role),this.router2.navigate(["/admin"]))},o=>{console.log(o)})},r=>{this.loading=!1})}generateCode(){this.authService.sendLink().subscribe(t=>{this.loading=!1,this.toastrService.success("Veuillez consultez votre bo\xEFte mail!")},t=>{this.loading=!1})}changeCode(t,e){t.c_password!=t.password&&this.toastrService.error("Code non identique"),this.loading=!0;var i=new FormData;i.append("password",t.password),i.append("c_password",t.c_password),i.append("token",this.token),this.authService.changeCode(i).subscribe(r=>{this.loading=!1,e.reset(),this.active=1,this.toastrService.success("Code de signature modifi\xE9 avec succ\xE8s")},r=>{this.loading=!1})}static \u0275fac=function(e){return new(e||n)(T(se),T(yo),T(_i),T(de),T(Ke),T(_i),T(Be))};static \u0275cmp=G({type:n,selectors:[["ngx-settings"]],standalone:!0,features:[J],decls:17,vars:5,consts:[["nav","ngbNav"],["editForm","ngForm"],["numero_matricule","ngModel"],["lastname","ngModel"],["firstname","ngModel"],["passwordForm","ngForm"],["codeForm","ngForm"],[1,"card"],[1,"card-body"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink","",1,"text-dark"],["ngbNavContent",""],["ngbNavLink",""],[1,"mt-2",3,"ngbNavOutlet"],[3,"ngSubmit"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","numero_matricule",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","lastname",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","firstname",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","old_password","ngModel","",1,"form-control"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","password","ngModel","",1,"form-control"],["type","password","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","c_password","ngModel","",1,"form-control"],[1,"text-center","p-5"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],[3,"isVisible"],[1,""]],template:function(e,i){if(e&1){let r=S();a(0,"div",7)(1,"div",8)(2,"nav",9,0),N("activeIdChange",function(l){return f(r),F(i.active,l)||(i.active=l),g(l)}),kt(4,10),a(5,"a",11),c(6,"Information personnelle"),s(),k(7,i$,20,5,"ng-template",12),Tt(),kt(8,10),a(9,"a",11),c(10,"Changement de mot de passe"),s(),k(11,n$,16,1,"ng-template",12),Tt(),kt(12,10),a(13,"a",13),c(14,"Mon code de signature"),s(),k(15,r$,17,3,"ng-template",12),Tt(),s(),b(16,"div",14),s()()}if(e&2){let r=E(3);u(2),V("activeId",i.active),u(2),h("ngbNavItem",1),u(4),h("ngbNavItem",2),u(4),h("ngbNavItem",3),u(4),h("ngbNavOutlet",r)}},dependencies:[oe,ae,ce,we,ue,me,xe,Oe,he,Ce,Ee,_o,Bf,tm,em,tS,im,iS,Ae,ke,Te,Me]})};var o$=(n,t)=>({labels:n,datasets:t});function a$(n,t){if(n&1&&(a(0,"tr")(1,"td"),c(2),s(),a(3,"td"),c(4),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),c(10),s(),a(11,"td"),c(12),s()()),n&2){let e=t.$implicit;u(2),L(e.name),u(2),L(e.total),u(2),L(e.treated),u(2),L(e.rejected),u(2),L(e.signed),u(2),L(e.finished)}}function s$(n,t){if(n&1&&(a(0,"div",11),b(1,"canvas",12),s()),n&2){let e=p();u(),h("type","line")("data",vr(3,o$,e.chartLabels,e.chartData))("options",e.chartOptions)}}function l$(n,t){if(n&1){let e=S();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",16),b(5,"div",17),s()}}function c$(n,t){if(n&1){let e=S();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",16),b(5,"div",17),s()}}function d$(n,t){if(n&1){let e=S();a(0,"div",13)(1,"h4",14),c(2,"D\xE9tails des informations"),s(),a(3,"button",15),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",16),b(5,"div",17),s()}}var Mm=class n{constructor(t,e,i,r){this.locService=t;this.toastrService=e;this.modalService=i;this.dashService=r}user;userprestations=[];data;chartData=[];chartLabels=[];chartOptions={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:!0}}};pg={pageSize:10,p:1,total:0};loading=!1;is_active=!1;isPaginate=!0;search_text="";remoteSearchData=[];selectedId=null;selected_data;buttonsPermission;ngOnInit(){this.user=this.locService.get(Z.userName),this.dashService.getAll().subscribe(t=>{this.data=t.data.data,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0},this.data.forEach(e=>{this.chartData.push({label:e.name,data:e.stats_by_month,pointHitRadius:15,pointHoverRadius:8})}),this.chartLabels=t.data?.months})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.dashService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.dashService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}getPage(t){this.isPaginate?this.pg.p=t:this.pg.p=t}export(){let t=j.toApiUrl("dash/stats/download/"+this.user.id);window.open(t,"_blank")}update(t,e){this.loading=!0,this.dashService.update(t,this.selected_data.id).subscribe(i=>{this.loading=!1,e.close()},i=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.dashService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1},t=>{this.loading=!1})}static \u0275fac=function(e){return new(e||n)(T(se),T(de),T(fe),T(mr))};static \u0275cmp=G({type:n,selectors:[["app-statiistique"]],standalone:!0,features:[J],decls:31,vars:2,consts:[["addContent",""],["editContent",""],["showContent",""],[1,"card"],[1,"card-header","d-flex","justify-content-end"],[1,"btn","btn-sm","btn-info",3,"click"],[1,"card-body"],[1,"table","table-bordred","mb-3","table-sm"],[4,"ngFor","ngForOf"],[1,""],["class","chart-wrapper text-center",4,"ngIf"],[1,"chart-wrapper","text-center"],["baseChart","",3,"type","data","options"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){return f(r),g(i.export())}),c(3,"Exporter en PDF"),s()(),a(4,"div",6)(5,"table",7)(6,"thead")(7,"th"),c(8,"Libell\xE9"),s(),a(9,"th"),c(10,"Totales"),s(),a(11,"th"),c(12,"Trait\xE9es"),s(),a(13,"th"),c(14,"Rejet\xE9es"),s(),a(15,"th"),c(16,"D\xE9livr\xE9es"),s(),a(17,"th"),c(18,"Finalis\xE9es"),s()(),a(19,"tbody"),k(20,a$,13,6,"tr",8),s()(),a(21,"div",9)(22,"h4"),c(23,"Graphe d'\xE9volution des demandes au cours des mois"),s(),k(24,s$,2,6,"div",10),s()()(),k(25,l$,6,0,"ng-template",null,0,B)(27,c$,6,0,"ng-template",null,1,B)(29,d$,6,0,"ng-template",null,2,B)}e&2&&(u(20),h("ngForOf",i.data),u(4),h("ngIf",i.data!=null))},dependencies:[oe,_e,ae,ce,Ee,ke,Te,Me,xu],styles:[".chart-wrapper[_ngcontent-%COMP%]{width:800px;height:400px}"]})};function u$(n,t){if(n&1){let e=S();a(0,"button",23),v("click",function(){f(e);let r=p(2);return g(r.setStatus(0))}),c(1,"Fermer ce ticket"),s()}if(n&2){let e=p(2);h("disabled",e.loading2)}}function m$(n,t){if(n&1){let e=S();a(0,"button",24),v("click",function(){f(e);let r=p(2);return g(r.setStatus(1))}),c(1,"R\xE9ouvrir ce ticket"),s()}if(n&2){let e=p(2);h("disabled",e.loading2)}}function p$(n,t){if(n&1&&(a(0,"div",20),k(1,u$,2,1,"button",21)(2,m$,2,1,"button",22),s()),n&2){let e=p();u(),h("ngIf",e.data==null?null:e.data.is_open),u(),h("ngIf",!(e.data!=null&&e.data.is_open))}}function h$(n,t){n&1&&(a(0,"span",25),c(1," Ouvert"),s())}function f$(n,t){n&1&&(a(0,"span",26),c(1," Ferm\xE9"),s())}function g$(n,t){if(n&1&&(a(0,"div",6)(1,"dl")(2,"dt")(3,"b"),c(4,"Contenu :"),s()(),a(5,"dd"),c(6),s()(),a(7,"dl")(8,"dt")(9,"b"),c(10,"Date:"),s()(),a(11,"dd"),c(12),ee(13,"date"),s()()()),n&2){let e=t.$implicit;u(6),L(e.content),u(6),L(re(13,2,e.created_at,"dd-MM-yyyy"))}}function _$(n,t){if(n&1){let e=S();a(0,"div",27)(1,"h4",28),c(2,"D\xE9tails des informations"),s(),a(3,"button",29),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",30),b(5,"div",31),s()}}var Im=class n{constructor(t,e,i,r,o,l){this.billingService=t;this.toastrService=e;this.modalService=r;this.locService=o;this.route=l;i.backdrop="static",i.keyboard=!1}selected_data;data;typeBillings=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];token;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),this.token!=null&&this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.show(this.token).subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}sendContact(t){this.billingService.storeResponse({content:t.value.content,billing_id:this.data.id}).subscribe(e=>{this.data=e.data,t.resetForm(),this.all()},e=>{})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}setStatus(t){this.loading2=!0,this.billingService.setStatus(this.data.id,t).subscribe(e=>{this.loading2=!1,this.all()},e=>{this.loading2=!1})}static \u0275fac=function(e){return new(e||n)(T(vo),T(de),T(ut),T(fe),T(se),T(Ke))};static \u0275cmp=G({type:n,selectors:[["app-support-details"]],standalone:!0,features:[J],decls:50,vars:12,consts:[["contactForm","ngForm"],["showContent",""],[1,"container"],["class","d-flex justify-content-end mb-3",4,"ngIf"],[1,"row"],[1,"col-12","col-md-9"],[1,"shadow","p-3","mb-5","bg-white","rounded"],[1,"d-flex","justify-content-end"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[1,"mb-3"],["class","shadow p-3 mb-5 bg-white rounded",4,"ngFor","ngForOf"],[1,"card","card-body","mt-5"],[3,"ngSubmit"],[1,"form-group","col-lg-12","col-md-12","col-sm-12"],["name","content","placeholder","Envoyez une r\xE9ponse*","required","","ngModel","",1,"form-control"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","submit",1,"btn","btn-sm","btn-primary",3,"disabled"],[1,"fa","fa","fa-send","text-yellow","ml-3"],[1,"col-12","col-md-3"],[1,"d-flex","justify-content-end","mb-3"],["class","btn btn-sm bg-danger text-white",3,"disabled","click",4,"ngIf"],["class","btn btn-sm bg-success text-white",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","bg-danger","text-white",3,"click","disabled"],[1,"btn","btn-sm","bg-success","text-white",3,"click","disabled"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"div",2),k(1,p$,3,2,"div",3),a(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),k(6,h$,2,0,"span",8)(7,f$,2,0,"span",9),s(),a(8,"dl")(9,"dt")(10,"b"),c(11,"Type de sujet :"),s()(),a(12,"dd"),c(13),s()(),a(14,"dl")(15,"dt")(16,"b"),c(17,"Objet :"),s()(),a(18,"dd"),c(19),s()(),a(20,"dl")(21,"dt")(22,"b"),c(23,"Contenu :"),s()(),a(24,"dd"),c(25),s()(),a(26,"dl")(27,"dt")(28,"b"),c(29,"Date:"),s()(),a(30,"dd"),c(31),ee(32,"date"),s()()(),a(33,"h4",10)(34,"b"),c(35,"Liste des r\xE9ponses"),s()(),k(36,g$,14,5,"div",11),a(37,"div",12)(38,"form",13,0),v("ngSubmit",function(){f(r);let l=E(39);return g(i.sendContact(l))}),a(40,"div",4)(41,"div",14),b(42,"textarea",15),s(),a(43,"div",16)(44,"button",17),c(45,"Envoyer ma r\xE9ponse"),b(46,"i",18),s()()()()()(),b(47,"div",19),s()(),k(48,_$,6,0,"ng-template",null,1,B)}if(e&2){let r=E(39);u(),h("ngIf",i.user.id==(i.data==null?null:i.data.user_id)),u(5),h("ngIf",i.data==null?null:i.data.is_open),u(),h("ngIf",!(i.data!=null&&i.data.is_open)),u(6),L(i.data.type==null?null:i.data.type.name),u(6),L(i.data.object),u(6),L(i.data.content),u(6),L(re(32,9,i.data.created_at,"dd-MM-yyyy")),u(5),h("ngForOf",i.data.responses),u(8),h("disabled",r.invalid)}},dependencies:[oe,_e,ae,jt,ce,we,ue,me,xe,Oe,he,Ce,Ee,ke,Te,Me]})};var ps=class n{constructor(t){this.http=t}url=j.toApiUrl("type-billings");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var b$=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function v$(n,t){if(n&1){let e=S();a(0,"button",58),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",59),s()}}function y$(n,t){if(n&1){let e=S();a(0,"button",60),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",61),s()}}function x$(n,t){if(n&1){let e=S();a(0,"div",44)(1,"div",45)(2,"button",46),v("click",function(){f(e);let r=p(2),o=E(49);return g(r.add(o))}),b(3,"i",47),s(),a(4,"button",48),v("click",function(){f(e);let r=p(2),o=E(53);return g(r.show(o))}),b(5,"i",49),s(),a(6,"button",50),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.edit(o))}),b(7,"i",51),s(),a(8,"button",52),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",53),s(),k(10,v$,2,0,"button",54)(11,y$,2,0,"button",55),a(12,"button",56),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",57),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function w$(n,t){n&1&&(a(0,"span",62),c(1," Ouvert"),s())}function C$(n,t){n&1&&(a(0,"span",63),c(1," Ferm\xE9"),s())}function S$(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,x$,14,2,"div",39),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),k(10,w$,2,0,"span",40)(11,C$,2,0,"span",41),s(),a(12,"td")(13,"a",42),c(14," ouvrir "),b(15,"i",43),s()()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null||e.type==null?null:e.type.name),u(2),L(e==null?null:e.object),u(2),h("ngIf",e==null?null:e.is_open),u(),h("ngIf",!(e!=null&&e.is_open)),u(2),We("routerLink","/admin/support/details/",e.token,"")}}function E$(n,t){if(n&1){let e=S();a(0,"tr",64)(1,"td",65)(2,"div",66),b(3,"i",67),a(4,"p",68),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",69),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",70),c(8," R\xE9initialiser la recherche "),s()()()()}}function k$(n,t){if(n&1&&(a(0,"option",86),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function T$(n,t){if(n&1){let e=S();a(0,"form",71,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Type de sujet"),s(),a(11,"select",79,4),k(13,k$,2,2,"option",80),s()(),a(14,"div",77)(15,"label",78),c(16,"Objet"),s(),b(17,"input",81),s(),a(18,"div",77)(19,"label",78),c(20,"Content"),s(),b(21,"textarea",82),s()(),a(22,"div",83)(23,"button",84),c(24,"Sauvegarder "),b(25,"app-loading",85),s()()()}if(n&2){let e=E(1),i=p();u(13),h("ngForOf",i.typeBillings),u(10),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function M$(n,t){n&1&&(a(0,"small",91),c(1,"Le libell\xE9 est requis."),s())}function I$(n,t){if(n&1&&(a(0,"span",89),k(1,M$,2,0,"small",90),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function D$(n,t){if(n&1){let e=S();a(0,"form",71,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",72)(3,"h4",73),c(4,"Modification"),s(),a(5,"button",74),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",75),s()(),a(7,"div",76)(8,"div",77)(9,"label",78),c(10,"Libell\xE9"),s(),a(11,"input",87,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s(),k(13,I$,2,1,"span",88),s()(),a(14,"div",83)(15,"button",84),c(16,"Sauvegarder "),b(17,"app-loading",85),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(11),V("ngModel",r.selected_data.name),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function A$(n,t){if(n&1){let e=S();a(0,"div",72)(1,"h4",73),c(2,"D\xE9tails des informations"),s(),a(3,"button",92),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",76),b(5,"div",93),s()}}var Dm=class n{constructor(t,e,i,r,o,l){this.typeBilling=t;this.toastrService=e;this.billingService=i;this.modalService=o;this.locService=l;r.backdrop="static",r.keyboard=!1}selected_data;data=[];typeBillings=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.selectedId=null,this.getTypeBillings(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.billingService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeBillings(){this.loading2=!0,this.typeBilling.getAll().subscribe(t=>{this.typeBillings=t.data,this.loading2=!1},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.billingService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.billingService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.billingService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.billingService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.billingService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(ps),T(de),T(vo),T(ut),T(fe),T(se))};static \u0275cmp=G({type:n,selectors:[["app-support"]],standalone:!0,features:[J],decls:54,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],["class","bg-warning p-1 text-white",4,"ngIf"],["class","bg-danger p-1 text-white",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-arrow-right"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"bg-warning","p-1","text-white"],[1,"bg-danger","p-1","text-white"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["required","","name","type_billing_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","object","ngModel","",1,"form-control"],["required","","name","content","ngModel","",1,"form-control"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des tickets"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(49);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Type de sujet"),s(),a(35,"th",30),c(36,"Objet"),s(),a(37,"th",30),c(38,"Statut"),s(),a(39,"th",30),c(40,"Consulter"),s()()(),a(41,"tbody"),k(42,S$,16,11,"tr",31),ee(43,"paginate"),ee(44,"sampleSearch"),k(45,E$,9,0,"tr",32),s()()(),a(46,"div",33)(47,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(48,T$,26,3,"ng-template",null,0,B)(50,D$,18,4,"ng-template",null,1,B)(52,A$,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(16),h("ngForOf",re(44,17,re(43,14,i.data,qe(20,b$,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me,Xi,Ji]})};var P$=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function O$(n,t){if(n&1){let e=S();a(0,"button",54),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",55),s()}}function R$(n,t){if(n&1){let e=S();a(0,"button",56),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",57),s()}}function V$(n,t){if(n&1){let e=S();a(0,"div",40)(1,"div",41)(2,"button",42),v("click",function(){f(e);let r=p(2),o=E(43);return g(r.add(o))}),b(3,"i",43),s(),a(4,"button",44),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.show(o))}),b(5,"i",45),s(),a(6,"button",46),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.edit(o))}),b(7,"i",47),s(),a(8,"button",48),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",49),s(),k(10,O$,2,0,"button",50)(11,R$,2,0,"button",51),a(12,"button",52),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",53),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function F$(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,V$,14,2,"div",39),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.name)}}function N$(n,t){if(n&1){let e=S();a(0,"tr",58)(1,"td",59)(2,"div",60),b(3,"i",61),a(4,"p",62),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",63),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",64),c(8," R\xE9initialiser la recherche "),s()()()()}}function L$(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function B$(n,t){if(n&1&&(a(0,"span",78),k(1,L$,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function j$(n,t){if(n&1){let e=S();a(0,"form",65,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Enregistrement de type entit\xE9"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),b(11,"input",73,4),k(13,B$,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(13),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function z$(n,t){n&1&&(a(0,"small",80),c(1,"Le libell\xE9 est requis."),s())}function U$(n,t){if(n&1&&(a(0,"span",78),k(1,z$,2,0,"small",79),s()),n&2){p();let e=E(12);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function H$(n,t){if(n&1){let e=S();a(0,"form",65,5),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",66)(3,"h4",67),c(4,"Modification"),s(),a(5,"button",68),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",69),s()(),a(7,"div",70)(8,"div",71)(9,"label",72),c(10,"Libell\xE9"),s(),a(11,"input",81,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.name,r)||(o.selected_data.name=r),g(r)}),s(),k(13,U$,2,1,"span",74),s()(),a(14,"div",75)(15,"button",76),c(16,"Sauvegarder "),b(17,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(12),r=p();u(11),V("ngModel",r.selected_data.name),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function W$(n,t){if(n&1){let e=S();a(0,"div",66)(1,"h4",67),c(2,"D\xE9tails des informations"),s(),a(3,"button",82),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",70),b(5,"div",83),s()}}var Am=class n{constructor(t,e,i,r,o){this.typeBilling=t;this.toastrService=e;this.modalService=r;this.locService=o;i.backdrop="static",i.keyboard=!1}selected_data;data=[];user;permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.typeBilling.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.typeBilling.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,console.log(t),this.typeBilling.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.typeBilling.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.typeBilling.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.typeBilling.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}static \u0275fac=function(e){return new(e||n)(T(ps),T(de),T(ut),T(fe),T(se))};static \u0275cmp=G({type:n,selectors:[["app-type-billing"]],standalone:!0,features:[J],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",6),c(1,"Liste des types supports"),s(),a(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"button",12),v("click",function(){f(r);let l=E(43);return g(i.add(l))}),b(8,"i",13),c(9," Ajouter "),s(),a(10,"div",14)(11,"div",15)(12,"select",16),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",17),c(14,"Filtrer Par"),s(),a(15,"option",18),c(16,"R\xF4le"),s(),a(17,"option",19),c(18,"Statut"),s()(),a(19,"input",20),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",21),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",22),s()()()()(),a(22,"div",23)(23,"div",24)(24,"p",25),b(25,"i",26),c(26),s()(),a(27,"div",27)(28,"table",28)(29,"thead")(30,"tr")(31,"th",29),c(32,"#"),s(),a(33,"th",30),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),k(36,F$,7,6,"tr",31),ee(37,"paginate"),ee(38,"sampleSearch"),k(39,N$,9,0,"tr",32),s()()(),a(40,"div",33)(41,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(42,j$,18,3,"ng-template",null,0,B)(44,H$,18,4,"ng-template",null,1,B)(46,W$,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(10),h("ngForOf",re(38,17,re(37,14,i.data,qe(20,P$,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me]})};var hs=class n{constructor(t){this.http=t}url=j.toApiUrl("type-unity-admin");getAll(){return this.http.get(this.url)}store(t){return this.http.post(this.url,t)}show(t){return this.http.get(`${this.url}/${t}`)}update(t,e){return this.http.patch(`${this.url}/${e}`,t)}delete(t){return this.http.delete(`${this.url}/${t}`)}state(t){return this.http.get(`${this.url}/${t}/status`)}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var q$=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e});function $$(n,t){if(n&1){let e=S();a(0,"button",53),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",54),s()}}function G$(n,t){if(n&1){let e=S();a(0,"button",55),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",56),s()}}function Y$(n,t){if(n&1){let e=S();a(0,"div",39)(1,"div",40)(2,"button",41),v("click",function(){f(e);let r=p(2),o=E(43);return g(r.add(o))}),b(3,"i",42),s(),a(4,"button",43),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.show(o))}),b(5,"i",44),s(),a(6,"button",45),v("click",function(){f(e);let r=p(2),o=E(45);return g(r.edit(o))}),b(7,"i",46),s(),a(8,"button",47),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",48),s(),k(10,$$,2,0,"button",49)(11,G$,2,0,"button",50),a(12,"button",51),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",52),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function Q$(n,t){if(n&1){let e=S();a(0,"tr",34)(1,"td",35)(2,"div",36)(3,"input",37),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,Y$,14,2,"div",38),s(),a(5,"td"),c(6),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.libelle)}}function K$(n,t){if(n&1){let e=S();a(0,"tr",57)(1,"td",58)(2,"div",59),b(3,"i",60),a(4,"p",61),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",62),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",63),c(8," R\xE9initialiser la recherche "),s()()()()}}function J$(n,t){if(n&1&&(a(0,"p",78)(1,"ngb-alert",79),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function X$(n,t){n&1&&(a(0,"small",82),c(1,"Le libell\xE9 est requis."),s())}function Z$(n,t){if(n&1&&(a(0,"span",80),k(1,X$,2,0,"small",81),s()),n&2){p();let e=E(13);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function eG(n,t){if(n&1){let e=S();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement des type unit\xE9 admin"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",68),s()(),a(7,"div",69),k(8,J$,3,2,"p",70),a(9,"div",71)(10,"label",72),c(11,"Libell\xE9"),s(),b(12,"input",73,4),k(14,Z$,2,1,"span",74),s()(),a(15,"div",75)(16,"button",76),c(17,"Sauvegarder "),b(18,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(13),r=p();u(8),h("ngIf",r.error!=""),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function tG(n,t){if(n&1&&(a(0,"p",78)(1,"ngb-alert",79),c(2),s()()),n&2){let e=p(2);u(),h("dismissible",!1),u(),L(e.error)}}function iG(n,t){n&1&&(a(0,"small",82),c(1,"Le libell\xE9 est requis."),s())}function nG(n,t){if(n&1&&(a(0,"span",80),k(1,iG,2,0,"small",81),s()),n&2){p();let e=E(13);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function rG(n,t){if(n&1){let e=S();a(0,"form",64,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",65)(3,"h4",66),c(4,"Enregistrement des type unit\xE9 admin"),s(),a(5,"button",67),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",68),s()(),a(7,"div",69),k(8,tG,3,2,"p",70),a(9,"div",71)(10,"label",72),c(11,"Libell\xE9"),s(),b(12,"input",73,4),k(14,nG,2,1,"span",74),s()(),a(15,"div",75)(16,"button",76),c(17,"Sauvegarder "),b(18,"app-loading",77),s()()()}if(n&2){let e=E(1),i=E(13),r=p();u(8),h("ngIf",r.error!=""),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(2),h("disabled",e.invalid||r.loading),u(2),h("isVisible",r.loading)}}function oG(n,t){if(n&1){let e=S();a(0,"div",65)(1,"h4",66),c(2,"D\xE9tails des informations"),s(),a(3,"button",83),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",69),b(5,"div",84),s()}}var Pm=class n{constructor(t,e,i,r,o){this.unityAdminTypeService=t;this.toastrService=e;this.locService=i;this.modalService=o;r.backdrop="static",r.keyboard=!1}selected_data;user;data=[];permissions=[];loading=!1;loading2=!1;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];ua_department=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";ngOnInit(){this.all(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.unityAdminTypeService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}checked(t){this.selected_data=t}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,this.unityAdminTypeService.store(t).subscribe(e=>{this.loading=!1,this.all(),this.modalService.dismissAll()},e=>{this.loading=!1})}update(t,e){this.loading=!0,this.unityAdminTypeService.update(t,this.selected_data.id).subscribe(i=>{this.loading=!1,e.close(),this.all()},i=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.unityAdminTypeService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.unityAdminTypeService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.unityAdminTypeService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}static \u0275fac=function(e){return new(e||n)(T(hs),T(de),T(se),T(ut),T(fe))};static \u0275cmp=G({type:n,selectors:[["ngx-unity-admin-type"]],standalone:!0,features:[J],decls:48,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["name","ngModel"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],["class","lead mb-3",4,"ngIf"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[1,"lead","mb-3"],["type","danger",3,"dismissible"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",5),c(1,"Liste des type des unit\xE9s administrative"),s(),a(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",10)(7,"button",11),v("click",function(){f(r);let l=E(43);return g(i.add(l))}),b(8,"i",12),c(9," Ajouter "),s(),a(10,"div",13)(11,"div",14)(12,"select",15),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",16),c(14,"Filtrer Par"),s(),a(15,"option",17),c(16,"R\xF4le"),s(),a(17,"option",18),c(18,"Statut"),s()(),a(19,"input",19),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",20),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",21),s()()()()(),a(22,"div",22)(23,"div",23)(24,"p",24),b(25,"i",25),c(26),s()(),a(27,"div",26)(28,"table",27)(29,"thead")(30,"tr")(31,"th",28),c(32,"#"),s(),a(33,"th",29),c(34,"Libell\xE9"),s()()(),a(35,"tbody"),k(36,Q$,7,6,"tr",30),ee(37,"paginate"),ee(38,"sampleSearch"),k(39,K$,9,0,"tr",31),s()()(),a(40,"div",32)(41,"pagination-controls",33),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(42,eG,19,4,"ng-template",null,0,B)(44,rG,19,4,"ng-template",null,1,B)(46,oG,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(10),h("ngForOf",re(38,17,re(37,14,i.data,qe(20,q$,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,_o,Ae,He,ke,Te,Je,Xe,Me]})};var aG=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e}),WS=()=>({unchecked:"#939da2",checked:"#0C574E"}),qS=()=>({checked:!0,unchecked:!1});function sG(n,t){if(n&1){let e=S();a(0,"button",59),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",60),s()}}function lG(n,t){if(n&1){let e=S();a(0,"button",61),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",62),s()}}function cG(n,t){if(n&1){let e=S();a(0,"div",45)(1,"div",46)(2,"button",47),v("click",function(){f(e);let r=p(2),o=E(47);return g(r.add(o))}),b(3,"i",48),s(),a(4,"button",49),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.show(o))}),b(5,"i",50),s(),a(6,"button",51),v("click",function(){f(e);let r=p(2),o=E(49);return g(r.edit(o))}),b(7,"i",52),s(),a(8,"button",53),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",54),s(),k(10,sG,2,0,"button",55)(11,lG,2,0,"button",56),a(12,"button",57),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(13,"i",58),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function dG(n,t){n&1&&(a(0,"span"),c(1," Unit\xE9 administrative non d\xE9partementale "),s())}function uG(n,t){if(n&1&&(a(0,"span"),c(1),s()),n&2){let e=p().$implicit;u(),K(" ",e==null||e.department==null?null:e.department.name," ")}}function mG(n,t){if(n&1){let e=S();a(0,"tr",39)(1,"td",40)(2,"div",41)(3,"input",42),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,cG,14,2,"div",43),s(),a(5,"td"),c(6),s(),a(7,"td"),c(8),s(),a(9,"td"),k(10,dG,2,0,"span",44)(11,uG,2,1,"span",44),s()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(2),L(e==null?null:e.libelle),u(2),L(e==null||e.parent==null?null:e.parent.libelle),u(2),h("ngIf",e.department_id==null),u(),h("ngIf",e.department_id)}}function pG(n,t){if(n&1){let e=S();a(0,"tr",63)(1,"td",64)(2,"div",65),b(3,"i",66),a(4,"p",67),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",68),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",69),c(8," R\xE9initialiser la recherche "),s()()()()}}function hG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function fG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function gG(n,t){n&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function _G(n,t){if(n&1&&(a(0,"span",92),k(1,gG,2,0,"small",93),s()),n&2){p();let e=E(23);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function bG(n,t){n&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function vG(n,t){if(n&1&&(a(0,"span",92),k(1,bG,2,0,"small",93),s()),n&2){p();let e=E(29);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function yG(n,t){n&1&&(a(0,"small",94),c(1,"Le email est requis."),s())}function xG(n,t){if(n&1&&(a(0,"span",92),k(1,yG,2,0,"small",93),s()),n&2){p();let e=E(35);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function wG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function CG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function SG(n,t){if(n&1&&(a(0,"div",75)(1,"label",76),c(2,"Choix du d\xE9partement"),s(),a(3,"select",95),k(4,CG,2,2,"option",78),s()()),n&2){let e=p(2);u(4),h("ngForOf",e.departments)}}function EG(n,t){if(n&1){let e=S();a(0,"form",70,3),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",71),c(3," Enregistrement d'une unit\xE9 administrative "),a(4,"button",72),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(5,"i",73),s()(),a(6,"div",74)(7,"div",75)(8,"label",76),c(9,"Type"),s(),a(10,"select",77,4),k(12,hG,2,2,"option",78),s()(),a(13,"div",75)(14,"label",76),c(15,"Entit\xE9"),s(),a(16,"select",79,4),k(18,fG,2,2,"option",78),s()(),a(19,"div",75)(20,"label",76),c(21,"Libell\xE9"),s(),b(22,"input",80,5),k(24,_G,2,1,"span",81),s(),a(25,"div",75)(26,"label",76),c(27,"Sigle"),s(),b(28,"input",82,6),k(30,vG,2,1,"span",81),s(),a(31,"div",75)(32,"label",76),c(33,"Email de la structure"),s(),b(34,"input",83,7),k(36,xG,2,1,"span",81),s(),a(37,"div",75)(38,"label",76),c(39,"Unit\xE9 admin sous-tutelle de"),s(),a(40,"select",84,8),k(42,wG,2,2,"option",78),s()(),a(43,"div",85)(44,"span"),c(45,"Est ce une unit\xE9 administrative d\xE9partementale ?"),s(),a(46,"ng-toggle",86),N("ngModelChange",function(r){f(e);let o=p();return F(o.ua_department,r)||(o.ua_department=r),g(r)}),v("change",function(r){f(e);let o=p();return g(o.changed(r))}),s()(),k(47,SG,5,1,"div",87),s(),a(48,"div",88)(49,"button",89),c(50,"Sauvegarder "),b(51,"app-loading",90),s()()()}if(n&2){let e=E(1),i=E(23),r=E(29),o=E(35),l=p();u(12),h("ngForOf",l.data2),u(6),h("ngForOf",l.data3),u(6),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(6),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(6),h("ngIf",o.invalid&&(o.dirty||o.touched)),u(6),h("ngForOf",l.data),u(4),V("ngModel",l.ua_department),h("color",xi(12,WS))("values",xi(13,qS)),u(),h("ngIf",l.ua_department),u(2),h("disabled",e.invalid||l.loading),u(2),h("isVisible",l.loading)}}function kG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function TG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function MG(n,t){n&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function IG(n,t){if(n&1&&(a(0,"span",92),k(1,MG,2,0,"small",93),s()),n&2){p();let e=E(24);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function DG(n,t){n&1&&(a(0,"small",94),c(1,"Le libell\xE9 est requis."),s())}function AG(n,t){if(n&1&&(a(0,"span",92),k(1,DG,2,0,"small",93),s()),n&2){p();let e=E(30);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function PG(n,t){n&1&&(a(0,"small",94),c(1,"Le email est requis."),s())}function OG(n,t){if(n&1&&(a(0,"span",92),k(1,PG,2,0,"small",93),s()),n&2){p();let e=E(36);u(),h("ngIf",e.errors==null?null:e.errors.required)}}function RG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.libelle)}}function VG(n,t){if(n&1&&(a(0,"option",91),c(1),s()),n&2){let e=t.$implicit;h("value",e.id),u(),L(e.name)}}function FG(n,t){if(n&1){let e=S();a(0,"div",75)(1,"label",76),c(2,"Choix du d\xE9partement"),s(),a(3,"select",103),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.department_id,r)||(o.selected_data.department_id=r),g(r)}),k(4,VG,2,2,"option",78),s()()}if(n&2){let e=p(2);u(3),V("ngModel",e.selected_data.department_id),u(),h("ngForOf",e.departments)}}function NG(n,t){if(n&1){let e=S();a(0,"form",70,9),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",71)(3,"h4",96),c(4,"Modification d'une unit\xE9 administrative"),s(),a(5,"button",72),v("click",function(){let r=f(e).dismiss;return g(r("Cross click"))}),b(6,"i",73),s()(),a(7,"div",74)(8,"div",75)(9,"label",76),c(10,"Type"),s(),a(11,"select",97,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.type_unite_admin_id,r)||(o.selected_data.type_unite_admin_id=r),g(r)}),k(13,kG,2,2,"option",78),s()(),a(14,"div",75)(15,"label",76),c(16,"Entit\xE9"),s(),a(17,"select",98,4),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.entite_admin_id,r)||(o.selected_data.entite_admin_id=r),g(r)}),k(19,TG,2,2,"option",78),s()(),a(20,"div",75)(21,"label",76),c(22,"Libell\xE9"),s(),a(23,"input",99,5),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.libelle,r)||(o.selected_data.libelle=r),g(r)}),s(),k(25,IG,2,1,"span",81),s(),a(26,"div",75)(27,"label",76),c(28,"Sigle"),s(),a(29,"input",100,6),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.sigle,r)||(o.selected_data.sigle=r),g(r)}),s(),k(31,AG,2,1,"span",81),s(),a(32,"div",75)(33,"label",76),c(34,"Email de la structure"),s(),a(35,"input",101,7),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.email,r)||(o.selected_data.email=r),g(r)}),s(),k(37,OG,2,1,"span",81),s(),a(38,"div",75)(39,"label",76),c(40,"Unit\xE9 admin sous-tutelle de"),s(),a(41,"select",102,8),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.ua_parent_code,r)||(o.selected_data.ua_parent_code=r),g(r)}),k(43,RG,2,2,"option",78),s()(),a(44,"div",85)(45,"span"),c(46,"Est ce une unit\xE9 administrative d\xE9partementale ?"),s(),a(47,"ng-toggle",86),N("ngModelChange",function(r){f(e);let o=p();return F(o.ua_department,r)||(o.ua_department=r),g(r)}),v("change",function(r){f(e);let o=p();return g(o.changed(r))}),s()(),k(48,FG,5,2,"div",87),s(),a(49,"div",88)(50,"button",89),c(51,"Sauvegarder "),b(52,"app-loading",90),s()()()}if(n&2){let e=E(1),i=E(24),r=E(30),o=E(36),l=p();u(11),V("ngModel",l.selected_data.type_unite_admin_id),u(2),h("ngForOf",l.data2),u(4),V("ngModel",l.selected_data.entite_admin_id),u(2),h("ngForOf",l.data3),u(4),V("ngModel",l.selected_data.libelle),u(2),h("ngIf",i.invalid&&(i.dirty||i.touched)),u(4),V("ngModel",l.selected_data.sigle),u(2),h("ngIf",r.invalid&&(r.dirty||r.touched)),u(4),V("ngModel",l.selected_data.email),u(2),h("ngIf",o.invalid&&(o.dirty||o.touched)),u(4),V("ngModel",l.selected_data.ua_parent_code),u(2),h("ngForOf",l.data),u(4),V("ngModel",l.ua_department),h("color",xi(18,WS))("values",xi(19,qS)),u(),h("ngIf",l.ua_department),u(2),h("disabled",e.invalid||l.loading),u(2),h("isVisible",l.loading)}}function LG(n,t){if(n&1){let e=S();a(0,"div",71)(1,"h4",96),c(2,"D\xE9tails des informations"),s(),a(3,"button",104),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",74),b(5,"div",105),s()}}var Om=class n{constructor(t,e,i,r,o,l,d,m){this.unityAdminService=t;this.unityAdminTypeService=e;this.entityService=i;this.locService=r;this.departmentService=o;this.toastrService=l;this.modalService=m;d.backdrop="static",d.keyboard=!1}isDtInitialized=!1;selected_data;data=[];data2=[];data3=[];departments=[];loading=!1;loading2=!1;user;error="";buttonsPermission;is_active=!1;search_text="";remoteSearchData=[];ua_department=!1;pg={pageSize:10,p:1,total:0};isPaginate=!0;selectedId=null;selectedFilter="";permissions=[];ngOnInit(){this.all(),this.getEntities(),this.getTypeUnityAdmin(),this.user=this.locService.get(Z.userName),this.permissions=this.user.roles[0].permissions,this.getDepartments(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}all(){this.loading2=!0,this.unityAdminService.getAll().subscribe(t=>{this.data=t.data,this.loading2=!1,this.selectedId=null},t=>{this.loading2=!1})}getDepartments(){this.loading2=!0,this.departmentService.getAll().subscribe(t=>{this.departments=t.data,this.loading2=!1},t=>{this.loading2=!1})}getTypeUnityAdmin(){this.unityAdminTypeService.getAll().subscribe(t=>{this.data2=t.data},t=>{})}getEntities(){this.entityService.getAll().subscribe(t=>{this.data3=t.data},t=>{})}checked(t){this.selected_data=t,this.selected_data.department_id!=null&&(this.ua_department=!0)}add(t){this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}store(t){this.loading=!0,delete t.ua_department,this.unityAdminService.store(t).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}update(t){this.loading=!0,delete t.ua_department,this.unityAdminService.update(t,this.selected_data.id).subscribe(e=>{this.loading=!1,this.modalService.dismissAll(),this.all()},e=>{this.loading=!1})}delete(){this.loading=!0,confirm("Voulez vous supprimer cet \xE9l\xE9ment")&&this.unityAdminService.delete(this.selected_data.id).subscribe(t=>{this.loading=!1,this.all()},t=>{this.loading=!1})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.unityAdminService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.all()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.unityAdminService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.all()}getPage(t){this.isPaginate?(this.pg.p=t,this.all()):this.pg.p=t}hasPermission(t){var e=this.permissions.find(i=>i.name==t);return!!e}changed(t){}static \u0275fac=function(e){return new(e||n)(T(Pn),T(hs),T(hr),T(se),T(cs),T(de),T(ut),T(fe))};static \u0275cmp=G({type:n,selectors:[["ngx-unity-admin"]],standalone:!0,features:[J],decls:52,vars:24,consts:[["addContent",""],["editContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["name","ngModel"],["sigle","ngModel"],["mail","ngModel"],["ua_parent_code","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["scope","col"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[4,"ngIf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["type","button",1,"btn","btn-dark",3,"click"],[1,"fa","fa-times"],[1,"modal-body"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_unite_admin_id","ngModel","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle","ngModel","",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","email","ngModel","",1,"form-control"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","ua_parent_code","ngModel","",1,"form-control"],[1,"d-flex","justify-content-between","mb-3"],["name","ua_department",3,"ngModelChange","change","ngModel","color","values"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[3,"isVisible"],[3,"value"],[1,"text-danger"],["id","typeLabelHelp","class","form-text",4,"ngIf"],["id","typeLabelHelp",1,"form-text"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","department_id","ngModel","",1,"form-control"],["id","modal-basic-title",1,"modal-title"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","type_unite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","entite_admin_id",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","libelle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","sigle",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","ua_parent_code",1,"form-control",3,"ngModelChange","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","name","department_id",1,"form-control",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"table-responsive","table-card"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",10),c(1,"Liste des unit\xE9s administrative"),s(),a(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15)(7,"button",16),v("click",function(){f(r);let l=E(47);return g(i.add(l))}),b(8,"i",17),c(9," Ajouter "),s(),a(10,"div",18)(11,"div",19)(12,"select",20),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",21),c(14,"Filtrer Par"),s(),a(15,"option",22),c(16,"R\xF4le"),s(),a(17,"option",23),c(18,"Statut"),s()(),a(19,"input",24),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",25),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",26),s()()()()(),a(22,"div",27)(23,"div",28)(24,"p",29),b(25,"i",30),c(26),s()(),a(27,"div",31)(28,"table",32)(29,"thead")(30,"tr")(31,"th",33),c(32,"#"),s(),a(33,"th",34),c(34,"Libell\xE9"),s(),a(35,"th",34),c(36,"Unit\xE9 parent"),s(),a(37,"th",34),c(38,"Direction d\xE9partementale"),s()()(),a(39,"tbody"),k(40,mG,12,9,"tr",35),ee(41,"paginate"),ee(42,"sampleSearch"),k(43,pG,9,0,"tr",36),s()()(),a(44,"div",37)(45,"pagination-controls",38),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(46,EG,52,14,"ng-template",null,0,B)(48,NG,53,20,"ng-template",null,1,B)(50,LG,6,0,"ng-template",null,2,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(14),h("ngForOf",re(42,17,re(41,14,i.data,qe(20,aG,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,ce,we,Ve,Fe,ue,$e,Qe,me,xe,Oe,he,Ce,Ee,Ae,He,ke,Te,Je,Xe,Me,ta]})};var $S=[{label:"Nombre utilisateurs",minLabel:"Nb. utilisateurs",key:"ALL-USERS"},{label:"Nombre Enseigants",minLabel:"Nb. Enseigants",key:"ALL-PROFESSORS"},{label:"Nombre Enseigants Maternelle",minLabel:"Nb. Enseigants Mat.",key:"PROFESSORS-MATERNELLE"},{label:"Nombre Enseigants Primaire",minLabel:"Nb. Enseigants Prim.",key:"PROFESSORS-PRIMAIRE"},{label:"Nombre Enseigants Coll\xE8ge&Lyc\xE9e",minLabel:"Nb. Enseigants Coll\xE8ge&Lyc\xE9e.",key:"PROFESSORS-CL"},{label:"Nombre de parent d'el\xE8ve",minLabel:"Nb. Parent d'\xE9l\xE8ve",key:"ALL-PARENTS"},{label:"Nombre Apprenants",minLabel:"Nb. Apprenants",key:"ALL-STUDENTS"},{label:"Nombre Apprenants Cycles(s)",minLabel:"Nb. Apprenants Cycle(s)",key:"APPRENANTS-GROUP"},{label:"Evolution des inscriptions",minLabel:"Ev. Ins. ",key:"GRAPH-INS"},{label:"Nombre de pr\xE9occupations",minLabel:"Nb. Pr\xE9occupations. ",key:"INQUERY"},{label:"Nombre de contr\xF4le de soins",minLabel:"Nb. contr\xF4les de soins. ",key:"HEALTH-CONTROL"}];var Rm=class n{constructor(t){this.http=t}url=j.toApiUrl("users");getAll(t=!1,e,i){return t?this.http.get(`${this.url}?per_page=${e}&page=${i}`,j.addAction("list")):this.http.get(`${this.url}`,j.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,j.addAction("list"))}resetPassword(t){return this.http.post(`${j.toApiUrl("reset-password/")}`,t,j.addAction("status"))}update(t,e){return this.http.put(`${this.url}/${t}`,e,j.addAction("edit"))}delete(t){return this.http.delete(`${this.url}/${t}`,j.addAction("delete"))}get(t){return this.http.get(`${this.url}`,j.addAction("show"))}setStatus(t,e){return this.http.get(`${this.url}/${t}/state/${e}`,j.addAction("status"))}search(t){return this.http.post(`${this.url}-search`,t,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var jG=["other_content1"],zG=["other_content2"],UG=["other_content3"],HG=(n,t,e)=>({id:"ngxP1",itemsPerPage:n,currentPage:t,totalItems:e}),ng=()=>({unchecked:"#939da2",checked:"#0C574E"}),rg=()=>({checked:!0,unchecked:!1});function WG(n,t){if(n&1){let e=S();a(0,"button",64),v("click",function(){f(e);let r=p(3);return g(r.setStatus(1))}),b(1,"i",65),s()}}function qG(n,t){if(n&1){let e=S();a(0,"button",66),v("click",function(){f(e);let r=p(3);return g(r.setStatus(0))}),b(1,"i",67),s()}}function $G(n,t){if(n&1){let e=S();a(0,"div",48)(1,"div",49)(2,"button",50),v("click",function(){f(e);let r=p(2),o=E(51);return g(r.add(o))}),b(3,"i",51),s(),a(4,"button",52),v("click",function(){f(e);let r=p(2),o=E(57);return g(r.show(o))}),b(5,"i",53),s(),a(6,"button",54),v("click",function(){f(e);let r=p(2),o=E(53);return g(r.edit(o))}),b(7,"i",55),s(),a(8,"button",56),v("click",function(){f(e);let r=p(2);return g(r.delete())}),b(9,"i",57),s(),k(10,WG,2,0,"button",58)(11,qG,2,0,"button",59),a(12,"button",60),v("click",function(){f(e);let r=p(2),o=E(55);return g(r.resetPassword(o))}),b(13,"i",61),s(),a(14,"button",62),v("click",function(){f(e);let r=p(2);return g(r.selectedId=null)}),b(15,"i",63),s()()()}if(n&2){let e=p().$implicit;u(10),h("ngIf",!e.is_active),u(),h("ngIf",e.is_active)}}function GG(n,t){n&1&&(a(0,"span"),c(1,", "),s())}function YG(n,t){if(n&1&&(a(0,"span",68),c(1),k(2,GG,2,0,"span",69),s()),n&2){let e=t.$implicit,i=t.last;u(),K(" ",e.name,""),u(),h("ngIf",!i)}}function QG(n,t){if(n&1){let e=S();a(0,"tr",35)(1,"td",36)(2,"div",37)(3,"input",38),v("click",function(){let r=f(e).$implicit,o=p();return g(o.checked(r))}),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedId,r)||(o.selectedId=r),g(r)}),s()(),k(4,$G,16,2,"div",39),s(),a(5,"td")(6,"div",40)(7,"div",41),c(8),s(),a(9,"div",42)(10,"div",43),c(11),s(),a(12,"small",44),c(13),s()()()(),a(14,"td")(15,"span",45),c(16),s()(),a(17,"td")(18,"span",45),c(19),s()(),a(20,"td")(21,"div",46),k(22,YG,3,2,"span",47),s()(),a(23,"td")(24,"span"),c(25),s()()()}if(n&2){let e=t.$implicit,i=p();u(3),We("id","radio-",e.id,""),h("value",e.id),V("ngModel",i.selectedId),u(),h("ngIf",i.selectedId===e.id),u(4),K(" ",i.getInitials((e.agent==null?null:e.agent.lastname)||"U",(e.agent==null?null:e.agent.firstname)||"")," "),u(3),Di(" ",(e.agent==null?null:e.agent.lastname)||"Non d\xE9fini"," ",e.agent==null?null:e.agent.firstname," "),u(2),K("ID: ",e.id,""),u(3),L(e.email),u(3),L(e.agent==null||e.agent.unite_admin==null?null:e.agent.unite_admin.sigle),u(3),h("ngForOf",e.roles),u(2),Qt("status-badge "+(e.is_active?"badge-active":"badge-inactive")),u(),K(" ",e.is_active?"Actif":"Bloqu\xE9"," ")}}function KG(n,t){if(n&1){let e=S();a(0,"tr",70)(1,"td",71)(2,"div",72),b(3,"i",73),a(4,"p",74),c(5,"Recherche avanc\xE9e en cours..."),s(),a(6,"button",75),v("click",function(){f(e);let r=p();return g(r.resetSearch())}),b(7,"i",76),c(8," R\xE9initialiser la recherche "),s()()()()}}function JG(n,t){if(n&1&&(a(0,"ng-option",100),c(1),s()),n&2){let e=t.$implicit;h("value",e==null?null:e.id),u(),Di("",e==null?null:e.lastname," ",e==null?null:e.firstname,"")}}function XG(n,t){if(n&1&&(a(0,"div",97)(1,"label",98),c(2,"Agent"),s(),a(3,"ng-select",99,5),k(5,JG,2,3,"ng-option",90),s()()),n&2){let e=p(2);u(5),h("ngForOf",e.data2)}}function ZG(n,t){if(n&1&&(a(0,"ng-option",100),c(1),s()),n&2){let e=t.$implicit;h("value",e.name),u(),L(e.name)}}function eY(n,t){if(n&1){let e=S();a(0,"div",104)(1,"input",105),N("ngModelChange",function(r){let o=f(e).$implicit;return F(o.state,r)||(o.state=r),g(r)}),s(),a(2,"label",106),c(3),s()()}if(n&2){let e=t.$implicit;u(),V("ngModel",e.state),u(2),K(" ",e.name," ")}}function tY(n,t){if(n&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),k(7,eY,4,2,"div",103),s()()()),n&2){let e=p(2);u(7),h("ngForOf",e.prestations)}}function iY(n,t){if(n&1){let e=S();a(0,"form",77,4),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.store(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"Enregistrer un compte utilisateur"),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),b(13,"input",86),s(),a(14,"div",83)(15,"label",84),c(16,"Contact "),a(17,"span",85),c(18,"(*)"),s()(),b(19,"input",87),s(),k(20,XG,6,1,"div",88),a(21,"div",83)(22,"label",84),c(23,"R\xF4le "),a(24,"span",85),c(25,"(*)"),s()(),a(26,"ng-select",89),k(27,ZG,2,2,"ng-option",90),s()(),a(28,"div",91)(29,"p"),c(30,"Acteur m\xE9tier :"),s(),b(31,"ng-toggle",92),s(),k(32,tY,8,1,"div",93),s()(),a(33,"div",94)(34,"button",95),c(35,"Cr\xE9er le compte "),b(36,"app-loading",96),s()()()}if(n&2){let e=E(1),i=p();u(20),h("ngIf",i.role!="Admin national"),u(6),h("multiple",!0),u(),h("ngForOf",i.roles),u(4),h("color",xi(8,ng))("values",xi(9,rg)),u(),h("ngIf",i.role!="Admin national"),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function nY(n,t){if(n&1&&(a(0,"ng-option",100),c(1),s()),n&2){let e=t.$implicit;h("value",e==null?null:e.id),u(),Di("",e==null?null:e.lastname," ",e==null?null:e.firstname,"")}}function rY(n,t){if(n&1){let e=S();a(0,"div",97)(1,"label",98),c(2,"Agent"),s(),a(3,"ng-select",110,5),N("ngModelChange",function(r){f(e);let o=p(2);return F(o.selected_data.agent_id,r)||(o.selected_data.agent_id=r),g(r)}),k(5,nY,2,3,"ng-option",90),s()()}if(n&2){let e=p(2);u(3),V("ngModel",e.selected_data.agent_id),u(2),h("ngForOf",e.data2)}}function oY(n,t){if(n&1&&(a(0,"ng-option",100),c(1),s()),n&2){let e=t.$implicit;h("value",e.name),u(),L(e.name)}}function aY(n,t){if(n&1){let e=S();a(0,"div",104)(1,"input",105),N("ngModelChange",function(r){let o=f(e).$implicit;return F(o.state,r)||(o.state=r),g(r)}),s(),a(2,"label",106),c(3),s()()}if(n&2){let e=t.$implicit;u(),V("ngModel",e.state),u(2),K(" ",e.name," ")}}function sY(n,t){if(n&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),k(7,aY,4,2,"div",103),s()()()),n&2){let e=p(2);u(7),h("ngForOf",e.prestations)}}function lY(n,t){if(n&1){let e=S();a(0,"form",77,6),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.update(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"Modifier un utilisateur"),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),a(13,"input",107),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.email,r)||(o.selected_data.email=r),g(r)}),s()(),a(14,"div",83)(15,"label",84),c(16,"Contact "),a(17,"span",85),c(18,"(*)"),s()(),a(19,"input",108),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.phone,r)||(o.selected_data.phone=r),g(r)}),s()(),k(20,rY,6,2,"div",88),a(21,"div",83)(22,"label",84),c(23,"r\xF4le "),a(24,"span",85),c(25,"(*)"),s()(),a(26,"ng-select",109),N("ngModelChange",function(r){f(e);let o=p();return F(o.selectedRoles,r)||(o.selectedRoles=r),g(r)}),k(27,oY,2,2,"ng-option",90),s()(),a(28,"div",91)(29,"p"),c(30,"Acteur m\xE9tier :"),s(),b(31,"ng-toggle",92),s(),k(32,sY,8,1,"div",93),s()(),a(33,"div",94)(34,"button",95),c(35,"Sauvegarder "),b(36,"app-loading",96),s()()()}if(n&2){let e=E(1),i=p();u(13),V("ngModel",i.selected_data.email),u(6),V("ngModel",i.selected_data.phone),u(),h("ngIf",i.role!="Admin national"),u(6),h("multiple",!0),V("ngModel",i.selectedRoles),u(),h("ngForOf",i.roles),u(4),h("color",xi(11,ng))("values",xi(12,rg)),u(),h("ngIf",i.role!="Admin national"),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function cY(n,t){if(n&1){let e=S();a(0,"div",104)(1,"input",114),N("ngModelChange",function(r){let o=f(e).$implicit;return F(o.state,r)||(o.state=r),g(r)}),s(),a(2,"label",106),c(3),s()()}if(n&2){let e=t.$implicit,i=t.index;u(),We("name","state",i,""),h("checked",e.state),V("ngModel",e.state),u(2),K(" ",e.name," ")}}function dY(n,t){if(n&1&&(a(0,"div",101)(1,"h4"),c(2,"Affectation des prestations au compte utilisateur"),s(),a(3,"h6"),c(4,"Ce compte aura acc\xE8s aux prestations suivantes"),s(),a(5,"div",102)(6,"div",8),k(7,cY,4,5,"div",103),s()()()),n&2){let e=p(2);u(7),h("ngForOf",e.prestations)}}function uY(n,t){if(n&1){let e=S();a(0,"form",77,6),v("ngSubmit",function(){f(e);let r=E(1),o=p();return g(o.resetPassword(r.value))}),a(2,"div",78)(3,"h6",79),c(4,"R\xE9initialiser le mot de passe "),s(),a(5,"button",80),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(6,"div",81)(7,"div",82)(8,"div",83)(9,"label",84),c(10,"Email "),a(11,"span",85),c(12,"(*)"),s()(),a(13,"input",107),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.email,r)||(o.selected_data.email=r),g(r)}),s()(),a(14,"div",83)(15,"label",84),c(16,"Mot de passe "),a(17,"span",85),c(18,"(*)"),s()(),b(19,"input",111),s(),a(20,"div",83)(21,"label",84),c(22,"Confirmer le mot de passe "),a(23,"span",85),c(24,"(*)"),s()(),b(25,"input",112),s(),a(26,"div",91)(27,"p"),c(28,"Acteur m\xE9tier :"),s(),a(29,"ng-toggle",113),N("ngModelChange",function(r){f(e);let o=p();return F(o.selected_data.is_trade,r)||(o.selected_data.is_trade=r),g(r)}),s()(),k(30,dY,8,1,"div",93),s()(),a(31,"div",94)(32,"button",95),c(33,"R\xE9initialiser "),b(34,"app-loading",96),s()()()}if(n&2){let e=E(1),i=p();u(13),V("ngModel",i.selected_data.email),u(16),V("ngModel",i.selected_data.is_trade),h("color",xi(7,ng))("values",xi(8,rg)),u(),h("ngIf",i.role!="Admin national"),u(2),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function mY(n,t){if(n&1){let e=S();a(0,"div",78)(1,"h4",79),c(2,"D\xE9tails des informations"),s(),a(3,"button",80),v("click",function(){let r=f(e).$implicit;return g(r.dismiss("Cross click"))}),s()(),a(4,"div",81)(5,"div",115)(6,"table",116)(7,"tbody")(8,"tr")(9,"td",117),c(10,"Nom"),s(),a(11,"td"),c(12),s()(),a(13,"tr")(14,"td",117),c(15,"Pr\xE9noms"),s(),a(16,"td"),c(17),s()(),a(18,"tr")(19,"td",117),c(20,"Email"),s(),a(21,"td"),c(22),s()(),a(23,"tr")(24,"td",117),c(25,"Contact"),s(),a(26,"td"),c(27),s()(),a(28,"tr")(29,"td",117),c(30,"Date de naissance"),s(),a(31,"td"),c(32),ee(33,"date"),s()(),a(34,"tr")(35,"td",117),c(36,"Lieu de naissance"),s(),a(37,"td"),c(38),s()(),a(39,"tr")(40,"td",117),c(41,"r\xF4le"),s(),a(42,"td"),c(43),s()()()()()()}if(n&2){let e=p();u(12),K("",e.selected_data.lastname," "),u(5),K("",e.selected_data.firstname," "),u(5),K("",e.selected_data.email," "),u(5),K("",e.selected_data.phone," "),u(5),K("",re(33,7,e.selected_data.birthdate,"dd-MM-yyyy")," "),u(6),K("",e.selected_data.birthplace," "),u(5),K("",e.selected_data.roles[0].name," ")}}var wc=class n{constructor(t,e,i,r,o,l,d,m){this.userService=t;this.roleService=e;this.toastrService=i;this.officerService=o;this.prestationService=l;this.lsService=d;this.modalService=m;r.backdrop="static",r.keyboard=!1}other_content1;other_content2;other_content3;selectedId=null;buttonsPermission;search_text="";remoteSearchData=[];structures=[];roles=[];selectedRoles=[];data=[];data2=[];dashTags=$S;selected_data;modalOption;isDtInitialized=!1;is_active=null;loading=!1;loading2=!1;role_name="";role;user;pg={pageSize:10,p:1,total:0};isPaginate=!0;tag="admin-users";selectedFilter="";prestations=[];data4=[];ngAfterViewInit(){Array.from(document.querySelectorAll('[data-bs-toggle="tooltip"]')).forEach(e=>{new bootstrap.Tooltip(e)})}ngOnInit(){this.user=this.lsService.get(Z.userName),this.role=this.user.roles[0].name,this.init(),this.buttonsPermission={show:!0,add:!0,edit:!0,delete:!0}}init(){this.getAll(),this.getRoles(),this.getPrestation(),this.getOfficers()}getOfficers(){this.officerService.getAll().subscribe(t=>{this.data2=t.data,console.log(t)},t=>{})}getPrestation(){this.loading2=!0,this.prestationService.getAll().subscribe(t=>{this.data4=t.data,this.prestations=t.data,this.prestations.forEach(e=>e.state=!1),this.loading2=!1},t=>{this.loading2=!1})}getRoles(){this.roleService.getAll().subscribe(t=>{this.roles=t.data},t=>{yi.showError("Gestion des utilisateurs",t)})}getAll(){this.selectedId=null,this.userService.getAll(this.isPaginate,this.pg.pageSize,this.pg.p).subscribe(t=>{this.isPaginate=t.isPaginate,this.isPaginate?(this.data=t.data.data,this.pg.p=t.data.current_page,this.pg.total=t.data.total):(this.data=t.data,this.pg.p=1,this.pg.total=t.data.length),this.selectedId=null,this.modalService.dismissAll()},t=>{yi.showError("Gestion des utilisateurs",t)})}store(t){this.loading=!0,t.is_signer==""&&(t.is_signer=!1);var e=[];this.prestations.forEach(i=>{i.state==!0&&e.push(i.id)}),t.choices=e,this.userService.store(t).subscribe(i=>{this.loading=!1,this.toastrService.success(i.message),this.getAll()},i=>{this.loading=!1,console.log(i),pe.simpleAlert("error","Gestion des utilisateurs",i.error.message)})}resetPassword(t){this.loading=!0,t.id=this.selected_data.id,this.userService.resetPassword(t).subscribe(e=>{this.loading=!1,this.toastrService.success(e.message),this.getAll()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}update(t){this.loading=!0,t.is_signer==""&&(t.is_signer=!1);var e=[];this.prestations.forEach(i=>{i.state==!0&&e.push(i.id)}),t.choices=e,this.userService.update(this.selected_data.id,t).subscribe(i=>{this.loading=!1,this.toastrService.success(i.message),this.getAll()},i=>{this.loading=!1,console.log(i),pe.simpleAlert("error","Gestion des utilisateurs",i.error.message)})}delete(){if(!this.verifyIfElementChecked())return;pe.confirmBox("info","Suppression","Voulez vous vraiment retirer cet \xE9l\xE9ment?").then(e=>{e.isConfirmed&&this.userService.delete(this.selected_data.id).subscribe(i=>{this.toastrService.success(i.message),this.getAll()},i=>{console.log(i),pe.simpleAlert("error","Gestion des utilisateurs",i.error.message)})})}checked(t){this.selectedRoles=[],this.selected_data=t,this.selected_data?.roles?.forEach(e=>this.selectedRoles.push(e.name)),this.is_active=t.is_active,this.prestations.forEach(e=>{let i=this.selected_data?.user_prestations?.some(r=>r.prestation_id===e.id);e.state=!!i})}verifyIfElementChecked(){return console.log(this.selected_data),this.selected_data==null?(this.toastrService.warning("Aucun \xE9l\xE9ment selectionn\xE9"),!1):!0}getInitials(t,e){let i=t?t.charAt(0):"",r=e?e.charAt(0):"";return(i+r).toUpperCase()}dismiss(){this.modalService.dismissAll()}add(t){this.selected_data!=null&&this.selected_data?.userprestation.forEach(e=>{var i=this.prestations.find(r=>r.id==e.prestation_id);i!=null&&(this.prestations[this.prestations.findIndex(r=>r.id==e.prestation_id)].state=!0)}),this.modalService.open(t,{size:"lg"})}show(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}edit(t){this.verifyIfElementChecked()&&this.modalService.open(t,{size:"lg"})}setStatus(t){this.toastrService.warning("Op\xE9ration en cours"),this.loading=!0,this.userService.setStatus(this.selected_data.id,t).subscribe(e=>{this.toastrService.success(e.message),this.loading=!1,this.getAll()},e=>{this.loading=!1,console.log(e),pe.simpleAlert("error","Gestion des utilisateurs",e.error.message)})}onSearchChange(){let t=this.data.filter(e=>e.name.includes(this.search_text));this.search_text.length>2&&t.length===0&&this.searchRemotely()}searchRemotely(){!this.search_text||this.search_text.trim().length<2||(this.loading=!0,this.userService.search({search:this.search_text}).subscribe({next:t=>{this.remoteSearchData=t.data,this.data=this.remoteSearchData,this.pg.p=1,this.pg.total=this.data.length,this.loading=!1,console.log(this.remoteSearchData)},error:t=>{console.error(t),this.loading=!1}}))}resetSearch(){this.search_text="",this.isPaginate=!0,this.pg.p=1,this.getAll()}getPage(t){this.isPaginate?(this.pg.p=t,this.getAll()):this.pg.p=t}hasRole(t){return!1}filterByRole(t){this.data.filter(e=>(console.log(t.target.value),!1))}static \u0275fac=function(e){return new(e||n)(T(Rm),T(ms),T(de),T(ut),T(yo),T(An),T(se),T(fe))};static \u0275cmp=G({type:n,selectors:[["app-user"]],viewQuery:function(e,i){if(e&1&&(gt(jG,5),gt(zG,5),gt(UG,5)),e&2){let r;ze(r=Ue())&&(i.other_content1=r.first),ze(r=Ue())&&(i.other_content2=r.first),ze(r=Ue())&&(i.other_content3=r.first)}},standalone:!0,features:[J],decls:58,vars:24,consts:[["addContent",""],["editContent",""],["resetContent",""],["showContent",""],["addForm","ngForm"],["type","ngModel"],["editForm","ngForm"],[1,"text-center","mb-4","page-subtitle"],[1,"row"],[1,"col-lg-12"],[1,"card","custom-card"],[1,"card-header-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-primary-custom",3,"click"],[1,"bi","bi-plus-lg","me-2"],[1,"search-controls","d-flex","align-items-center"],[1,"input-group"],[1,"form-select","filter-select",3,"ngModelChange","ngModel"],["value",""],["value","role"],["value","status"],["type","text","name","search_text","placeholder","Rechercher...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-primary","reset-btn",3,"click"],[1,"fa","fa-rotate-left"],[1,"card-body"],[1,"results-info","mb-3"],[1,"text-muted","mb-0"],[1,"bi","bi-list-ul","me-2"],[1,"table-responsive"],[1,"table","custom-table"],[2,"width","50px"],["class","table-row",4,"ngFor","ngForOf"],["class","no-results-row",4,"ngIf"],[1,"pagination-container","mt-4"],["id","ngxP1",3,"pageChange","maxSize","directionLinks","autoHide","responsive","previousLabel","nextLabel","screenReaderPaginationLabel","screenReaderPageLabel","screenReaderCurrentLabel"],[1,"table-row"],[1,"position-relative","checkbox-cell"],[1,"form-check"],["type","radio","name","selectedDoc",1,"form-check-input","custom-radio",3,"click","ngModelChange","value","ngModel","id"],["class","overlay-panel-right",4,"ngIf"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-id","text-muted"],[1,"email-text"],[1,"roles-list"],["class","role-badge",4,"ngFor","ngForOf"],[1,"overlay-panel-right"],[1,"overlay-actions-grid"],["title","Ajouter",1,"btn","btn-action","btn-add",3,"click"],[1,"bi","bi-plus-lg"],["type","button","title","Consulter",1,"btn","btn-action","btn-view",3,"click"],[1,"bi","bi-eye"],["type","button","title","\xC9diter",1,"btn","btn-action","btn-edit",3,"click"],[1,"bi","bi-pencil"],["type","button","title","Supprimer",1,"btn","btn-action","btn-delete",3,"click"],[1,"bi","bi-trash"],["type","button","class","btn btn-action btn-activate","title","Activer",3,"click",4,"ngIf"],["type","button","class","btn btn-action btn-deactivate","title","D\xE9sactiver",3,"click",4,"ngIf"],["type","button","title","R\xE9initialiser le mot de passe",1,"btn","btn-action","btn-reset",3,"click"],[1,"bi","bi-arrow-counterclockwise"],["type","button","title","Fermer",1,"btn","btn-action","btn-close-panel",3,"click"],[1,"bi","bi-x-lg"],["type","button","title","Activer",1,"btn","btn-action","btn-activate",3,"click"],[1,"bi","bi-toggle-on"],["type","button","title","D\xE9sactiver",1,"btn","btn-action","btn-deactivate",3,"click"],[1,"bi","bi-toggle-off"],[1,"role-badge"],[4,"ngIf"],[1,"no-results-row"],["colspan","5",1,"text-center","py-4"],[1,"no-results"],[1,"bi","bi-search","mb-3"],[1,"text-muted","mb-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-arrow-counterclockwise","me-2"],[3,"ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","mb-3"],[1,"form-group","col-12","mb-3"],["for",""],[1,"text-danger","ml-2"],["type","text","name","email","ngModel","",1,"form-control"],["type","text","name","phone","ngModel","",1,"form-control"],["class","form-group",4,"ngIf"],["name","roles","ngModel","",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],["ngModel","","name","is_trade",3,"color","values"],["class","",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-outline-dark",3,"disabled"],[3,"isVisible"],[1,"form-group"],["for","typeLabel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","agent_id","ngModel","",1,"form-control"],[3,"value"],[1,""],[1,"container"],["class","col-6 form-check",4,"ngFor","ngForOf"],[1,"col-6","form-check"],["type","checkbox","name","state",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"form-check-label"],["type","text","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","phone",1,"form-control",3,"ngModelChange","ngModel"],["name","roles",3,"ngModelChange","multiple","ngModel"],["type","text","id","typeLabel","aria-describedby","typeLabelHelp","required","","name","agent_id",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","minlength","8","ngModel","",1,"form-control"],["type","password","name","password_confirmation","minlength","8","ngModel","",1,"form-control"],["name","is_trade",3,"ngModelChange","ngModel","color","values"],["type","checkbox",1,"form-check-input",3,"ngModelChange","checked","name","ngModel"],[1,"table-responsive","table-card"],[1,"table","table-borderless","align-middle","mb-0"],[1,"fw-medium"]],template:function(e,i){if(e&1){let r=S();a(0,"h2",7),c(1,"Liste des utilisateurs"),s(),a(2,"div",8)(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"button",13),v("click",function(){f(r);let l=E(51);return g(i.add(l))}),b(8,"i",14),c(9," Ajouter "),s(),a(10,"div",15)(11,"div",16)(12,"select",17),N("ngModelChange",function(l){return f(r),F(i.selectedFilter,l)||(i.selectedFilter=l),g(l)}),a(13,"option",18),c(14,"Filtrer Par"),s(),a(15,"option",19),c(16,"R\xF4le"),s(),a(17,"option",20),c(18,"Statut"),s()(),a(19,"input",21),N("ngModelChange",function(l){return f(r),F(i.search_text,l)||(i.search_text=l),g(l)}),v("ngModelChange",function(){return f(r),g(i.onSearchChange())}),s(),a(20,"button",22),v("click",function(){return f(r),g(i.resetSearch())}),b(21,"i",23),s()()()()(),a(22,"div",24)(23,"div",25)(24,"p",26),b(25,"i",27),c(26),s()(),a(27,"div",28)(28,"table",29)(29,"thead")(30,"tr")(31,"th",30),c(32,"#"),s(),a(33,"th"),c(34,"Identit\xE9"),s(),a(35,"th"),c(36,"Email"),s(),a(37,"th"),c(38,"Unit\xE9 Admin"),s(),a(39,"th"),c(40,"R\xF4le"),s(),a(41,"th"),c(42,"Statut"),s()()(),a(43,"tbody"),k(44,QG,26,15,"tr",31),ee(45,"paginate"),ee(46,"sampleSearch"),k(47,KG,9,0,"tr",32),s()()(),a(48,"div",33)(49,"pagination-controls",34),v("pageChange",function(l){return f(r),g(i.getPage(l))}),s()()()()()(),k(50,iY,37,10,"ng-template",null,0,B)(52,lY,37,13,"ng-template",null,1,B)(54,uY,35,9,"ng-template",null,2,B)(56,mY,44,10,"ng-template",null,3,B)}e&2&&(u(12),V("ngModel",i.selectedFilter),u(7),V("ngModel",i.search_text),u(7),K(" ",i.data.length," \xE9l\xE9ment(s) "),u(18),h("ngForOf",re(46,17,re(45,14,i.data,qe(20,HG,i.pg.pageSize,i.pg.p,i.pg.total)),i.search_text)),u(3),h("ngIf",i.search_text!==""&&i.data.length===0),u(2),h("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0)("previousLabel","Pr\xE9c\xE9dent")("nextLabel","Suivant")("screenReaderPaginationLabel","Pagination")("screenReaderPageLabel","page")("screenReaderCurrentLabel","Vous \xEAtes sur la page"))},dependencies:[oe,_e,ae,jt,ce,we,Ve,Fe,ue,Ul,$e,Qe,me,xe,Oe,ql,he,Ce,Ee,Ae,He,ke,Dn,gn,Te,Je,Xe,Me,LS,ta]})};var GS=[{path:"admin",component:rm,canActivate:[Or],children:[{path:"dashboard",component:nc},{path:"dashboard",component:nc},{path:"settings",component:xc},{path:"departments",component:dm},{path:"settings/:token",component:xc},{path:"agenda",component:Zo},{path:"agenda/:slug",component:Zo},{path:"agenda/:code/:slug",component:Zo},{path:"agenda/:code/:slug/:codeP",component:Zo},{path:"users",component:wc},{path:"profiles",component:yc},{path:"entity-type",component:um},{path:"entities",component:pm},{path:"unity-admin-type",component:Pm},{path:"files",component:bm},{path:"type-billings",component:Am},{path:"billings",component:cm},{path:"supports",component:Dm},{path:"support/details/:token",component:Im},{path:"officers",component:vm},{path:"posts",component:wm},{path:"unity-admins",component:Om},{path:"prestations",component:Sm},{path:"eservice/espace-traitement/:slug",component:oc},{path:"eservice/espace-traitement/:slug/:code",component:oc},{path:"eservice/espace-traitement-retour-correction/:slug",component:uc},{path:"eservice/espace-traitement-retour-correction/:slug/:code",component:uc},{path:"eservice/espace-validation-visa/:slug",component:fc},{path:"eservice/espace-validation-visa/:slug/:code",component:fc},{path:"eservice/espace-signature/:slug",component:pc},{path:"eservice/espace-signature/:slug/:code",component:pc},{path:"eservice/espace-signed/:slug",component:hc},{path:"eservice/espace-signed/:slug/:code",component:hc},{path:"eservice/espace-reject/:slug",component:cc},{path:"eservice/espace-reject/:slug/:code",component:cc},{path:"eservice/espace-rejected/:slug",component:dc},{path:"eservice/espace-rejected/:slug/:code",component:dc},{path:"eservice/finished/:slug",component:lc},{path:"eservice/finished/:slug/:code",component:lc},{path:"eservice/espace-validation/:slug",component:gc},{path:"eservice/espace-validation/:slug/:code",component:gc},{path:"eservice/espace-traitement-show/:code/:slug",component:gm},{path:"eservice/espace-signature-traitement-show/:code/:slug",component:mc},{path:"eservice/espace-signature-traitement-show/:code/:slug/:codeP",component:mc},{path:"eservice/espace-traitement-edit/:code/:slug",component:sc},{path:"eservice/espace-traitement-edit/:code/:slug/:isTreated",component:sc},{path:"eservice/espace-traitement-generation-doc/:code/:slug",component:fm},{path:"eservice/correction/:slug",component:ic},{path:"eservice/correction/:slug/:code",component:ic},{path:"eservice/historique/:slug",component:bc},{path:"eservice/historique/:slug/:code",component:bc},{path:"eservice/statistiques/:slug",component:_c},{path:"eservice/statistiques/:slug/:code",component:_c},{path:"eservice/statistiques",component:Mm},{path:"users",component:wc},{path:"roles",component:Tm},{path:"permissions",component:xm},{path:"profils",component:yc}]}];var Vm=class n{constructor(t,e,i,r,o){this.authService=t;this.router=e;this.route=i;this.toastr=r;this.lsService=o}loading;ngOnInit(){}changeFirstPassword(t){if(t.password!=t.confirm_password){this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xE9");return}this.loading=!0,this.authService.changeFirstPassword(t).subscribe(e=>{this.loading=!1,this.logout(),this.toastr.success("Changement de mot passe r\xE9ussi","Premi\xE8re connexion")},e=>{this.loading=!1,this.toastr.error("Changement de mot passe \xE9chou\xE9","Premi\xE8re connexion")})}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(Z.tokenName),this.lsService.remove(Z.refreshTokenName),this.lsService.remove(Z.expireIn),this.router.navigate(["/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Premi\xE8re Connexion")})}static \u0275fac=function(e){return new(e||n)(T(_i),T(Be),T(Ke),T(de),T(se))};static \u0275cmp=G({type:n,selectors:[["app-account-activation"]],standalone:!0,features:[J],decls:25,vars:2,consts:[["fpForm","ngForm"],[1,"d-flex","justify-content-center","ag-bg-black",2,"height","100vh"],[1,"col-12","col-md-4","mx-auto","align-self-center"],[1,"p-3","text-center"],["src","assets/images/logo-horizontal-blanc@4x.png","alt","",1,"img-fluid",2,"height","60px"],[1,"card"],[1,"card-body"],[1,"",3,"ngSubmit"],[1,"text-center","mb-3"],["src","assets/template2/images/logo.png","alt","",1,"img-fluid",2,"height","80px"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","minlength","8","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","confirm_password","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","minlength","8","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center"],[1,"ml-auto"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[3,"isVisible"]],template:function(e,i){if(e&1){let r=S();a(0,"div",1)(1,"div",2)(2,"div",3),b(3,"img",4),s(),a(4,"div",5)(5,"div",6)(6,"form",7,0),v("ngSubmit",function(){f(r);let l=E(7);return g(i.changeFirstPassword(l.value))}),a(8,"div",8),b(9,"img",9),s(),a(10,"div",10)(11,"div",11)(12,"div",12)(13,"label",13),c(14,"Nouveau mot de passe"),s(),b(15,"input",14),s(),a(16,"div",12)(17,"label",15),c(18,"Confirmer mot de passe"),s(),b(19,"input",16),s()()(),a(20,"div",17)(21,"div",18)(22,"button",19),c(23,"Changer mon mot de passe "),b(24,"app-loading",20),s()()()()()()()()}if(e&2){let r=E(7);u(22),h("disabled",r.invalid||i.loading),u(2),h("isVisible",i.loading)}},dependencies:[Ae,ce,we,ue,me,xe,Oe,ql,he,Ce]})};function pY(n,t){if(n&1){let e=S();a(0,"div")(1,"form",7,0),v("ngSubmit",function(){f(e);let r=E(2),o=p();return g(o.sendMail(r.value))}),a(3,"div",8),b(4,"img",9),s(),a(5,"h6")(6,"div",10),c(7,"Mot de passe oubli\xE9?"),s(),a(8,"span"),c(9,"Renseignez votre email pour d\xE9finir un nouveau mot de passe ."),s()(),a(10,"div",11)(11,"div",12)(12,"div",13)(13,"label",14),c(14,"Email"),s(),b(15,"input",15),s()()(),a(16,"div",16)(17,"h6",17)(18,"a",18),c(19,"Je dispose d\xE9j\xE0 d'un compte"),s()(),a(20,"div",19)(21,"button",20),c(22,"R\xE9cup\xE9rer "),b(23,"app-loading",21),s()()()()()}if(n&2){let e=E(2),i=p();u(21),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}function hY(n,t){n&1&&(a(0,"div")(1,"div",22),b(2,"img",23),s(),a(3,"p",24),c(4,"Un mail de r\xE9cup\xE9ration de votre mot de passe vous a \xE9t\xE9 transf\xE9r\xE9 ! Veuillez consulter votre bo\xEEte mail. "),b(5,"br"),c(6," Merci"),s(),a(7,"h6",17)(8,"a",18),c(9,"Retour \xE0 la page de connexion"),s()()())}var Fm=class n{constructor(t,e,i){this.authService=t;this.router=e;this.toastr=i}loading;mailSent=!1;ngOnInit(){}sendMail(t){this.loading=!0,this.authService.sendMail(t).subscribe(e=>{this.loading=!1,this.mailSent=!0},e=>{this.loading=!1,this.toastr.success("Connexion \xE9chou\xE9","Connexion")})}static \u0275fac=function(e){return new(e||n)(T(_i),T(Be),T(de))};static \u0275cmp=G({type:n,selectors:[["app-forget-password"]],standalone:!0,features:[J],decls:7,vars:2,consts:[["fpForm","ngForm"],[1,"",2,"min-height","100vh","width","100%"],[1,"container","d-flex","flex-column","justify-content-start","h-100"],[1,"col-12","col-md-5","mx-auto","align-self-center"],[1,"card"],[1,"card-body"],[4,"ngIf"],[1,"",3,"ngSubmit"],[1,"text-center","mb-3"],["src","assets/template2/images/logo.png","alt","",1,"img-fluid",2,"height","80px"],[1,"mb-3","text-center","fw-bold"],[1,"form-row"],[1,"col-md-12"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","ngModel","","required","",1,"form-control"],[1,"mt-4","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],["routerLink","//login",1,"text-primary"],[1,"ml-auto"],["type","submit",1,"btn","btn-primary","btn-sm","ag-",3,"disabled"],[3,"isVisible"],[1,"text-center"],["src","assets/template2/images/success.png","alt",""],[1,"text-primary","mb-3"]],template:function(e,i){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),k(5,pY,24,2,"div",6)(6,hY,10,0,"div",6),s()()()()()),e&2&&(u(5),h("ngIf",!i.mailSent),u(),h("ngIf",i.mailSent))},dependencies:[Ae,ce,we,ue,me,xe,Oe,he,Ce,Xi,Ji,oe,ae]})};function fY(n,t){n&1&&(a(0,"small"),c(1,"L'adresse email est requise"),s())}function gY(n,t){n&1&&(a(0,"small"),c(1,"Veuillez saisir une adresse email valide"),s())}function _Y(n,t){if(n&1&&(a(0,"div",27),k(1,fY,2,0,"small",28)(2,gY,2,0,"small",28),s()),n&2){let e=p();u(),h("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.required),u(),h("ngIf",e.email==null||e.email.errors==null?null:e.email.errors.email)}}function bY(n,t){n&1&&(sn(),a(0,"svg",9),b(1,"path",29)(2,"circle",30),s())}function vY(n,t){n&1&&(sn(),a(0,"svg",9),b(1,"path",31)(2,"line",32),s())}function yY(n,t){n&1&&(a(0,"small"),c(1,"Le mot de passe est requis"),s())}function xY(n,t){n&1&&(a(0,"small"),c(1,"Le mot de passe doit contenir au moins 6 caract\xE8res"),s())}function wY(n,t){if(n&1&&(a(0,"div",27),k(1,yY,2,0,"small",28)(2,xY,2,0,"small",28),s()),n&2){let e=p();u(),h("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.required),u(),h("ngIf",e.password==null||e.password.errors==null?null:e.password.errors.minlength)}}function CY(n,t){n&1&&b(0,"span",33)}var Nm=class n{constructor(t,e,i,r,o){this.authService=t;this.lsService=e;this.router=i;this.toastr=r;this.fb=o;this.loginForm=this.fb.group({email:["",[Jo.required,Jo.email]],password:["",[Jo.required,Jo.minLength(6)]],device:["web",[]]})}loginForm;showPassword=!1;isLoading=!1;loading=!1;ngOnInit(){}togglePasswordVisibility(){this.showPassword=!this.showPassword}get email(){return this.loginForm?.get("email")}get password(){return this.loginForm?.get("password")}login(){this.loading=!0,this.authService.login(this.loginForm?.value).subscribe(t=>{this.lsService.set(Z.tokenName,t.data?.access_token),this.lsService.set(Z.refreshTokenName,t.data?.refresh_token),this.lsService.set(Z.expireIn,t.data?.expire_in),this.lsService.set(Z.features,t.data?.features),this.authService.me().subscribe(e=>{this.loading=!1,this.lsService.set(Z.userName,e.data);let i=wu.redirectLogin(this.lsService);this.router.navigate([i]),this.toastr.success("Connexion r\xE9ussie","Connexion")},e=>{this.loading=!1,this.toastr.error(e.error?.message,"Connexion")})},t=>{this.loading=!1,this.toastr.error(t.error?.message,"Connexion")})}static \u0275fac=function(e){return new(e||n)(T(_i),T(se),T(Be),T(de),T(xC))};static \u0275cmp=G({type:n,selectors:[["app-login"]],standalone:!0,features:[J],decls:39,vars:13,consts:[[1,"login-card","p-4","p-md-5","fade-in-up"],[1,"text-center","mb-4"],[1,"h4","fw-bold","text-dark","mb-3"],[1,"mx-auto",2,"width","60px","height","4px","background","linear-gradient(90deg, var(--primary-color), var(--secondary-color))","border-radius","2px"],["novalidate","",3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"form-label","fw-medium","text-dark"],[1,"input-group"],[1,"input-group-text"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"],["points","22,6 12,13 2,6"],["type","email","id","email","placeholder","exemple@gouv.bj","formControlName","email",1,"form-control"],["class","invalid-feedback d-block",4,"ngIf"],["for","password",1,"form-label","fw-medium","text-dark"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["cx","12","cy","16","r","1"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-control",3,"type"],["type","button",1,"password-toggle","position-absolute","end-0","top-50","translate-middle-y","me-3",2,"z-index","10","border","none","background","none",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],[1,"d-grid","mb-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[1,"text-center"],[1,"mb-0","text-muted"],["routerLink","/forget-password",1,"forgot-password","ms-1"],[1,"invalid-feedback","d-block"],[4,"ngIf"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["cx","12","cy","12","r","3"],["d","M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"],["x1","1","y1","1","x2","23","y2","23"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3",2),c(3,"CONNEXION"),s(),b(4,"div",3),s(),a(5,"form",4),v("ngSubmit",function(){return i.login()}),a(6,"div",5)(7,"label",6),c(8,"Adresse email"),s(),a(9,"div",7)(10,"span",8),sn(),a(11,"svg",9),b(12,"path",10)(13,"polyline",11),s()(),Wr(),b(14,"input",12),s(),k(15,_Y,3,2,"div",13),s(),a(16,"div",5)(17,"label",14),c(18,"Mot de passe"),s(),a(19,"div",7)(20,"span",8),sn(),a(21,"svg",9),b(22,"rect",15)(23,"circle",16)(24,"path",17),s()(),Wr(),b(25,"input",18),a(26,"button",19),v("click",function(){return i.togglePasswordVisibility()}),k(27,bY,3,0,"svg",20)(28,vY,3,0,"svg",20),s()(),k(29,wY,3,2,"div",13),s(),a(30,"div",21)(31,"button",22),k(32,CY,1,0,"span",23),c(33),s()(),a(34,"div",24)(35,"p",25),c(36," Avez-vous oubli\xE9 votre mot de passe ? "),a(37,"a",26),c(38," Cliquez ici "),s()()()()()),e&2&&(u(5),h("formGroup",i.loginForm),u(9),at("is-invalid",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),u(),h("ngIf",(i.email==null?null:i.email.invalid)&&(i.email==null?null:i.email.touched)),u(10),at("is-invalid",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),h("type",i.showPassword?"text":"password"),u(2),h("ngIf",!i.showPassword),u(),h("ngIf",i.showPassword),u(),h("ngIf",(i.password==null?null:i.password.invalid)&&(i.password==null?null:i.password.touched)),u(2),h("disabled",i.loginForm.invalid||i.isLoading),u(),h("ngIf",i.isLoading),u(),K(" ",i.isLoading?"Connexion...":"Se connecter"," "))},dependencies:[oe,ae,ce,we,ue,me,xe,Xi,Ji,Uu,ff,gf],styles:[".login-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:20px;box-shadow:0 20px 40px #0000004d;position:relative;z-index:10;max-width:450px;width:100%}"]})};var Lm=class n{constructor(t,e,i,r){this.authService=t;this.router=e;this.route=i;this.toastr=r}loading;token;ngOnInit(){this.token=this.route.snapshot.paramMap.get("token"),this.token==null&&this.router.navigate(["/admin/login"])}recoverPassword(t){if(t.password!=t.password_confirmation){this.toastr.error("Nouveaux mots de passe non identique","Mot de passe oubli\xE9");return}this.loading=!0,this.authService.recoverPassword(this.token,t).subscribe(e=>{this.loading=!1,this.router.navigate(["/admin/login"]),this.toastr.success("Changement de mot passe r\xE9ussi","Mot de passe oubli\xE9")},e=>{this.loading=!1,this.toastr.error("Changement de mot passe \xE9chou\xE9","Mot de passe oubli\xE9")})}static \u0275fac=function(e){return new(e||n)(T(_i),T(Be),T(Ke),T(de))};static \u0275cmp=G({type:n,selectors:[["app-recovery-password"]],standalone:!0,features:[J],decls:25,vars:2,consts:[["fpForm","ngForm"],[1,"",2,"min-height","100vh","width","100%"],[1,"container","d-flex","flex-column","justify-content-start","h-100"],[1,"col-12","col-md-5","mx-auto","align-self-center"],[1,"card"],[1,"card-body"],[1,"text-center"],[1,"",3,"ngSubmit"],[1,"form-row"],[1,"mb-3","form-group"],["for","exampleEmail1",1,""],["name","password","id","exampleEmail1","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],["for","exampleEmail2",1,""],["name","password_confirmation","id","exampleEmail2","placeholder","Mot de passe ici...","type","password","ngModel","","required","",1,"form-control"],[1,"mt-4","text-center"],["type","submit",1,"btn","btn-primary","btn-lg","mb-3",3,"disabled"],[3,"isVisible"],[1,"mb-0"],["routerLink","/admin/login",1,"text-primary"]],template:function(e,i){if(e&1){let r=S();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h3",6),c(6,"Saisir un nouveau mot de passe"),s(),a(7,"form",7,0),v("ngSubmit",function(){f(r);let l=E(8);return g(i.recoverPassword(l.value))}),a(9,"div",8)(10,"div",9)(11,"label",10),c(12,"Nouveau mot de passe"),s(),b(13,"input",11),s(),a(14,"div",9)(15,"label",12),c(16,"Confirmer mot de passe"),s(),b(17,"input",13),s()(),a(18,"div",14)(19,"button",15),c(20,"Changer mon mot de passe "),b(21,"app-loading",16),s(),a(22,"h6",17)(23,"a",18),c(24,"Je dispose d\xE9j\xE0 d'un compte"),s()()()()()()()()()}if(e&2){let r=E(8);u(19),h("disabled",r.invalid||i.loading),u(2),h("isVisible",i.loading)}},dependencies:[Ae,ce,we,ue,me,xe,Oe,he,Ce]})};var Bm=class n{constructor(t){this.http=t}get(t){return this.http.post(`${j.toApiUrl("get-file")}`,t,j.addAction("list"))}get2(t){return this.http.post(`${j.toApiUrl("get-file2")}`,t,j.addAction("list"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var jm=class n{constructor(t){this.http=t}url=j.toApiUrl("user-settings/");getAll(){return this.http.get(`${this.url}`,j.addAction("list"))}getByState(t){return this.http.get(`${j.toApiUrl("user-settings-by-state")}/${t}`,j.addAction("list"))}store(t){return this.http.post(`${this.url}`,t,j.addAction("add"))}update(t,e){return e._method="patch",this.http.post(`${this.url}${t}`,e,j.addAction("edit"))}delete(t){return this.http.delete(`${this.url}${t}`,j.addAction("delete"))}get(t){return this.http.get(`${this.url}${t}`,j.addAction("show"))}setState(t,e){return this.http.get(`${j.toApiUrl("user-settings-set-state")}/${t}/state/${e}`,j.addAction("status"))}static \u0275fac=function(e){return new(e||n)(z(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};function kY(n,t){n&1&&(a(0,"li",11)(1,"a",30)(2,"span",13),c(3,"Signature"),s()()())}function TY(n,t){if(n&1){let e=S();a(0,"div",31)(1,"form",18,1),v("ngSubmit",function(){f(e);let r=E(2),o=p();return g(o.storeSign(r.value))}),a(3,"div",32),b(4,"img",33),s(),a(5,"div",34)(6,"label",35),c(7,"Charger la signature num\xE9ris\xE9e"),s(),a(8,"input",36),v("change",function(r){f(e);let o=p();return g(o.loadImg(r))}),s()(),a(9,"button",28),c(10,"Charger ma signature "),b(11,"app-loading",23),s()()()}if(n&2){let e=E(2),i=p();u(4),h("src",i.fileSrc,ma),u(5),h("disabled",e.invalid||i.loading),u(2),h("isVisible",i.loading)}}var zm=class n{constructor(t,e,i,r,o,l,d){this.spinnerService=t;this.fileService=e;this.authService=i;this.usService=r;this.lsService=o;this.router=l;this.toastr=d}fileSrc="https://placehold.co/200x200";loading=!1;fileInput;user;tag="admin-user-account";ngOnInit(){this.user=this.lsService.get(Z.userName),(this.user?.user_setting!=null||this.user?.user_setting!=null)&&this.getFile("local","director",this.user?.user_setting?.signature)}getFile(t,e,i){this.spinnerService.show(),this.fileService.get({folder:e,disk:t,filename:i}).subscribe(r=>{this.spinnerService.hide(),this.fileSrc=r[0]},r=>{this.spinnerService.hide(),yi.showError("Profil utilisateur connect\xE9",r)})}update(t){this.loading=!0,this.authService.update(t).subscribe(e=>{this.loading=!1,this.lsService.set(Z.userName,e.data),this.user=e.data,this.toastr.success("Sauvegarde des informations du compte","Mon compte")},e=>{this.loading=!1,this.toastr.success("Sauvegarde des informations \xE9chou\xE9e","Mon compte")})}changePassword(t){this.loading=!0,this.authService.changePassword(t).subscribe(e=>{this.loading=!1,this.toastr.success(e.message,"Mon compte"),this.logout()},e=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")})}readFile(){var t=new FileReader;t.readAsDataURL(this.fileInput),t.onload=e=>{this.fileSrc=e.target?.result}}loadImg(t){t.target.files.length!=0&&(this.fileInput=t.target.files[0],this.readFile())}storeSign(t){let e=new FormData;this.fileInput!=null&&e.append("signature",this.fileInput),this.user?.userSetting!=null||this.user?.userSetting!=null?(this.loading=!0,this.usService.update(this.user?.id,e).subscribe(i=>{this.loading=!1,this.toastr.success(i.message,"Mon compte")},i=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")})):(this.loading=!0,this.usService.store(e).subscribe(i=>{this.loading=!1,this.toastr.success(i.message,"Mon compte")},i=>{this.loading=!1,this.toastr.error("Changement de mot de passe \xE9chou\xE9e","Mon compte")}))}logout(){this.authService.logout().subscribe(t=>{this.lsService.remove(Z.tokenName),this.lsService.remove(Z.refreshTokenName),this.lsService.remove(Z.expireIn),this.router.navigate(["/admin/login"]),this.toastr.success("D\xE9connexion r\xE9ussie","Connexion")})}static \u0275fac=function(e){return new(e||n)(T(km),T(Bm),T(_i),T(jm),T(se),T(Be),T(de))};static \u0275cmp=G({type:n,selectors:[["app-user-profil"]],standalone:!0,features:[J],decls:51,vars:7,consts:[["userForm","ngForm"],["mpForm","ngForm"],[1,"app-page-title"],[1,"page-title-wrapper"],[1,"page-title-heading"],[1,"page-title-icon"],[1,"pe-7s-phone","icon-gradient","bg-premium-dark"],[1,"page-title-subheading"],[1,"mb-3","card"],[1,"card-body"],[1,"tabs-animated-shadow","nav-justified","tabs-animated","nav"],[1,"nav-item"],["role","tab","id","tab-c1-0","data-toggle","tab","href","#tab-animated1-0","aria-selected","true",1,"nav-link","active"],[1,"nav-text"],["role","tab","id","tab-c1-1","data-toggle","tab","href","#tab-animated1-1","aria-selected","false",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"tab-content"],["id","tab-animated1-0","role","tabpanel",1,"tab-pane","active"],[1,"",3,"ngSubmit"],[1,"position-relative","form-group"],["for","exampleEmail",1,""],["name","email","id","exampleEmail","placeholder","Email ici...","type","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"mt-1","btn","btn-warning",3,"disabled"],[3,"isVisible"],["id","tab-animated1-1","role","tabpanel",1,"tab-pane"],["name","old_password","id","exampleEmail","placeholder","Ancien mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","new_password","id","exampleEmail","placeholder","Nouveau mot de passe","type","password","required","","ngModel","",1,"form-control"],["name","confirm_password","id","exampleEmail","placeholder","Confirmer mot de passe","type","password","required","","ngModel","",1,"form-control"],["type","submit",1,"mt-1","btn","btn-success",3,"disabled"],["class","tab-pane","id","tab-animated1-2","role","tabpanel",4,"ngIf"],["role","tab","id","tab-c1-2","data-toggle","tab","href","#tab-animated1-2","aria-selected","false",1,"nav-link"],["id","tab-animated1-2","role","tabpanel",1,"tab-pane"],[1,"text-center","mb-1"],["alt","...",1,"img-thumbnail",2,"height","200px","width","200px",3,"src"],[1,"text-center","form-group","mb-3"],["for",""],["type","file","accept","image/*",1,"form-control",3,"change"]],template:function(e,i){if(e&1){let r=S();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),b(4,"i",6),s(),a(5,"div"),c(6,"Mon compte "),a(7,"div",7),c(8,"Information personnelle & mot de passe"),s()()()()(),a(9,"div",8)(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12)(14,"span",13),c(15,"Information personnelle"),s()()(),a(16,"li",11)(17,"a",14)(18,"span",13),c(19,"Mot de passe"),s()()(),k(20,kY,4,0,"li",15),s(),a(21,"div",16)(22,"div",17)(23,"form",18,0),v("ngSubmit",function(){f(r);let l=E(24);return g(i.update(l.value))}),a(25,"div",19)(26,"label",20),c(27,"Email"),s(),a(28,"input",21),N("ngModelChange",function(l){return f(r),F(i.user.email,l)||(i.user.email=l),g(l)}),s()(),a(29,"button",22),c(30,"Sauvegarder mes informations "),b(31,"app-loading",23),s()()(),a(32,"div",24)(33,"form",18,1),v("ngSubmit",function(){f(r);let l=E(34);return g(i.changePassword(l.value))}),a(35,"div",19)(36,"label",20),c(37,"Ancien mot de passe"),s(),b(38,"input",25),s(),a(39,"div",19)(40,"label",20),c(41,"Nouveau mot de passe"),s(),b(42,"input",26),s(),a(43,"div",19)(44,"label",20),c(45,"Confirmer moot de passe"),s(),b(46,"input",27),s(),a(47,"button",28),c(48,"Changer le mot de passe "),b(49,"app-loading",23),s()()(),k(50,TY,12,3,"div",29),s()()()}if(e&2){let r=E(24),o=E(34);u(20),h("ngIf",i.user.is_signer),u(8),V("ngModel",i.user.email),u(),h("disabled",r.invalid||i.loading),u(2),h("isVisible",i.loading),u(16),h("disabled",o.invalid||i.loading),u(2),h("isVisible",i.loading),u(),h("ngIf",i.user.is_signer)}},dependencies:[Ae,oe,ae,ce,we,ue,me,xe,Oe,he,Ce]})};var Um=class n{tag="admin-user-settinngs";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-user-setting"]],decls:2,vars:0,template:function(e,i){e&1&&(a(0,"p"),c(1,"user-setting works!"),s())}})};var Hm=class n{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-not-found-component"]],standalone:!0,features:[J],decls:15,vars:0,consts:[[1,"app-container","app-theme-white","body-tabs-shadow"],[1,"app-container"],[1,"h-100"],[1,"h-100","no-gutters","row"],[1,"h-100","d-flex","bg-white","justify-content-center","align-items-center","col-12"],[1,"mx-auto","app-login-box","col-12","text-center"],[1,"app-logo"],[1,"mb-"],[1,"mb-3","h1","fw-bold"],[1,"mb-0"],["routerLink","/",1,"text-primary"]],template:function(e,i){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),b(6,"div",6),a(7,"h4",7)(8,"div",8),c(9,"Page non trouv\xE9e "),s(),a(10,"span"),c(11,"La page \xE0 laquelle vous essayez d'acc\xE9der n'existe pas !"),s()(),a(12,"h6",9)(13,"a",10),c(14,"Retourner"),s()()()()()()()())}})};var Wm=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=G({type:n,selectors:[["app-layout"]],standalone:!0,features:[J],decls:21,vars:0,consts:[[1,"login-container","d-flex","align-items-center","justify-content-center"],[1,"login-overlay"],[1,"decorative-elements"],[1,"decorative-circle",2,"top","10%","left","10%","width","120px","height","120px"],[1,"decorative-circle",2,"bottom","15%","right","15%","width","80px","height","80px"],[1,"decorative-square",2,"top","50%","left","5%","width","60px","height","60px"],[1,"container"],[1,"row","justify-content-center"],[1,"col-12","col-md-8","col-lg-6"],[1,"text-center","mb-5","fade-in-up"],[1,"logo-container","pulse-animation"],["width","40","height","40","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","2"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"main-title"],[1,"subtitle"],[1,"footer-text"]],template:function(e,i){e&1&&(a(0,"div",0),b(1,"div",1),a(2,"div",2),b(3,"div",3)(4,"div",4)(5,"div",5),s(),a(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),sn(),a(11,"svg",11),b(12,"path",12)(13,"circle",13),s()(),Wr(),a(14,"h1",14),c(15,"Espace de traitement des"),s(),a(16,"h2",15),c(17,"e-services"),s()(),b(18,"router-outlet"),a(19,"div",16),c(20," \xA9 2025 Gouvernement du B\xE9nin - Tous droits r\xE9serv\xE9s "),s()()()()())},dependencies:[Bo],styles:[".login-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}[_nghost-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.form-control[_ngcontent-%COMP%]:hover{border-color:#0a37644d;background:#fff}.invalid-feedback[_ngcontent-%COMP%]{font-size:.875rem;margin-top:.25rem}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};var YS=[{path:"",redirectTo:"/login",pathMatch:"full"},...GS,{path:"",component:Wm,canActivate:[Al],children:[{path:"activate-account",component:Vm,canActivate:[Cu]},{path:"login",component:Nm,canActivate:[Al]},{path:"forget-password",component:Fm},{path:"recovery-password/:token",component:Lm}]},{path:"user-account",canActivate:[Or],component:zm},{path:"user-settinngs",canActivate:[Or],component:Um},{path:"404",component:Hm},{path:"**",redirectTo:"/404"}];var MY="@",IY=(()=>{class n{constructor(e,i,r,o,l){this.doc=e,this.delegate=i,this.zone=r,this.animationType=o,this.moduleImpl=l,this._rendererFactoryPromise=null,this.scheduler=q(M_,{optional:!0}),this.loadingSchedulerFn=q(DY,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-PCPAMCLJ.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new Pt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let o=new og(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let d=l.createRenderer(e,i);o.use(d),this.scheduler?.notify(10)}).catch(l=>{o.use(r)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){Ms()}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),og=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(MY)}},DY=new Le("");function QS(n="animations"){return zc("NgAsyncAnimations"),Fn([{provide:jc,useFactory:(t,e,i)=>new IY(t,e,i,n),deps:[Ye,td,Ze]},{provide:Do,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var qm=class n{constructor(t,e,i,r){this.authService=t;this.router=e;this.lsService=i;this.modalService=r}intercept(t,e){let i=this.authService.getJWTToken();return t=t.clone({url:t.url,setHeaders:{Authorization:`Bearer ${i}`,Accept:"application/json"}}),e.handle(t).pipe(zr(r=>{if(r instanceof er)if(r.error instanceof ErrorEvent)console.log("Error Event");else switch(console.log(`error status : ${r.status} ${JSON.stringify(r.error)}`),r.status){case 401:this.lsService.remove(Z.tokenName),this.lsService.remove(Z.refreshTokenName),this.lsService.remove(Z.expireIn),this.lsService.remove(Z.userName),this.lsService.remove(Z.exercice),this.modalService.dismissAll(),this.router.navigate(["//login"]);break;case 403:break;case 0:case 400:case 405:case 406:case 409:case 500:break}else console.error("Une erreur non identifi\xE9e s'est produit.");return ko(r)}))}static \u0275fac=function(e){return new(e||n)(z(_i),z(Be),z(se),z(fe))};static \u0275prov=W({token:n,factory:n.\u0275fac})};function AY(n){let t=n,e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===0||e===1?1:r===0&&e!==0&&e%1e6===0&&i===0||!(r>=0&&r<=5)?4:5}var KS=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",AY];q_(KS);var JS={providers:[F_({eventCoalescing:!0}),bv(YS),Ib(),bb(vb()),QS(),bS(),cw(lw()),{provide:$c,useValue:"fr"},Or,{provide:Op,useClass:qm,multi:!0}]};function PY(n,t){n&1&&(kt(0),b(1,"router-outlet"),Tt())}function OY(n,t){n&1&&(a(0,"div",2),c(1,"Chargement..."),s())}var $m=class n{constructor(t){this.authService=t;this.authService.isReady.subscribe(e=>{this.isReady=e})}isReady=!1;static \u0275fac=function(e){return new(e||n)(T(_i))};static \u0275cmp=G({type:n,selectors:[["app-root"]],standalone:!0,features:[J],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"spinner"]],template:function(e,i){if(e&1&&k(0,PY,2,0,"ng-container",1)(1,OY,2,0,"ng-template",null,0,B),e&2){let r=E(2);h("ngIf",i.isReady)("ngIfElse",r)}},dependencies:[oe,ae,Bo]})};Tb($m,JS).catch(n=>console.error(n));
